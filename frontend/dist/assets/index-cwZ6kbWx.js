import{e as PY,f as jY,g as LO,r as te,u as Og,h as LY,O as NY,R as Ja,i as N2,c as DY,j as rC,k as XD,l as Oa,B as IY,N as lR}from"./vendor-DefjrBJ8.js";import{L as BY,T as $s,R as NO,M as $Y,B as ae,a as zY,b as FY,S as dr,A as VD,c as Ym,d as UY,e as VM,f as HY,g as KM,_ as KD,h as He,i as Ce,j as jt,k as Te,l as Lt,m as Re,n as Zd,o as we,p as Wt,q as cf,r as kh,s as aa,C as Or,t as GY,u as sm,v as lm,w as Uo,x as Xe,y as qm,z as cm,D as C1,E as YY,F as qY,G as Ch,H as Yo,I as fi,J as iC,K as DO,U as aC,N as oC,O as sC,P as Xt,Q as ui,V as Ai,W as li,X as WY,Y as XY,Z as cR,$ as VY,a0 as KY,a1 as ZY,a2 as QY,a3 as JY,a4 as tq,a5 as eq,a6 as lC,a7 as R1,a8 as uR,a9 as Ma,aa as Vt,ab as cC,ac as D2,ad as Bv,ae as ZM,af as QM,ag as IO,ah as nq,ai as ZD,aj as $v,ak as rq,al as tA,am as fR,an as iq,ao as aq,ap as JM,aq as oq,ar as QD,as as tT,at as dR,au as hR,av as sq,aw as lq,ax as cq,ay as uq,az as fq}from"./antd-BPGFtr5_.js";import{_ as yr,a as ee,b as et,c as vi,d as Dt,e as eA,f as P1}from"./charts-CQY3jNHA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var nA={exports:{}},jy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function dq(){if(pR)return jy;pR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return jy.Fragment=e,jy.jsx=n,jy.jsxs=n,jy}var vR;function hq(){return vR||(vR=1,nA.exports=dq()),nA.exports}var N=hq(),rA={exports:{}},Ly={},iA={exports:{}},aA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function pq(){return gR||(gR=1,(function(t){function e(F,H){var Y=F.length;F.push(H);t:for(;0<Y;){var W=Y-1>>>1,V=F[W];if(0<i(V,H))F[W]=H,F[Y]=V,Y=W;else break t}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],Y=F.pop();if(Y!==H){F[0]=Y;t:for(var W=0,V=F.length,J=V>>>1;W<J;){var tt=2*(W+1)-1,nt=F[tt],lt=tt+1,at=F[lt];if(0>i(nt,Y))lt<V&&0>i(at,nt)?(F[W]=at,F[lt]=Y,W=lt):(F[W]=nt,F[tt]=Y,W=tt);else if(lt<V&&0>i(at,Y))F[W]=at,F[lt]=Y,W=lt;else break t}}return H}function i(F,H){var Y=F.sortIndex-H.sortIndex;return Y!==0?Y:F.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,v=!1,g=!1,b=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(F){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=F)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function M(F){if(b=!1,A(F),!g)if(n(l)!==null)g=!0,T||(T=!0,B());else{var H=n(c);H!==null&&G(M,H.startTime-F)}}var T=!1,C=-1,R=5,j=-1;function I(){return x?!0:!(t.unstable_now()-j<R)}function D(){if(x=!1,T){var F=t.unstable_now();j=F;var H=!0;try{t:{g=!1,b&&(b=!1,w(C),C=-1),v=!0;var Y=h;try{e:{for(A(F),d=n(l);d!==null&&!(d.expirationTime>F&&I());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var V=W(d.expirationTime<=F);if(F=t.unstable_now(),typeof V=="function"){d.callback=V,A(F),H=!0;break e}d===n(l)&&r(l),A(F)}else r(l);d=n(l)}if(d!==null)H=!0;else{var J=n(c);J!==null&&G(M,J.startTime-F),H=!1}}break t}finally{d=null,h=Y,v=!1}H=void 0}}finally{H?B():T=!1}}}var B;if(typeof E=="function")B=function(){E(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,U=$.port2;$.port1.onmessage=D,B=function(){U.postMessage(null)}}else B=function(){_(D,0)};function G(F,H){C=_(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var Y=h;h=H;try{return F()}finally{h=Y}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=h;h=F;try{return H()}finally{h=Y}},t.unstable_scheduleCallback=function(F,H,Y){var W=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?W+Y:W):Y=W,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,F={id:u++,callback:H,priorityLevel:F,startTime:Y,expirationTime:V,sortIndex:-1},Y>W?(F.sortIndex=Y,e(c,F),n(l)===null&&F===n(c)&&(b?(w(C),C=-1):b=!0,G(M,Y-W))):(F.sortIndex=V,e(l,F),g||v||(g=!0,T||(T=!0,B()))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var H=h;return function(){var Y=h;h=H;try{return F.apply(this,arguments)}finally{h=Y}}}})(aA)),aA}var yR;function vq(){return yR||(yR=1,iA.exports=pq()),iA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR;function gq(){if(mR)return Ly;mR=1;var t=vq(),e=PY(),n=jY();function r(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function a(f){var p=f,y=f;if(f.alternate)for(;p.return;)p=p.return;else{f=p;do p=f,(p.flags&4098)!==0&&(y=p.return),f=p.return;while(f)}return p.tag===3?y:null}function o(f){if(f.tag===13){var p=f.memoizedState;if(p===null&&(f=f.alternate,f!==null&&(p=f.memoizedState)),p!==null)return p.dehydrated}return null}function s(f){if(a(f)!==f)throw Error(r(188))}function l(f){var p=f.alternate;if(!p){if(p=a(f),p===null)throw Error(r(188));return p!==f?null:f}for(var y=f,S=p;;){var k=y.return;if(k===null)break;var L=k.alternate;if(L===null){if(S=k.return,S!==null){y=S;continue}break}if(k.child===L.child){for(L=k.child;L;){if(L===y)return s(k),f;if(L===S)return s(k),p;L=L.sibling}throw Error(r(188))}if(y.return!==S.return)y=k,S=L;else{for(var q=!1,Z=k.child;Z;){if(Z===y){q=!0,y=k,S=L;break}if(Z===S){q=!0,S=k,y=L;break}Z=Z.sibling}if(!q){for(Z=L.child;Z;){if(Z===y){q=!0,y=L,S=k;break}if(Z===S){q=!0,S=L,y=k;break}Z=Z.sibling}if(!q)throw Error(r(189))}}if(y.alternate!==S)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?f:p}function c(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f;for(f=f.child;f!==null;){if(p=c(f),p!==null)return p;f=f.sibling}return null}var u=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(f){return f===null||typeof f!="object"?null:(f=D&&f[D]||f["@@iterator"],typeof f=="function"?f:null)}var $=Symbol.for("react.client.reference");function U(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===$?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case g:return"Fragment";case x:return"Profiler";case b:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList";case j:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case v:return"Portal";case E:return(f.displayName||"Context")+".Provider";case w:return(f._context.displayName||"Context")+".Consumer";case A:var p=f.render;return f=f.displayName,f||(f=p.displayName||p.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case C:return p=f.displayName||null,p!==null?p:U(f.type)||"Memo";case R:p=f._payload,f=f._init;try{return U(f(p))}catch{}}return null}var G=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},W=[],V=-1;function J(f){return{current:f}}function tt(f){0>V||(f.current=W[V],W[V]=null,V--)}function nt(f,p){V++,W[V]=f.current,f.current=p}var lt=J(null),at=J(null),ft=J(null),mt=J(null);function ct(f,p){switch(nt(ft,p),nt(at,f),nt(lt,null),p.nodeType){case 9:case 11:f=(f=p.documentElement)&&(f=f.namespaceURI)?ur(f):0;break;default:if(f=p.tagName,p=p.namespaceURI)p=ur(p),f=hr(p,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}tt(lt),nt(lt,f)}function St(){tt(lt),tt(at),tt(ft)}function Mt(f){f.memoizedState!==null&&nt(mt,f);var p=lt.current,y=hr(p,f.type);p!==y&&(nt(at,f),nt(lt,y))}function It(f){at.current===f&&(tt(lt),tt(at)),mt.current===f&&(tt(mt),Bu._currentValue=Y)}var Nt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Ut=t.unstable_cancelCallback,Zt=t.unstable_shouldYield,ie=t.unstable_requestPaint,Gt=t.unstable_now,Jt=t.unstable_getCurrentPriorityLevel,le=t.unstable_ImmediatePriority,_n=t.unstable_UserBlockingPriority,dn=t.unstable_NormalPriority,yn=t.unstable_LowPriority,kn=t.unstable_IdlePriority,Zn=t.log,Dn=t.unstable_setDisableYieldValue,Pe=null,Se=null;function an(f){if(typeof Zn=="function"&&Dn(f),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Pe,f)}catch{}}var Ee=Math.clz32?Math.clz32:Nr,en=Math.log,ti=Math.LN2;function Nr(f){return f>>>=0,f===0?32:31-(en(f)/ti|0)|0}var xi=256,Pa=4194304;function ca(f){var p=f&42;if(p!==0)return p;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function ss(f,p,y){var S=f.pendingLanes;if(S===0)return 0;var k=0,L=f.suspendedLanes,q=f.pingedLanes;f=f.warmLanes;var Z=S&134217727;return Z!==0?(S=Z&~L,S!==0?k=ca(S):(q&=Z,q!==0?k=ca(q):y||(y=Z&~f,y!==0&&(k=ca(y))))):(Z=S&~L,Z!==0?k=ca(Z):q!==0?k=ca(q):y||(y=S&~f,y!==0&&(k=ca(y)))),k===0?0:p!==0&&p!==k&&(p&L)===0&&(L=k&-k,y=p&-p,L>=y||L===32&&(y&4194048)!==0)?p:k}function ls(f,p){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&p)===0}function Bg(f,p){switch(f){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cb(){var f=xi;return xi<<=1,(xi&4194048)===0&&(xi=256),f}function ub(){var f=Pa;return Pa<<=1,(Pa&62914560)===0&&(Pa=4194304),f}function Fh(f){for(var p=[],y=0;31>y;y++)p.push(f);return p}function Uc(f,p){f.pendingLanes|=p,p!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function YS(f,p,y,S,k,L){var q=f.pendingLanes;f.pendingLanes=y,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=y,f.entangledLanes&=y,f.errorRecoveryDisabledLanes&=y,f.shellSuspendCounter=0;var Z=f.entanglements,it=f.expirationTimes,gt=f.hiddenUpdates;for(y=q&~y;0<y;){var At=31-Ee(y),Ct=1<<At;Z[At]=0,it[At]=-1;var bt=gt[At];if(bt!==null)for(gt[At]=null,At=0;At<bt.length;At++){var yt=bt[At];yt!==null&&(yt.lane&=-536870913)}y&=~Ct}S!==0&&fb(f,S,0),L!==0&&k===0&&f.tag!==0&&(f.suspendedLanes|=L&~(q&~p))}function fb(f,p,y){f.pendingLanes|=p,f.suspendedLanes&=~p;var S=31-Ee(p);f.entangledLanes|=p,f.entanglements[S]=f.entanglements[S]|1073741824|y&4194090}function db(f,p){var y=f.entangledLanes|=p;for(f=f.entanglements;y;){var S=31-Ee(y),k=1<<S;k&p|f[S]&p&&(f[S]|=p),y&=~k}}function $g(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function Uh(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function hb(){var f=H.p;return f!==0?f:(f=window.event,f===void 0?32:k2(f.type))}function qS(f,p){var y=H.p;try{return H.p=f,p()}finally{H.p=y}}var Hs=Math.random().toString(36).slice(2),ei="__reactFiber$"+Hs,$i="__reactProps$"+Hs,Gs="__reactContainer$"+Hs,zg="__reactEvents$"+Hs,WS="__reactListeners$"+Hs,XS="__reactHandles$"+Hs,pb="__reactResources$"+Hs,Mf="__reactMarker$"+Hs;function Fg(f){delete f[ei],delete f[$i],delete f[zg],delete f[WS],delete f[XS]}function Hc(f){var p=f[ei];if(p)return p;for(var y=f.parentNode;y;){if(p=y[Gs]||y[ei]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(f=y2(f);f!==null;){if(y=f[ei])return y;f=y2(f)}return p}f=y,y=f.parentNode}return null}function Gc(f){if(f=f[ei]||f[Gs]){var p=f.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return f}return null}function Yc(f){var p=f.tag;if(p===5||p===26||p===27||p===6)return f.stateNode;throw Error(r(33))}function qc(f){var p=f[pb];return p||(p=f[pb]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function ni(f){f[Mf]=!0}var vb=new Set,gb={};function Kl(f,p){Wc(f,p),Wc(f+"Capture",p)}function Wc(f,p){for(gb[f]=p,f=0;f<p.length;f++)vb.add(p[f])}var Hh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yb={},Tf={};function VS(f){return Nt.call(Tf,f)?!0:Nt.call(yb,f)?!1:Hh.test(f)?Tf[f]=!0:(yb[f]=!0,!1)}function Gh(f,p,y){if(VS(p))if(y===null)f.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":f.removeAttribute(p);return;case"boolean":var S=p.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){f.removeAttribute(p);return}}f.setAttribute(p,""+y)}}function Yh(f,p,y){if(y===null)f.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(p);return}f.setAttribute(p,""+y)}}function wo(f,p,y,S){if(S===null)f.removeAttribute(y);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(y);return}f.setAttributeNS(p,y,""+S)}}var qh,Ug;function Xc(f){if(qh===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);qh=p&&p[1]||"",Ug=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qh+f+Ug}var Hg=!1;function Gg(f,p){if(!f||Hg)return"";Hg=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(p){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(yt){var bt=yt}Reflect.construct(f,[],Ct)}else{try{Ct.call()}catch(yt){bt=yt}f.call(Ct.prototype)}}else{try{throw Error()}catch(yt){bt=yt}(Ct=f())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(yt){if(yt&&bt&&typeof yt.stack=="string")return[yt.stack,bt.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=S.DetermineComponentFrameRoot(),q=L[0],Z=L[1];if(q&&Z){var it=q.split(`
`),gt=Z.split(`
`);for(k=S=0;S<it.length&&!it[S].includes("DetermineComponentFrameRoot");)S++;for(;k<gt.length&&!gt[k].includes("DetermineComponentFrameRoot");)k++;if(S===it.length||k===gt.length)for(S=it.length-1,k=gt.length-1;1<=S&&0<=k&&it[S]!==gt[k];)k--;for(;1<=S&&0<=k;S--,k--)if(it[S]!==gt[k]){if(S!==1||k!==1)do if(S--,k--,0>k||it[S]!==gt[k]){var At=`
`+it[S].replace(" at new "," at ");return f.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",f.displayName)),At}while(1<=S&&0<=k);break}}}finally{Hg=!1,Error.prepareStackTrace=y}return(y=f?f.displayName||f.name:"")?Xc(y):""}function KS(f){switch(f.tag){case 26:case 27:case 5:return Xc(f.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 15:return Gg(f.type,!1);case 11:return Gg(f.type.render,!1);case 1:return Gg(f.type,!0);case 31:return Xc("Activity");default:return""}}function Yg(f){try{var p="";do p+=KS(f),f=f.return;while(f);return p}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function ua(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function qg(f){var p=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Wg(f){var p=qg(f)?"checked":"value",y=Object.getOwnPropertyDescriptor(f.constructor.prototype,p),S=""+f[p];if(!f.hasOwnProperty(p)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var k=y.get,L=y.set;return Object.defineProperty(f,p,{configurable:!0,get:function(){return k.call(this)},set:function(q){S=""+q,L.call(this,q)}}),Object.defineProperty(f,p,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(q){S=""+q},stopTracking:function(){f._valueTracker=null,delete f[p]}}}}function Wh(f){f._valueTracker||(f._valueTracker=Wg(f))}function Xg(f){if(!f)return!1;var p=f._valueTracker;if(!p)return!0;var y=p.getValue(),S="";return f&&(S=qg(f)?f.checked?"true":"false":f.value),f=S,f!==y?(p.setValue(f),!0):!1}function Zl(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var mb=/[\n"\\]/g;function ja(f){return f.replace(mb,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function Xh(f,p,y,S,k,L,q,Z){f.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?f.type=q:f.removeAttribute("type"),p!=null?q==="number"?(p===0&&f.value===""||f.value!=p)&&(f.value=""+ua(p)):f.value!==""+ua(p)&&(f.value=""+ua(p)):q!=="submit"&&q!=="reset"||f.removeAttribute("value"),p!=null?kf(f,q,ua(p)):y!=null?kf(f,q,ua(y)):S!=null&&f.removeAttribute("value"),k==null&&L!=null&&(f.defaultChecked=!!L),k!=null&&(f.checked=k&&typeof k!="function"&&typeof k!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?f.name=""+ua(Z):f.removeAttribute("name")}function Vg(f,p,y,S,k,L,q,Z){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(f.type=L),p!=null||y!=null){if(!(L!=="submit"&&L!=="reset"||p!=null))return;y=y!=null?""+ua(y):"",p=p!=null?""+ua(p):y,Z||p===f.value||(f.value=p),f.defaultValue=p}S=S??k,S=typeof S!="function"&&typeof S!="symbol"&&!!S,f.checked=Z?f.checked:!!S,f.defaultChecked=!!S,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(f.name=q)}function kf(f,p,y){p==="number"&&Zl(f.ownerDocument)===f||f.defaultValue===""+y||(f.defaultValue=""+y)}function Vc(f,p,y,S){if(f=f.options,p){p={};for(var k=0;k<y.length;k++)p["$"+y[k]]=!0;for(y=0;y<f.length;y++)k=p.hasOwnProperty("$"+f[y].value),f[y].selected!==k&&(f[y].selected=k),k&&S&&(f[y].defaultSelected=!0)}else{for(y=""+ua(y),p=null,k=0;k<f.length;k++){if(f[k].value===y){f[k].selected=!0,S&&(f[k].defaultSelected=!0);return}p!==null||f[k].disabled||(p=f[k])}p!==null&&(p.selected=!0)}}function Kg(f,p,y){if(p!=null&&(p=""+ua(p),p!==f.value&&(f.value=p),y==null)){f.defaultValue!==p&&(f.defaultValue=p);return}f.defaultValue=y!=null?""+ua(y):""}function Vh(f,p,y,S){if(p==null){if(S!=null){if(y!=null)throw Error(r(92));if(G(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),p=y}y=ua(p),f.defaultValue=y,S=f.textContent,S===y&&S!==""&&S!==null&&(f.value=S)}function Ys(f,p){if(p){var y=f.firstChild;if(y&&y===f.lastChild&&y.nodeType===3){y.nodeValue=p;return}}f.textContent=p}var Kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zg(f,p,y){var S=p.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?S?f.setProperty(p,""):p==="float"?f.cssFloat="":f[p]="":S?f.setProperty(p,y):typeof y!="number"||y===0||Kc.has(p)?p==="float"?f.cssFloat=y:f[p]=(""+y).trim():f[p]=y+"px"}function Qg(f,p,y){if(p!=null&&typeof p!="object")throw Error(r(62));if(f=f.style,y!=null){for(var S in y)!y.hasOwnProperty(S)||p!=null&&p.hasOwnProperty(S)||(S.indexOf("--")===0?f.setProperty(S,""):S==="float"?f.cssFloat="":f[S]="");for(var k in p)S=p[k],p.hasOwnProperty(k)&&y[k]!==S&&Zg(f,k,S)}else for(var L in p)p.hasOwnProperty(L)&&Zg(f,L,p[L])}function Jg(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cf(f){return xb.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var Kh=null;function t0(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Zc=null,Qc=null;function e0(f){var p=Gc(f);if(p&&(f=p.stateNode)){var y=f[$i]||null;t:switch(f=p.stateNode,p.type){case"input":if(Xh(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),p=y.name,y.type==="radio"&&p!=null){for(y=f;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+ja(""+p)+'"][type="radio"]'),p=0;p<y.length;p++){var S=y[p];if(S!==f&&S.form===f.form){var k=S[$i]||null;if(!k)throw Error(r(90));Xh(S,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(p=0;p<y.length;p++)S=y[p],S.form===f.form&&Xg(S)}break t;case"textarea":Kg(f,y.value,y.defaultValue);break t;case"select":p=y.value,p!=null&&Vc(f,!!y.multiple,p,!1)}}}var n0=!1;function _b(f,p,y){if(n0)return f(p,y);n0=!0;try{var S=f(p);return S}finally{if(n0=!1,(Zc!==null||Qc!==null)&&(Kp(),Zc&&(p=Zc,f=Qc,Qc=Zc=null,e0(p),f)))for(p=0;p<f.length;p++)e0(f[p])}}function Rf(f,p){var y=f.stateNode;if(y===null)return null;var S=y[$i]||null;if(S===null)return null;y=S[p];t:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(f=f.type,S=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!S;break t;default:f=!1}if(f)return null;if(y&&typeof y!="function")throw Error(r(231,p,typeof y));return y}var cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=!1;if(cs)try{var jf={};Object.defineProperty(jf,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{Pf=!1}var qs=null,r0=null,Zh=null;function wb(){if(Zh)return Zh;var f,p=r0,y=p.length,S,k="value"in qs?qs.value:qs.textContent,L=k.length;for(f=0;f<y&&p[f]===k[f];f++);var q=y-f;for(S=1;S<=q&&p[y-S]===k[L-S];S++);return Zh=k.slice(f,1<S?1-S:void 0)}function Cn(f){var p=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&p===13&&(f=13)):f=p,f===10&&(f=13),32<=f||f===13?f:0}function wn(){return!0}function Ob(){return!1}function zi(f){function p(y,S,k,L,q){this._reactName=y,this._targetInst=k,this.type=S,this.nativeEvent=L,this.target=q,this.currentTarget=null;for(var Z in f)f.hasOwnProperty(Z)&&(y=f[Z],this[Z]=y?y(L):L[Z]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?wn:Ob,this.isPropagationStopped=Ob,this}return u(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=wn)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=wn)},persist:function(){},isPersistent:wn}),p}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=zi(Ql),Lf=u({},Ql,{view:0,detail:0}),ZS=zi(Lf),Jh,i0,Er,Jc=u({},Lf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Er&&(Er&&f.type==="mousemove"?(Jh=f.screenX-Er.screenX,i0=f.screenY-Er.screenY):i0=Jh=0,Er=f),Jh)},movementY:function(f){return"movementY"in f?f.movementY:i0}}),Ws=zi(Jc),Sb=u({},Jc,{dataTransfer:0}),a0=zi(Sb),La=u({},Lf,{relatedTarget:0}),tp=zi(La),Eb=u({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),Ab=zi(Eb),Mb=u({},Ql,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Tb=zi(Mb),kb=u({},Ql,{data:0}),Fi=zi(kb),QS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Na={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cb(f){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(f):(f=JS[f])?!!p[f]:!1}function Oo(){return Cb}var ep=u({},Lf,{key:function(f){if(f.key){var p=QS[f.key]||f.key;if(p!=="Unidentified")return p}return f.type==="keypress"?(f=Cn(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Na[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(f){return f.type==="keypress"?Cn(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Cn(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),o0=zi(ep),or=u({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=zi(or),s0=u({},Lf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),tE=zi(s0),l0=u({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),eE=zi(l0),nE=u({},Jc,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),rE=zi(nE),Rb=u({},Ql,{newState:0,oldState:0}),np=zi(Rb),tu=[9,13,27,32],c0=cs&&"CompositionEvent"in window,eu=null;cs&&"documentMode"in document&&(eu=document.documentMode);var Pb=cs&&"TextEvent"in window&&!eu,rp=cs&&(!c0||eu&&8<eu&&11>=eu),ip=" ",u0=!1;function jb(f,p){switch(f){case"keyup":return tu.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Xs=!1;function iE(f,p){switch(f){case"compositionend":return ap(p);case"keypress":return p.which!==32?null:(u0=!0,ip);case"textInput":return f=p.data,f===ip&&u0?null:f;default:return null}}function Lb(f,p){if(Xs)return f==="compositionend"||!c0&&jb(f,p)?(f=wb(),Zh=r0=qs=null,Xs=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return rp&&p.locale!=="ko"?null:p.data;default:return null}}var fa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p==="input"?!!fa[f.type]:p==="textarea"}function nu(f,p,y,S){Zc?Qc?Qc.push(S):Qc=[S]:Zc=S,p=rv(p,"onChange"),0<p.length&&(y=new Qh("onChange","change",null,y,S),f.push({event:y,listeners:p}))}var ru=null,iu=null;function aE(f){c2(f,0)}function sp(f){var p=Yc(f);if(Xg(p))return f}function Nb(f,p){if(f==="change")return p}var Db=!1;if(cs){var f0;if(cs){var Vs="oninput"in document;if(!Vs){var Ib=document.createElement("div");Ib.setAttribute("oninput","return;"),Vs=typeof Ib.oninput=="function"}f0=Vs}else f0=!1;Db=f0&&(!document.documentMode||9<document.documentMode)}function Bb(){ru&&(ru.detachEvent("onpropertychange",lp),iu=ru=null)}function lp(f){if(f.propertyName==="value"&&sp(iu)){var p=[];nu(p,iu,f,t0(f)),_b(aE,p)}}function $b(f,p,y){f==="focusin"?(Bb(),ru=p,iu=y,ru.attachEvent("onpropertychange",lp)):f==="focusout"&&Bb()}function Ks(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return sp(iu)}function cp(f,p){if(f==="click")return sp(p)}function oE(f,p){if(f==="input"||f==="change")return sp(p)}function sE(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var da=typeof Object.is=="function"?Object.is:sE;function So(f,p){if(da(f,p))return!0;if(typeof f!="object"||f===null||typeof p!="object"||p===null)return!1;var y=Object.keys(f),S=Object.keys(p);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var k=y[S];if(!Nt.call(p,k)||!da(f[k],p[k]))return!1}return!0}function Da(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function d0(f,p){var y=Da(f);f=0;for(var S;y;){if(y.nodeType===3){if(S=f+y.textContent.length,f<=p&&S>=p)return{node:y,offset:p-f};f=S}t:{for(;y;){if(y.nextSibling){y=y.nextSibling;break t}y=y.parentNode}y=void 0}y=Da(y)}}function zb(f,p){return f&&p?f===p?!0:f&&f.nodeType===3?!1:p&&p.nodeType===3?zb(f,p.parentNode):"contains"in f?f.contains(p):f.compareDocumentPosition?!!(f.compareDocumentPosition(p)&16):!1:!1}function Fb(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var p=Zl(f.document);p instanceof f.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)f=p.contentWindow;else break;p=Zl(f.document)}return p}function h0(f){var p=f&&f.nodeName&&f.nodeName.toLowerCase();return p&&(p==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||p==="textarea"||f.contentEditable==="true")}var lE=cs&&"documentMode"in document&&11>=document.documentMode,au=null,Zs=null,ut=null,Et=!1;function _t(f,p,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Et||au==null||au!==Zl(S)||(S=au,"selectionStart"in S&&h0(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ut&&So(ut,S)||(ut=S,S=rv(Zs,"onSelect"),0<S.length&&(p=new Qh("onSelect","select",null,p,y),f.push({event:p,listeners:S}),p.target=au)))}function Yt(f,p){var y={};return y[f.toLowerCase()]=p.toLowerCase(),y["Webkit"+f]="webkit"+p,y["Moz"+f]="moz"+p,y}var he={animationend:Yt("Animation","AnimationEnd"),animationiteration:Yt("Animation","AnimationIteration"),animationstart:Yt("Animation","AnimationStart"),transitionrun:Yt("Transition","TransitionRun"),transitionstart:Yt("Transition","TransitionStart"),transitioncancel:Yt("Transition","TransitionCancel"),transitionend:Yt("Transition","TransitionEnd")},on={},Dr={};cs&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete he.animationend.animation,delete he.animationiteration.animation,delete he.animationstart.animation),"TransitionEvent"in window||delete he.transitionend.transition);function sn(f){if(on[f])return on[f];if(!he[f])return f;var p=he[f],y;for(y in p)if(p.hasOwnProperty(y)&&y in Dr)return on[f]=p[y];return f}var up=sn("animationend"),Ub=sn("animationiteration"),ha=sn("animationstart"),fp=sn("transitionrun"),cE=sn("transitionstart"),ou=sn("transitioncancel"),Nf=sn("transitionend"),Df=new Map,hn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hn.push("scrollEnd");function ao(f,p){Df.set(f,p),Kl(p,[f])}var p0=new WeakMap;function Mi(f,p){if(typeof f=="object"&&f!==null){var y=p0.get(f);return y!==void 0?y:(p={value:f,source:p,stack:Yg(p)},p0.set(f,p),p)}return{value:f,source:p,stack:Yg(p)}}var Ia=[],su=0,v0=0;function Jl(){for(var f=su,p=v0=su=0;p<f;){var y=Ia[p];Ia[p++]=null;var S=Ia[p];Ia[p++]=null;var k=Ia[p];Ia[p++]=null;var L=Ia[p];if(Ia[p++]=null,S!==null&&k!==null){var q=S.pending;q===null?k.next=k:(k.next=q.next,q.next=k),S.pending=k}L!==0&&If(y,k,L)}}function oo(f,p,y,S){Ia[su++]=f,Ia[su++]=p,Ia[su++]=y,Ia[su++]=S,v0|=S,f.lanes|=S,f=f.alternate,f!==null&&(f.lanes|=S)}function lu(f,p,y,S){return oo(f,p,y,S),Bf(f)}function tc(f,p){return oo(f,null,null,p),Bf(f)}function If(f,p,y){f.lanes|=y;var S=f.alternate;S!==null&&(S.lanes|=y);for(var k=!1,L=f.return;L!==null;)L.childLanes|=y,S=L.alternate,S!==null&&(S.childLanes|=y),L.tag===22&&(f=L.stateNode,f===null||f._visibility&1||(k=!0)),f=L,L=L.return;return f.tag===3?(L=f.stateNode,k&&p!==null&&(k=31-Ee(y),f=L.hiddenUpdates,S=f[k],S===null?f[k]=[p]:S.push(p),p.lane=y|536870912),L):null}function Bf(f){if(50<Cu)throw Cu=0,cy=null,Error(r(185));for(var p=f.return;p!==null;)f=p,p=f.return;return f.tag===3?f.stateNode:null}var ec={};function dp(f,p,y,S){this.tag=f,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(f,p,y,S){return new dp(f,p,y,S)}function nc(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Ti(f,p){var y=f.alternate;return y===null?(y=Ui(f.tag,p,f.key,f.mode),y.elementType=f.elementType,y.type=f.type,y.stateNode=f.stateNode,y.alternate=f,f.alternate=y):(y.pendingProps=p,y.type=f.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=f.flags&65011712,y.childLanes=f.childLanes,y.lanes=f.lanes,y.child=f.child,y.memoizedProps=f.memoizedProps,y.memoizedState=f.memoizedState,y.updateQueue=f.updateQueue,p=f.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=f.sibling,y.index=f.index,y.ref=f.ref,y.refCleanup=f.refCleanup,y}function $f(f,p){f.flags&=65011714;var y=f.alternate;return y===null?(f.childLanes=0,f.lanes=p,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,p=y.dependencies,f.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),f}function hp(f,p,y,S,k,L){var q=0;if(S=f,typeof f=="function")nc(f)&&(q=1);else if(typeof f=="string")q=zE(f,y,lt.current)?26:f==="html"||f==="head"||f==="body"?27:5;else t:switch(f){case j:return f=Ui(31,y,p,k),f.elementType=j,f.lanes=L,f;case g:return rc(y.children,k,L,p);case b:q=8,k|=24;break;case x:return f=Ui(12,y,p,k|2),f.elementType=x,f.lanes=L,f;case M:return f=Ui(13,y,p,k),f.elementType=M,f.lanes=L,f;case T:return f=Ui(19,y,p,k),f.elementType=T,f.lanes=L,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case _:case E:q=10;break t;case w:q=9;break t;case A:q=11;break t;case C:q=14;break t;case R:q=16,S=null;break t}q=29,y=Error(r(130,f===null?"null":typeof f,"")),S=null}return p=Ui(q,y,p,k),p.elementType=f,p.type=S,p.lanes=L,p}function rc(f,p,y,S){return f=Ui(7,f,S,p),f.lanes=y,f}function g0(f,p,y){return f=Ui(6,f,null,p),f.lanes=y,f}function cu(f,p,y){return p=Ui(4,f.children!==null?f.children:[],f.key,p),p.lanes=y,p.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},p}var fs=[],Qs=0,pp=null,zf=0,Ba=[],$a=0,Qn=null,sr=1,ds="";function ic(f,p){fs[Qs++]=zf,fs[Qs++]=pp,pp=f,zf=p}function y0(f,p,y){Ba[$a++]=sr,Ba[$a++]=ds,Ba[$a++]=Qn,Qn=f;var S=sr;f=ds;var k=32-Ee(S)-1;S&=~(1<<k),y+=1;var L=32-Ee(p)+k;if(30<L){var q=k-k%5;L=(S&(1<<q)-1).toString(32),S>>=q,k-=q,sr=1<<32-Ee(p)+k|y<<k|S,ds=L+f}else sr=1<<L|y<<k|S,ds=f}function m0(f){f.return!==null&&(ic(f,1),y0(f,1,0))}function Ff(f){for(;f===pp;)pp=fs[--Qs],fs[Qs]=null,zf=fs[--Qs],fs[Qs]=null;for(;f===Qn;)Qn=Ba[--$a],Ba[$a]=null,ds=Ba[--$a],Ba[$a]=null,sr=Ba[--$a],Ba[$a]=null}var Fr=null,lr=null,Ke=!1,so=null,Hi=!1,uu=Error(r(519));function za(f){var p=Error(r(418,""));throw Js(Mi(p,f)),uu}function Hb(f){var p=f.stateNode,y=f.type,S=f.memoizedProps;switch(p[ei]=f,p[$i]=S,y){case"dialog":We("cancel",p),We("close",p);break;case"iframe":case"object":case"embed":We("load",p);break;case"video":case"audio":for(y=0;y<kd.length;y++)We(kd[y],p);break;case"source":We("error",p);break;case"img":case"image":case"link":We("error",p),We("load",p);break;case"details":We("toggle",p);break;case"input":We("invalid",p),Vg(p,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),Wh(p);break;case"select":We("invalid",p);break;case"textarea":We("invalid",p),Vh(p,S.value,S.defaultValue,S.children),Wh(p)}y=S.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||p.textContent===""+y||S.suppressHydrationWarning===!0||d2(p.textContent,y)?(S.popover!=null&&(We("beforetoggle",p),We("toggle",p)),S.onScroll!=null&&We("scroll",p),S.onScrollEnd!=null&&We("scrollend",p),S.onClick!=null&&(p.onclick=iv),p=!0):p=!1,p||za(f)}function Gb(f){for(Fr=f.return;Fr;)switch(Fr.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Fr=Fr.return}}function Uf(f){if(f!==Fr)return!1;if(!Ke)return Gb(f),Ke=!0,!1;var p=f.tag,y;if((y=p!==3&&p!==27)&&((y=p===5)&&(y=f.type,y=!(y!=="form"&&y!=="button")||ov(f.type,f.memoizedProps)),y=!y),y&&lr&&za(f),Gb(f),p===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));t:{for(f=f.nextSibling,p=0;f;){if(f.nodeType===8)if(y=f.data,y==="/$"){if(p===0){lr=po(f.nextSibling);break t}p--}else y!=="$"&&y!=="$!"&&y!=="$?"||p++;f=f.nextSibling}lr=null}}else p===27?(p=lr,qa(f.type)?(f=Oy,Oy=null,lr=f):lr=p):lr=Fr?po(f.stateNode.nextSibling):null;return!0}function Hf(){lr=Fr=null,Ke=!1}function Yb(){var f=so;return f!==null&&(Zi===null?Zi=f:Zi.push.apply(Zi,f),so=null),f}function Js(f){so===null?so=[f]:so.push(f)}var ac=J(null),tl=null,K=null;function pa(f,p,y){nt(ac,p._currentValue),p._currentValue=y}function Fa(f){f._currentValue=ac.current,tt(ac)}function Gi(f,p,y){for(;f!==null;){var S=f.alternate;if((f.childLanes&p)!==p?(f.childLanes|=p,S!==null&&(S.childLanes|=p)):S!==null&&(S.childLanes&p)!==p&&(S.childLanes|=p),f===y)break;f=f.return}}function ze(f,p,y,S){var k=f.child;for(k!==null&&(k.return=f);k!==null;){var L=k.dependencies;if(L!==null){var q=k.child;L=L.firstContext;t:for(;L!==null;){var Z=L;L=k;for(var it=0;it<p.length;it++)if(Z.context===p[it]){L.lanes|=y,Z=L.alternate,Z!==null&&(Z.lanes|=y),Gi(L.return,y,f),S||(q=null);break t}L=Z.next}}else if(k.tag===18){if(q=k.return,q===null)throw Error(r(341));q.lanes|=y,L=q.alternate,L!==null&&(L.lanes|=y),Gi(q,y,f),q=null}else q=k.child;if(q!==null)q.return=k;else for(q=k;q!==null;){if(q===f){q=null;break}if(k=q.sibling,k!==null){k.return=q.return,q=k;break}q=q.return}k=q}}function Gf(f,p,y,S){f=null;for(var k=p,L=!1;k!==null;){if(!L){if((k.flags&524288)!==0)L=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var q=k.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var Z=k.type;da(k.pendingProps.value,q.value)||(f!==null?f.push(Z):f=[Z])}}else if(k===mt.current){if(q=k.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(f!==null?f.push(Bu):f=[Bu])}k=k.return}f!==null&&ze(p,f,y,S),p.flags|=262144}function vp(f){for(f=f.firstContext;f!==null;){if(!da(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function oc(f){tl=f,K=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function mr(f){return qb(tl,f)}function gp(f,p){return tl===null&&oc(f),qb(f,p)}function qb(f,p){var y=p._currentValue;if(p={context:p,memoizedValue:y,next:null},K===null){if(f===null)throw Error(r(308));K=p,f.dependencies={lanes:0,firstContext:p},f.flags|=524288}else K=K.next=p;return y}var uE=typeof AbortController<"u"?AbortController:function(){var f=[],p=this.signal={aborted:!1,addEventListener:function(y,S){f.push(S)}};this.abort=function(){p.aborted=!0,f.forEach(function(y){return y()})}},fE=t.unstable_scheduleCallback,dE=t.unstable_NormalPriority,In={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function b0(){return{controller:new uE,data:new Map,refCount:0}}function Yf(f){f.refCount--,f.refCount===0&&fE(dE,function(){f.controller.abort()})}var qf=null,x0=0,fu=0,Yi=null;function hE(f,p){if(qf===null){var y=qf=[];x0=0,fu=nv(),Yi={status:"pending",value:void 0,then:function(S){y.push(S)}}}return x0++,p.then(Wb,Wb),p}function Wb(){if(--x0===0&&qf!==null){Yi!==null&&(Yi.status="fulfilled");var f=qf;qf=null,fu=0,Yi=null;for(var p=0;p<f.length;p++)(0,f[p])()}}function pE(f,p){var y=[],S={status:"pending",value:null,reason:null,then:function(k){y.push(k)}};return f.then(function(){S.status="fulfilled",S.value=p;for(var k=0;k<y.length;k++)(0,y[k])(p)},function(k){for(S.status="rejected",S.reason=k,k=0;k<y.length;k++)(0,y[k])(void 0)}),S}var Xb=F.S;F.S=function(f,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&hE(f,p),Xb!==null&&Xb(f,p)};var sc=J(null);function hs(){var f=sc.current;return f!==null?f:Wn.pooledCache}function yp(f,p){p===null?nt(sc,sc.current):nt(sc,p.pool)}function Vb(){var f=hs();return f===null?null:{parent:In._currentValue,pool:f}}var ki=Error(r(460)),Kb=Error(r(474)),mp=Error(r(542)),_0={then:function(){}};function Zb(f){return f=f.status,f==="fulfilled"||f==="rejected"}function bp(){}function w0(f,p,y){switch(y=f[y],y===void 0?f.push(p):y!==p&&(p.then(bp,bp),p=y),p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,Jb(f),f;default:if(typeof p.status=="string")p.then(bp,bp);else{if(f=Wn,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=p,f.status="pending",f.then(function(S){if(p.status==="pending"){var k=p;k.status="fulfilled",k.value=S}},function(S){if(p.status==="pending"){var k=p;k.status="rejected",k.reason=S}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw f=p.reason,Jb(f),f}throw du=p,ki}}var du=null;function Qb(){if(du===null)throw Error(r(459));var f=du;return du=null,f}function Jb(f){if(f===ki||f===mp)throw Error(r(483))}var Eo=!1;function lc(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hu(f,p){f=f.updateQueue,p.updateQueue===f&&(p.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function el(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ps(f,p,y){var S=f.updateQueue;if(S===null)return null;if(S=S.shared,(Sn&2)!==0){var k=S.pending;return k===null?p.next=p:(p.next=k.next,k.next=p),S.pending=p,p=Bf(f),If(f,null,y),p}return oo(f,S,p,y),Bf(f)}function Wf(f,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194048)!==0)){var S=p.lanes;S&=f.pendingLanes,y|=S,p.lanes=y,db(f,y)}}function lo(f,p){var y=f.updateQueue,S=f.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var k=null,L=null;if(y=y.firstBaseUpdate,y!==null){do{var q={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};L===null?k=L=q:L=L.next=q,y=y.next}while(y!==null);L===null?k=L=p:L=L.next=p}else k=L=p;y={baseState:S.baseState,firstBaseUpdate:k,lastBaseUpdate:L,shared:S.shared,callbacks:S.callbacks},f.updateQueue=y;return}f=y.lastBaseUpdate,f===null?y.firstBaseUpdate=p:f.next=p,y.lastBaseUpdate=p}var Xf=!1;function co(){if(Xf){var f=Yi;if(f!==null)throw f}}function _i(f,p,y,S){Xf=!1;var k=f.updateQueue;Eo=!1;var L=k.firstBaseUpdate,q=k.lastBaseUpdate,Z=k.shared.pending;if(Z!==null){k.shared.pending=null;var it=Z,gt=it.next;it.next=null,q===null?L=gt:q.next=gt,q=it;var At=f.alternate;At!==null&&(At=At.updateQueue,Z=At.lastBaseUpdate,Z!==q&&(Z===null?At.firstBaseUpdate=gt:Z.next=gt,At.lastBaseUpdate=it))}if(L!==null){var Ct=k.baseState;q=0,At=gt=it=null,Z=L;do{var bt=Z.lane&-536870913,yt=bt!==Z.lane;if(yt?(nn&bt)===bt:(S&bt)===bt){bt!==0&&bt===fu&&(Xf=!0),At!==null&&(At=At.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});t:{var fe=f,ce=Z;bt=p;var Pn=y;switch(ce.tag){case 1:if(fe=ce.payload,typeof fe=="function"){Ct=fe.call(Pn,Ct,bt);break t}Ct=fe;break t;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ce.payload,bt=typeof fe=="function"?fe.call(Pn,Ct,bt):fe,bt==null)break t;Ct=u({},Ct,bt);break t;case 2:Eo=!0}}bt=Z.callback,bt!==null&&(f.flags|=64,yt&&(f.flags|=8192),yt=k.callbacks,yt===null?k.callbacks=[bt]:yt.push(bt))}else yt={lane:bt,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},At===null?(gt=At=yt,it=Ct):At=At.next=yt,q|=bt;if(Z=Z.next,Z===null){if(Z=k.shared.pending,Z===null)break;yt=Z,Z=yt.next,yt.next=null,k.lastBaseUpdate=yt,k.shared.pending=null}}while(!0);At===null&&(it=Ct),k.baseState=it,k.firstBaseUpdate=gt,k.lastBaseUpdate=At,L===null&&(k.shared.lanes=0),ul|=q,f.lanes=q,f.memoizedState=Ct}}function tx(f,p){if(typeof f!="function")throw Error(r(191,f));f.call(p)}function O0(f,p){var y=f.callbacks;if(y!==null)for(f.callbacks=null,f=0;f<y.length;f++)tx(y[f],p)}var cc=J(null),nl=J(0);function vs(f,p){f=Ss,nt(nl,f),nt(cc,p),Ss=f|p.baseLanes}function xp(){nt(nl,Ss),nt(cc,cc.current)}function S0(){Ss=nl.current,tt(cc),tt(nl)}var uo=0,Ie=null,On=null,Ze=null,pu=!1,uc=!1,wi=!1,vu=0,rl=0,Ua=null,ex=0;function Je(){throw Error(r(321))}function Vf(f,p){if(p===null)return!1;for(var y=0;y<p.length&&y<f.length;y++)if(!da(f[y],p[y]))return!1;return!0}function E0(f,p,y,S,k,L){return uo=L,Ie=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,F.H=f===null||f.memoizedState===null?px:H0,wi=!1,L=y(S,k),wi=!1,uc&&(L=rx(p,y,S,k)),nx(f),L}function nx(f){F.H=od;var p=On!==null&&On.next!==null;if(uo=0,Ze=On=Ie=null,pu=!1,rl=0,Ua=null,p)throw Error(r(300));f===null||ri||(f=f.dependencies,f!==null&&vp(f)&&(ri=!0))}function rx(f,p,y,S){Ie=f;var k=0;do{if(uc&&(Ua=null),rl=0,uc=!1,25<=k)throw Error(r(301));if(k+=1,Ze=On=null,f.updateQueue!=null){var L=f.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}F.H=vx,L=p(y,S)}while(uc);return L}function A0(){var f=F.H,p=f.useState()[0];return p=typeof p.then=="function"?Kf(p):p,f=f.useState()[0],(On!==null?On.memoizedState:null)!==f&&(Ie.flags|=1024),p}function M0(){var f=vu!==0;return vu=0,f}function fc(f,p,y){p.updateQueue=f.updateQueue,p.flags&=-2053,f.lanes&=~y}function _p(f){if(pu){for(f=f.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}pu=!1}uo=0,Ze=On=Ie=null,uc=!1,rl=vu=0,Ua=null}function qi(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ie.memoizedState=Ze=f:Ze=Ze.next=f,Ze}function Ir(){if(On===null){var f=Ie.alternate;f=f!==null?f.memoizedState:null}else f=On.next;var p=Ze===null?Ie.memoizedState:Ze.next;if(p!==null)Ze=p,On=f;else{if(f===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));On=f,f={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Ze===null?Ie.memoizedState=Ze=f:Ze=Ze.next=f}return Ze}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kf(f){var p=rl;return rl+=1,Ua===null&&(Ua=[]),f=w0(Ua,f,p),p=Ie,(Ze===null?p.memoizedState:Ze.next)===null&&(p=p.alternate,F.H=p===null||p.memoizedState===null?px:H0),f}function wp(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Kf(f);if(f.$$typeof===E)return mr(f)}throw Error(r(438,String(f)))}function Zf(f){var p=null,y=Ie.updateQueue;if(y!==null&&(p=y.memoCache),p==null){var S=Ie.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(p={data:S.data.map(function(k){return k.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),y===null&&(y=dc(),Ie.updateQueue=y),y.memoCache=p,y=p.data[p.index],y===void 0)for(y=p.data[p.index]=Array(f),S=0;S<f;S++)y[S]=I;return p.index++,y}function Ao(f,p){return typeof p=="function"?p(f):p}function Op(f){var p=Ir();return T0(p,On,f)}function T0(f,p,y){var S=f.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=y;var k=f.baseQueue,L=S.pending;if(L!==null){if(k!==null){var q=k.next;k.next=L.next,L.next=q}p.baseQueue=k=L,S.pending=null}if(L=f.baseState,k===null)f.memoizedState=L;else{p=k.next;var Z=q=null,it=null,gt=p,At=!1;do{var Ct=gt.lane&-536870913;if(Ct!==gt.lane?(nn&Ct)===Ct:(uo&Ct)===Ct){var bt=gt.revertLane;if(bt===0)it!==null&&(it=it.next={lane:0,revertLane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),Ct===fu&&(At=!0);else if((uo&bt)===bt){gt=gt.next,bt===fu&&(At=!0);continue}else Ct={lane:0,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},it===null?(Z=it=Ct,q=L):it=it.next=Ct,Ie.lanes|=bt,ul|=bt;Ct=gt.action,wi&&y(L,Ct),L=gt.hasEagerState?gt.eagerState:y(L,Ct)}else bt={lane:Ct,revertLane:gt.revertLane,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null},it===null?(Z=it=bt,q=L):it=it.next=bt,Ie.lanes|=Ct,ul|=Ct;gt=gt.next}while(gt!==null&&gt!==p);if(it===null?q=L:it.next=Z,!da(L,f.memoizedState)&&(ri=!0,At&&(y=Yi,y!==null)))throw y;f.memoizedState=L,f.baseState=q,f.baseQueue=it,S.lastRenderedState=L}return k===null&&(S.lanes=0),[f.memoizedState,S.dispatch]}function k0(f){var p=Ir(),y=p.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=f;var S=y.dispatch,k=y.pending,L=p.memoizedState;if(k!==null){y.pending=null;var q=k=k.next;do L=f(L,q.action),q=q.next;while(q!==k);da(L,p.memoizedState)||(ri=!0),p.memoizedState=L,p.baseQueue===null&&(p.baseState=L),y.lastRenderedState=L}return[L,S]}function C0(f,p,y){var S=Ie,k=Ir(),L=Ke;if(L){if(y===void 0)throw Error(r(407));y=y()}else y=p();var q=!da((On||k).memoizedState,y);q&&(k.memoizedState=y,ri=!0),k=k.queue;var Z=Ep.bind(null,S,k,f);if(td(2048,8,Z,[f]),k.getSnapshot!==p||q||Ze!==null&&Ze.memoizedState.tag&1){if(S.flags|=2048,gu(9,Cp(),ix.bind(null,S,k,y,p),null),Wn===null)throw Error(r(349));L||(uo&124)!==0||Sp(S,p,y)}return y}function Sp(f,p,y){f.flags|=16384,f={getSnapshot:p,value:y},p=Ie.updateQueue,p===null?(p=dc(),Ie.updateQueue=p,p.stores=[f]):(y=p.stores,y===null?p.stores=[f]:y.push(f))}function ix(f,p,y,S){p.value=y,p.getSnapshot=S,R0(p)&&P0(f)}function Ep(f,p,y){return y(function(){R0(p)&&P0(f)})}function R0(f){var p=f.getSnapshot;f=f.value;try{var y=p();return!da(f,y)}catch{return!0}}function P0(f){var p=tc(f,2);p!==null&&ba(p,f,2)}function Ap(f){var p=qi();if(typeof f=="function"){var y=f;if(f=y(),wi){an(!0);try{y()}finally{an(!1)}}}return p.memoizedState=p.baseState=f,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:f},p}function Qf(f,p,y,S){return f.baseState=y,T0(f,On,typeof S=="function"?S:Ao)}function vE(f,p,y,S,k){if(Lp(f))throw Error(r(485));if(f=p.action,f!==null){var L={payload:k,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){L.listeners.push(q)}};F.T!==null?y(!0):L.isTransition=!1,S(L),y=p.pending,y===null?(L.next=p.pending=L,j0(p,L)):(L.next=y.next,p.pending=y.next=L)}}function j0(f,p){var y=p.action,S=p.payload,k=f.state;if(p.isTransition){var L=F.T,q={};F.T=q;try{var Z=y(k,S),it=F.S;it!==null&&it(q,Z),L0(f,p,Z)}catch(gt){Mp(f,p,gt)}finally{F.T=L}}else try{L=y(k,S),L0(f,p,L)}catch(gt){Mp(f,p,gt)}}function L0(f,p,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){ax(f,p,S)},function(S){return Mp(f,p,S)}):ax(f,p,y)}function ax(f,p,y){p.status="fulfilled",p.value=y,ox(p),f.state=y,p=f.pending,p!==null&&(y=p.next,y===p?f.pending=null:(y=y.next,p.next=y,j0(f,y)))}function Mp(f,p,y){var S=f.pending;if(f.pending=null,S!==null){S=S.next;do p.status="rejected",p.reason=y,ox(p),p=p.next;while(p!==S)}f.action=null}function ox(f){f=f.listeners;for(var p=0;p<f.length;p++)(0,f[p])()}function Tp(f,p){return p}function N0(f,p){if(Ke){var y=Wn.formState;if(y!==null){t:{var S=Ie;if(Ke){if(lr){e:{for(var k=lr,L=Hi;k.nodeType!==8;){if(!L){k=null;break e}if(k=po(k.nextSibling),k===null){k=null;break e}}L=k.data,k=L==="F!"||L==="F"?k:null}if(k){lr=po(k.nextSibling),S=k.data==="F!";break t}}za(S)}S=!1}S&&(p=y[0])}}return y=qi(),y.memoizedState=y.baseState=p,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:p},y.queue=S,y=z0.bind(null,Ie,S),S.dispatch=y,S=Ap(!1),L=F0.bind(null,Ie,!1,S.queue),S=qi(),k={state:p,dispatch:null,action:f,pending:null},S.queue=k,y=vE.bind(null,Ie,k,L,y),k.dispatch=y,S.memoizedState=f,[p,y,!1]}function kp(f){var p=Ir();return sx(p,On,f)}function sx(f,p,y){if(p=T0(f,p,Tp)[0],f=Op(Ao)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var S=Kf(p)}catch(q){throw q===ki?mp:q}else S=p;p=Ir();var k=p.queue,L=k.dispatch;return y!==p.memoizedState&&(Ie.flags|=2048,gu(9,Cp(),D0.bind(null,k,y),null)),[S,L,f]}function D0(f,p){f.action=p}function je(f){var p=Ir(),y=On;if(y!==null)return sx(p,y,f);Ir(),p=p.memoizedState,y=Ir();var S=y.queue.dispatch;return y.memoizedState=f,[p,S,!1]}function gu(f,p,y,S){return f={tag:f,create:y,deps:S,inst:p,next:null},p=Ie.updateQueue,p===null&&(p=dc(),Ie.updateQueue=p),y=p.lastEffect,y===null?p.lastEffect=f.next=f:(S=y.next,y.next=f,f.next=S,p.lastEffect=f),f}function Cp(){return{destroy:void 0,resource:void 0}}function yu(){return Ir().memoizedState}function Jf(f,p,y,S){var k=qi();S=S===void 0?null:S,Ie.flags|=f,k.memoizedState=gu(1|p,Cp(),y,S)}function td(f,p,y,S){var k=Ir();S=S===void 0?null:S;var L=k.memoizedState.inst;On!==null&&S!==null&&Vf(S,On.memoizedState.deps)?k.memoizedState=gu(p,L,y,S):(Ie.flags|=f,k.memoizedState=gu(1|p,L,y,S))}function lx(f,p){Jf(8390656,8,f,p)}function va(f,p){td(2048,8,f,p)}function cx(f,p){return td(4,2,f,p)}function ed(f,p){return td(4,4,f,p)}function Rp(f,p){if(typeof p=="function"){f=f();var y=p(f);return function(){typeof y=="function"?y():p(null)}}if(p!=null)return f=f(),p.current=f,function(){p.current=null}}function I0(f,p,y){y=y!=null?y.concat([f]):null,td(4,4,Rp.bind(null,p,f),y)}function Pp(){}function Wi(f,p){var y=Ir();p=p===void 0?null:p;var S=y.memoizedState;return p!==null&&Vf(p,S[1])?S[0]:(y.memoizedState=[f,p],f)}function gs(f,p){var y=Ir();p=p===void 0?null:p;var S=y.memoizedState;if(p!==null&&Vf(p,S[1]))return S[0];if(S=f(),wi){an(!0);try{f()}finally{an(!1)}}return y.memoizedState=[S,p],S}function nd(f,p,y){return y===void 0||(uo&1073741824)!==0?f.memoizedState=p:(f.memoizedState=y,f=Ux(),Ie.lanes|=f,ul|=f,y)}function B0(f,p,y,S){return da(y,p)?y:cc.current!==null?(f=nd(f,y,S),da(f,p)||(ri=!0),f):(uo&42)===0?(ri=!0,f.memoizedState=y):(f=Ux(),Ie.lanes|=f,ul|=f,p)}function rd(f,p,y,S,k){var L=H.p;H.p=L!==0&&8>L?L:8;var q=F.T,Z={};F.T=Z,F0(f,!1,p,y);try{var it=k(),gt=F.S;if(gt!==null&&gt(Z,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var At=pE(it,S);hc(f,p,At,Si(f))}else hc(f,p,S,Si(f))}catch(Ct){hc(f,p,{then:function(){},status:"rejected",reason:Ct},Si())}finally{H.p=L,F.T=q}}function ux(){}function id(f,p,y,S){if(f.tag!==5)throw Error(r(476));var k=$0(f).queue;rd(f,k,p,Y,y===null?ux:function(){return jp(f),y(S)})}function $0(f){var p=f.memoizedState;if(p!==null)return p;p={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:Y},next:null};var y={};return p.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:y},next:null},f.memoizedState=p,f=f.alternate,f!==null&&(f.memoizedState=p),p}function jp(f){var p=$0(f).next.queue;hc(f,p,{},Si())}function ad(){return mr(Bu)}function ys(){return Ir().memoizedState}function fx(){return Ir().memoizedState}function il(f){for(var p=f.return;p!==null;){switch(p.tag){case 24:case 3:var y=Si();f=el(y);var S=ps(p,f,y);S!==null&&(ba(S,p,y),Wf(S,p,y)),p={cache:b0()},f.payload=p;return}p=p.return}}function dx(f,p,y){var S=Si();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},Lp(f)?hx(p,y):(y=lu(f,p,y,S),y!==null&&(ba(y,f,S),U0(y,p,S)))}function z0(f,p,y){var S=Si();hc(f,p,y,S)}function hc(f,p,y,S){var k={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(Lp(f))hx(p,k);else{var L=f.alternate;if(f.lanes===0&&(L===null||L.lanes===0)&&(L=p.lastRenderedReducer,L!==null))try{var q=p.lastRenderedState,Z=L(q,y);if(k.hasEagerState=!0,k.eagerState=Z,da(Z,q))return oo(f,p,k,0),Wn===null&&Jl(),!1}catch{}finally{}if(y=lu(f,p,k,S),y!==null)return ba(y,f,S),U0(y,p,S),!0}return!1}function F0(f,p,y,S){if(S={lane:2,revertLane:nv(),action:S,hasEagerState:!1,eagerState:null,next:null},Lp(f)){if(p)throw Error(r(479))}else p=lu(f,y,S,2),p!==null&&ba(p,f,2)}function Lp(f){var p=f.alternate;return f===Ie||p!==null&&p===Ie}function hx(f,p){uc=pu=!0;var y=f.pending;y===null?p.next=p:(p.next=y.next,y.next=p),f.pending=p}function U0(f,p,y){if((y&4194048)!==0){var S=p.lanes;S&=f.pendingLanes,y|=S,p.lanes=y,db(f,y)}}var od={readContext:mr,use:wp,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},px={readContext:mr,use:wp,useCallback:function(f,p){return qi().memoizedState=[f,p===void 0?null:p],f},useContext:mr,useEffect:lx,useImperativeHandle:function(f,p,y){y=y!=null?y.concat([f]):null,Jf(4194308,4,Rp.bind(null,p,f),y)},useLayoutEffect:function(f,p){return Jf(4194308,4,f,p)},useInsertionEffect:function(f,p){Jf(4,2,f,p)},useMemo:function(f,p){var y=qi();p=p===void 0?null:p;var S=f();if(wi){an(!0);try{f()}finally{an(!1)}}return y.memoizedState=[S,p],S},useReducer:function(f,p,y){var S=qi();if(y!==void 0){var k=y(p);if(wi){an(!0);try{y(p)}finally{an(!1)}}}else k=p;return S.memoizedState=S.baseState=k,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:k},S.queue=f,f=f.dispatch=dx.bind(null,Ie,f),[S.memoizedState,f]},useRef:function(f){var p=qi();return f={current:f},p.memoizedState=f},useState:function(f){f=Ap(f);var p=f.queue,y=z0.bind(null,Ie,p);return p.dispatch=y,[f.memoizedState,y]},useDebugValue:Pp,useDeferredValue:function(f,p){var y=qi();return nd(y,f,p)},useTransition:function(){var f=Ap(!1);return f=rd.bind(null,Ie,f.queue,!0,!1),qi().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,p,y){var S=Ie,k=qi();if(Ke){if(y===void 0)throw Error(r(407));y=y()}else{if(y=p(),Wn===null)throw Error(r(349));(nn&124)!==0||Sp(S,p,y)}k.memoizedState=y;var L={value:y,getSnapshot:p};return k.queue=L,lx(Ep.bind(null,S,L,f),[f]),S.flags|=2048,gu(9,Cp(),ix.bind(null,S,L,y,p),null),y},useId:function(){var f=qi(),p=Wn.identifierPrefix;if(Ke){var y=ds,S=sr;y=(S&~(1<<32-Ee(S)-1)).toString(32)+y,p=""+p+"R"+y,y=vu++,0<y&&(p+="H"+y.toString(32)),p+=""}else y=ex++,p=""+p+"r"+y.toString(32)+"";return f.memoizedState=p},useHostTransitionStatus:ad,useFormState:N0,useActionState:N0,useOptimistic:function(f){var p=qi();p.memoizedState=p.baseState=f;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=y,p=F0.bind(null,Ie,!0,y),y.dispatch=p,[f,p]},useMemoCache:Zf,useCacheRefresh:function(){return qi().memoizedState=il.bind(null,Ie)}},H0={readContext:mr,use:wp,useCallback:Wi,useContext:mr,useEffect:va,useImperativeHandle:I0,useInsertionEffect:cx,useLayoutEffect:ed,useMemo:gs,useReducer:Op,useRef:yu,useState:function(){return Op(Ao)},useDebugValue:Pp,useDeferredValue:function(f,p){var y=Ir();return B0(y,On.memoizedState,f,p)},useTransition:function(){var f=Op(Ao)[0],p=Ir().memoizedState;return[typeof f=="boolean"?f:Kf(f),p]},useSyncExternalStore:C0,useId:ys,useHostTransitionStatus:ad,useFormState:kp,useActionState:kp,useOptimistic:function(f,p){var y=Ir();return Qf(y,On,f,p)},useMemoCache:Zf,useCacheRefresh:fx},vx={readContext:mr,use:wp,useCallback:Wi,useContext:mr,useEffect:va,useImperativeHandle:I0,useInsertionEffect:cx,useLayoutEffect:ed,useMemo:gs,useReducer:k0,useRef:yu,useState:function(){return k0(Ao)},useDebugValue:Pp,useDeferredValue:function(f,p){var y=Ir();return On===null?nd(y,f,p):B0(y,On.memoizedState,f,p)},useTransition:function(){var f=k0(Ao)[0],p=Ir().memoizedState;return[typeof f=="boolean"?f:Kf(f),p]},useSyncExternalStore:C0,useId:ys,useHostTransitionStatus:ad,useFormState:je,useActionState:je,useOptimistic:function(f,p){var y=Ir();return On!==null?Qf(y,On,f,p):(y.baseState=f,[f,y.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:fx},Ur=null,Xi=0;function Np(f){var p=Xi;return Xi+=1,Ur===null&&(Ur=[]),w0(Ur,f,p)}function sd(f,p){p=p.props.ref,f.ref=p!==void 0?p:null}function pc(f,p){throw p.$$typeof===d?Error(r(525)):(f=Object.prototype.toString.call(p),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":f)))}function vc(f){var p=f._init;return p(f._payload)}function G0(f){function p(ht,st){if(f){var vt=ht.deletions;vt===null?(ht.deletions=[st],ht.flags|=16):vt.push(st)}}function y(ht,st){if(!f)return null;for(;st!==null;)p(ht,st),st=st.sibling;return null}function S(ht){for(var st=new Map;ht!==null;)ht.key!==null?st.set(ht.key,ht):st.set(ht.index,ht),ht=ht.sibling;return st}function k(ht,st){return ht=Ti(ht,st),ht.index=0,ht.sibling=null,ht}function L(ht,st,vt){return ht.index=vt,f?(vt=ht.alternate,vt!==null?(vt=vt.index,vt<st?(ht.flags|=67108866,st):vt):(ht.flags|=67108866,st)):(ht.flags|=1048576,st)}function q(ht){return f&&ht.alternate===null&&(ht.flags|=67108866),ht}function Z(ht,st,vt,Tt){return st===null||st.tag!==6?(st=g0(vt,ht.mode,Tt),st.return=ht,st):(st=k(st,vt),st.return=ht,st)}function it(ht,st,vt,Tt){var Kt=vt.type;return Kt===g?At(ht,st,vt.props.children,Tt,vt.key):st!==null&&(st.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===R&&vc(Kt)===st.type)?(st=k(st,vt.props),sd(st,vt),st.return=ht,st):(st=hp(vt.type,vt.key,vt.props,null,ht.mode,Tt),sd(st,vt),st.return=ht,st)}function gt(ht,st,vt,Tt){return st===null||st.tag!==4||st.stateNode.containerInfo!==vt.containerInfo||st.stateNode.implementation!==vt.implementation?(st=cu(vt,ht.mode,Tt),st.return=ht,st):(st=k(st,vt.children||[]),st.return=ht,st)}function At(ht,st,vt,Tt,Kt){return st===null||st.tag!==7?(st=rc(vt,ht.mode,Tt,Kt),st.return=ht,st):(st=k(st,vt),st.return=ht,st)}function Ct(ht,st,vt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return st=g0(""+st,ht.mode,vt),st.return=ht,st;if(typeof st=="object"&&st!==null){switch(st.$$typeof){case h:return vt=hp(st.type,st.key,st.props,null,ht.mode,vt),sd(vt,st),vt.return=ht,vt;case v:return st=cu(st,ht.mode,vt),st.return=ht,st;case R:var Tt=st._init;return st=Tt(st._payload),Ct(ht,st,vt)}if(G(st)||B(st))return st=rc(st,ht.mode,vt,null),st.return=ht,st;if(typeof st.then=="function")return Ct(ht,Np(st),vt);if(st.$$typeof===E)return Ct(ht,gp(ht,st),vt);pc(ht,st)}return null}function bt(ht,st,vt,Tt){var Kt=st!==null?st.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return Kt!==null?null:Z(ht,st,""+vt,Tt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case h:return vt.key===Kt?it(ht,st,vt,Tt):null;case v:return vt.key===Kt?gt(ht,st,vt,Tt):null;case R:return Kt=vt._init,vt=Kt(vt._payload),bt(ht,st,vt,Tt)}if(G(vt)||B(vt))return Kt!==null?null:At(ht,st,vt,Tt,null);if(typeof vt.then=="function")return bt(ht,st,Np(vt),Tt);if(vt.$$typeof===E)return bt(ht,st,gp(ht,vt),Tt);pc(ht,vt)}return null}function yt(ht,st,vt,Tt,Kt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return ht=ht.get(vt)||null,Z(st,ht,""+Tt,Kt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case h:return ht=ht.get(Tt.key===null?vt:Tt.key)||null,it(st,ht,Tt,Kt);case v:return ht=ht.get(Tt.key===null?vt:Tt.key)||null,gt(st,ht,Tt,Kt);case R:var Fe=Tt._init;return Tt=Fe(Tt._payload),yt(ht,st,vt,Tt,Kt)}if(G(Tt)||B(Tt))return ht=ht.get(vt)||null,At(st,ht,Tt,Kt,null);if(typeof Tt.then=="function")return yt(ht,st,vt,Np(Tt),Kt);if(Tt.$$typeof===E)return yt(ht,st,vt,gp(st,Tt),Kt);pc(st,Tt)}return null}function fe(ht,st,vt,Tt){for(var Kt=null,Fe=null,re=st,de=st=0,oi=null;re!==null&&de<vt.length;de++){re.index>de?(oi=re,re=null):oi=re.sibling;var ln=bt(ht,re,vt[de],Tt);if(ln===null){re===null&&(re=oi);break}f&&re&&ln.alternate===null&&p(ht,re),st=L(ln,st,de),Fe===null?Kt=ln:Fe.sibling=ln,Fe=ln,re=oi}if(de===vt.length)return y(ht,re),Ke&&ic(ht,de),Kt;if(re===null){for(;de<vt.length;de++)re=Ct(ht,vt[de],Tt),re!==null&&(st=L(re,st,de),Fe===null?Kt=re:Fe.sibling=re,Fe=re);return Ke&&ic(ht,de),Kt}for(re=S(re);de<vt.length;de++)oi=yt(re,ht,de,vt[de],Tt),oi!==null&&(f&&oi.alternate!==null&&re.delete(oi.key===null?de:oi.key),st=L(oi,st,de),Fe===null?Kt=oi:Fe.sibling=oi,Fe=oi);return f&&re.forEach(function(xl){return p(ht,xl)}),Ke&&ic(ht,de),Kt}function ce(ht,st,vt,Tt){if(vt==null)throw Error(r(151));for(var Kt=null,Fe=null,re=st,de=st=0,oi=null,ln=vt.next();re!==null&&!ln.done;de++,ln=vt.next()){re.index>de?(oi=re,re=null):oi=re.sibling;var xl=bt(ht,re,ln.value,Tt);if(xl===null){re===null&&(re=oi);break}f&&re&&xl.alternate===null&&p(ht,re),st=L(xl,st,de),Fe===null?Kt=xl:Fe.sibling=xl,Fe=xl,re=oi}if(ln.done)return y(ht,re),Ke&&ic(ht,de),Kt;if(re===null){for(;!ln.done;de++,ln=vt.next())ln=Ct(ht,ln.value,Tt),ln!==null&&(st=L(ln,st,de),Fe===null?Kt=ln:Fe.sibling=ln,Fe=ln);return Ke&&ic(ht,de),Kt}for(re=S(re);!ln.done;de++,ln=vt.next())ln=yt(re,ht,de,ln.value,Tt),ln!==null&&(f&&ln.alternate!==null&&re.delete(ln.key===null?de:ln.key),st=L(ln,st,de),Fe===null?Kt=ln:Fe.sibling=ln,Fe=ln);return f&&re.forEach(function(ZE){return p(ht,ZE)}),Ke&&ic(ht,de),Kt}function Pn(ht,st,vt,Tt){if(typeof vt=="object"&&vt!==null&&vt.type===g&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case h:t:{for(var Kt=vt.key;st!==null;){if(st.key===Kt){if(Kt=vt.type,Kt===g){if(st.tag===7){y(ht,st.sibling),Tt=k(st,vt.props.children),Tt.return=ht,ht=Tt;break t}}else if(st.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===R&&vc(Kt)===st.type){y(ht,st.sibling),Tt=k(st,vt.props),sd(Tt,vt),Tt.return=ht,ht=Tt;break t}y(ht,st);break}else p(ht,st);st=st.sibling}vt.type===g?(Tt=rc(vt.props.children,ht.mode,Tt,vt.key),Tt.return=ht,ht=Tt):(Tt=hp(vt.type,vt.key,vt.props,null,ht.mode,Tt),sd(Tt,vt),Tt.return=ht,ht=Tt)}return q(ht);case v:t:{for(Kt=vt.key;st!==null;){if(st.key===Kt)if(st.tag===4&&st.stateNode.containerInfo===vt.containerInfo&&st.stateNode.implementation===vt.implementation){y(ht,st.sibling),Tt=k(st,vt.children||[]),Tt.return=ht,ht=Tt;break t}else{y(ht,st);break}else p(ht,st);st=st.sibling}Tt=cu(vt,ht.mode,Tt),Tt.return=ht,ht=Tt}return q(ht);case R:return Kt=vt._init,vt=Kt(vt._payload),Pn(ht,st,vt,Tt)}if(G(vt))return fe(ht,st,vt,Tt);if(B(vt)){if(Kt=B(vt),typeof Kt!="function")throw Error(r(150));return vt=Kt.call(vt),ce(ht,st,vt,Tt)}if(typeof vt.then=="function")return Pn(ht,st,Np(vt),Tt);if(vt.$$typeof===E)return Pn(ht,st,gp(ht,vt),Tt);pc(ht,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,st!==null&&st.tag===6?(y(ht,st.sibling),Tt=k(st,vt),Tt.return=ht,ht=Tt):(y(ht,st),Tt=g0(vt,ht.mode,Tt),Tt.return=ht,ht=Tt),q(ht)):y(ht,st)}return function(ht,st,vt,Tt){try{Xi=0;var Kt=Pn(ht,st,vt,Tt);return Ur=null,Kt}catch(re){if(re===ki||re===mp)throw re;var Fe=Ui(29,re,null,ht.mode);return Fe.lanes=Tt,Fe.return=ht,Fe}finally{}}}var gc=G0(!0),gx=G0(!1),ga=J(null),Ci=null;function Ha(f){var p=f.alternate;nt(br,br.current&1),nt(ga,f),Ci===null&&(p===null||cc.current!==null||p.memoizedState!==null)&&(Ci=f)}function yx(f){if(f.tag===22){if(nt(br,br.current),nt(ga,f),Ci===null){var p=f.alternate;p!==null&&p.memoizedState!==null&&(Ci=f)}}else ms()}function ms(){nt(br,br.current),nt(ga,ga.current)}function Mo(f){tt(ga),Ci===f&&(Ci=null),tt(br)}var br=J(0);function ld(f){for(var p=f;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||Pi(y)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function mu(f,p,y,S){p=f.memoizedState,y=y(S,p),y=y==null?p:u({},p,y),f.memoizedState=y,f.lanes===0&&(f.updateQueue.baseState=y)}var cd={enqueueSetState:function(f,p,y){f=f._reactInternals;var S=Si(),k=el(S);k.payload=p,y!=null&&(k.callback=y),p=ps(f,k,S),p!==null&&(ba(p,f,S),Wf(p,f,S))},enqueueReplaceState:function(f,p,y){f=f._reactInternals;var S=Si(),k=el(S);k.tag=1,k.payload=p,y!=null&&(k.callback=y),p=ps(f,k,S),p!==null&&(ba(p,f,S),Wf(p,f,S))},enqueueForceUpdate:function(f,p){f=f._reactInternals;var y=Si(),S=el(y);S.tag=2,p!=null&&(S.callback=p),p=ps(f,S,y),p!==null&&(ba(p,f,y),Wf(p,f,y))}};function ud(f,p,y,S,k,L,q){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(S,L,q):p.prototype&&p.prototype.isPureReactComponent?!So(y,S)||!So(k,L):!0}function mx(f,p,y,S){f=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,S),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,S),p.state!==f&&cd.enqueueReplaceState(p,p.state,null)}function al(f,p){var y=p;if("ref"in p){y={};for(var S in p)S!=="ref"&&(y[S]=p[S])}if(f=f.defaultProps){y===p&&(y=u({},y));for(var k in f)y[k]===void 0&&(y[k]=f[k])}return y}var yc=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function Y0(f){yc(f)}function Dp(f){console.error(f)}function bx(f){yc(f)}function fd(f,p){try{var y=f.onUncaughtError;y(p.value,{componentStack:p.stack})}catch(S){setTimeout(function(){throw S})}}function To(f,p,y){try{var S=f.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function Ip(f,p,y){return y=el(y),y.tag=3,y.payload={element:null},y.callback=function(){fd(f,p)},y}function q0(f){return f=el(f),f.tag=3,f}function xx(f,p,y,S){var k=y.type.getDerivedStateFromError;if(typeof k=="function"){var L=S.value;f.payload=function(){return k(L)},f.callback=function(){To(p,y,S)}}var q=y.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(f.callback=function(){To(p,y,S),typeof k!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var Z=S.stack;this.componentDidCatch(S.value,{componentStack:Z!==null?Z:""})})}function _x(f,p,y,S,k){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(p=y.alternate,p!==null&&Gf(p,y,k,!0),y=ga.current,y!==null){switch(y.tag){case 13:return Ci===null?fy():y.alternate===null&&xr===0&&(xr=3),y.flags&=-257,y.flags|=65536,y.lanes=k,S===_0?y.flags|=16384:(p=y.updateQueue,p===null?y.updateQueue=new Set([S]):p.add(S),py(f,S,k)),!1;case 22:return y.flags|=65536,S===_0?y.flags|=16384:(p=y.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=p):(y=p.retryQueue,y===null?p.retryQueue=new Set([S]):y.add(S)),py(f,S,k)),!1}throw Error(r(435,y.tag))}return py(f,S,k),fy(),!1}if(Ke)return p=ga.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=k,S!==uu&&(f=Error(r(422),{cause:S}),Js(Mi(f,y)))):(S!==uu&&(p=Error(r(423),{cause:S}),Js(Mi(p,y))),f=f.current.alternate,f.flags|=65536,k&=-k,f.lanes|=k,S=Mi(S,y),k=Ip(f.stateNode,S,k),lo(f,k),xr!==4&&(xr=2)),!1;var L=Error(r(520),{cause:S});if(L=Mi(L,y),_d===null?_d=[L]:_d.push(L),xr!==4&&(xr=2),p===null)return!0;S=Mi(S,y),y=p;do{switch(y.tag){case 3:return y.flags|=65536,f=k&-k,y.lanes|=f,f=Ip(y.stateNode,S,f),lo(y,f),!1;case 1:if(p=y.type,L=y.stateNode,(y.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(fl===null||!fl.has(L))))return y.flags|=65536,k&=-k,y.lanes|=k,k=q0(k),xx(k,f,y,S),lo(y,k),!1}y=y.return}while(y!==null);return!1}var wx=Error(r(461)),ri=!1;function Jn(f,p,y,S){p.child=f===null?gx(p,null,y,S):gc(p,f.child,y,S)}function Bp(f,p,y,S,k){y=y.render;var L=p.ref;if("ref"in S){var q={};for(var Z in S)Z!=="ref"&&(q[Z]=S[Z])}else q=S;return oc(p),S=E0(f,p,y,q,L,k),Z=M0(),f!==null&&!ri?(fc(f,p,k),bs(f,p,k)):(Ke&&Z&&m0(p),p.flags|=1,Jn(f,p,S,k),p.child)}function $p(f,p,y,S,k){if(f===null){var L=y.type;return typeof L=="function"&&!nc(L)&&L.defaultProps===void 0&&y.compare===null?(p.tag=15,p.type=L,zp(f,p,L,S,k)):(f=hp(y.type,null,S,p,p.mode,k),f.ref=p.ref,f.return=p,p.child=f)}if(L=f.child,!fo(f,k)){var q=L.memoizedProps;if(y=y.compare,y=y!==null?y:So,y(q,S)&&f.ref===p.ref)return bs(f,p,k)}return p.flags|=1,f=Ti(L,S),f.ref=p.ref,f.return=p,p.child=f}function zp(f,p,y,S,k){if(f!==null){var L=f.memoizedProps;if(So(L,S)&&f.ref===p.ref)if(ri=!1,p.pendingProps=S=L,fo(f,k))(f.flags&131072)!==0&&(ri=!0);else return p.lanes=f.lanes,bs(f,p,k)}return bu(f,p,y,S,k)}function dd(f,p,y){var S=p.pendingProps,k=S.children,L=f!==null?f.memoizedState:null;if(S.mode==="hidden"){if((p.flags&128)!==0){if(S=L!==null?L.baseLanes|y:y,f!==null){for(k=p.child=f.child,L=0;k!==null;)L=L|k.lanes|k.childLanes,k=k.sibling;p.childLanes=L&~S}else p.childLanes=0,p.child=null;return mc(f,p,S,y)}if((y&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},f!==null&&yp(p,L!==null?L.cachePool:null),L!==null?vs(p,L):xp(),yx(p);else return p.lanes=p.childLanes=536870912,mc(f,p,L!==null?L.baseLanes|y:y,y)}else L!==null?(yp(p,L.cachePool),vs(p,L),ms(),p.memoizedState=null):(f!==null&&yp(p,null),xp(),ms());return Jn(f,p,k,y),p.child}function mc(f,p,y,S){var k=hs();return k=k===null?null:{parent:In._currentValue,pool:k},p.memoizedState={baseLanes:y,cachePool:k},f!==null&&yp(p,null),xp(),yx(p),f!==null&&Gf(f,p,S,!0),null}function oe(f,p){var y=p.ref;if(y===null)f!==null&&f.ref!==null&&(p.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(f===null||f.ref!==y)&&(p.flags|=4194816)}}function bu(f,p,y,S,k){return oc(p),y=E0(f,p,y,S,void 0,k),S=M0(),f!==null&&!ri?(fc(f,p,k),bs(f,p,k)):(Ke&&S&&m0(p),p.flags|=1,Jn(f,p,y,k),p.child)}function Fp(f,p,y,S,k,L){return oc(p),p.updateQueue=null,y=rx(p,S,y,k),nx(f),S=M0(),f!==null&&!ri?(fc(f,p,L),bs(f,p,L)):(Ke&&S&&m0(p),p.flags|=1,Jn(f,p,y,L),p.child)}function ol(f,p,y,S,k){if(oc(p),p.stateNode===null){var L=ec,q=y.contextType;typeof q=="object"&&q!==null&&(L=mr(q)),L=new y(S,L),p.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=cd,p.stateNode=L,L._reactInternals=p,L=p.stateNode,L.props=S,L.state=p.memoizedState,L.refs={},lc(p),q=y.contextType,L.context=typeof q=="object"&&q!==null?mr(q):ec,L.state=p.memoizedState,q=y.getDerivedStateFromProps,typeof q=="function"&&(mu(p,y,q,S),L.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(q=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),q!==L.state&&cd.enqueueReplaceState(L,L.state,null),_i(p,S,L,k),co(),L.state=p.memoizedState),typeof L.componentDidMount=="function"&&(p.flags|=4194308),S=!0}else if(f===null){L=p.stateNode;var Z=p.memoizedProps,it=al(y,Z);L.props=it;var gt=L.context,At=y.contextType;q=ec,typeof At=="object"&&At!==null&&(q=mr(At));var Ct=y.getDerivedStateFromProps;At=typeof Ct=="function"||typeof L.getSnapshotBeforeUpdate=="function",Z=p.pendingProps!==Z,At||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Z||gt!==q)&&mx(p,L,S,q),Eo=!1;var bt=p.memoizedState;L.state=bt,_i(p,S,L,k),co(),gt=p.memoizedState,Z||bt!==gt||Eo?(typeof Ct=="function"&&(mu(p,y,Ct,S),gt=p.memoizedState),(it=Eo||ud(p,y,it,S,bt,gt,q))?(At||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(p.flags|=4194308)):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=S,p.memoizedState=gt),L.props=S,L.state=gt,L.context=q,S=it):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),S=!1)}else{L=p.stateNode,hu(f,p),q=p.memoizedProps,At=al(y,q),L.props=At,Ct=p.pendingProps,bt=L.context,gt=y.contextType,it=ec,typeof gt=="object"&&gt!==null&&(it=mr(gt)),Z=y.getDerivedStateFromProps,(gt=typeof Z=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(q!==Ct||bt!==it)&&mx(p,L,S,it),Eo=!1,bt=p.memoizedState,L.state=bt,_i(p,S,L,k),co();var yt=p.memoizedState;q!==Ct||bt!==yt||Eo||f!==null&&f.dependencies!==null&&vp(f.dependencies)?(typeof Z=="function"&&(mu(p,y,Z,S),yt=p.memoizedState),(At=Eo||ud(p,y,At,S,bt,yt,it)||f!==null&&f.dependencies!==null&&vp(f.dependencies))?(gt||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(S,yt,it),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(S,yt,it)),typeof L.componentDidUpdate=="function"&&(p.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof L.componentDidUpdate!="function"||q===f.memoizedProps&&bt===f.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||q===f.memoizedProps&&bt===f.memoizedState||(p.flags|=1024),p.memoizedProps=S,p.memoizedState=yt),L.props=S,L.state=yt,L.context=it,S=At):(typeof L.componentDidUpdate!="function"||q===f.memoizedProps&&bt===f.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||q===f.memoizedProps&&bt===f.memoizedState||(p.flags|=1024),S=!1)}return L=S,oe(f,p),S=(p.flags&128)!==0,L||S?(L=p.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:L.render(),p.flags|=1,f!==null&&S?(p.child=gc(p,f.child,null,k),p.child=gc(p,null,y,k)):Jn(f,p,y,k),p.memoizedState=L.state,f=p.child):f=bs(f,p,k),f}function Ox(f,p,y,S){return Hf(),p.flags|=256,Jn(f,p,y,S),p.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Up(f){return{baseLanes:f,cachePool:Vb()}}function ii(f,p,y){return f=f!==null?f.childLanes&~y:0,p&&(f|=Ya),f}function Sx(f,p,y){var S=p.pendingProps,k=!1,L=(p.flags&128)!==0,q;if((q=L)||(q=f!==null&&f.memoizedState===null?!1:(br.current&2)!==0),q&&(k=!0,p.flags&=-129),q=(p.flags&32)!==0,p.flags&=-33,f===null){if(Ke){if(k?Ha(p):ms(),Ke){var Z=lr,it;if(it=Z){t:{for(it=Z,Z=Hi;it.nodeType!==8;){if(!Z){Z=null;break t}if(it=po(it.nextSibling),it===null){Z=null;break t}}Z=it}Z!==null?(p.memoizedState={dehydrated:Z,treeContext:Qn!==null?{id:sr,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},it=Ui(18,null,null,0),it.stateNode=Z,it.return=p,p.child=it,Fr=p,lr=null,it=!0):it=!1}it||za(p)}if(Z=p.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Pi(Z)?p.lanes=32:p.lanes=536870912,null;Mo(p)}return Z=S.children,S=S.fallback,k?(ms(),k=p.mode,Z=pd({mode:"hidden",children:Z},k),S=rc(S,k,y,null),Z.return=p,S.return=p,Z.sibling=S,p.child=Z,k=p.child,k.memoizedState=Up(y),k.childLanes=ii(f,q,y),p.memoizedState=hd,S):(Ha(p),W0(p,Z))}if(it=f.memoizedState,it!==null&&(Z=it.dehydrated,Z!==null)){if(L)p.flags&256?(Ha(p),p.flags&=-257,p=X0(f,p,y)):p.memoizedState!==null?(ms(),p.child=f.child,p.flags|=128,p=null):(ms(),k=S.fallback,Z=p.mode,S=pd({mode:"visible",children:S.children},Z),k=rc(k,Z,y,null),k.flags|=2,S.return=p,k.return=p,S.sibling=k,p.child=S,gc(p,f.child,null,y),S=p.child,S.memoizedState=Up(y),S.childLanes=ii(f,q,y),p.memoizedState=hd,p=k);else if(Ha(p),Pi(Z)){if(q=Z.nextSibling&&Z.nextSibling.dataset,q)var gt=q.dgst;q=gt,S=Error(r(419)),S.stack="",S.digest=q,Js({value:S,source:null,stack:null}),p=X0(f,p,y)}else if(ri||Gf(f,p,y,!1),q=(y&f.childLanes)!==0,ri||q){if(q=Wn,q!==null&&(S=y&-y,S=(S&42)!==0?1:$g(S),S=(S&(q.suspendedLanes|y))!==0?0:S,S!==0&&S!==it.retryLane))throw it.retryLane=S,tc(f,S),ba(q,f,S),wx;Z.data==="$?"||fy(),p=X0(f,p,y)}else Z.data==="$?"?(p.flags|=192,p.child=f.child,p=null):(f=it.treeContext,lr=po(Z.nextSibling),Fr=p,Ke=!0,so=null,Hi=!1,f!==null&&(Ba[$a++]=sr,Ba[$a++]=ds,Ba[$a++]=Qn,sr=f.id,ds=f.overflow,Qn=p),p=W0(p,S.children),p.flags|=4096);return p}return k?(ms(),k=S.fallback,Z=p.mode,it=f.child,gt=it.sibling,S=Ti(it,{mode:"hidden",children:S.children}),S.subtreeFlags=it.subtreeFlags&65011712,gt!==null?k=Ti(gt,k):(k=rc(k,Z,y,null),k.flags|=2),k.return=p,S.return=p,S.sibling=k,p.child=S,S=k,k=p.child,Z=f.child.memoizedState,Z===null?Z=Up(y):(it=Z.cachePool,it!==null?(gt=In._currentValue,it=it.parent!==gt?{parent:gt,pool:gt}:it):it=Vb(),Z={baseLanes:Z.baseLanes|y,cachePool:it}),k.memoizedState=Z,k.childLanes=ii(f,q,y),p.memoizedState=hd,S):(Ha(p),y=f.child,f=y.sibling,y=Ti(y,{mode:"visible",children:S.children}),y.return=p,y.sibling=null,f!==null&&(q=p.deletions,q===null?(p.deletions=[f],p.flags|=16):q.push(f)),p.child=y,p.memoizedState=null,y)}function W0(f,p){return p=pd({mode:"visible",children:p},f.mode),p.return=f,f.child=p}function pd(f,p){return f=Ui(22,f,null,p),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function X0(f,p,y){return gc(p,f.child,null,y),f=W0(p,p.pendingProps.children),f.flags|=2,p.memoizedState=null,f}function V0(f,p,y){f.lanes|=p;var S=f.alternate;S!==null&&(S.lanes|=p),Gi(f.return,p,y)}function K0(f,p,y,S,k){var L=f.memoizedState;L===null?f.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:k}:(L.isBackwards=p,L.rendering=null,L.renderingStartTime=0,L.last=S,L.tail=y,L.tailMode=k)}function Ex(f,p,y){var S=p.pendingProps,k=S.revealOrder,L=S.tail;if(Jn(f,p,S.children,y),S=br.current,(S&2)!==0)S=S&1|2,p.flags|=128;else{if(f!==null&&(f.flags&128)!==0)t:for(f=p.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&V0(f,y,p);else if(f.tag===19)V0(f,y,p);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===p)break t;for(;f.sibling===null;){if(f.return===null||f.return===p)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}S&=1}switch(nt(br,S),k){case"forwards":for(y=p.child,k=null;y!==null;)f=y.alternate,f!==null&&ld(f)===null&&(k=y),y=y.sibling;y=k,y===null?(k=p.child,p.child=null):(k=y.sibling,y.sibling=null),K0(p,!1,k,y,L);break;case"backwards":for(y=null,k=p.child,p.child=null;k!==null;){if(f=k.alternate,f!==null&&ld(f)===null){p.child=k;break}f=k.sibling,k.sibling=y,y=k,k=f}K0(p,!0,y,null,L);break;case"together":K0(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function bs(f,p,y){if(f!==null&&(p.dependencies=f.dependencies),ul|=p.lanes,(y&p.childLanes)===0)if(f!==null){if(Gf(f,p,y,!1),(y&p.childLanes)===0)return null}else return null;if(f!==null&&p.child!==f.child)throw Error(r(153));if(p.child!==null){for(f=p.child,y=Ti(f,f.pendingProps),p.child=y,y.return=p;f.sibling!==null;)f=f.sibling,y=y.sibling=Ti(f,f.pendingProps),y.return=p;y.sibling=null}return p.child}function fo(f,p){return(f.lanes&p)!==0?!0:(f=f.dependencies,!!(f!==null&&vp(f)))}function Ri(f,p,y){switch(p.tag){case 3:ct(p,p.stateNode.containerInfo),pa(p,In,f.memoizedState.cache),Hf();break;case 27:case 5:Mt(p);break;case 4:ct(p,p.stateNode.containerInfo);break;case 10:pa(p,p.type,p.memoizedProps.value);break;case 13:var S=p.memoizedState;if(S!==null)return S.dehydrated!==null?(Ha(p),p.flags|=128,null):(y&p.child.childLanes)!==0?Sx(f,p,y):(Ha(p),f=bs(f,p,y),f!==null?f.sibling:null);Ha(p);break;case 19:var k=(f.flags&128)!==0;if(S=(y&p.childLanes)!==0,S||(Gf(f,p,y,!1),S=(y&p.childLanes)!==0),k){if(S)return Ex(f,p,y);p.flags|=128}if(k=p.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),nt(br,br.current),S)break;return null;case 22:case 23:return p.lanes=0,dd(f,p,y);case 24:pa(p,In,f.memoizedState.cache)}return bs(f,p,y)}function Hp(f,p,y){if(f!==null)if(f.memoizedProps!==p.pendingProps)ri=!0;else{if(!fo(f,y)&&(p.flags&128)===0)return ri=!1,Ri(f,p,y);ri=(f.flags&131072)!==0}else ri=!1,Ke&&(p.flags&1048576)!==0&&y0(p,zf,p.index);switch(p.lanes=0,p.tag){case 16:t:{f=p.pendingProps;var S=p.elementType,k=S._init;if(S=k(S._payload),p.type=S,typeof S=="function")nc(S)?(f=al(S,f),p.tag=1,p=ol(null,p,S,f,y)):(p.tag=0,p=bu(null,p,S,f,y));else{if(S!=null){if(k=S.$$typeof,k===A){p.tag=11,p=Bp(null,p,S,f,y);break t}else if(k===C){p.tag=14,p=$p(null,p,S,f,y);break t}}throw p=U(S)||S,Error(r(306,p,""))}}return p;case 0:return bu(f,p,p.type,p.pendingProps,y);case 1:return S=p.type,k=al(S,p.pendingProps),ol(f,p,S,k,y);case 3:t:{if(ct(p,p.stateNode.containerInfo),f===null)throw Error(r(387));S=p.pendingProps;var L=p.memoizedState;k=L.element,hu(f,p),_i(p,S,null,y);var q=p.memoizedState;if(S=q.cache,pa(p,In,S),S!==L.cache&&ze(p,[In],y,!0),co(),S=q.element,L.isDehydrated)if(L={element:S,isDehydrated:!1,cache:q.cache},p.updateQueue.baseState=L,p.memoizedState=L,p.flags&256){p=Ox(f,p,S,y);break t}else if(S!==k){k=Mi(Error(r(424)),p),Js(k),p=Ox(f,p,S,y);break t}else{switch(f=p.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(lr=po(f.firstChild),Fr=p,Ke=!0,so=null,Hi=!0,y=gx(p,null,S,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Hf(),S===k){p=bs(f,p,y);break t}Jn(f,p,S,y)}p=p.child}return p;case 26:return oe(f,p),f===null?(y=_2(p.type,null,p.pendingProps,null))?p.memoizedState=y:Ke||(y=p.type,f=p.pendingProps,S=_c(ft.current).createElement(y),S[ei]=p,S[$i]=f,Yr(S,y,f),ni(S),p.stateNode=S):p.memoizedState=_2(p.type,f.memoizedProps,p.pendingProps,f.memoizedState),null;case 27:return Mt(p),f===null&&Ke&&(S=p.stateNode=m2(p.type,p.pendingProps,ft.current),Fr=p,Hi=!0,k=lr,qa(p.type)?(Oy=k,lr=po(S.firstChild)):lr=k),Jn(f,p,p.pendingProps.children,y),oe(f,p),f===null&&(p.flags|=4194304),p.child;case 5:return f===null&&Ke&&((k=S=lr)&&(S=g2(S,p.type,p.pendingProps,Hi),S!==null?(p.stateNode=S,Fr=p,lr=po(S.firstChild),Hi=!1,k=!0):k=!1),k||za(p)),Mt(p),k=p.type,L=p.pendingProps,q=f!==null?f.memoizedProps:null,S=L.children,ov(k,L)?S=null:q!==null&&ov(k,q)&&(p.flags|=32),p.memoizedState!==null&&(k=E0(f,p,A0,null,null,y),Bu._currentValue=k),oe(f,p),Jn(f,p,S,y),p.child;case 6:return f===null&&Ke&&((f=y=lr)&&(y=lv(y,p.pendingProps,Hi),y!==null?(p.stateNode=y,Fr=p,lr=null,f=!0):f=!1),f||za(p)),null;case 13:return Sx(f,p,y);case 4:return ct(p,p.stateNode.containerInfo),S=p.pendingProps,f===null?p.child=gc(p,null,S,y):Jn(f,p,S,y),p.child;case 11:return Bp(f,p,p.type,p.pendingProps,y);case 7:return Jn(f,p,p.pendingProps,y),p.child;case 8:return Jn(f,p,p.pendingProps.children,y),p.child;case 12:return Jn(f,p,p.pendingProps.children,y),p.child;case 10:return S=p.pendingProps,pa(p,p.type,S.value),Jn(f,p,S.children,y),p.child;case 9:return k=p.type._context,S=p.pendingProps.children,oc(p),k=mr(k),S=S(k),p.flags|=1,Jn(f,p,S,y),p.child;case 14:return $p(f,p,p.type,p.pendingProps,y);case 15:return zp(f,p,p.type,p.pendingProps,y);case 19:return Ex(f,p,y);case 31:return S=p.pendingProps,y=p.mode,S={mode:S.mode,children:S.children},f===null?(y=pd(S,y),y.ref=p.ref,p.child=y,y.return=p,p=y):(y=Ti(f.child,S),y.ref=p.ref,p.child=y,y.return=p,p=y),p;case 22:return dd(f,p,y);case 24:return oc(p),S=mr(In),f===null?(k=hs(),k===null&&(k=Wn,L=b0(),k.pooledCache=L,L.refCount++,L!==null&&(k.pooledCacheLanes|=y),k=L),p.memoizedState={parent:S,cache:k},lc(p),pa(p,In,k)):((f.lanes&y)!==0&&(hu(f,p),_i(p,null,null,y),co()),k=f.memoizedState,L=p.memoizedState,k.parent!==S?(k={parent:S,cache:S},p.memoizedState=k,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=k),pa(p,In,S)):(S=L.cache,pa(p,In,S),S!==k.cache&&ze(p,[In],y,!0))),Jn(f,p,p.pendingProps.children,y),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function xs(f){f.flags|=4}function Gp(f,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!qr(p)){if(p=ga.current,p!==null&&((nn&4194048)===nn?Ci!==null:(nn&62914560)!==nn&&(nn&536870912)===0||p!==Ci))throw du=_0,Kb;f.flags|=8192}}function Yp(f,p){p!==null&&(f.flags|=4),f.flags&16384&&(p=f.tag!==22?ub():536870912,f.lanes|=p,Au|=p)}function vd(f,p){if(!Ke)switch(f.tailMode){case"hidden":p=f.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?f.tail=null:y.sibling=null;break;case"collapsed":y=f.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?p||f.tail===null?f.tail=null:f.tail.sibling=null:S.sibling=null}}function Bn(f){var p=f.alternate!==null&&f.alternate.child===f.child,y=0,S=0;if(p)for(var k=f.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags&65011712,S|=k.flags&65011712,k.return=f,k=k.sibling;else for(k=f.child;k!==null;)y|=k.lanes|k.childLanes,S|=k.subtreeFlags,S|=k.flags,k.return=f,k=k.sibling;return f.subtreeFlags|=S,f.childLanes=y,p}function Ax(f,p,y){var S=p.pendingProps;switch(Ff(p),p.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(p),null;case 1:return Bn(p),null;case 3:return y=p.stateNode,S=null,f!==null&&(S=f.memoizedState.cache),p.memoizedState.cache!==S&&(p.flags|=2048),Fa(In),St(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(f===null||f.child===null)&&(Uf(p)?xs(p):f===null||f.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Yb())),Bn(p),null;case 26:return y=p.memoizedState,f===null?(xs(p),y!==null?(Bn(p),Gp(p,y)):(Bn(p),p.flags&=-16777217)):y?y!==f.memoizedState?(xs(p),Bn(p),Gp(p,y)):(Bn(p),p.flags&=-16777217):(f.memoizedProps!==S&&xs(p),Bn(p),p.flags&=-16777217),null;case 27:It(p),y=ft.current;var k=p.type;if(f!==null&&p.stateNode!=null)f.memoizedProps!==S&&xs(p);else{if(!S){if(p.stateNode===null)throw Error(r(166));return Bn(p),null}f=lt.current,Uf(p)?Hb(p):(f=m2(k,S,y),p.stateNode=f,xs(p))}return Bn(p),null;case 5:if(It(p),y=p.type,f!==null&&p.stateNode!=null)f.memoizedProps!==S&&xs(p);else{if(!S){if(p.stateNode===null)throw Error(r(166));return Bn(p),null}if(f=lt.current,Uf(p))Hb(p);else{switch(k=_c(ft.current),f){case 1:f=k.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:f=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":f=k.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":f=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":f=k.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof S.is=="string"?k.createElement("select",{is:S.is}):k.createElement("select"),S.multiple?f.multiple=!0:S.size&&(f.size=S.size);break;default:f=typeof S.is=="string"?k.createElement(y,{is:S.is}):k.createElement(y)}}f[ei]=p,f[$i]=S;t:for(k=p.child;k!==null;){if(k.tag===5||k.tag===6)f.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===p)break t;for(;k.sibling===null;){if(k.return===null||k.return===p)break t;k=k.return}k.sibling.return=k.return,k=k.sibling}p.stateNode=f;t:switch(Yr(f,y,S),y){case"button":case"input":case"select":case"textarea":f=!!S.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&xs(p)}}return Bn(p),p.flags&=-16777217,null;case 6:if(f&&p.stateNode!=null)f.memoizedProps!==S&&xs(p);else{if(typeof S!="string"&&p.stateNode===null)throw Error(r(166));if(f=ft.current,Uf(p)){if(f=p.stateNode,y=p.memoizedProps,S=null,k=Fr,k!==null)switch(k.tag){case 27:case 5:S=k.memoizedProps}f[ei]=p,f=!!(f.nodeValue===y||S!==null&&S.suppressHydrationWarning===!0||d2(f.nodeValue,y)),f||za(p)}else f=_c(f).createTextNode(S),f[ei]=p,p.stateNode=f}return Bn(p),null;case 13:if(S=p.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(k=Uf(p),S!==null&&S.dehydrated!==null){if(f===null){if(!k)throw Error(r(318));if(k=p.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[ei]=p}else Hf(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Bn(p),k=!1}else k=Yb(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=k),k=!0;if(!k)return p.flags&256?(Mo(p),p):(Mo(p),null)}if(Mo(p),(p.flags&128)!==0)return p.lanes=y,p;if(y=S!==null,f=f!==null&&f.memoizedState!==null,y){S=p.child,k=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(k=S.alternate.memoizedState.cachePool.pool);var L=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),L!==k&&(S.flags|=2048)}return y!==f&&y&&(p.child.flags|=8192),Yp(p,p.updateQueue),Bn(p),null;case 4:return St(),f===null&&by(p.stateNode.containerInfo),Bn(p),null;case 10:return Fa(p.type),Bn(p),null;case 19:if(tt(br),k=p.memoizedState,k===null)return Bn(p),null;if(S=(p.flags&128)!==0,L=k.rendering,L===null)if(S)vd(k,!1);else{if(xr!==0||f!==null&&(f.flags&128)!==0)for(f=p.child;f!==null;){if(L=ld(f),L!==null){for(p.flags|=128,vd(k,!1),f=L.updateQueue,p.updateQueue=f,Yp(p,f),p.subtreeFlags=0,f=y,y=p.child;y!==null;)$f(y,f),y=y.sibling;return nt(br,br.current&1|2),p.child}f=f.sibling}k.tail!==null&&Gt()>Mu&&(p.flags|=128,S=!0,vd(k,!1),p.lanes=4194304)}else{if(!S)if(f=ld(L),f!==null){if(p.flags|=128,S=!0,f=f.updateQueue,p.updateQueue=f,Yp(p,f),vd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!L.alternate&&!Ke)return Bn(p),null}else 2*Gt()-k.renderingStartTime>Mu&&y!==536870912&&(p.flags|=128,S=!0,vd(k,!1),p.lanes=4194304);k.isBackwards?(L.sibling=p.child,p.child=L):(f=k.last,f!==null?f.sibling=L:p.child=L,k.last=L)}return k.tail!==null?(p=k.tail,k.rendering=p,k.tail=p.sibling,k.renderingStartTime=Gt(),p.sibling=null,f=br.current,nt(br,S?f&1|2:f&1),p):(Bn(p),null);case 22:case 23:return Mo(p),S0(),S=p.memoizedState!==null,f!==null?f.memoizedState!==null!==S&&(p.flags|=8192):S&&(p.flags|=8192),S?(y&536870912)!==0&&(p.flags&128)===0&&(Bn(p),p.subtreeFlags&6&&(p.flags|=8192)):Bn(p),y=p.updateQueue,y!==null&&Yp(p,y.retryQueue),y=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),S=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==y&&(p.flags|=2048),f!==null&&tt(sc),null;case 24:return y=null,f!==null&&(y=f.memoizedState.cache),p.memoizedState.cache!==y&&(p.flags|=2048),Fa(In),Bn(p),null;case 25:return null;case 30:return null}throw Error(r(156,p.tag))}function Mx(f,p){switch(Ff(p),p.tag){case 1:return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 3:return Fa(In),St(),f=p.flags,(f&65536)!==0&&(f&128)===0?(p.flags=f&-65537|128,p):null;case 26:case 27:case 5:return It(p),null;case 13:if(Mo(p),f=p.memoizedState,f!==null&&f.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Hf()}return f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 19:return tt(br),null;case 4:return St(),null;case 10:return Fa(p.type),null;case 22:case 23:return Mo(p),S0(),f!==null&&tt(sc),f=p.flags,f&65536?(p.flags=f&-65537|128,p):null;case 24:return Fa(In),null;case 25:return null;default:return null}}function Tx(f,p){switch(Ff(p),p.tag){case 3:Fa(In),St();break;case 26:case 27:case 5:It(p);break;case 4:St();break;case 13:Mo(p);break;case 19:tt(br);break;case 10:Fa(p.type);break;case 22:case 23:Mo(p),S0(),f!==null&&tt(sc);break;case 24:Fa(In)}}function gd(f,p){try{var y=p.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var k=S.next;y=k;do{if((y.tag&f)===f){S=void 0;var L=y.create,q=y.inst;S=L(),q.destroy=S}y=y.next}while(y!==k)}}catch(Z){$n(p,p.return,Z)}}function sl(f,p,y){try{var S=p.updateQueue,k=S!==null?S.lastEffect:null;if(k!==null){var L=k.next;S=L;do{if((S.tag&f)===f){var q=S.inst,Z=q.destroy;if(Z!==void 0){q.destroy=void 0,k=p;var it=y,gt=Z;try{gt()}catch(At){$n(k,it,At)}}}S=S.next}while(S!==L)}}catch(At){$n(p,p.return,At)}}function kx(f){var p=f.updateQueue;if(p!==null){var y=f.stateNode;try{O0(p,y)}catch(S){$n(f,f.return,S)}}}function Z0(f,p,y){y.props=al(f.type,f.memoizedProps),y.state=f.memoizedState;try{y.componentWillUnmount()}catch(S){$n(f,p,S)}}function xu(f,p){try{var y=f.ref;if(y!==null){switch(f.tag){case 26:case 27:case 5:var S=f.stateNode;break;case 30:S=f.stateNode;break;default:S=f.stateNode}typeof y=="function"?f.refCleanup=y(S):y.current=S}}catch(k){$n(f,p,k)}}function ko(f,p){var y=f.ref,S=f.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(k){$n(f,p,k)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(k){$n(f,p,k)}else y.current=null}function qp(f){var p=f.type,y=f.memoizedProps,S=f.stateNode;try{t:switch(p){case"button":case"input":case"select":case"textarea":y.autoFocus&&S.focus();break t;case"img":y.src?S.src=y.src:y.srcSet&&(S.srcset=y.srcSet)}}catch(k){$n(f,f.return,k)}}function Wp(f,p,y){try{var S=f.stateNode;CE(S,f.type,y,p),S[$i]=p}catch(k){$n(f,f.return,k)}}function _u(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&qa(f.type)||f.tag===4}function yd(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||_u(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&qa(f.type)||f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Xp(f,p,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,p?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(f,p):(p=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,p.appendChild(f),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=iv));else if(S!==4&&(S===27&&qa(f.type)&&(y=f.stateNode,p=null),f=f.child,f!==null))for(Xp(f,p,y),f=f.sibling;f!==null;)Xp(f,p,y),f=f.sibling}function md(f,p,y){var S=f.tag;if(S===5||S===6)f=f.stateNode,p?y.insertBefore(f,p):y.appendChild(f);else if(S!==4&&(S===27&&qa(f.type)&&(y=f.stateNode),f=f.child,f!==null))for(md(f,p,y),f=f.sibling;f!==null;)md(f,p,y),f=f.sibling}function bd(f){var p=f.stateNode,y=f.memoizedProps;try{for(var S=f.type,k=p.attributes;k.length;)p.removeAttributeNode(k[0]);Yr(p,S,y),p[ei]=f,p[$i]=y}catch(L){$n(f,f.return,L)}}var Co=!1,mn=!1,_s=!1,Cx=typeof WeakSet=="function"?WeakSet:Set,Hr=null;function gE(f,p){if(f=f.containerInfo,ho=dv,f=Fb(f),h0(f)){if("selectionStart"in f)var y={start:f.selectionStart,end:f.selectionEnd};else t:{y=(y=f.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var k=S.anchorOffset,L=S.focusNode;S=S.focusOffset;try{y.nodeType,L.nodeType}catch{y=null;break t}var q=0,Z=-1,it=-1,gt=0,At=0,Ct=f,bt=null;e:for(;;){for(var yt;Ct!==y||k!==0&&Ct.nodeType!==3||(Z=q+k),Ct!==L||S!==0&&Ct.nodeType!==3||(it=q+S),Ct.nodeType===3&&(q+=Ct.nodeValue.length),(yt=Ct.firstChild)!==null;)bt=Ct,Ct=yt;for(;;){if(Ct===f)break e;if(bt===y&&++gt===k&&(Z=q),bt===L&&++At===S&&(it=q),(yt=Ct.nextSibling)!==null)break;Ct=bt,bt=Ct.parentNode}Ct=yt}y=Z===-1||it===-1?null:{start:Z,end:it}}else y=null}y=y||{start:0,end:0}}else y=null;for(av={focusedElem:f,selectionRange:y},dv=!1,Hr=p;Hr!==null;)if(p=Hr,f=p.child,(p.subtreeFlags&1024)!==0&&f!==null)f.return=p,Hr=f;else for(;Hr!==null;){switch(p=Hr,L=p.alternate,f=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&L!==null){f=void 0,y=p,k=L.memoizedProps,L=L.memoizedState,S=y.stateNode;try{var fe=al(y.type,k,y.elementType===y.type);f=S.getSnapshotBeforeUpdate(fe,L),S.__reactInternalSnapshotBeforeUpdate=f}catch(ce){$n(y,y.return,ce)}}break;case 3:if((f&1024)!==0){if(f=p.stateNode.containerInfo,y=f.nodeType,y===9)wy(f);else if(y===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":wy(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=p.sibling,f!==null){f.return=p.return,Hr=f;break}Hr=p.return}}function Rx(f,p,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:ll(f,y),S&4&&gd(5,y);break;case 1:if(ll(f,y),S&4)if(f=y.stateNode,p===null)try{f.componentDidMount()}catch(q){$n(y,y.return,q)}else{var k=al(y.type,p.memoizedProps);p=p.memoizedState;try{f.componentDidUpdate(k,p,f.__reactInternalSnapshotBeforeUpdate)}catch(q){$n(y,y.return,q)}}S&64&&kx(y),S&512&&xu(y,y.return);break;case 3:if(ll(f,y),S&64&&(f=y.updateQueue,f!==null)){if(p=null,y.child!==null)switch(y.child.tag){case 27:case 5:p=y.child.stateNode;break;case 1:p=y.child.stateNode}try{O0(f,p)}catch(q){$n(y,y.return,q)}}break;case 27:p===null&&S&4&&bd(y);case 26:case 5:ll(f,y),p===null&&S&4&&qp(y),S&512&&xu(y,y.return);break;case 12:ll(f,y);break;case 13:ll(f,y),S&4&&Lx(f,y),S&64&&(f=y.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(y=Jp.bind(null,y),ju(f,y))));break;case 22:if(S=y.memoizedState!==null||Co,!S){p=p!==null&&p.memoizedState!==null||mn,k=Co;var L=mn;Co=S,(mn=p)&&!L?Os(f,y,(y.subtreeFlags&8772)!==0):ll(f,y),Co=k,mn=L}break;case 30:break;default:ll(f,y)}}function Px(f){var p=f.alternate;p!==null&&(f.alternate=null,Px(p)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(p=f.stateNode,p!==null&&Fg(p)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var cr=null,Vi=!1;function ws(f,p,y){for(y=y.child;y!==null;)jx(f,p,y),y=y.sibling}function jx(f,p,y){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Pe,y)}catch{}switch(y.tag){case 26:mn||ko(y,p),ws(f,p,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:mn||ko(y,p);var S=cr,k=Vi;qa(y.type)&&(cr=y.stateNode,Vi=!1),ws(f,p,y),Cd(y.stateNode),cr=S,Vi=k;break;case 5:mn||ko(y,p);case 6:if(S=cr,k=Vi,cr=null,ws(f,p,y),cr=S,Vi=k,cr!==null)if(Vi)try{(cr.nodeType===9?cr.body:cr.nodeName==="HTML"?cr.ownerDocument.body:cr).removeChild(y.stateNode)}catch(L){$n(y,p,L)}else try{cr.removeChild(y.stateNode)}catch(L){$n(y,p,L)}break;case 18:cr!==null&&(Vi?(f=cr,sv(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,y.stateNode),Bd(f)):sv(cr,y.stateNode));break;case 4:S=cr,k=Vi,cr=y.stateNode.containerInfo,Vi=!0,ws(f,p,y),cr=S,Vi=k;break;case 0:case 11:case 14:case 15:mn||sl(2,y,p),mn||sl(4,y,p),ws(f,p,y);break;case 1:mn||(ko(y,p),S=y.stateNode,typeof S.componentWillUnmount=="function"&&Z0(y,p,S)),ws(f,p,y);break;case 21:ws(f,p,y);break;case 22:mn=(S=mn)||y.memoizedState!==null,ws(f,p,y),mn=S;break;default:ws(f,p,y)}}function Lx(f,p){if(p.memoizedState===null&&(f=p.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Bd(f)}catch(y){$n(p,p.return,y)}}function yE(f){switch(f.tag){case 13:case 19:var p=f.stateNode;return p===null&&(p=f.stateNode=new Cx),p;case 22:return f=f.stateNode,p=f._retryCache,p===null&&(p=f._retryCache=new Cx),p;default:throw Error(r(435,f.tag))}}function Q0(f,p){var y=yE(f);p.forEach(function(S){var k=OE.bind(null,f,S);y.has(S)||(y.add(S),S.then(k,k))})}function ya(f,p){var y=p.deletions;if(y!==null)for(var S=0;S<y.length;S++){var k=y[S],L=f,q=p,Z=q;t:for(;Z!==null;){switch(Z.tag){case 27:if(qa(Z.type)){cr=Z.stateNode,Vi=!1;break t}break;case 5:cr=Z.stateNode,Vi=!1;break t;case 3:case 4:cr=Z.stateNode.containerInfo,Vi=!0;break t}Z=Z.return}if(cr===null)throw Error(r(160));jx(L,q,k),cr=null,Vi=!1,L=k.alternate,L!==null&&(L.return=null),k.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)J0(p,f),p=p.sibling}var Ga=null;function J0(f,p){var y=f.alternate,S=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:ya(p,f),Ki(f),S&4&&(sl(3,f,f.return),gd(3,f),sl(5,f,f.return));break;case 1:ya(p,f),Ki(f),S&512&&(mn||y===null||ko(y,y.return)),S&64&&Co&&(f=f.updateQueue,f!==null&&(S=f.callbacks,S!==null&&(y=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:var k=Ga;if(ya(p,f),Ki(f),S&512&&(mn||y===null||ko(y,y.return)),S&4){var L=y!==null?y.memoizedState:null;if(S=f.memoizedState,y===null)if(S===null)if(f.stateNode===null){t:{S=f.type,y=f.memoizedProps,k=k.ownerDocument||k;e:switch(S){case"title":L=k.getElementsByTagName("title")[0],(!L||L[Mf]||L[ei]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=k.createElement(S),k.head.insertBefore(L,k.querySelector("head > title"))),Yr(L,S,y),L[ei]=f,ni(L),S=L;break t;case"link":var q=S2("link","href",k).get(S+(y.href||""));if(q){for(var Z=0;Z<q.length;Z++)if(L=q[Z],L.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&L.getAttribute("rel")===(y.rel==null?null:y.rel)&&L.getAttribute("title")===(y.title==null?null:y.title)&&L.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){q.splice(Z,1);break e}}L=k.createElement(S),Yr(L,S,y),k.head.appendChild(L);break;case"meta":if(q=S2("meta","content",k).get(S+(y.content||""))){for(Z=0;Z<q.length;Z++)if(L=q[Z],L.getAttribute("content")===(y.content==null?null:""+y.content)&&L.getAttribute("name")===(y.name==null?null:y.name)&&L.getAttribute("property")===(y.property==null?null:y.property)&&L.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&L.getAttribute("charset")===(y.charSet==null?null:y.charSet)){q.splice(Z,1);break e}}L=k.createElement(S),Yr(L,S,y),k.head.appendChild(L);break;default:throw Error(r(468,S))}L[ei]=f,ni(L),S=L}f.stateNode=S}else E2(k,f.type,f.stateNode);else f.stateNode=O2(k,S,f.memoizedProps);else L!==S?(L===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):L.count--,S===null?E2(k,f.type,f.stateNode):O2(k,S,f.memoizedProps)):S===null&&f.stateNode!==null&&Wp(f,f.memoizedProps,y.memoizedProps)}break;case 27:ya(p,f),Ki(f),S&512&&(mn||y===null||ko(y,y.return)),y!==null&&S&4&&Wp(f,f.memoizedProps,y.memoizedProps);break;case 5:if(ya(p,f),Ki(f),S&512&&(mn||y===null||ko(y,y.return)),f.flags&32){k=f.stateNode;try{Ys(k,"")}catch(yt){$n(f,f.return,yt)}}S&4&&f.stateNode!=null&&(k=f.memoizedProps,Wp(f,k,y!==null?y.memoizedProps:k)),S&1024&&(_s=!0);break;case 6:if(ya(p,f),Ki(f),S&4){if(f.stateNode===null)throw Error(r(162));S=f.memoizedProps,y=f.stateNode;try{y.nodeValue=S}catch(yt){$n(f,f.return,yt)}}break;case 3:if(Iu=null,k=Ga,Ga=xe(p.containerInfo),ya(p,f),Ga=k,Ki(f),S&4&&y!==null&&y.memoizedState.isDehydrated)try{Bd(p.containerInfo)}catch(yt){$n(f,f.return,yt)}_s&&(_s=!1,Nx(f));break;case 4:S=Ga,Ga=xe(f.stateNode.containerInfo),ya(p,f),Ki(f),Ga=S;break;case 12:ya(p,f),Ki(f);break;case 13:ya(p,f),Ki(f),f.child.flags&8192&&f.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(oy=Gt()),S&4&&(S=f.updateQueue,S!==null&&(f.updateQueue=null,Q0(f,S)));break;case 22:k=f.memoizedState!==null;var it=y!==null&&y.memoizedState!==null,gt=Co,At=mn;if(Co=gt||k,mn=At||it,ya(p,f),mn=At,Co=gt,Ki(f),S&8192)t:for(p=f.stateNode,p._visibility=k?p._visibility&-2:p._visibility|1,k&&(y===null||it||Co||mn||bc(f)),y=null,p=f;;){if(p.tag===5||p.tag===26){if(y===null){it=y=p;try{if(L=it.stateNode,k)q=L.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{Z=it.stateNode;var Ct=it.memoizedProps.style,bt=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null;Z.style.display=bt==null||typeof bt=="boolean"?"":(""+bt).trim()}}catch(yt){$n(it,it.return,yt)}}}else if(p.tag===6){if(y===null){it=p;try{it.stateNode.nodeValue=k?"":it.memoizedProps}catch(yt){$n(it,it.return,yt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===f)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===f)break t;for(;p.sibling===null;){if(p.return===null||p.return===f)break t;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}S&4&&(S=f.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,Q0(f,y))));break;case 19:ya(p,f),Ki(f),S&4&&(S=f.updateQueue,S!==null&&(f.updateQueue=null,Q0(f,S)));break;case 30:break;case 21:break;default:ya(p,f),Ki(f)}}function Ki(f){var p=f.flags;if(p&2){try{for(var y,S=f.return;S!==null;){if(_u(S)){y=S;break}S=S.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var k=y.stateNode,L=yd(f);md(f,L,k);break;case 5:var q=y.stateNode;y.flags&32&&(Ys(q,""),y.flags&=-33);var Z=yd(f);md(f,Z,q);break;case 3:case 4:var it=y.stateNode.containerInfo,gt=yd(f);Xp(f,gt,it);break;default:throw Error(r(161))}}catch(At){$n(f,f.return,At)}f.flags&=-3}p&4096&&(f.flags&=-4097)}function Nx(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var p=f;Nx(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),f=f.sibling}}function ll(f,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Rx(f,p.alternate,p),p=p.sibling}function bc(f){for(f=f.child;f!==null;){var p=f;switch(p.tag){case 0:case 11:case 14:case 15:sl(4,p,p.return),bc(p);break;case 1:ko(p,p.return);var y=p.stateNode;typeof y.componentWillUnmount=="function"&&Z0(p,p.return,y),bc(p);break;case 27:Cd(p.stateNode);case 26:case 5:ko(p,p.return),bc(p);break;case 22:p.memoizedState===null&&bc(p);break;case 30:bc(p);break;default:bc(p)}f=f.sibling}}function Os(f,p,y){for(y=y&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var S=p.alternate,k=f,L=p,q=L.flags;switch(L.tag){case 0:case 11:case 15:Os(k,L,y),gd(4,L);break;case 1:if(Os(k,L,y),S=L,k=S.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(gt){$n(S,S.return,gt)}if(S=L,k=S.updateQueue,k!==null){var Z=S.stateNode;try{var it=k.shared.hiddenCallbacks;if(it!==null)for(k.shared.hiddenCallbacks=null,k=0;k<it.length;k++)tx(it[k],Z)}catch(gt){$n(S,S.return,gt)}}y&&q&64&&kx(L),xu(L,L.return);break;case 27:bd(L);case 26:case 5:Os(k,L,y),y&&S===null&&q&4&&qp(L),xu(L,L.return);break;case 12:Os(k,L,y);break;case 13:Os(k,L,y),y&&q&4&&Lx(k,L);break;case 22:L.memoizedState===null&&Os(k,L,y),xu(L,L.return);break;case 30:break;default:Os(k,L,y)}p=p.sibling}}function ty(f,p){var y=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),f=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(f=p.memoizedState.cachePool.pool),f!==y&&(f!=null&&f.refCount++,y!=null&&Yf(y))}function ey(f,p){f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Yf(f))}function Ro(f,p,y,S){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Dx(f,p,y,S),p=p.sibling}function Dx(f,p,y,S){var k=p.flags;switch(p.tag){case 0:case 11:case 15:Ro(f,p,y,S),k&2048&&gd(9,p);break;case 1:Ro(f,p,y,S);break;case 3:Ro(f,p,y,S),k&2048&&(f=null,p.alternate!==null&&(f=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==f&&(p.refCount++,f!=null&&Yf(f)));break;case 12:if(k&2048){Ro(f,p,y,S),f=p.stateNode;try{var L=p.memoizedProps,q=L.id,Z=L.onPostCommit;typeof Z=="function"&&Z(q,p.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(it){$n(p,p.return,it)}}else Ro(f,p,y,S);break;case 13:Ro(f,p,y,S);break;case 23:break;case 22:L=p.stateNode,q=p.alternate,p.memoizedState!==null?L._visibility&2?Ro(f,p,y,S):xd(f,p):L._visibility&2?Ro(f,p,y,S):(L._visibility|=2,wu(f,p,y,S,(p.subtreeFlags&10256)!==0)),k&2048&&ty(q,p);break;case 24:Ro(f,p,y,S),k&2048&&ey(p.alternate,p);break;default:Ro(f,p,y,S)}}function wu(f,p,y,S,k){for(k=k&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var L=f,q=p,Z=y,it=S,gt=q.flags;switch(q.tag){case 0:case 11:case 15:wu(L,q,Z,it,k),gd(8,q);break;case 23:break;case 22:var At=q.stateNode;q.memoizedState!==null?At._visibility&2?wu(L,q,Z,it,k):xd(L,q):(At._visibility|=2,wu(L,q,Z,it,k)),k&&gt&2048&&ty(q.alternate,q);break;case 24:wu(L,q,Z,it,k),k&&gt&2048&&ey(q.alternate,q);break;default:wu(L,q,Z,it,k)}p=p.sibling}}function xd(f,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var y=f,S=p,k=S.flags;switch(S.tag){case 22:xd(y,S),k&2048&&ty(S.alternate,S);break;case 24:xd(y,S),k&2048&&ey(S.alternate,S);break;default:xd(y,S)}p=p.sibling}}var Oi=8192;function Ou(f){if(f.subtreeFlags&Oi)for(f=f.child;f!==null;)Ix(f),f=f.sibling}function Ix(f){switch(f.tag){case 26:Ou(f),f.flags&Oi&&f.memoizedState!==null&&UE(Ga,f.memoizedState,f.memoizedProps);break;case 5:Ou(f);break;case 3:case 4:var p=Ga;Ga=xe(f.stateNode.containerInfo),Ou(f),Ga=p;break;case 22:f.memoizedState===null&&(p=f.alternate,p!==null&&p.memoizedState!==null?(p=Oi,Oi=16777216,Ou(f),Oi=p):Ou(f));break;default:Ou(f)}}function Bx(f){var p=f.alternate;if(p!==null&&(f=p.child,f!==null)){p.child=null;do p=f.sibling,f.sibling=null,f=p;while(f!==null)}}function Su(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var S=p[y];Hr=S,zx(S,f)}Bx(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)$x(f),f=f.sibling}function $x(f){switch(f.tag){case 0:case 11:case 15:Su(f),f.flags&2048&&sl(9,f,f.return);break;case 3:Su(f);break;case 12:Su(f);break;case 22:var p=f.stateNode;f.memoizedState!==null&&p._visibility&2&&(f.return===null||f.return.tag!==13)?(p._visibility&=-3,Vp(f)):Su(f);break;default:Su(f)}}function Vp(f){var p=f.deletions;if((f.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var S=p[y];Hr=S,zx(S,f)}Bx(f)}for(f=f.child;f!==null;){switch(p=f,p.tag){case 0:case 11:case 15:sl(8,p,p.return),Vp(p);break;case 22:y=p.stateNode,y._visibility&2&&(y._visibility&=-3,Vp(p));break;default:Vp(p)}f=f.sibling}}function zx(f,p){for(;Hr!==null;){var y=Hr;switch(y.tag){case 0:case 11:case 15:sl(8,y,p);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Yf(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,Hr=S;else t:for(y=f;Hr!==null;){S=Hr;var k=S.sibling,L=S.return;if(Px(S),S===y){Hr=null;break t}if(k!==null){k.return=L,Hr=k;break t}Hr=L}}}var mE={getCacheForType:function(f){var p=mr(In),y=p.data.get(f);return y===void 0&&(y=f(),p.data.set(f,y)),y}},ny=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Wn=null,qe=null,nn=0,En=0,ma=null,cl=!1,Eu=!1,ry=!1,Ss=0,xr=0,ul=0,xc=0,iy=0,Ya=0,Au=0,_d=null,Zi=null,ay=!1,oy=0,Mu=1/0,wd=null,fl=null,gi=0,dl=null,Tu=null,ku=0,sy=0,ly=null,Fx=null,Cu=0,cy=null;function Si(){if((Sn&2)!==0&&nn!==0)return nn&-nn;if(F.T!==null){var f=fu;return f!==0?f:nv()}return hb()}function Ux(){Ya===0&&(Ya=(nn&536870912)===0||Ke?cb():536870912);var f=ga.current;return f!==null&&(f.flags|=32),Ya}function ba(f,p,y){(f===Wn&&(En===2||En===9)||f.cancelPendingCommit!==null)&&(Ru(f,0),hl(f,nn,Ya,!1)),Uc(f,y),((Sn&2)===0||f!==Wn)&&(f===Wn&&((Sn&2)===0&&(xc|=y),xr===4&&hl(f,nn,Ya,!1)),Po(f))}function Hx(f,p,y){if((Sn&6)!==0)throw Error(r(327));var S=!y&&(p&124)===0&&(p&f.expiredLanes)===0||ls(f,p),k=S?_E(f,p):dy(f,p,!0),L=S;do{if(k===0){Eu&&!S&&hl(f,p,0,!1);break}else{if(y=f.current.alternate,L&&!bE(y)){k=dy(f,p,!1),L=!1;continue}if(k===2){if(L=p,f.errorRecoveryDisabledLanes&L)var q=0;else q=f.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){p=q;t:{var Z=f;k=_d;var it=Z.current.memoizedState.isDehydrated;if(it&&(Ru(Z,q).flags|=256),q=dy(Z,q,!1),q!==2){if(ry&&!it){Z.errorRecoveryDisabledLanes|=L,xc|=L,k=4;break t}L=Zi,Zi=k,L!==null&&(Zi===null?Zi=L:Zi.push.apply(Zi,L))}k=q}if(L=!1,k!==2)continue}}if(k===1){Ru(f,0),hl(f,p,0,!0);break}t:{switch(S=f,L=k,L){case 0:case 1:throw Error(r(345));case 4:if((p&4194048)!==p)break;case 6:hl(S,p,Ya,!cl);break t;case 2:Zi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((p&62914560)===p&&(k=oy+300-Gt(),10<k)){if(hl(S,p,Ya,!cl),ss(S,0,!0)!==0)break t;S.timeoutHandle=h2(Gx.bind(null,S,y,Zi,wd,ay,p,Ya,xc,Au,cl,L,2,-0,0),k);break t}Gx(S,y,Zi,wd,ay,p,Ya,xc,Au,cl,L,0,-0,0)}}break}while(!0);Po(f)}function Gx(f,p,y,S,k,L,q,Z,it,gt,At,Ct,bt,yt){if(f.timeoutHandle=-1,Ct=p.subtreeFlags,(Ct&8192||(Ct&16785408)===16785408)&&(ai={stylesheets:null,count:0,unsuspend:FE},Ix(p),Ct=HE(),Ct!==null)){f.cancelPendingCommit=Ct(Od.bind(null,f,p,L,y,S,k,q,Z,it,At,1,bt,yt)),hl(f,L,q,!gt);return}Od(f,p,L,y,S,k,q,Z,it)}function bE(f){for(var p=f;;){var y=p.tag;if((y===0||y===11||y===15)&&p.flags&16384&&(y=p.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var k=y[S],L=k.getSnapshot;k=k.value;try{if(!da(L(),k))return!1}catch{return!1}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===f)break;for(;p.sibling===null;){if(p.return===null||p.return===f)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function hl(f,p,y,S){p&=~iy,p&=~xc,f.suspendedLanes|=p,f.pingedLanes&=~p,S&&(f.warmLanes|=p),S=f.expirationTimes;for(var k=p;0<k;){var L=31-Ee(k),q=1<<L;S[L]=-1,k&=~q}y!==0&&fb(f,y,p)}function Kp(){return(Sn&6)===0?(Ad(0),!1):!0}function uy(){if(qe!==null){if(En===0)var f=qe.return;else f=qe,K=tl=null,_p(f),Ur=null,Xi=0,f=qe;for(;f!==null;)Tx(f.alternate,f),f=f.return;qe=null}}function Ru(f,p){var y=f.timeoutHandle;y!==-1&&(f.timeoutHandle=-1,PE(y)),y=f.cancelPendingCommit,y!==null&&(f.cancelPendingCommit=null,y()),uy(),Wn=f,qe=y=Ti(f.current,null),nn=p,En=0,ma=null,cl=!1,Eu=ls(f,p),ry=!1,Au=Ya=iy=xc=ul=xr=0,Zi=_d=null,ay=!1,(p&8)!==0&&(p|=p&32);var S=f.entangledLanes;if(S!==0)for(f=f.entanglements,S&=p;0<S;){var k=31-Ee(S),L=1<<k;p|=f[k],S&=~L}return Ss=p,Jl(),y}function Yx(f,p){Ie=null,F.H=od,p===ki||p===mp?(p=Qb(),En=3):p===Kb?(p=Qb(),En=4):En=p===wx?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,ma=p,qe===null&&(xr=1,fd(f,Mi(p,f.current)))}function qx(){var f=F.H;return F.H=od,f===null?od:f}function Wx(){var f=F.A;return F.A=mE,f}function fy(){xr=4,cl||(nn&4194048)!==nn&&ga.current!==null||(Eu=!0),(ul&134217727)===0&&(xc&134217727)===0||Wn===null||hl(Wn,nn,Ya,!1)}function dy(f,p,y){var S=Sn;Sn|=2;var k=qx(),L=Wx();(Wn!==f||nn!==p)&&(wd=null,Ru(f,p)),p=!1;var q=xr;t:do try{if(En!==0&&qe!==null){var Z=qe,it=ma;switch(En){case 8:uy(),q=6;break t;case 3:case 2:case 9:case 6:ga.current===null&&(p=!0);var gt=En;if(En=0,ma=null,Pu(f,Z,it,gt),y&&Eu){q=0;break t}break;default:gt=En,En=0,ma=null,Pu(f,Z,it,gt)}}xE(),q=xr;break}catch(At){Yx(f,At)}while(!0);return p&&f.shellSuspendCounter++,K=tl=null,Sn=S,F.H=k,F.A=L,qe===null&&(Wn=null,nn=0,Jl()),q}function xE(){for(;qe!==null;)hy(qe)}function _E(f,p){var y=Sn;Sn|=2;var S=qx(),k=Wx();Wn!==f||nn!==p?(wd=null,Mu=Gt()+500,Ru(f,p)):Eu=ls(f,p);t:do try{if(En!==0&&qe!==null){p=qe;var L=ma;e:switch(En){case 1:En=0,ma=null,Pu(f,p,L,1);break;case 2:case 9:if(Zb(L)){En=0,ma=null,Vx(p);break}p=function(){En!==2&&En!==9||Wn!==f||(En=7),Po(f)},L.then(p,p);break t;case 3:En=7;break t;case 4:En=5;break t;case 7:Zb(L)?(En=0,ma=null,Vx(p)):(En=0,ma=null,Pu(f,p,L,7));break;case 5:var q=null;switch(qe.tag){case 26:q=qe.memoizedState;case 5:case 27:var Z=qe;if(!q||qr(q)){En=0,ma=null;var it=Z.sibling;if(it!==null)qe=it;else{var gt=Z.return;gt!==null?(qe=gt,Zp(gt)):qe=null}break e}}En=0,ma=null,Pu(f,p,L,5);break;case 6:En=0,ma=null,Pu(f,p,L,6);break;case 8:uy(),xr=6;break t;default:throw Error(r(462))}}Xx();break}catch(At){Yx(f,At)}while(!0);return K=tl=null,F.H=S,F.A=k,Sn=y,qe!==null?0:(Wn=null,nn=0,Jl(),xr)}function Xx(){for(;qe!==null&&!Zt();)hy(qe)}function hy(f){var p=Hp(f.alternate,f,Ss);f.memoizedProps=f.pendingProps,p===null?Zp(f):qe=p}function Vx(f){var p=f,y=p.alternate;switch(p.tag){case 15:case 0:p=Fp(y,p,p.pendingProps,p.type,void 0,nn);break;case 11:p=Fp(y,p,p.pendingProps,p.type.render,p.ref,nn);break;case 5:_p(p);default:Tx(y,p),p=qe=$f(p,Ss),p=Hp(y,p,Ss)}f.memoizedProps=f.pendingProps,p===null?Zp(f):qe=p}function Pu(f,p,y,S){K=tl=null,_p(p),Ur=null,Xi=0;var k=p.return;try{if(_x(f,k,p,y,nn)){xr=1,fd(f,Mi(y,f.current)),qe=null;return}}catch(L){if(k!==null)throw qe=k,L;xr=1,fd(f,Mi(y,f.current)),qe=null;return}p.flags&32768?(Ke||S===1?f=!0:Eu||(nn&536870912)!==0?f=!1:(cl=f=!0,(S===2||S===9||S===3||S===6)&&(S=ga.current,S!==null&&S.tag===13&&(S.flags|=16384))),Kx(p,f)):Zp(p)}function Zp(f){var p=f;do{if((p.flags&32768)!==0){Kx(p,cl);return}f=p.return;var y=Ax(p.alternate,p,Ss);if(y!==null){qe=y;return}if(p=p.sibling,p!==null){qe=p;return}qe=p=f}while(p!==null);xr===0&&(xr=5)}function Kx(f,p){do{var y=Mx(f.alternate,f);if(y!==null){y.flags&=32767,qe=y;return}if(y=f.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!p&&(f=f.sibling,f!==null)){qe=f;return}qe=f=y}while(f!==null);xr=6,qe=null}function Od(f,p,y,S,k,L,q,Z,it){f.cancelPendingCommit=null;do Qp();while(gi!==0);if((Sn&6)!==0)throw Error(r(327));if(p!==null){if(p===f.current)throw Error(r(177));if(L=p.lanes|p.childLanes,L|=v0,YS(f,y,L,q,Z,it),f===Wn&&(qe=Wn=null,nn=0),Tu=p,dl=f,ku=y,sy=L,ly=k,Fx=S,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,i2(dn,function(){return e2(),null})):(f.callbackNode=null,f.callbackPriority=0),S=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||S){S=F.T,F.T=null,k=H.p,H.p=2,q=Sn,Sn|=4;try{gE(f,p,y)}finally{Sn=q,H.p=k,F.T=S}}gi=1,Zx(),Qx(),Jx()}}function Zx(){if(gi===1){gi=0;var f=dl,p=Tu,y=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||y){y=F.T,F.T=null;var S=H.p;H.p=2;var k=Sn;Sn|=4;try{J0(p,f);var L=av,q=Fb(f.containerInfo),Z=L.focusedElem,it=L.selectionRange;if(q!==Z&&Z&&Z.ownerDocument&&zb(Z.ownerDocument.documentElement,Z)){if(it!==null&&h0(Z)){var gt=it.start,At=it.end;if(At===void 0&&(At=gt),"selectionStart"in Z)Z.selectionStart=gt,Z.selectionEnd=Math.min(At,Z.value.length);else{var Ct=Z.ownerDocument||document,bt=Ct&&Ct.defaultView||window;if(bt.getSelection){var yt=bt.getSelection(),fe=Z.textContent.length,ce=Math.min(it.start,fe),Pn=it.end===void 0?ce:Math.min(it.end,fe);!yt.extend&&ce>Pn&&(q=Pn,Pn=ce,ce=q);var ht=d0(Z,ce),st=d0(Z,Pn);if(ht&&st&&(yt.rangeCount!==1||yt.anchorNode!==ht.node||yt.anchorOffset!==ht.offset||yt.focusNode!==st.node||yt.focusOffset!==st.offset)){var vt=Ct.createRange();vt.setStart(ht.node,ht.offset),yt.removeAllRanges(),ce>Pn?(yt.addRange(vt),yt.extend(st.node,st.offset)):(vt.setEnd(st.node,st.offset),yt.addRange(vt))}}}}for(Ct=[],yt=Z;yt=yt.parentNode;)yt.nodeType===1&&Ct.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Ct.length;Z++){var Tt=Ct[Z];Tt.element.scrollLeft=Tt.left,Tt.element.scrollTop=Tt.top}}dv=!!ho,av=ho=null}finally{Sn=k,H.p=S,F.T=y}}f.current=p,gi=2}}function Qx(){if(gi===2){gi=0;var f=dl,p=Tu,y=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||y){y=F.T,F.T=null;var S=H.p;H.p=2;var k=Sn;Sn|=4;try{Rx(f,p.alternate,p)}finally{Sn=k,H.p=S,F.T=y}}gi=3}}function Jx(){if(gi===4||gi===3){gi=0,ie();var f=dl,p=Tu,y=ku,S=Fx;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?gi=5:(gi=0,Tu=dl=null,t2(f,f.pendingLanes));var k=f.pendingLanes;if(k===0&&(fl=null),Uh(y),p=p.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Pe,p,void 0,(p.current.flags&128)===128)}catch{}if(S!==null){p=F.T,k=H.p,H.p=2,F.T=null;try{for(var L=f.onRecoverableError,q=0;q<S.length;q++){var Z=S[q];L(Z.value,{componentStack:Z.stack})}}finally{F.T=p,H.p=k}}(ku&3)!==0&&Qp(),Po(f),k=f.pendingLanes,(y&4194090)!==0&&(k&42)!==0?f===cy?Cu++:(Cu=0,cy=f):Cu=0,Ad(0)}}function t2(f,p){(f.pooledCacheLanes&=p)===0&&(p=f.pooledCache,p!=null&&(f.pooledCache=null,Yf(p)))}function Qp(f){return Zx(),Qx(),Jx(),e2()}function e2(){if(gi!==5)return!1;var f=dl,p=sy;sy=0;var y=Uh(ku),S=F.T,k=H.p;try{H.p=32>y?32:y,F.T=null,y=ly,ly=null;var L=dl,q=ku;if(gi=0,Tu=dl=null,ku=0,(Sn&6)!==0)throw Error(r(331));var Z=Sn;if(Sn|=4,$x(L.current),Dx(L,L.current,q,y),Sn=Z,Ad(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Pe,L)}catch{}return!0}finally{H.p=k,F.T=S,t2(f,p)}}function n2(f,p,y){p=Mi(y,p),p=Ip(f.stateNode,p,2),f=ps(f,p,2),f!==null&&(Uc(f,2),Po(f))}function $n(f,p,y){if(f.tag===3)n2(f,f,y);else for(;p!==null;){if(p.tag===3){n2(p,f,y);break}else if(p.tag===1){var S=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(fl===null||!fl.has(S))){f=Mi(y,f),y=q0(2),S=ps(p,y,2),S!==null&&(xx(y,S,p,f),Uc(S,2),Po(S));break}}p=p.return}}function py(f,p,y){var S=f.pingCache;if(S===null){S=f.pingCache=new ny;var k=new Set;S.set(p,k)}else k=S.get(p),k===void 0&&(k=new Set,S.set(p,k));k.has(y)||(ry=!0,k.add(y),f=wE.bind(null,f,p,y),p.then(f,f))}function wE(f,p,y){var S=f.pingCache;S!==null&&S.delete(p),f.pingedLanes|=f.suspendedLanes&y,f.warmLanes&=~y,Wn===f&&(nn&y)===y&&(xr===4||xr===3&&(nn&62914560)===nn&&300>Gt()-oy?(Sn&2)===0&&Ru(f,0):iy|=y,Au===nn&&(Au=0)),Po(f)}function r2(f,p){p===0&&(p=ub()),f=tc(f,p),f!==null&&(Uc(f,p),Po(f))}function Jp(f){var p=f.memoizedState,y=0;p!==null&&(y=p.retryLane),r2(f,y)}function OE(f,p){var y=0;switch(f.tag){case 13:var S=f.stateNode,k=f.memoizedState;k!==null&&(y=k.retryLane);break;case 19:S=f.stateNode;break;case 22:S=f.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(p),r2(f,y)}function i2(f,p){return zt(f,p)}var Sd=null,pl=null,tv=!1,Ed=!1,ev=!1,vl=0;function Po(f){f!==pl&&f.next===null&&(pl===null?Sd=pl=f:pl=pl.next=f),Ed=!0,tv||(tv=!0,vy())}function Ad(f,p){if(!ev&&Ed){ev=!0;do for(var y=!1,S=Sd;S!==null;){if(f!==0){var k=S.pendingLanes;if(k===0)var L=0;else{var q=S.suspendedLanes,Z=S.pingedLanes;L=(1<<31-Ee(42|f)+1)-1,L&=k&~(q&~Z),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(y=!0,o2(S,L))}else L=nn,L=ss(S,S===Wn?L:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(L&3)===0||ls(S,L)||(y=!0,o2(S,L));S=S.next}while(y);ev=!1}}function SE(){Md()}function Md(){Ed=tv=!1;var f=0;vl!==0&&(RE()&&(f=vl),vl=0);for(var p=Gt(),y=null,S=Sd;S!==null;){var k=S.next,L=Td(S,p);L===0?(S.next=null,y===null?Sd=k:y.next=k,k===null&&(pl=y)):(y=S,(f!==0||(L&3)!==0)&&(Ed=!0)),S=k}Ad(f)}function Td(f,p){for(var y=f.suspendedLanes,S=f.pingedLanes,k=f.expirationTimes,L=f.pendingLanes&-62914561;0<L;){var q=31-Ee(L),Z=1<<q,it=k[q];it===-1?((Z&y)===0||(Z&S)!==0)&&(k[q]=Bg(Z,p)):it<=p&&(f.expiredLanes|=Z),L&=~Z}if(p=Wn,y=nn,y=ss(f,f===p?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),S=f.callbackNode,y===0||f===p&&(En===2||En===9)||f.cancelPendingCommit!==null)return S!==null&&S!==null&&Ut(S),f.callbackNode=null,f.callbackPriority=0;if((y&3)===0||ls(f,y)){if(p=y&-y,p===f.callbackPriority)return p;switch(S!==null&&Ut(S),Uh(y)){case 2:case 8:y=_n;break;case 32:y=dn;break;case 268435456:y=kn;break;default:y=dn}return S=a2.bind(null,f),y=zt(y,S),f.callbackPriority=p,f.callbackNode=y,p}return S!==null&&S!==null&&Ut(S),f.callbackPriority=2,f.callbackNode=null,2}function a2(f,p){if(gi!==0&&gi!==5)return f.callbackNode=null,f.callbackPriority=0,null;var y=f.callbackNode;if(Qp()&&f.callbackNode!==y)return null;var S=nn;return S=ss(f,f===Wn?S:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),S===0?null:(Hx(f,S,p),Td(f,Gt()),f.callbackNode!=null&&f.callbackNode===y?a2.bind(null,f):null)}function o2(f,p){if(Qp())return null;Hx(f,p,!0)}function vy(){jE(function(){(Sn&6)!==0?zt(le,SE):Md()})}function nv(){return vl===0&&(vl=cb()),vl}function s2(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Cf(""+f)}function l2(f,p){var y=p.ownerDocument.createElement("input");return y.name=p.name,y.value=p.value,f.id&&y.setAttribute("form",f.id),p.parentNode.insertBefore(y,p),f=new FormData(f),y.parentNode.removeChild(y),f}function EE(f,p,y,S,k){if(p==="submit"&&y&&y.stateNode===k){var L=s2((k[$i]||null).action),q=S.submitter;q&&(p=(p=q[$i]||null)?s2(p.formAction):q.getAttribute("formAction"),p!==null&&(L=p,q=null));var Z=new Qh("action","action",null,S,k);f.push({event:Z,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(vl!==0){var it=q?l2(k,q):new FormData(k);id(y,{pending:!0,data:it,method:k.method,action:L},null,it)}}else typeof L=="function"&&(Z.preventDefault(),it=q?l2(k,q):new FormData(k),id(y,{pending:!0,data:it,method:k.method,action:L},L,it))},currentTarget:k}]})}}for(var gy=0;gy<hn.length;gy++){var yy=hn[gy],AE=yy.toLowerCase(),ME=yy[0].toUpperCase()+yy.slice(1);ao(AE,"on"+ME)}ao(up,"onAnimationEnd"),ao(Ub,"onAnimationIteration"),ao(ha,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(fp,"onTransitionRun"),ao(cE,"onTransitionStart"),ao(ou,"onTransitionCancel"),ao(Nf,"onTransitionEnd"),Wc("onMouseEnter",["mouseout","mouseover"]),Wc("onMouseLeave",["mouseout","mouseover"]),Wc("onPointerEnter",["pointerout","pointerover"]),Wc("onPointerLeave",["pointerout","pointerover"]),Kl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kd));function c2(f,p){p=(p&4)!==0;for(var y=0;y<f.length;y++){var S=f[y],k=S.event;S=S.listeners;t:{var L=void 0;if(p)for(var q=S.length-1;0<=q;q--){var Z=S[q],it=Z.instance,gt=Z.currentTarget;if(Z=Z.listener,it!==L&&k.isPropagationStopped())break t;L=Z,k.currentTarget=gt;try{L(k)}catch(At){yc(At)}k.currentTarget=null,L=it}else for(q=0;q<S.length;q++){if(Z=S[q],it=Z.instance,gt=Z.currentTarget,Z=Z.listener,it!==L&&k.isPropagationStopped())break t;L=Z,k.currentTarget=gt;try{L(k)}catch(At){yc(At)}k.currentTarget=null,L=it}}}}function We(f,p){var y=p[zg];y===void 0&&(y=p[zg]=new Set);var S=f+"__bubble";y.has(S)||(u2(p,f,2,!1),y.add(S))}function my(f,p,y){var S=0;p&&(S|=4),u2(y,f,S,p)}var Qi="_reactListening"+Math.random().toString(36).slice(2);function by(f){if(!f[Qi]){f[Qi]=!0,vb.forEach(function(y){y!=="selectionchange"&&(TE.has(y)||my(y,!1,f),my(y,!0,f))});var p=f.nodeType===9?f:f.ownerDocument;p===null||p[Qi]||(p[Qi]=!0,my("selectionchange",!1,p))}}function u2(f,p,y,S){switch(k2(p)){case 2:var k=qE;break;case 8:k=$u;break;default:k=ky}y=k.bind(null,p,y,f),k=void 0,!Pf||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(k=!0),S?k!==void 0?f.addEventListener(p,y,{capture:!0,passive:k}):f.addEventListener(p,y,!0):k!==void 0?f.addEventListener(p,y,{passive:k}):f.addEventListener(p,y,!1)}function Es(f,p,y,S,k){var L=S;if((p&1)===0&&(p&2)===0&&S!==null)t:for(;;){if(S===null)return;var q=S.tag;if(q===3||q===4){var Z=S.stateNode.containerInfo;if(Z===k)break;if(q===4)for(q=S.return;q!==null;){var it=q.tag;if((it===3||it===4)&&q.stateNode.containerInfo===k)return;q=q.return}for(;Z!==null;){if(q=Hc(Z),q===null)return;if(it=q.tag,it===5||it===6||it===26||it===27){S=L=q;continue t}Z=Z.parentNode}}S=S.return}_b(function(){var gt=L,At=t0(y),Ct=[];t:{var bt=Df.get(f);if(bt!==void 0){var yt=Qh,fe=f;switch(f){case"keypress":if(Cn(y)===0)break t;case"keydown":case"keyup":yt=o0;break;case"focusin":fe="focus",yt=tp;break;case"focusout":fe="blur",yt=tp;break;case"beforeblur":case"afterblur":yt=tp;break;case"click":if(y.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=a0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=tE;break;case up:case Ub:case ha:yt=Ab;break;case Nf:yt=eE;break;case"scroll":case"scrollend":yt=ZS;break;case"wheel":yt=rE;break;case"copy":case"cut":case"paste":yt=Tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=us;break;case"toggle":case"beforetoggle":yt=np}var ce=(p&4)!==0,Pn=!ce&&(f==="scroll"||f==="scrollend"),ht=ce?bt!==null?bt+"Capture":null:bt;ce=[];for(var st=gt,vt;st!==null;){var Tt=st;if(vt=Tt.stateNode,Tt=Tt.tag,Tt!==5&&Tt!==26&&Tt!==27||vt===null||ht===null||(Tt=Rf(st,ht),Tt!=null&&ce.push(ye(st,Tt,vt))),Pn)break;st=st.return}0<ce.length&&(bt=new yt(bt,fe,null,y,At),Ct.push({event:bt,listeners:ce}))}}if((p&7)===0){t:{if(bt=f==="mouseover"||f==="pointerover",yt=f==="mouseout"||f==="pointerout",bt&&y!==Kh&&(fe=y.relatedTarget||y.fromElement)&&(Hc(fe)||fe[Gs]))break t;if((yt||bt)&&(bt=At.window===At?At:(bt=At.ownerDocument)?bt.defaultView||bt.parentWindow:window,yt?(fe=y.relatedTarget||y.toElement,yt=gt,fe=fe?Hc(fe):null,fe!==null&&(Pn=a(fe),ce=fe.tag,fe!==Pn||ce!==5&&ce!==27&&ce!==6)&&(fe=null)):(yt=null,fe=gt),yt!==fe)){if(ce=Ws,Tt="onMouseLeave",ht="onMouseEnter",st="mouse",(f==="pointerout"||f==="pointerover")&&(ce=us,Tt="onPointerLeave",ht="onPointerEnter",st="pointer"),Pn=yt==null?bt:Yc(yt),vt=fe==null?bt:Yc(fe),bt=new ce(Tt,st+"leave",yt,y,At),bt.target=Pn,bt.relatedTarget=vt,Tt=null,Hc(At)===gt&&(ce=new ce(ht,st+"enter",fe,y,At),ce.target=vt,ce.relatedTarget=Pn,Tt=ce),Pn=Tt,yt&&fe)e:{for(ce=yt,ht=fe,st=0,vt=ce;vt;vt=Gr(vt))st++;for(vt=0,Tt=ht;Tt;Tt=Gr(Tt))vt++;for(;0<st-vt;)ce=Gr(ce),st--;for(;0<vt-st;)ht=Gr(ht),vt--;for(;st--;){if(ce===ht||ht!==null&&ce===ht.alternate)break e;ce=Gr(ce),ht=Gr(ht)}ce=null}else ce=null;yt!==null&&_r(Ct,bt,yt,ce,!1),fe!==null&&Pn!==null&&_r(Ct,Pn,fe,ce,!0)}}t:{if(bt=gt?Yc(gt):window,yt=bt.nodeName&&bt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&bt.type==="file")var Kt=Nb;else if(op(bt))if(Db)Kt=oE;else{Kt=Ks;var Fe=$b}else yt=bt.nodeName,!yt||yt.toLowerCase()!=="input"||bt.type!=="checkbox"&&bt.type!=="radio"?gt&&Jg(gt.elementType)&&(Kt=Nb):Kt=cp;if(Kt&&(Kt=Kt(f,gt))){nu(Ct,Kt,y,At);break t}Fe&&Fe(f,bt,gt),f==="focusout"&&gt&&bt.type==="number"&&gt.memoizedProps.value!=null&&kf(bt,"number",bt.value)}switch(Fe=gt?Yc(gt):window,f){case"focusin":(op(Fe)||Fe.contentEditable==="true")&&(au=Fe,Zs=gt,ut=null);break;case"focusout":ut=Zs=au=null;break;case"mousedown":Et=!0;break;case"contextmenu":case"mouseup":case"dragend":Et=!1,_t(Ct,y,At);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":_t(Ct,y,At)}var re;if(c0)t:{switch(f){case"compositionstart":var de="onCompositionStart";break t;case"compositionend":de="onCompositionEnd";break t;case"compositionupdate":de="onCompositionUpdate";break t}de=void 0}else Xs?jb(f,y)&&(de="onCompositionEnd"):f==="keydown"&&y.keyCode===229&&(de="onCompositionStart");de&&(rp&&y.locale!=="ko"&&(Xs||de!=="onCompositionStart"?de==="onCompositionEnd"&&Xs&&(re=wb()):(qs=At,r0="value"in qs?qs.value:qs.textContent,Xs=!0)),Fe=rv(gt,de),0<Fe.length&&(de=new Fi(de,f,null,y,At),Ct.push({event:de,listeners:Fe}),re?de.data=re:(re=ap(y),re!==null&&(de.data=re)))),(re=Pb?iE(f,y):Lb(f,y))&&(de=rv(gt,"onBeforeInput"),0<de.length&&(Fe=new Fi("onBeforeInput","beforeinput",null,y,At),Ct.push({event:Fe,listeners:de}),Fe.data=re)),EE(Ct,f,gt,y,At)}c2(Ct,p)})}function ye(f,p,y){return{instance:f,listener:p,currentTarget:y}}function rv(f,p){for(var y=p+"Capture",S=[];f!==null;){var k=f,L=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||L===null||(k=Rf(f,y),k!=null&&S.unshift(ye(f,k,L)),k=Rf(f,p),k!=null&&S.push(ye(f,k,L))),f.tag===3)return S;f=f.return}return[]}function Gr(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function _r(f,p,y,S,k){for(var L=p._reactName,q=[];y!==null&&y!==S;){var Z=y,it=Z.alternate,gt=Z.stateNode;if(Z=Z.tag,it!==null&&it===S)break;Z!==5&&Z!==26&&Z!==27||gt===null||(it=gt,k?(gt=Rf(y,L),gt!=null&&q.unshift(ye(y,gt,it))):k||(gt=Rf(y,L),gt!=null&&q.push(ye(y,gt,it)))),y=y.return}q.length!==0&&f.push({event:p,listeners:q})}var kE=/\r\n?/g,gl=/\u0000|\uFFFD/g;function f2(f){return(typeof f=="string"?f:""+f).replace(kE,`
`).replace(gl,"")}function d2(f,p){return p=f2(p),f2(f)===p}function iv(){}function Rn(f,p,y,S,k,L){switch(y){case"children":typeof S=="string"?p==="body"||p==="textarea"&&S===""||Ys(f,S):(typeof S=="number"||typeof S=="bigint")&&p!=="body"&&Ys(f,""+S);break;case"className":Yh(f,"class",S);break;case"tabIndex":Yh(f,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Yh(f,y,S);break;case"style":Qg(f,S,L);break;case"data":if(p!=="object"){Yh(f,"data",S);break}case"src":case"href":if(S===""&&(p!=="a"||y!=="href")){f.removeAttribute(y);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){f.removeAttribute(y);break}S=Cf(""+S),f.setAttribute(y,S);break;case"action":case"formAction":if(typeof S=="function"){f.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(y==="formAction"?(p!=="input"&&Rn(f,p,"name",k.name,k,null),Rn(f,p,"formEncType",k.formEncType,k,null),Rn(f,p,"formMethod",k.formMethod,k,null),Rn(f,p,"formTarget",k.formTarget,k,null)):(Rn(f,p,"encType",k.encType,k,null),Rn(f,p,"method",k.method,k,null),Rn(f,p,"target",k.target,k,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){f.removeAttribute(y);break}S=Cf(""+S),f.setAttribute(y,S);break;case"onClick":S!=null&&(f.onclick=iv);break;case"onScroll":S!=null&&We("scroll",f);break;case"onScrollEnd":S!=null&&We("scrollend",f);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(k.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"multiple":f.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":f.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){f.removeAttribute("xlink:href");break}y=Cf(""+S),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?f.setAttribute(y,""+S):f.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?f.setAttribute(y,""):f.removeAttribute(y);break;case"capture":case"download":S===!0?f.setAttribute(y,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?f.setAttribute(y,S):f.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?f.setAttribute(y,S):f.removeAttribute(y);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?f.removeAttribute(y):f.setAttribute(y,S);break;case"popover":We("beforetoggle",f),We("toggle",f),Gh(f,"popover",S);break;case"xlinkActuate":wo(f,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":wo(f,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":wo(f,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":wo(f,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":wo(f,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":wo(f,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":wo(f,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":wo(f,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":wo(f,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Gh(f,"is",S);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=bb.get(y)||y,Gh(f,y,S))}}function xy(f,p,y,S,k,L){switch(y){case"style":Qg(f,S,L);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(y=S.__html,y!=null){if(k.children!=null)throw Error(r(60));f.innerHTML=y}}break;case"children":typeof S=="string"?Ys(f,S):(typeof S=="number"||typeof S=="bigint")&&Ys(f,""+S);break;case"onScroll":S!=null&&We("scroll",f);break;case"onScrollEnd":S!=null&&We("scrollend",f);break;case"onClick":S!=null&&(f.onclick=iv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gb.hasOwnProperty(y))t:{if(y[0]==="o"&&y[1]==="n"&&(k=y.endsWith("Capture"),p=y.slice(2,k?y.length-7:void 0),L=f[$i]||null,L=L!=null?L[y]:null,typeof L=="function"&&f.removeEventListener(p,L,k),typeof S=="function")){typeof L!="function"&&L!==null&&(y in f?f[y]=null:f.hasAttribute(y)&&f.removeAttribute(y)),f.addEventListener(p,S,k);break t}y in f?f[y]=S:S===!0?f.setAttribute(y,""):Gh(f,y,S)}}}function Yr(f,p,y){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",f),We("load",f);var S=!1,k=!1,L;for(L in y)if(y.hasOwnProperty(L)){var q=y[L];if(q!=null)switch(L){case"src":S=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Rn(f,p,L,q,y,null)}}k&&Rn(f,p,"srcSet",y.srcSet,y,null),S&&Rn(f,p,"src",y.src,y,null);return;case"input":We("invalid",f);var Z=L=q=k=null,it=null,gt=null;for(S in y)if(y.hasOwnProperty(S)){var At=y[S];if(At!=null)switch(S){case"name":k=At;break;case"type":q=At;break;case"checked":it=At;break;case"defaultChecked":gt=At;break;case"value":L=At;break;case"defaultValue":Z=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(r(137,p));break;default:Rn(f,p,S,At,y,null)}}Vg(f,L,Z,it,gt,q,k,!1),Wh(f);return;case"select":We("invalid",f),S=q=L=null;for(k in y)if(y.hasOwnProperty(k)&&(Z=y[k],Z!=null))switch(k){case"value":L=Z;break;case"defaultValue":q=Z;break;case"multiple":S=Z;default:Rn(f,p,k,Z,y,null)}p=L,y=q,f.multiple=!!S,p!=null?Vc(f,!!S,p,!1):y!=null&&Vc(f,!!S,y,!0);return;case"textarea":We("invalid",f),L=k=S=null;for(q in y)if(y.hasOwnProperty(q)&&(Z=y[q],Z!=null))switch(q){case"value":S=Z;break;case"defaultValue":k=Z;break;case"children":L=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:Rn(f,p,q,Z,y,null)}Vh(f,S,k,L),Wh(f);return;case"option":for(it in y)if(y.hasOwnProperty(it)&&(S=y[it],S!=null))switch(it){case"selected":f.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Rn(f,p,it,S,y,null)}return;case"dialog":We("beforetoggle",f),We("toggle",f),We("cancel",f),We("close",f);break;case"iframe":case"object":We("load",f);break;case"video":case"audio":for(S=0;S<kd.length;S++)We(kd[S],f);break;case"image":We("error",f),We("load",f);break;case"details":We("toggle",f);break;case"embed":case"source":case"link":We("error",f),We("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(gt in y)if(y.hasOwnProperty(gt)&&(S=y[gt],S!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:Rn(f,p,gt,S,y,null)}return;default:if(Jg(p)){for(At in y)y.hasOwnProperty(At)&&(S=y[At],S!==void 0&&xy(f,p,At,S,y,void 0));return}}for(Z in y)y.hasOwnProperty(Z)&&(S=y[Z],S!=null&&Rn(f,p,Z,S,y,null))}function CE(f,p,y,S){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,L=null,q=null,Z=null,it=null,gt=null,At=null;for(yt in y){var Ct=y[yt];if(y.hasOwnProperty(yt)&&Ct!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":it=Ct;default:S.hasOwnProperty(yt)||Rn(f,p,yt,null,S,Ct)}}for(var bt in S){var yt=S[bt];if(Ct=y[bt],S.hasOwnProperty(bt)&&(yt!=null||Ct!=null))switch(bt){case"type":L=yt;break;case"name":k=yt;break;case"checked":gt=yt;break;case"defaultChecked":At=yt;break;case"value":q=yt;break;case"defaultValue":Z=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(r(137,p));break;default:yt!==Ct&&Rn(f,p,bt,yt,S,Ct)}}Xh(f,q,Z,it,gt,At,L,k);return;case"select":yt=q=Z=bt=null;for(L in y)if(it=y[L],y.hasOwnProperty(L)&&it!=null)switch(L){case"value":break;case"multiple":yt=it;default:S.hasOwnProperty(L)||Rn(f,p,L,null,S,it)}for(k in S)if(L=S[k],it=y[k],S.hasOwnProperty(k)&&(L!=null||it!=null))switch(k){case"value":bt=L;break;case"defaultValue":Z=L;break;case"multiple":q=L;default:L!==it&&Rn(f,p,k,L,S,it)}p=Z,y=q,S=yt,bt!=null?Vc(f,!!y,bt,!1):!!S!=!!y&&(p!=null?Vc(f,!!y,p,!0):Vc(f,!!y,y?[]:"",!1));return;case"textarea":yt=bt=null;for(Z in y)if(k=y[Z],y.hasOwnProperty(Z)&&k!=null&&!S.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Rn(f,p,Z,null,S,k)}for(q in S)if(k=S[q],L=y[q],S.hasOwnProperty(q)&&(k!=null||L!=null))switch(q){case"value":bt=k;break;case"defaultValue":yt=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:k!==L&&Rn(f,p,q,k,S,L)}Kg(f,bt,yt);return;case"option":for(var fe in y)if(bt=y[fe],y.hasOwnProperty(fe)&&bt!=null&&!S.hasOwnProperty(fe))switch(fe){case"selected":f.selected=!1;break;default:Rn(f,p,fe,null,S,bt)}for(it in S)if(bt=S[it],yt=y[it],S.hasOwnProperty(it)&&bt!==yt&&(bt!=null||yt!=null))switch(it){case"selected":f.selected=bt&&typeof bt!="function"&&typeof bt!="symbol";break;default:Rn(f,p,it,bt,S,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in y)bt=y[ce],y.hasOwnProperty(ce)&&bt!=null&&!S.hasOwnProperty(ce)&&Rn(f,p,ce,null,S,bt);for(gt in S)if(bt=S[gt],yt=y[gt],S.hasOwnProperty(gt)&&bt!==yt&&(bt!=null||yt!=null))switch(gt){case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(r(137,p));break;default:Rn(f,p,gt,bt,S,yt)}return;default:if(Jg(p)){for(var Pn in y)bt=y[Pn],y.hasOwnProperty(Pn)&&bt!==void 0&&!S.hasOwnProperty(Pn)&&xy(f,p,Pn,void 0,S,bt);for(At in S)bt=S[At],yt=y[At],!S.hasOwnProperty(At)||bt===yt||bt===void 0&&yt===void 0||xy(f,p,At,bt,S,yt);return}}for(var ht in y)bt=y[ht],y.hasOwnProperty(ht)&&bt!=null&&!S.hasOwnProperty(ht)&&Rn(f,p,ht,null,S,bt);for(Ct in S)bt=S[Ct],yt=y[Ct],!S.hasOwnProperty(Ct)||bt===yt||bt==null&&yt==null||Rn(f,p,Ct,bt,S,yt)}var ho=null,av=null;function _c(f){return f.nodeType===9?f:f.ownerDocument}function ur(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hr(f,p){if(f===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&p==="foreignObject"?0:f}function ov(f,p){return f==="textarea"||f==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var _y=null;function RE(){var f=window.event;return f&&f.type==="popstate"?f===_y?!1:(_y=f,!0):(_y=null,!1)}var h2=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,p2=typeof Promise=="function"?Promise:void 0,jE=typeof queueMicrotask=="function"?queueMicrotask:typeof p2<"u"?function(f){return p2.resolve(null).then(f).catch(v2)}:h2;function v2(f){setTimeout(function(){throw f})}function qa(f){return f==="head"}function sv(f,p){var y=p,S=0,k=0;do{var L=y.nextSibling;if(f.removeChild(y),L&&L.nodeType===8)if(y=L.data,y==="/$"){if(0<S&&8>S){y=S;var q=f.ownerDocument;if(y&1&&Cd(q.documentElement),y&2&&Cd(q.body),y&4)for(y=q.head,Cd(y),q=y.firstChild;q;){var Z=q.nextSibling,it=q.nodeName;q[Mf]||it==="SCRIPT"||it==="STYLE"||it==="LINK"&&q.rel.toLowerCase()==="stylesheet"||y.removeChild(q),q=Z}}if(k===0){f.removeChild(L),Bd(p);return}k--}else y==="$"||y==="$?"||y==="$!"?k++:S=y.charCodeAt(0)-48;else S=0;y=L}while(y);Bd(p)}function wy(f){var p=f.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var y=p;switch(p=p.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":wy(y),Fg(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}f.removeChild(y)}}function g2(f,p,y,S){for(;f.nodeType===1;){var k=y;if(f.nodeName.toLowerCase()!==p.toLowerCase()){if(!S&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(S){if(!f[Mf])switch(p){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(L=f.getAttribute("rel"),L==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(L!==k.rel||f.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||f.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||f.getAttribute("title")!==(k.title==null?null:k.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(L=f.getAttribute("src"),(L!==(k.src==null?null:k.src)||f.getAttribute("type")!==(k.type==null?null:k.type)||f.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&L&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(p==="input"&&f.type==="hidden"){var L=k.name==null?null:""+k.name;if(k.type==="hidden"&&f.getAttribute("name")===L)return f}else return f;if(f=po(f.nextSibling),f===null)break}return null}function lv(f,p,y){if(p==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!y||(f=po(f.nextSibling),f===null))return null;return f}function Pi(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function ju(f,p){var y=f.ownerDocument;if(f.data!=="$?"||y.readyState==="complete")p();else{var S=function(){p(),y.removeEventListener("DOMContentLoaded",S)};y.addEventListener("DOMContentLoaded",S),f._reactRetry=S}}function po(f){for(;f!=null;f=f.nextSibling){var p=f.nodeType;if(p===1||p===3)break;if(p===8){if(p=f.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return f}var Oy=null;function y2(f){f=f.previousSibling;for(var p=0;f;){if(f.nodeType===8){var y=f.data;if(y==="$"||y==="$!"||y==="$?"){if(p===0)return f;p--}else y==="/$"&&p++}f=f.previousSibling}return null}function m2(f,p,y){switch(p=_c(y),f){case"html":if(f=p.documentElement,!f)throw Error(r(452));return f;case"head":if(f=p.head,!f)throw Error(r(453));return f;case"body":if(f=p.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function Cd(f){for(var p=f.attributes;p.length;)f.removeAttributeNode(p[0]);Fg(f)}var xa=new Map,jo=new Set;function xe(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Lo=H.d;H.d={f:Wa,r:b2,D:LE,C:x2,L:cv,m:NE,X:IE,S:DE,M:BE};function Wa(){var f=Lo.f(),p=Kp();return f||p}function b2(f){var p=Gc(f);p!==null&&p.tag===5&&p.type==="form"?jp(p):Lo.r(f)}var Lu=typeof document>"u"?null:document;function pn(f,p,y){var S=Lu;if(S&&typeof p=="string"&&p){var k=ja(p);k='link[rel="'+f+'"][href="'+k+'"]',typeof y=="string"&&(k+='[crossorigin="'+y+'"]'),jo.has(k)||(jo.add(k),f={rel:f,crossOrigin:y,href:p},S.querySelector(k)===null&&(p=S.createElement("link"),Yr(p,"link",f),ni(p),S.head.appendChild(p)))}}function LE(f){Lo.D(f),pn("dns-prefetch",f,null)}function x2(f,p){Lo.C(f,p),pn("preconnect",f,p)}function cv(f,p,y){Lo.L(f,p,y);var S=Lu;if(S&&f&&p){var k='link[rel="preload"][as="'+ja(p)+'"]';p==="image"&&y&&y.imageSrcSet?(k+='[imagesrcset="'+ja(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(k+='[imagesizes="'+ja(y.imageSizes)+'"]')):k+='[href="'+ja(f)+'"]';var L=k;switch(p){case"style":L=Nu(f);break;case"script":L=Du(f)}xa.has(L)||(f=u({rel:"preload",href:p==="image"&&y&&y.imageSrcSet?void 0:f,as:p},y),xa.set(L,f),S.querySelector(k)!==null||p==="style"&&S.querySelector(Rd(L))||p==="script"&&S.querySelector(Pd(L))||(p=S.createElement("link"),Yr(p,"link",f),ni(p),S.head.appendChild(p)))}}function NE(f,p){Lo.m(f,p);var y=Lu;if(y&&f){var S=p&&typeof p.as=="string"?p.as:"script",k='link[rel="modulepreload"][as="'+ja(S)+'"][href="'+ja(f)+'"]',L=k;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Du(f)}if(!xa.has(L)&&(f=u({rel:"modulepreload",href:f},p),xa.set(L,f),y.querySelector(k)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(Pd(L)))return}S=y.createElement("link"),Yr(S,"link",f),ni(S),y.head.appendChild(S)}}}function DE(f,p,y){Lo.S(f,p,y);var S=Lu;if(S&&f){var k=qc(S).hoistableStyles,L=Nu(f);p=p||"default";var q=k.get(L);if(!q){var Z={loading:0,preload:null};if(q=S.querySelector(Rd(L)))Z.loading=5;else{f=u({rel:"stylesheet",href:f,"data-precedence":p},y),(y=xa.get(L))&&jd(f,y);var it=q=S.createElement("link");ni(it),Yr(it,"link",f),it._p=new Promise(function(gt,At){it.onload=gt,it.onerror=At}),it.addEventListener("load",function(){Z.loading|=1}),it.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,uv(q,p,S)}q={type:"stylesheet",instance:q,count:1,state:Z},k.set(L,q)}}}function IE(f,p){Lo.X(f,p);var y=Lu;if(y&&f){var S=qc(y).hoistableScripts,k=Du(f),L=S.get(k);L||(L=y.querySelector(Pd(k)),L||(f=u({src:f,async:!0},p),(p=xa.get(k))&&Sy(f,p),L=y.createElement("script"),ni(L),Yr(L,"link",f),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(k,L))}}function BE(f,p){Lo.M(f,p);var y=Lu;if(y&&f){var S=qc(y).hoistableScripts,k=Du(f),L=S.get(k);L||(L=y.querySelector(Pd(k)),L||(f=u({src:f,async:!0,type:"module"},p),(p=xa.get(k))&&Sy(f,p),L=y.createElement("script"),ni(L),Yr(L,"link",f),y.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},S.set(k,L))}}function _2(f,p,y,S){var k=(k=ft.current)?xe(k):null;if(!k)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(p=Nu(y.href),y=qc(k).hoistableStyles,S=y.get(p),S||(S={type:"style",instance:null,count:0,state:null},y.set(p,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){f=Nu(y.href);var L=qc(k).hoistableStyles,q=L.get(f);if(q||(k=k.ownerDocument||k,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(f,q),(L=k.querySelector(Rd(f)))&&!L._p&&(q.instance=L,q.state.loading=5),xa.has(f)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},xa.set(f,y),L||$E(k,f,y,q.state))),p&&S===null)throw Error(r(528,""));return q}if(p&&S!==null)throw Error(r(529,""));return null;case"script":return p=y.async,y=y.src,typeof y=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Du(y),y=qc(k).hoistableScripts,S=y.get(p),S||(S={type:"script",instance:null,count:0,state:null},y.set(p,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function Nu(f){return'href="'+ja(f)+'"'}function Rd(f){return'link[rel="stylesheet"]['+f+"]"}function w2(f){return u({},f,{"data-precedence":f.precedence,precedence:null})}function $E(f,p,y,S){f.querySelector('link[rel="preload"][as="style"]['+p+"]")?S.loading=1:(p=f.createElement("link"),S.preload=p,p.addEventListener("load",function(){return S.loading|=1}),p.addEventListener("error",function(){return S.loading|=2}),Yr(p,"link",y),ni(p),f.head.appendChild(p))}function Du(f){return'[src="'+ja(f)+'"]'}function Pd(f){return"script[async]"+f}function O2(f,p,y){if(p.count++,p.instance===null)switch(p.type){case"style":var S=f.querySelector('style[data-href~="'+ja(y.href)+'"]');if(S)return p.instance=S,ni(S),S;var k=u({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return S=(f.ownerDocument||f).createElement("style"),ni(S),Yr(S,"style",k),uv(S,y.precedence,f),p.instance=S;case"stylesheet":k=Nu(y.href);var L=f.querySelector(Rd(k));if(L)return p.state.loading|=4,p.instance=L,ni(L),L;S=w2(y),(k=xa.get(k))&&jd(S,k),L=(f.ownerDocument||f).createElement("link"),ni(L);var q=L;return q._p=new Promise(function(Z,it){q.onload=Z,q.onerror=it}),Yr(L,"link",S),p.state.loading|=4,uv(L,y.precedence,f),p.instance=L;case"script":return L=Du(y.src),(k=f.querySelector(Pd(L)))?(p.instance=k,ni(k),k):(S=y,(k=xa.get(L))&&(S=u({},y),Sy(S,k)),f=f.ownerDocument||f,k=f.createElement("script"),ni(k),Yr(k,"link",S),f.head.appendChild(k),p.instance=k);case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(S=p.instance,p.state.loading|=4,uv(S,y.precedence,f));return p.instance}function uv(f,p,y){for(var S=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=S.length?S[S.length-1]:null,L=k,q=0;q<S.length;q++){var Z=S[q];if(Z.dataset.precedence===p)L=Z;else if(L!==k)break}L?L.parentNode.insertBefore(f,L.nextSibling):(p=y.nodeType===9?y.head:y,p.insertBefore(f,p.firstChild))}function jd(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.title==null&&(f.title=p.title)}function Sy(f,p){f.crossOrigin==null&&(f.crossOrigin=p.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=p.referrerPolicy),f.integrity==null&&(f.integrity=p.integrity)}var Iu=null;function S2(f,p,y){if(Iu===null){var S=new Map,k=Iu=new Map;k.set(y,S)}else k=Iu,S=k.get(y),S||(S=new Map,k.set(y,S));if(S.has(f))return S;for(S.set(f,null),y=y.getElementsByTagName(f),k=0;k<y.length;k++){var L=y[k];if(!(L[Mf]||L[ei]||f==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var q=L.getAttribute(p)||"";q=f+q;var Z=S.get(q);Z?Z.push(L):S.set(q,[L])}}return S}function E2(f,p,y){f=f.ownerDocument||f,f.head.insertBefore(y,p==="title"?f.querySelector("head > title"):null)}function zE(f,p,y){if(y===1||p.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return f=p.disabled,typeof p.precedence=="string"&&f==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function qr(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var ai=null;function FE(){}function UE(f,p,y){if(ai===null)throw Error(r(475));var S=ai;if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var k=Nu(y.href),L=f.querySelector(Rd(k));if(L){f=L._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(S.count++,S=Ld.bind(S),f.then(S,S)),p.state.loading|=4,p.instance=L,ni(L);return}L=f.ownerDocument||f,y=w2(y),(k=xa.get(k))&&jd(y,k),L=L.createElement("link"),ni(L);var q=L;q._p=new Promise(function(Z,it){q.onload=Z,q.onerror=it}),Yr(L,"link",y),p.instance=L}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(S.count++,p=Ld.bind(S),f.addEventListener("load",p),f.addEventListener("error",p))}}function HE(){if(ai===null)throw Error(r(475));var f=ai;return f.stylesheets&&f.count===0&&Ey(f,f.stylesheets),0<f.count?function(p){var y=setTimeout(function(){if(f.stylesheets&&Ey(f,f.stylesheets),f.unsuspend){var S=f.unsuspend;f.unsuspend=null,S()}},6e4);return f.unsuspend=p,function(){f.unsuspend=null,clearTimeout(y)}}:null}function Ld(){if(this.count--,this.count===0){if(this.stylesheets)Ey(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var fv=null;function Ey(f,p){f.stylesheets=null,f.unsuspend!==null&&(f.count++,fv=new Map,p.forEach(GE,f),fv=null,Ld.call(f))}function GE(f,p){if(!(p.state.loading&4)){var y=fv.get(f);if(y)var S=y.get(null);else{y=new Map,fv.set(f,y);for(var k=f.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<k.length;L++){var q=k[L];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(y.set(q.dataset.precedence,q),S=q)}S&&y.set(null,S)}k=p.instance,q=k.getAttribute("data-precedence"),L=y.get(q)||S,L===S&&y.set(null,k),y.set(q,k),this.count++,S=Ld.bind(this),k.addEventListener("load",S),k.addEventListener("error",S),L?L.parentNode.insertBefore(k,L.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(k,f.firstChild)),p.state.loading|=4}}var Bu={$$typeof:E,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function YE(f,p,y,S,k,L,q,Z){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fh(0),this.hiddenUpdates=Fh(null),this.identifierPrefix=S,this.onUncaughtError=k,this.onCaughtError=L,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function A2(f,p,y,S,k,L,q,Z,it,gt,At,Ct){return f=new YE(f,p,y,q,Z,it,gt,Ct),p=1,L===!0&&(p|=24),L=Ui(3,null,null,p),f.current=L,L.stateNode=f,p=b0(),p.refCount++,f.pooledCache=p,p.refCount++,L.memoizedState={element:S,isDehydrated:y,cache:p},lc(L),f}function M2(f){return f?(f=ec,f):ec}function Ay(f,p,y,S,k,L){k=M2(k),S.context===null?S.context=k:S.pendingContext=k,S=el(p),S.payload={element:y},L=L===void 0?null:L,L!==null&&(S.callback=L),y=ps(f,S,p),y!==null&&(ba(y,f,p),Wf(y,f,p))}function My(f,p){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var y=f.retryLane;f.retryLane=y!==0&&y<p?y:p}}function Ty(f,p){My(f,p),(f=f.alternate)&&My(f,p)}function T2(f){if(f.tag===13){var p=tc(f,67108864);p!==null&&ba(p,f,67108864),Ty(f,67108864)}}var dv=!0;function qE(f,p,y,S){var k=F.T;F.T=null;var L=H.p;try{H.p=2,ky(f,p,y,S)}finally{H.p=L,F.T=k}}function $u(f,p,y,S){var k=F.T;F.T=null;var L=H.p;try{H.p=8,ky(f,p,y,S)}finally{H.p=L,F.T=k}}function ky(f,p,y,S){if(dv){var k=Cy(S);if(k===null)Es(f,p,S,hv,y),C2(f,S);else if(XE(k,f,p,y,S))S.stopPropagation();else if(C2(f,S),p&4&&-1<WE.indexOf(f)){for(;k!==null;){var L=Gc(k);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var q=ca(L.pendingLanes);if(q!==0){var Z=L;for(Z.pendingLanes|=2,Z.entangledLanes|=2;q;){var it=1<<31-Ee(q);Z.entanglements[1]|=it,q&=~it}Po(L),(Sn&6)===0&&(Mu=Gt()+500,Ad(0))}}break;case 13:Z=tc(L,2),Z!==null&&ba(Z,L,2),Kp(),Ty(L,2)}if(L=Cy(S),L===null&&Es(f,p,S,hv,y),L===k)break;k=L}k!==null&&S.stopPropagation()}else Es(f,p,S,null,y)}}function Cy(f){return f=t0(f),Ry(f)}var hv=null;function Ry(f){if(hv=null,f=Hc(f),f!==null){var p=a(f);if(p===null)f=null;else{var y=p.tag;if(y===13){if(f=o(p),f!==null)return f;f=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;f=null}else p!==f&&(f=null)}}return hv=f,null}function k2(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case le:return 2;case _n:return 8;case dn:case yn:return 32;case kn:return 268435456;default:return 32}default:return 32}}var pv=!1,As=null,yl=null,ml=null,Nd=new Map,Dd=new Map,bl=[],WE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C2(f,p){switch(f){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Nd.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dd.delete(p.pointerId)}}function Id(f,p,y,S,k,L){return f===null||f.nativeEvent!==L?(f={blockedOn:p,domEventName:y,eventSystemFlags:S,nativeEvent:L,targetContainers:[k]},p!==null&&(p=Gc(p),p!==null&&T2(p)),f):(f.eventSystemFlags|=S,p=f.targetContainers,k!==null&&p.indexOf(k)===-1&&p.push(k),f)}function XE(f,p,y,S,k){switch(p){case"focusin":return As=Id(As,f,p,y,S,k),!0;case"dragenter":return yl=Id(yl,f,p,y,S,k),!0;case"mouseover":return ml=Id(ml,f,p,y,S,k),!0;case"pointerover":var L=k.pointerId;return Nd.set(L,Id(Nd.get(L)||null,f,p,y,S,k)),!0;case"gotpointercapture":return L=k.pointerId,Dd.set(L,Id(Dd.get(L)||null,f,p,y,S,k)),!0}return!1}function R2(f){var p=Hc(f.target);if(p!==null){var y=a(p);if(y!==null){if(p=y.tag,p===13){if(p=o(y),p!==null){f.blockedOn=p,qS(f.priority,function(){if(y.tag===13){var S=Si();S=$g(S);var k=tc(y,S);k!==null&&ba(k,y,S),Ty(y,S)}});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){f.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}f.blockedOn=null}function vv(f){if(f.blockedOn!==null)return!1;for(var p=f.targetContainers;0<p.length;){var y=Cy(f.nativeEvent);if(y===null){y=f.nativeEvent;var S=new y.constructor(y.type,y);Kh=S,y.target.dispatchEvent(S),Kh=null}else return p=Gc(y),p!==null&&T2(p),f.blockedOn=y,!1;p.shift()}return!0}function P2(f,p,y){vv(f)&&y.delete(p)}function VE(){pv=!1,As!==null&&vv(As)&&(As=null),yl!==null&&vv(yl)&&(yl=null),ml!==null&&vv(ml)&&(ml=null),Nd.forEach(P2),Dd.forEach(P2)}function gv(f,p){f.blockedOn===p&&(f.blockedOn=null,pv||(pv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,VE)))}var yv=null;function j2(f){yv!==f&&(yv=f,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yv===f&&(yv=null);for(var p=0;p<f.length;p+=3){var y=f[p],S=f[p+1],k=f[p+2];if(typeof S!="function"){if(Ry(S||y)===null)continue;break}var L=Gc(y);L!==null&&(f.splice(p,3),p-=3,id(L,{pending:!0,data:k,method:y.method,action:S},S,k))}}))}function Bd(f){function p(it){return gv(it,f)}As!==null&&gv(As,f),yl!==null&&gv(yl,f),ml!==null&&gv(ml,f),Nd.forEach(p),Dd.forEach(p);for(var y=0;y<bl.length;y++){var S=bl[y];S.blockedOn===f&&(S.blockedOn=null)}for(;0<bl.length&&(y=bl[0],y.blockedOn===null);)R2(y),y.blockedOn===null&&bl.shift();if(y=(f.ownerDocument||f).$$reactFormReplay,y!=null)for(S=0;S<y.length;S+=3){var k=y[S],L=y[S+1],q=k[$i]||null;if(typeof L=="function")q||j2(y);else if(q){var Z=null;if(L&&L.hasAttribute("formAction")){if(k=L,q=L[$i]||null)Z=q.formAction;else if(Ry(k)!==null)continue}else Z=q.action;typeof Z=="function"?y[S+1]=Z:(y.splice(S,3),S-=3),j2(y)}}}function Py(f){this._internalRoot=f}mv.prototype.render=Py.prototype.render=function(f){var p=this._internalRoot;if(p===null)throw Error(r(409));var y=p.current,S=Si();Ay(y,S,f,p,null,null)},mv.prototype.unmount=Py.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var p=f.containerInfo;Ay(f.current,2,null,f,null,null),Kp(),p[Gs]=null}};function mv(f){this._internalRoot=f}mv.prototype.unstable_scheduleHydration=function(f){if(f){var p=hb();f={blockedOn:null,target:f,priority:p};for(var y=0;y<bl.length&&p!==0&&p<bl[y].priority;y++);bl.splice(y,0,f),y===0&&R2(f)}};var L2=e.version;if(L2!=="19.1.1")throw Error(r(527,L2,"19.1.1"));H.findDOMNode=function(f){var p=f._reactInternals;if(p===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=l(p),f=f!==null?c(f):null,f=f===null?null:f.stateNode,f};var KE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bv.isDisabled&&bv.supportsFiber)try{Pe=bv.inject(KE),Se=bv}catch{}}return Ly.createRoot=function(f,p){if(!i(f))throw Error(r(299));var y=!1,S="",k=Y0,L=Dp,q=bx,Z=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(k=p.onUncaughtError),p.onCaughtError!==void 0&&(L=p.onCaughtError),p.onRecoverableError!==void 0&&(q=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(Z=p.unstable_transitionCallbacks)),p=A2(f,1,!1,null,null,y,S,k,L,q,Z,null),f[Gs]=p.current,by(f),new Py(p)},Ly.hydrateRoot=function(f,p,y){if(!i(f))throw Error(r(299));var S=!1,k="",L=Y0,q=Dp,Z=bx,it=null,gt=null;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(k=y.identifierPrefix),y.onUncaughtError!==void 0&&(L=y.onUncaughtError),y.onCaughtError!==void 0&&(q=y.onCaughtError),y.onRecoverableError!==void 0&&(Z=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(it=y.unstable_transitionCallbacks),y.formState!==void 0&&(gt=y.formState)),p=A2(f,1,!0,p,y??null,S,k,L,q,Z,it,gt),p.context=M2(null),y=p.current,S=Si(),S=$g(S),k=el(S),k.callback=null,ps(y,k,S),y=S,p.current.lanes=y,Uc(p,y),Po(p),f[Gs]=p.current,by(f),new mv(p)},Ly.version="19.1.1",Ly}var bR;function yq(){if(bR)return rA.exports;bR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rA.exports=gq(),rA.exports}var mq=yq(),Ny={},oA={exports:{}},xR;function BO(){return xR||(xR=1,(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(oA)),oA.exports}var Dy={},_R;function bq(){if(_R)return Dy;_R=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.default=void 0;var t={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 ",page_size:""};return Dy.default=t,Dy}var Iy={},By={},$y={},sA={exports:{}},lA={exports:{}},cA={exports:{}},uA={exports:{}},wR;function JD(){return wR||(wR=1,(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(uA)),uA.exports}var fA={exports:{}},OR;function xq(){return OR||(OR=1,(function(t){var e=JD().default;function n(r,i){if(e(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,i||"default");if(e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(fA)),fA.exports}var SR;function _q(){return SR||(SR=1,(function(t){var e=JD().default,n=xq();function r(i){var a=n(i,"string");return e(a)=="symbol"?a:a+""}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(cA)),cA.exports}var ER;function wq(){return ER||(ER=1,(function(t){var e=_q();function n(r,i,a){return(i=e(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(lA)),lA.exports}var AR;function Oq(){return AR||(AR=1,(function(t){var e=wq();function n(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),o.push.apply(o,s)}return o}function r(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?n(Object(o),!0).forEach(function(s){e(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(sA)),sA.exports}var zy={},MR;function Sq(){return MR||(MR=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.commonLocale=void 0,zy.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),zy}var TR;function Eq(){if(TR)return $y;TR=1;var t=BO().default;Object.defineProperty($y,"__esModule",{value:!0}),$y.default=void 0;var e=t(Oq()),n=Sq(),r=(0,e.default)((0,e.default)({},n.commonLocale),{},{locale:"zh_CN",today:"",now:"",backToToday:"",ok:"",timeSelect:"",dateSelect:"",weekSelect:"",clear:"",week:"",month:"",year:"",previousMonth:" ()",nextMonth:" ()",monthSelect:"",yearSelect:"",decadeSelect:"",previousYear:" (Control)",nextYear:" (Control)",previousDecade:"",nextDecade:"",previousCentury:"",nextCentury:"",yearFormat:"YYYY",cellDateFormat:"D",monthBeforeYear:!1});return $y.default=r,$y}var Fy={},kR;function t6(){if(kR)return Fy;kR=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.default=void 0;const t={placeholder:"",rangePlaceholder:["",""]};return Fy.default=t,Fy}var CR;function e6(){if(CR)return By;CR=1;var t=BO().default;Object.defineProperty(By,"__esModule",{value:!0}),By.default=void 0;var e=t(Eq()),n=t(t6());const r={lang:Object.assign({placeholder:"",yearPlaceholder:"",quarterPlaceholder:"",monthPlaceholder:"",weekPlaceholder:"",rangePlaceholder:["",""],rangeYearPlaceholder:["",""],rangeMonthPlaceholder:["",""],rangeQuarterPlaceholder:["",""],rangeWeekPlaceholder:["",""]},e.default),timePickerLocale:Object.assign({},n.default)};return r.lang.ok="",By.default=r,By}var RR;function Aq(){if(RR)return Iy;RR=1;var t=BO().default;Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.default=void 0;var e=t(e6());return Iy.default=e.default,Iy}var PR;function Mq(){if(PR)return Ny;PR=1;var t=BO().default;Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.default=void 0;var e=t(bq()),n=t(Aq()),r=t(e6()),i=t(t6());const a="${label}${type}",o={locale:"zh-cn",Pagination:e.default,DatePicker:r.default,TimePicker:i.default,Calendar:n.default,global:{placeholder:"",close:""},Table:{filterTitle:"",filterConfirm:"",filterReset:"",filterEmptyText:"",filterCheckAll:"",filterSearchPlaceholder:"",emptyText:"",selectAll:"",selectInvert:"",selectNone:"",selectionAll:"",sortTitle:"",expand:"",collapse:"",triggerDesc:"",triggerAsc:"",cancelSort:""},Modal:{okText:"",cancelText:"",justOkText:""},Tour:{Next:"",Previous:"",Finish:""},Popconfirm:{cancelText:"",okText:""},Transfer:{titles:["",""],searchPlaceholder:"",itemUnit:"",itemsUnit:"",remove:"",selectCurrent:"",removeCurrent:"",selectAll:"",deselectAll:"",removeAll:"",selectInvert:""},Upload:{uploading:"",removeFile:"",uploadError:"",previewFile:"",downloadFile:""},Empty:{description:""},Icon:{icon:""},Text:{edit:"",copy:"",copied:"",expand:"",collapse:""},Form:{optional:"",defaultValidateMessages:{default:"${label}",required:"${label}",enum:"${label}[${enum}]",whitespace:"${label}",date:{format:"${label}",parse:"${label}",invalid:"${label}"},types:{string:a,method:a,array:a,object:a,number:a,date:a,boolean:a,integer:a,float:a,regexp:a,email:a,url:a,hex:a},string:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},number:{len:"${label}${len}",min:"${label}${min}",max:"${label}${max}",range:"${label}${min}-${max}"},array:{len:"${len}${label}",min:"${min}${label}",max:"${max}${label}",range:"${label}${min}-${max}"},pattern:{mismatch:"${label}${pattern}"}}},Image:{preview:""},QRCode:{expired:"",refresh:"",scanned:""},ColorPicker:{presetEmpty:"",transparent:"",singleColor:"",gradientColor:""}};return Ny.default=o,Ny}var dA,jR;function Tq(){return jR||(jR=1,dA=Mq()),dA}var kq=Tq();const Cq=LO(kq);var Sg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rq={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Pq=class{#t=Rq;#e=!1;setTimeoutProvider(t){this.#t=t}setTimeout(t,e){return this.#t.setTimeout(t,e)}clearTimeout(t){this.#t.clearTimeout(t)}setInterval(t,e){return this.#t.setInterval(t,e)}clearInterval(t){this.#t.clearInterval(t)}},Jd=new Pq;function jq(t){setTimeout(t,0)}var hh=typeof window>"u"||"Deno"in globalThis;function Sa(){}function Lq(t,e){return typeof t=="function"?t(e):t}function eT(t){return typeof t=="number"&&t>=0&&t!==1/0}function n6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nf(t,e){return typeof t=="function"?t(e):t}function Go(t,e){return typeof t=="function"?t(e):t}function LR(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=t;if(o){if(r){if(e.queryHash!==uC(o,e.options))return!1}else if(!Wm(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||a&&!a(e))}function NR(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(ph(e.options.mutationKey)!==ph(a))return!1}else if(!Wm(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function uC(t,e){return(e?.queryKeyHashFn||ph)(t)}function ph(t){return JSON.stringify(t,(e,n)=>nT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Wm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Wm(t[n],e[n])):!1}var Nq=Object.prototype.hasOwnProperty;function r6(t,e){if(t===e)return t;const n=DR(t)&&DR(e);if(!n&&!(nT(t)&&nT(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,s=n?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=n?c:a[c],d=t[u],h=e[u];if(d===h){s[u]=d,(n?c<i:Nq.call(t,u))&&l++;continue}if(d===null||h===null||typeof d!="object"||typeof h!="object"){s[u]=h;continue}const v=r6(d,h);s[u]=v,v===d&&l++}return i===o&&l===i?t:s}function uw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function DR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nT(t){if(!IR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!IR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function IR(t){return Object.prototype.toString.call(t)==="[object Object]"}function Dq(t){return new Promise(e=>{Jd.setTimeout(e,t)})}function rT(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?r6(t,e):e}function Iq(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Bq(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var fC=Symbol();function i6(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===fC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function a6(t,e){return typeof t=="function"?t(...e):!!t}var $q=class extends Sg{#t;#e;#n;constructor(){super(),this.#n=t=>{if(!hh&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},dC=new $q;function iT(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var zq=jq;function Fq(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=zq;const a=s=>{e?t.push(s):i(()=>{n(s)})},o=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var yi=Fq(),Uq=class extends Sg{#t=!0;#e;#n;constructor(){super(),this.#n=t=>{if(!hh&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#n=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#t}},fw=new Uq;function Hq(t){return Math.min(1e3*2**t,3e4)}function o6(t){return(t??"online")==="online"?fw.isOnline():!0}var aT=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function s6(t){let e=!1,n=0,r;const i=iT(),a=()=>i.status!=="pending",o=b=>{if(!a()){const x=new aT(b);h(x),t.onCancel?.(x)}},s=()=>{e=!0},l=()=>{e=!1},c=()=>dC.isFocused()&&(t.networkMode==="always"||fw.isOnline())&&t.canRun(),u=()=>o6(t.networkMode)&&t.canRun(),d=b=>{a()||(r?.(),i.resolve(b))},h=b=>{a()||(r?.(),i.reject(b))},v=()=>new Promise(b=>{r=x=>{(a()||c())&&b(x)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),g=()=>{if(a())return;let b;const x=n===0?t.initialPromise:void 0;try{b=x??t.fn()}catch(_){b=Promise.reject(_)}Promise.resolve(b).then(d).catch(_=>{if(a())return;const w=t.retry??(hh?0:3),E=t.retryDelay??Hq,A=typeof E=="function"?E(n,_):E,M=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!M){h(_);return}n++,t.onFail?.(n,_),Dq(A).then(()=>c()?void 0:v()).then(()=>{e?h(_):g()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?g():v().then(g),i)}}var l6=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),eT(this.gcTime)&&(this.#t=Jd.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hh?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Jd.clearTimeout(this.#t),this.#t=void 0)}},Gq=class extends l6{#t;#e;#n;#r;#i;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=BR(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=BR(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#t=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=rT(this.state.data,t,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Sa).catch(Sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Go(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>nf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!n6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#s?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const s=this.observers.find(l=>l.options.queryFn);s&&this.setOptions(s.options)}const n=new AbortController,r=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const s=i6(this.options,e),c=(()=>{const u={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#s=!1,this.options.persister?this.options.persister(s,c,this):s(c)},o=(()=>{const s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(s),s})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=s6({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:s=>{s instanceof aT&&s.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(s,l)=>{this.#a({type:"failed",failureCount:s,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const s=await this.#i.start();if(s===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(s),this.#n.config.onSuccess?.(s,this),this.#n.config.onSettled?.(s,this.state.error,this),s}catch(s){if(s instanceof aT){if(s.silent)return this.#i.promise;if(s.revert){if(this.state.data===void 0)throw s;return this.state.data}}throw this.#a({type:"error",error:s}),this.#n.config.onError?.(s,this),this.#n.config.onSettled?.(this.state.data,s,this),s}finally{this.scheduleGc()}}#a(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...c6(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),yi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function c6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Yq=class extends Sg{constructor(t,e){super(),this.options=e,this.#t=t,this.#a=null,this.#s=iT(),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#o;#s;#a;#v;#d;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),$R(this.#e,this.options)?this.#f():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oT(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oT(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#_(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Go(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!uw(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&zR(this.#e,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#e!==n||Go(this.options.enabled,this.#e)!==Go(e.enabled,this.#e)||nf(this.options.staleTime,this.#e)!==nf(e.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||Go(this.options.enabled,this.#e)!==Go(e.enabled,this.#e)||i!==this.#l)&&this.#m(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),n=this.createResult(e,t);return Wq(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),n=this.#t.getQueryCache().build(this.#t,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Sa)),e}#g(){this.#x();const t=nf(this.options.staleTime,this.#e);if(hh||this.#r.isStale||!eT(t))return;const n=n6(this.#r.dataUpdatedAt,t)+1;this.#c=Jd.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#m(t){this.#_(),this.#l=t,!(hh||Go(this.options.enabled,this.#e)===!1||!eT(this.#l)||this.#l===0)&&(this.#u=Jd.setInterval(()=>{(this.options.refetchIntervalInBackground||dC.isFocused())&&this.#f()},this.#l))}#b(){this.#g(),this.#m(this.#y())}#x(){this.#c&&(Jd.clearTimeout(this.#c),this.#c=void 0)}#_(){this.#u&&(Jd.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#e,r=this.options,i=this.#r,a=this.#i,o=this.#o,l=t!==n?t.state:this.#n,{state:c}=t;let u={...c},d=!1,h;if(e._optimisticResults){const R=this.hasListeners(),j=!R&&$R(t,e),I=R&&zR(t,n,e,r);(j||I)&&(u={...u,...c6(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=u;h=u.data;let x=!1;if(e.placeholderData!==void 0&&h===void 0&&b==="pending"){let R;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(R=i.data,x=!0):R=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,R!==void 0&&(b="success",h=rT(i?.data,R,e),d=!0)}if(e.select&&h!==void 0&&!x)if(i&&h===a?.data&&e.select===this.#v)h=this.#d;else try{this.#v=e.select,h=e.select(h),h=rT(i?.data,h,e),this.#d=h,this.#a=null}catch(R){this.#a=R}this.#a&&(v=this.#a,h=this.#d,g=Date.now(),b="error");const _=u.fetchStatus==="fetching",w=b==="pending",E=b==="error",A=w&&_,M=h!==void 0,C={status:b,fetchStatus:u.fetchStatus,isPending:w,isSuccess:b==="success",isError:E,isInitialLoading:A,isLoading:A,data:h,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:E&&!M,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:E&&M,isStale:hC(t,e),refetch:this.refetch,promise:this.#s,isEnabled:Go(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},j=()=>{const D=this.#s=C.promise=iT();R(D)},I=this.#s;switch(I.status){case"pending":t.queryHash===n.queryHash&&R(I);break;case"fulfilled":(C.status==="error"||C.data!==I.value)&&j();break;case"rejected":(C.status!=="error"||C.error!==I.reason)&&j();break}}return C}updateResult(){const t=this.#r,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#h=this.#e),uw(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#r).some(o=>{const s=o;return this.#r[s]!==t[s]&&a.has(s)})};this.#O({listeners:n()})}#w(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#O(t){yi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function qq(t,e){return Go(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $R(t,e){return qq(t,e)||t.state.data!==void 0&&oT(t,e,e.refetchOnMount)}function oT(t,e,n){if(Go(e.enabled,t)!==!1&&nf(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&hC(t,e)}return!1}function zR(t,e,n,r){return(t!==e||Go(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&hC(t,n)}function hC(t,e){return Go(e.enabled,t)!==!1&&t.isStaleByTime(nf(e.staleTime,t))}function Wq(t,e){return!uw(t.getCurrentResult(),e)}function FR(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const d=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},h=i6(e.options,e.fetchOptions),v=async(g,b,x)=>{if(u)return Promise.reject();if(b==null&&g.pages.length)return Promise.resolve(g);const w=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:b,direction:x?"backward":"forward",meta:e.options.meta};return d(T),T})(),E=await h(w),{maxPages:A}=e.options,M=x?Bq:Iq;return{pages:M(g.pages,E,A),pageParams:M(g.pageParams,b,A)}};if(i&&a.length){const g=i==="backward",b=g?Xq:UR,x={pages:a,pageParams:o},_=b(r,x);s=await v(x,_,g)}else{const g=t??a.length;do{const b=l===0?o[0]??r.initialPageParam:UR(r,s);if(l>0&&b==null)break;s=await v(s,b),l++}while(l<g)}return s};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function UR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Xq(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Vq=class extends l6{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||u6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=s6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#e.config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),yi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function u6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kq=class extends Sg{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(t,e,n){const r=new Vq({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#t.add(t);const e=I2(t);if(typeof e=="string"){const n=this.#e.get(e);n?n.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=I2(t);if(typeof e=="string"){const n=this.#e.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=I2(t);if(typeof e=="string"){const r=this.#e.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=I2(t);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){yi.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>NR(e,n))}findAll(t={}){return this.getAll().filter(e=>NR(t,e))}notify(t){yi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return yi.batch(()=>Promise.all(t.map(e=>e.continue().catch(Sa))))}};function I2(t){return t.options.scope?.id}var Zq=class extends Sg{#t;#e=void 0;#n;#r;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),uw(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&ph(n.mutationKey)!==ph(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??u6();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){yi.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},Qq=class extends Sg{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,i=e.queryHash??uC(r,e);let a=this.get(i);return a||(a=new Gq({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>LR(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>LR(t,n)):e}notify(t){yi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){yi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Jq=class{#t;#e;#n;#r;#i;#o;#s;#a;constructor(t={}){this.#t=t.queryCache||new Qq,this.#e=t.mutationCache||new Kq,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=dC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=fw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#t.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(nf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#t.get(r.queryHash)?.state.data,o=Lq(e,a);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return yi.batch(()=>this.#t.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;yi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#t;return yi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=yi.batch(()=>this.#t.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Sa).catch(Sa)}invalidateQueries(t,e={}){return yi.batch(()=>(this.#t.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=yi.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(Sa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Sa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#t.build(this,e);return n.isStaleByTime(nf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sa).catch(Sa)}fetchInfiniteQuery(t){return t.behavior=FR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sa).catch(Sa)}ensureInfiniteQueryData(t){return t.behavior=FR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fw.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(ph(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Wm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(ph(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{Wm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},f6=te.createContext(void 0),Fc=t=>{const e=te.useContext(f6);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tW=({client:t,children:e})=>(te.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),N.jsx(f6.Provider,{value:t,children:e})),d6=te.createContext(!1),eW=()=>te.useContext(d6);d6.Provider;function nW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rW=te.createContext(nW()),iW=()=>te.useContext(rW),aW=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},oW=t=>{te.useEffect(()=>{t.clearReset()},[t])},sW=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||a6(n,[t.error,r])),lW=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},cW=(t,e)=>t.isLoading&&t.isFetching&&!e,uW=(t,e)=>t?.suspense&&e.isPending,HR=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function fW(t,e,n){const r=eW(),i=iW(),a=Fc(),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",lW(o),aW(o,i),oW(i);const s=!a.getQueryCache().get(o.queryHash),[l]=te.useState(()=>new e(a,o)),c=l.getOptimisticResult(o),u=!r&&t.subscribed!==!1;if(te.useSyncExternalStore(te.useCallback(d=>{const h=u?l.subscribe(yi.batchCalls(d)):Sa;return l.updateResult(),h},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),te.useEffect(()=>{l.setOptions(o)},[o,l]),uW(o,c))throw HR(o,l,i);if(sW({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!hh&&cW(c,r)&&(s?HR(o,l,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(Sa).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?c:l.trackResult(c)}function di(t,e){return fW(t,Yq)}function Xn(t,e){const n=Fc(),[r]=te.useState(()=>new Zq(n,t));te.useEffect(()=>{r.setOptions(t)},[r,t]);const i=te.useSyncExternalStore(te.useCallback(o=>r.subscribe(yi.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=te.useCallback((o,s)=>{r.mutate(o,s).catch(Sa)},[r]);if(i.error&&a6(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const{Header:dW,Sider:hW}=BY,{Text:hA}=$s,B2=[{key:"/dashboard",icon:N.jsx(UY,{}),label:"",path:"/dashboard",title:" ",description:""},{key:"/rules",icon:N.jsx(VM,{}),label:"",path:"/rules",title:" ",description:""},{key:"/logs",icon:N.jsx(HY,{}),label:"",path:"/logs",title:" ",description:""},{key:"/chats",icon:N.jsx(NO,{}),label:"",path:"/chats",title:" ",description:""},{key:"/clients",icon:N.jsx(KM,{}),label:"",path:"/clients",title:" ",description:"Telegram"},{key:"/settings",icon:N.jsx(VM,{}),label:"",path:"/settings",title:" ",description:"Bot"}],pW=()=>{const t=Og(),e=LY(),[n,r]=te.useState(!1),{data:i}=di({queryKey:["systemInfo"],queryFn:async()=>(await fetch("/api/system/enhanced-status")).json(),refetchInterval:3e4}),a=c=>{const u=B2.find(d=>d.key===c);u&&t(u.path)},o=()=>{const c=e.pathname;for(const u of B2)if(c.startsWith(u.key))return[u.key];return["/dashboard"]},l=(()=>{const c=e.pathname;for(const u of B2)if(c.startsWith(u.key))return{title:u.title,description:u.description};return{title:" ",description:""}})();return N.jsxs("div",{className:"main-layout-wrapper",style:{height:"100vh",overflow:"hidden"},children:[N.jsxs(hW,{className:"fixed-sidebar",trigger:null,collapsible:!0,collapsed:n,width:240,collapsedWidth:80,style:{position:"fixed",left:0,top:0,height:"100vh",zIndex:10,display:"flex",flexDirection:"column"},children:[N.jsxs("div",{style:{minHeight:n?64:88,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:n?"16px 8px":"16px 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",gap:4},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:n?0:12},children:[N.jsx(NO,{style:{fontSize:24,color:"#ffffff",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)"}}),!n&&N.jsx(hA,{strong:!0,style:{fontSize:16,color:"#ffffff",textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)",fontWeight:600},children:"Telegram Message"})]}),N.jsxs("div",{style:{fontSize:n?10:11,opacity:.9,color:"#ffffff",textAlign:"center",fontWeight:500,textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:[" v",i?.app_version||"3.7.0"]})]}),N.jsx("div",{style:{flex:1,overflow:"auto"},children:N.jsx($Y,{mode:"inline",selectedKeys:o(),style:{border:"none",background:"transparent",height:"100%"},items:B2.map(c=>({key:c.key,icon:c.icon,label:c.label,onClick:()=>a(c.key)}))})}),N.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(5px)",display:"flex",justifyContent:"center"},children:N.jsx(ae,{type:"text",icon:n?N.jsx(zY,{}):N.jsx(FY,{}),onClick:()=>r(!n),style:{fontSize:16,width:40,height:40,color:"white",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",transition:"all 0.3s ease",background:"rgba(255, 255, 255, 0.1)"}})})]}),N.jsxs("div",{style:{marginLeft:n?80:240,width:`calc(100vw - ${n?80:240}px)`,height:"100vh",display:"flex",flexDirection:"column",transition:"margin-left 0.3s ease, width 0.3s ease"},children:[N.jsx(dW,{className:"layout-header",style:{height:64,flexShrink:0,zIndex:11,padding:0},children:N.jsxs("div",{className:"header-content",style:{padding:"0 32px"},children:[N.jsxs("div",{style:{flex:1,maxWidth:"calc(100% - 200px)"},children:[N.jsx(hA,{className:"header-title",style:{color:"white",fontSize:20,fontWeight:600,display:"block",lineHeight:1.2},children:l.title}),N.jsx("div",{style:{fontSize:13,opacity:.85,color:"rgba(255, 255, 255, 0.85)",marginTop:2,lineHeight:1.3},children:l.description})]}),N.jsxs(dr,{align:"center",size:12,children:[N.jsx(VD,{size:40,icon:N.jsx(Ym,{}),style:{backgroundColor:"#667eea",fontSize:18}}),N.jsx("div",{className:"user-info",children:N.jsx(hA,{style:{color:"white",fontSize:16,fontWeight:500},children:""})})]})]})}),N.jsx("div",{className:"main-content-area",style:{flex:1,overflow:"auto",padding:"24px",background:"transparent"},children:N.jsx("div",{className:"fade-in",children:N.jsx(NY,{})})})]})]})},h6=()=>[["cartesian"]];h6.props={};function vW(t,e){return t=t%(2*Math.PI),e=e%(2*Math.PI),t<0&&(t=2*Math.PI+t),e<0&&(e=2*Math.PI+e),t>=e&&(e=e+2*Math.PI),{startAngle:t,endAngle:e}}const p6=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1},n=Object.assign(Object.assign({},e),t);return Object.assign(Object.assign({},n),vW(n.startAngle,n.endAngle))},j1=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=p6(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",e,n,r,i]]};j1.props={};const v6=({startAngle:t=0,endAngle:e=Math.PI*6,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",t,e,n,r]];v6.props={};const pC=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];pC.props={transform:!0};const gW=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},g6=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=gW(t);return[...pC(),...j1({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};g6.props={};const y6=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:Math.PI*3/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},vC=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=y6(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...j1({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};vC.props={};const gC=()=>[["parallel",0,1,0,1]];gC.props={};const m6=({focusX:t=0,focusY:e=0,distortionX:n=2,distortionY:r=2,visual:i=!1})=>[["fisheye",t,e,n,r,i]];m6.props={transform:!0};const b6=t=>{const{startAngle:e=-Math.PI/2,endAngle:n=Math.PI*3/2,innerRadius:r=0,outerRadius:i=1}=t;return[...gC(),...j1({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};b6.props={};const x6=({value:t})=>e=>e.map(()=>t);x6.props={};const _6=({value:t})=>e=>e.map(t);_6.props={};const w6=({value:t})=>e=>e.map(n=>n[t]);w6.props={};const O6=({value:t})=>()=>t;O6.props={};var Qv=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},S6=function(t,e){if(!Qv(t))return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];e(i,r)&&n.push(i)}return n};function pi(t){return typeof t=="function"}function ue(t){return t==null}function $r(t){return Array.isArray(t)}const L1=(function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"});function yC(t,e){if(t){var n;if($r(t))for(var r=0,i=t.length;r<i&&(n=e(t[r],r),n!==!1);r++);else if(L1(t)){for(var a in t)if(t.hasOwnProperty(a)&&(n=e(t[a],a),n===!1))break}}}var mC=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return yC(t,function(n,r){pi(t)&&r==="prototype"||e.push(r)}),e};function yW(t,e){var n=mC(e),r=n.length;if(ue(t))return!r;for(var i=0;i<r;i+=1){var a=n[i];if(e[a]!==t[a]||!(a in t))return!1}return!0}var sT=function(t){return typeof t=="object"&&t!==null},mW={}.toString,E6=function(t,e){return mW.call(t)==="[object "+e+"]"},Dc=function(t){if(!sT(t)||!E6(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function Jv(t,e){if(!$r(t))return null;var n;if(pi(e)&&(n=e),Dc(e)&&(n=function(i){return yW(i,e)}),n){for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r]}return null}var bW=function(t){if(!$r(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e};function dw(t){if(!Array.isArray(t))return-1/0;var e=t.length;if(!e)return-1/0;for(var n=t[0],r=1;r<e;r++)n=Math.max(n,t[r]);return n}const hw=(function(t){if($r(t))return t.reduce(function(e,n){return Math.min(e,n)},t[0])});var A6=function(t,e,n){if(!$r(t)&&!Dc(t))return t;var r=n;return yC(t,function(i,a){r=e(r,i,a)}),r};function tr(t){return typeof t=="string"}function qo(t){if(Qv(t)){var e=t;return e[e.length-1]}}var jr=function(t,e,n){return t<e?e:t>n?n:t};function Kn(t){return typeof t=="number"}var xW=1e-5;function Tm(t,e,n){return n===void 0&&(n=xW),t===e||Math.abs(t-e)<n}const _W=(function(t,e){if($r(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var a=t[i],o=pi(e)?e(a):a[e];o>r&&(n=a,r=o)}return n}}),wW=(function(t,e){if($r(t)){for(var n,r=1/0,i=0;i<t.length;i++){var a=t[i],o=pi(e)?e(a):a[e];o<r&&(n=a,r=o)}return n}});var M6=function(t,e){return(t%e+e)%e};const T6=(function(t){return ue(t)?"":t.toString()});var k6=function(t){var e=T6(t);return e.charAt(0).toLowerCase()+e.substring(1)};function OW(t,e){return!t||!e?t:t.replace(/\\?\{([^{}]+)\}/g,function(n,r){return n.charAt(0)==="\\"?n.slice(1):e[r]===void 0?"":e[r]})}var gf=function(t){var e=T6(t);return e.charAt(0).toUpperCase()+e.substring(1)},GR=function(t){return E6(t,"Boolean")};function C6(t){return t===null}var jn=function(t){return t===void 0};function SW(t){return t instanceof Element||t instanceof Document}function YR(t,e){for(var n in e)e.hasOwnProperty(n)&&n!=="constructor"&&e[n]!==void 0&&(t[n]=e[n])}function R6(t,e,n,r){return e&&YR(t,e),n&&YR(t,n),t}var Xm=function(t){if(typeof t!="object"||t===null)return t;var e;if($r(t)){e=[];for(var n=0,r=t.length;n<r;n++)typeof t[n]=="object"&&t[n]!=null?e[n]=Xm(t[n]):e[n]=t[n]}else{e={};for(var i in t)typeof t[i]=="object"&&t[i]!=null?e[i]=Xm(t[i]):e[i]=t[i]}return e};function P6(t,e,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,t.apply(i,a)};clearTimeout(r),r=setTimeout(o,e)}}function EW(t){var e,n,r,i=t;function a(s,l){++e>i&&(r=n,o(1),++e),n[s]=l}function o(s){e=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return a(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:a(s,l)}}}var pA=new Map;function AW(t,e,n){var r=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e?e.apply(this,i):i[0];pA.has(t)||pA.set(t,EW(n));var s=pA.get(t);if(s.has(o))return s.get(o);var l=t.apply(this,i);return s.set(o,l),l};return r}var MW=5;function TW(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function j6(t,e,n,r){n=n||0,r=r||MW;for(var i in e)if(TW(e,i)){var a=e[i];a!==null&&Dc(a)?(Dc(t[i])||(t[i]={}),n<r?j6(t[i],a,n+1,r):t[i]=e[i]):$r(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var wt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)j6(t,e[r]);return t},L6=function(t,e){if(!Qv(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},Vm=function(t,e){if(t===e)return!0;if(!t||!e||tr(t)||tr(e))return!1;if(Qv(t)||Qv(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length&&(n=Vm(t[r],e[r]),!!n);r++);return n}if(sT(t)||sT(e)){var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(var n=!0,r=0;r<i.length&&(n=Vm(t[i[r]],e[i[r]]),!!n);r++);return n}return!1},kW=function(t){return t};const CW=(function(t,e){e===void 0&&(e=kW);var n={};return L1(t)&&!ue(t)&&Object.keys(t).forEach(function(r){n[r]=e(t[r],r)}),n}),_e=(function(t,e,n){for(var r=0,i=tr(e)?e.split("."):e;t&&r<i.length;)t=t[i[r++]];return t===void 0||r<i.length?n:t}),bC=(function(t,e,n){var r=t,i=tr(e)?e.split("."):e;return i.forEach(function(a,o){o<i.length-1?(L1(r[a])||(r[a]=Kn(i[o+1])?[]:{}),r=r[a]):r[a]=n}),t});var RW=Object.prototype.hasOwnProperty;const xC=(function(t,e){if(t===null||!Dc(t))return{};var n={};return yC(e,function(r){RW.call(t,r)&&(n[r]=t[r])}),n}),_C=(function(t,e){return A6(t,function(n,r,i){return e.includes(i)||(n[i]=r),n},{})}),vh=(function(t,e,n){var r,i,a,o,s=0;n||(n={});var l=function(){s=n.leading===!1?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},c=function(){var u=Date.now();!s&&n.leading===!1&&(s=u);var d=e-(u-s);return i=this,a=arguments,d<=0||d>e?(r&&(clearTimeout(r),r=null),s=u,o=t.apply(i,a),r||(i=a=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,d)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c}),vA=(function(){}),Ul=(function(t){return t});function Km(t){return ue(t)?0:Qv(t)?t.length:Object.keys(t).length}var pr=1e-6,Zr=typeof Float32Array<"u"?Float32Array:Array,PW="zyx";function Eg(){var t=new Zr(9);return Zr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function jW(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function LW(t){var e=new Zr(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function NW(t,e,n,r,i,a,o,s,l){var c=new Zr(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=a,c[6]=o,c[7]=s,c[8]=l,c}function DW(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=u*o-s*c,h=-u*a+s*l,v=c*a-o*l,g=n*d+r*h+i*v;return g?(g=1/g,t[0]=d*g,t[1]=(-u*r+i*c)*g,t[2]=(s*r-i*o)*g,t[3]=h*g,t[4]=(u*n-i*l)*g,t[5]=(-s*n+i*a)*g,t[6]=v*g,t[7]=(-c*n+r*l)*g,t[8]=(o*n-r*a)*g,t):null}function IW(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=n[0],v=n[1],g=n[2],b=n[3],x=n[4],_=n[5],w=n[6],E=n[7],A=n[8];return t[0]=h*r+v*o+g*c,t[1]=h*i+v*s+g*u,t[2]=h*a+v*l+g*d,t[3]=b*r+x*o+_*c,t[4]=b*i+x*s+_*u,t[5]=b*a+x*l+_*d,t[6]=w*r+E*o+A*c,t[7]=w*i+E*s+A*u,t[8]=w*a+E*l+A*d,t}function BW(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function $W(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function zW(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}var FW=IW;function An(){var t=new Zr(16);return Zr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function wC(t){var e=new Zr(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function tg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function N6(t,e,n,r,i,a,o,s,l,c,u,d,h,v,g,b){var x=new Zr(16);return x[0]=t,x[1]=e,x[2]=n,x[3]=r,x[4]=i,x[5]=a,x[6]=o,x[7]=s,x[8]=l,x[9]=c,x[10]=u,x[11]=d,x[12]=h,x[13]=v,x[14]=g,x[15]=b,x}function lT(t,e,n,r,i,a,o,s,l,c,u,d,h,v,g,b,x){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=h,t[12]=v,t[13]=g,t[14]=b,t[15]=x,t}function uf(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function D6(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Ls(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],v=e[11],g=e[12],b=e[13],x=e[14],_=e[15],w=n*s-r*o,E=n*l-i*o,A=n*c-a*o,M=r*l-i*s,T=r*c-a*s,C=i*c-a*l,R=u*b-d*g,j=u*x-h*g,I=u*_-v*g,D=d*x-h*b,B=d*_-v*b,$=h*_-v*x,U=w*$-E*B+A*D+M*I-T*j+C*R;return U?(U=1/U,t[0]=(s*$-l*B+c*D)*U,t[1]=(i*B-r*$-a*D)*U,t[2]=(b*C-x*T+_*M)*U,t[3]=(h*T-d*C-v*M)*U,t[4]=(l*I-o*$-c*j)*U,t[5]=(n*$-i*I+a*j)*U,t[6]=(x*A-g*C-_*E)*U,t[7]=(u*C-h*A+v*E)*U,t[8]=(o*B-s*I+c*R)*U,t[9]=(r*I-n*B-a*R)*U,t[10]=(g*T-b*A+_*w)*U,t[11]=(d*A-u*T-v*w)*U,t[12]=(s*j-o*D-l*R)*U,t[13]=(n*D-r*j+i*R)*U,t[14]=(b*E-g*M-x*w)*U,t[15]=(u*M-d*E+h*w)*U,t):null}function UW(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],v=e[11],g=e[12],b=e[13],x=e[14],_=e[15],w=n*s-r*o,E=n*l-i*o,A=n*c-a*o,M=r*l-i*s,T=r*c-a*s,C=i*c-a*l,R=u*b-d*g,j=u*x-h*g,I=u*_-v*g,D=d*x-h*b,B=d*_-v*b,$=h*_-v*x;return t[0]=s*$-l*B+c*D,t[1]=i*B-r*$-a*D,t[2]=b*C-x*T+_*M,t[3]=h*T-d*C-v*M,t[4]=l*I-o*$-c*j,t[5]=n*$-i*I+a*j,t[6]=x*A-g*C-_*E,t[7]=u*C-h*A+v*E,t[8]=o*B-s*I+c*R,t[9]=r*I-n*B-a*R,t[10]=g*T-b*A+_*w,t[11]=d*A-u*T-v*w,t[12]=s*j-o*D-l*R,t[13]=n*D-r*j+i*R,t[14]=b*E-g*M-x*w,t[15]=u*M-d*E+h*w,t}function I6(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11],v=t[12],g=t[13],b=t[14],x=t[15],_=e*o-n*a,w=e*s-r*a,E=n*s-r*o,A=c*g-u*v,M=c*b-d*v,T=u*b-d*g,C=e*T-n*M+r*A,R=a*T-o*M+s*A,j=c*E-u*w+d*_,I=v*E-g*w+b*_;return l*C-i*R+x*j-h*I}function oa(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],v=e[10],g=e[11],b=e[12],x=e[13],_=e[14],w=e[15],E=n[0],A=n[1],M=n[2],T=n[3];return t[0]=E*r+A*s+M*d+T*b,t[1]=E*i+A*l+M*h+T*x,t[2]=E*a+A*c+M*v+T*_,t[3]=E*o+A*u+M*g+T*w,E=n[4],A=n[5],M=n[6],T=n[7],t[4]=E*r+A*s+M*d+T*b,t[5]=E*i+A*l+M*h+T*x,t[6]=E*a+A*c+M*v+T*_,t[7]=E*o+A*u+M*g+T*w,E=n[8],A=n[9],M=n[10],T=n[11],t[8]=E*r+A*s+M*d+T*b,t[9]=E*i+A*l+M*h+T*x,t[10]=E*a+A*c+M*v+T*_,t[11]=E*o+A*u+M*g+T*w,E=n[12],A=n[13],M=n[14],T=n[15],t[12]=E*r+A*s+M*d+T*b,t[13]=E*i+A*l+M*h+T*x,t[14]=E*a+A*c+M*v+T*_,t[15]=E*o+A*u+M*g+T*w,t}function zv(t,e,n){var r=n[0],i=n[1],a=n[2],o,s,l,c,u,d,h,v,g,b,x,_;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15]):(o=e[0],s=e[1],l=e[2],c=e[3],u=e[4],d=e[5],h=e[6],v=e[7],g=e[8],b=e[9],x=e[10],_=e[11],t[0]=o,t[1]=s,t[2]=l,t[3]=c,t[4]=u,t[5]=d,t[6]=h,t[7]=v,t[8]=g,t[9]=b,t[10]=x,t[11]=_,t[12]=o*r+u*i+g*a+e[12],t[13]=s*r+d*i+b*a+e[13],t[14]=l*r+h*i+x*a+e[14],t[15]=c*r+v*i+_*a+e[15]),t}function B6(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function HW(t,e,n,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),l,c,u,d,h,v,g,b,x,_,w,E,A,M,T,C,R,j,I,D,B,$,U,G;return s<pr?null:(s=1/s,i*=s,a*=s,o*=s,l=Math.sin(n),c=Math.cos(n),u=1-c,d=e[0],h=e[1],v=e[2],g=e[3],b=e[4],x=e[5],_=e[6],w=e[7],E=e[8],A=e[9],M=e[10],T=e[11],C=i*i*u+c,R=a*i*u+o*l,j=o*i*u-a*l,I=i*a*u-o*l,D=a*a*u+c,B=o*a*u+i*l,$=i*o*u+a*l,U=a*o*u-i*l,G=o*o*u+c,t[0]=d*C+b*R+E*j,t[1]=h*C+x*R+A*j,t[2]=v*C+_*R+M*j,t[3]=g*C+w*R+T*j,t[4]=d*I+b*D+E*B,t[5]=h*I+x*D+A*B,t[6]=v*I+_*D+M*B,t[7]=g*I+w*D+T*B,t[8]=d*$+b*U+E*G,t[9]=h*$+x*U+A*G,t[10]=v*$+_*U+M*G,t[11]=g*$+w*U+T*G,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function $6(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+u*r,t[6]=s*i+d*r,t[7]=l*i+h*r,t[8]=c*i-a*r,t[9]=u*i-o*r,t[10]=d*i-s*r,t[11]=h*i-l*r,t}function z6(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-u*r,t[2]=s*i-d*r,t[3]=l*i-h*r,t[8]=a*r+c*i,t[9]=o*r+u*i,t[10]=s*r+d*i,t[11]=l*r+h*i,t}function GW(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+u*r,t[2]=s*i+d*r,t[3]=l*i+h*r,t[4]=c*i-a*r,t[5]=u*i-o*r,t[6]=d*i-s*r,t[7]=h*i-l*r,t}function Mc(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Wu(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F6(t,e,n){var r=n[0],i=n[1],a=n[2],o=Math.sqrt(r*r+i*i+a*a),s,l,c;return o<pr?null:(o=1/o,r*=o,i*=o,a*=o,s=Math.sin(e),l=Math.cos(e),c=1-l,t[0]=r*r*c+l,t[1]=i*r*c+a*s,t[2]=a*r*c-i*s,t[3]=0,t[4]=r*i*c-a*s,t[5]=i*i*c+l,t[6]=a*i*c+r*s,t[7]=0,t[8]=r*a*c+i*s,t[9]=i*a*c-r*s,t[10]=a*a*c+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function U6(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function H6(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function cT(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G6(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,c=a+a,u=r*s,d=r*l,h=r*c,v=i*l,g=i*c,b=a*c,x=o*s,_=o*l,w=o*c;return t[0]=1-(v+b),t[1]=d+w,t[2]=h-_,t[3]=0,t[4]=d-w,t[5]=1-(u+b),t[6]=g+x,t[7]=0,t[8]=h+_,t[9]=g-x,t[10]=1-(u+v),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function YW(t,e){var n=new Zr(3),r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=r*r+i*i+a*a+o*o;return d>0?(n[0]=(s*o+u*r+l*a-c*i)*2/d,n[1]=(l*o+u*i+c*r-s*a)*2/d,n[2]=(c*o+u*a+s*i-l*r)*2/d):(n[0]=(s*o+u*r+l*a-c*i)*2,n[1]=(l*o+u*i+c*r-s*a)*2,n[2]=(c*o+u*a+s*i-l*r)*2),G6(t,e,n),t}function pw(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function eg(t,e){var n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(a*a+o*o+s*s),t[2]=Math.sqrt(l*l+c*c+u*u),t}function vw(t,e){var n=new Zr(3);eg(n,e);var r=1/n[0],i=1/n[1],a=1/n[2],o=e[0]*r,s=e[1]*i,l=e[2]*a,c=e[4]*r,u=e[5]*i,d=e[6]*a,h=e[8]*r,v=e[9]*i,g=e[10]*a,b=o+u+g,x=0;return b>0?(x=Math.sqrt(b+1)*2,t[3]=.25*x,t[0]=(d-v)/x,t[1]=(h-l)/x,t[2]=(s-c)/x):o>u&&o>g?(x=Math.sqrt(1+o-u-g)*2,t[3]=(d-v)/x,t[0]=.25*x,t[1]=(s+c)/x,t[2]=(h+l)/x):u>g?(x=Math.sqrt(1+u-o-g)*2,t[3]=(h-l)/x,t[0]=(s+c)/x,t[1]=.25*x,t[2]=(d+v)/x):(x=Math.sqrt(1+g-o-u)*2,t[3]=(s-c)/x,t[0]=(h+l)/x,t[1]=(d+v)/x,t[2]=.25*x),t}function qW(t,e,n,r){e[0]=r[12],e[1]=r[13],e[2]=r[14];var i=r[0],a=r[1],o=r[2],s=r[4],l=r[5],c=r[6],u=r[8],d=r[9],h=r[10];n[0]=Math.sqrt(i*i+a*a+o*o),n[1]=Math.sqrt(s*s+l*l+c*c),n[2]=Math.sqrt(u*u+d*d+h*h);var v=1/n[0],g=1/n[1],b=1/n[2],x=i*v,_=a*g,w=o*b,E=s*v,A=l*g,M=c*b,T=u*v,C=d*g,R=h*b,j=x+A+R,I=0;return j>0?(I=Math.sqrt(j+1)*2,t[3]=.25*I,t[0]=(M-C)/I,t[1]=(T-w)/I,t[2]=(_-E)/I):x>A&&x>R?(I=Math.sqrt(1+x-A-R)*2,t[3]=(M-C)/I,t[0]=.25*I,t[1]=(_+E)/I,t[2]=(T+w)/I):A>R?(I=Math.sqrt(1+A-x-R)*2,t[3]=(T-w)/I,t[0]=(_+E)/I,t[1]=.25*I,t[2]=(M+C)/I):(I=Math.sqrt(1+R-x-A)*2,t[3]=(_-E)/I,t[0]=(T+w)/I,t[1]=(M+C)/I,t[2]=.25*I),t}function WW(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],l=i+i,c=a+a,u=o+o,d=i*l,h=i*c,v=i*u,g=a*c,b=a*u,x=o*u,_=s*l,w=s*c,E=s*u,A=r[0],M=r[1],T=r[2];return t[0]=(1-(g+x))*A,t[1]=(h+E)*A,t[2]=(v-w)*A,t[3]=0,t[4]=(h-E)*M,t[5]=(1-(d+x))*M,t[6]=(b+_)*M,t[7]=0,t[8]=(v+w)*T,t[9]=(b-_)*T,t[10]=(1-(d+g))*T,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function km(t,e,n,r,i){var a=e[0],o=e[1],s=e[2],l=e[3],c=a+a,u=o+o,d=s+s,h=a*c,v=a*u,g=a*d,b=o*u,x=o*d,_=s*d,w=l*c,E=l*u,A=l*d,M=r[0],T=r[1],C=r[2],R=i[0],j=i[1],I=i[2],D=(1-(b+_))*M,B=(v+A)*M,$=(g-E)*M,U=(v-A)*T,G=(1-(h+_))*T,F=(x+w)*T,H=(g+E)*C,Y=(x-w)*C,W=(1-(h+b))*C;return t[0]=D,t[1]=B,t[2]=$,t[3]=0,t[4]=U,t[5]=G,t[6]=F,t[7]=0,t[8]=H,t[9]=Y,t[10]=W,t[11]=0,t[12]=n[0]+R-(D*R+U*j+H*I),t[13]=n[1]+j-(B*R+G*j+Y*I),t[14]=n[2]+I-($*R+F*j+W*I),t[15]=1,t}function OC(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,d=r*s,h=i*o,v=i*s,g=i*l,b=a*o,x=a*s,_=a*l;return t[0]=1-d-g,t[1]=u+_,t[2]=h-x,t[3]=0,t[4]=u-_,t[5]=1-c-g,t[6]=v+b,t[7]=0,t[8]=h+x,t[9]=v-b,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function XW(t,e,n,r,i,a,o){var s=1/(n-e),l=1/(i-r),c=1/(a-o);return t[0]=a*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}function Y6(t,e,n,r,i){var a=1/Math.tan(e/2);if(t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var o=1/(r-i);t[10]=(i+r)*o,t[14]=2*i*r*o}else t[10]=-1,t[14]=-2*r;return t}var VW=Y6;function KW(t,e,n,r,i){var a=1/Math.tan(e/2);if(t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){var o=1/(r-i);t[10]=i*o,t[14]=i*r*o}else t[10]=-1,t[14]=-r;return t}function ZW(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((o-s)*l*.5),t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function q6(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*c,t[15]=1,t}var W6=q6;function X6(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=a*c,t[15]=1,t}function V6(t,e,n,r){var i,a,o,s,l,c,u,d,h,v,g=e[0],b=e[1],x=e[2],_=r[0],w=r[1],E=r[2],A=n[0],M=n[1],T=n[2];return Math.abs(g-A)<pr&&Math.abs(b-M)<pr&&Math.abs(x-T)<pr?uf(t):(u=g-A,d=b-M,h=x-T,v=1/Math.sqrt(u*u+d*d+h*h),u*=v,d*=v,h*=v,i=w*h-E*d,a=E*u-_*h,o=_*d-w*u,v=Math.sqrt(i*i+a*a+o*o),v?(v=1/v,i*=v,a*=v,o*=v):(i=0,a=0,o=0),s=d*o-h*a,l=h*i-u*o,c=u*a-d*i,v=Math.sqrt(s*s+l*l+c*c),v?(v=1/v,s*=v,l*=v,c*=v):(s=0,l=0,c=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=a,t[5]=l,t[6]=d,t[7]=0,t[8]=o,t[9]=c,t[10]=h,t[11]=0,t[12]=-(i*g+a*b+o*x),t[13]=-(s*g+l*b+c*x),t[14]=-(u*g+d*b+h*x),t[15]=1,t)}function QW(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=r[0],l=r[1],c=r[2],u=i-n[0],d=a-n[1],h=o-n[2],v=u*u+d*d+h*h;v>0&&(v=1/Math.sqrt(v),u*=v,d*=v,h*=v);var g=l*h-c*d,b=c*u-s*h,x=s*d-l*u;return v=g*g+b*b+x*x,v>0&&(v=1/Math.sqrt(v),g*=v,b*=v,x*=v),t[0]=g,t[1]=b,t[2]=x,t[3]=0,t[4]=d*x-h*b,t[5]=h*g-u*x,t[6]=u*b-d*g,t[7]=0,t[8]=u,t[9]=d,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function JW(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function tX(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3]+t[4]*t[4]+t[5]*t[5]+t[6]*t[6]+t[7]*t[7]+t[8]*t[8]+t[9]*t[9]+t[10]*t[10]+t[11]*t[11]+t[12]*t[12]+t[13]*t[13]+t[14]*t[14]+t[15]*t[15])}function eX(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function K6(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function nX(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function rX(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function uT(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function iX(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],h=t[10],v=t[11],g=t[12],b=t[13],x=t[14],_=t[15],w=e[0],E=e[1],A=e[2],M=e[3],T=e[4],C=e[5],R=e[6],j=e[7],I=e[8],D=e[9],B=e[10],$=e[11],U=e[12],G=e[13],F=e[14],H=e[15];return Math.abs(n-w)<=pr*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(r-E)<=pr*Math.max(1,Math.abs(r),Math.abs(E))&&Math.abs(i-A)<=pr*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(a-M)<=pr*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-T)<=pr*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-C)<=pr*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(l-R)<=pr*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(c-j)<=pr*Math.max(1,Math.abs(c),Math.abs(j))&&Math.abs(u-I)<=pr*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(d-D)<=pr*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(h-B)<=pr*Math.max(1,Math.abs(h),Math.abs(B))&&Math.abs(v-$)<=pr*Math.max(1,Math.abs(v),Math.abs($))&&Math.abs(g-U)<=pr*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(b-G)<=pr*Math.max(1,Math.abs(b),Math.abs(G))&&Math.abs(x-F)<=pr*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(_-H)<=pr*Math.max(1,Math.abs(_),Math.abs(H))}var SC=oa,aX=K6;const oX=Object.freeze(Object.defineProperty({__proto__:null,add:eX,adjoint:UW,clone:wC,copy:tg,create:An,decompose:qW,determinant:I6,equals:iX,exactEquals:uT,frob:tX,fromQuat:OC,fromQuat2:YW,fromRotation:F6,fromRotationTranslation:G6,fromRotationTranslationScale:WW,fromRotationTranslationScaleOrigin:km,fromScaling:Wu,fromTranslation:Mc,fromValues:N6,fromXRotation:U6,fromYRotation:H6,fromZRotation:cT,frustum:XW,getRotation:vw,getScaling:eg,getTranslation:pw,identity:uf,invert:Ls,lookAt:V6,mul:SC,multiply:oa,multiplyScalar:nX,multiplyScalarAndAdd:rX,ortho:W6,orthoNO:q6,orthoZO:X6,perspective:VW,perspectiveFromFieldOfView:ZW,perspectiveNO:Y6,perspectiveZO:KW,rotate:HW,rotateX:$6,rotateY:z6,rotateZ:GW,scale:B6,set:lT,str:JW,sub:aX,subtract:K6,targetTo:QW,translate:zv,transpose:D6},Symbol.toStringTag,{value:"Module"}));function Ye(){var t=new Zr(3);return Zr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ac(t){var e=new Zr(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Tc(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function vn(t,e,n){var r=new Zr(3);return r[0]=t,r[1]=e,r[2]=n,r}function Pl(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ra(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function rf(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function fT(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function sX(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function lX(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function cX(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function gw(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function uX(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function lh(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function jl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function H_(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],l=n[2];return t[0]=i*l-a*s,t[1]=a*o-r*l,t[2]=r*s-i*o,t}function dT(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t}function Rr(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}function Z6(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t}function fX(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],l=e[1],c=e[2],u=i*c-a*l,d=a*s-r*c,h=r*l-i*s;return u=u+u,d=d+d,h=h+h,t[0]=s+o*u+i*h-a*d,t[1]=l+o*d+a*u-r*h,t[2]=c+o*h+r*d-i*u,t}function Uy(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(n-a)<=pr*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-o)<=pr*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=pr*Math.max(1,Math.abs(i),Math.abs(s))}var dX=fT,qR=uX,Q6=Tc;(function(){var t=Ye();return function(e,n,r,i,a,o){var s,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}})();function Ll(){var t=new Zr(4);return Zr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function um(t,e,n,r){var i=new Zr(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function hX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function pX(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function vX(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=a*o,t}function Nl(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,t[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,t[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,t[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,t}(function(){var t=Ll();return function(e,n,r,i,a,o){var s,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}})();function hi(){var t=new Zr(4);return Zr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Ku(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function af(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+o*s+i*c-a*l,t[1]=i*u+o*l+a*s-r*c,t[2]=a*u+o*c+r*l-i*s,t[3]=o*u-r*s-i*l-a*c,t}function gA(t,e,n,r){var i=e[0],a=e[1],o=e[2],s=e[3],l=n[0],c=n[1],u=n[2],d=n[3],h,v,g,b,x;return v=i*l+a*c+o*u+s*d,v<0&&(v=-v,l=-l,c=-c,u=-u,d=-d),1-v>pr?(h=Math.acos(v),g=Math.sin(h),b=Math.sin((1-r)*h)/g,x=Math.sin(r*h)/g):(b=1-r,x=r),t[0]=b*i+x*l,t[1]=b*a+x*c,t[2]=b*o+x*u,t[3]=b*s+x*d,t}function yA(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=a*s,t}function gX(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[a*3+a]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[a*3+o]-e[o*3+a])*r,t[a]=(e[a*3+i]+e[i*3+a])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}function $2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:PW,a=Math.PI/360;e*=a,r*=a,n*=a;var o=Math.sin(e),s=Math.cos(e),l=Math.sin(n),c=Math.cos(n),u=Math.sin(r),d=Math.cos(r);switch(i){case"xyz":t[0]=o*c*d+s*l*u,t[1]=s*l*d-o*c*u,t[2]=s*c*u+o*l*d,t[3]=s*c*d-o*l*u;break;case"xzy":t[0]=o*c*d-s*l*u,t[1]=s*l*d-o*c*u,t[2]=s*c*u+o*l*d,t[3]=s*c*d+o*l*u;break;case"yxz":t[0]=o*c*d+s*l*u,t[1]=s*l*d-o*c*u,t[2]=s*c*u-o*l*d,t[3]=s*c*d+o*l*u;break;case"yzx":t[0]=o*c*d+s*l*u,t[1]=s*l*d+o*c*u,t[2]=s*c*u-o*l*d,t[3]=s*c*d-o*l*u;break;case"zxy":t[0]=o*c*d-s*l*u,t[1]=s*l*d+o*c*u,t[2]=s*c*u+o*l*d,t[3]=s*c*d-o*l*u;break;case"zyx":t[0]=o*c*d-s*l*u,t[1]=s*l*d+o*c*u,t[2]=s*c*u-o*l*d,t[3]=s*c*d+o*l*u;break;default:throw new Error("Unknown angle order "+i)}return t}var yX=um,z2=hX,J6=pX,WR=af,yw=vX;(function(){var t=Ye(),e=vn(1,0,0),n=vn(0,1,0);return function(r,i,a){var o=jl(i,a);return o<-.999999?(H_(t,e,i),Q6(t)<1e-6&&H_(t,n,i),lh(t,t),Ku(r,t,Math.PI),r):o>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(H_(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+o,yw(r,r))}})();(function(){var t=hi(),e=hi();return function(n,r,i,a,o,s){return gA(t,r,o,s),gA(e,i,a,s),gA(n,t,e,2*s*(1-s)),n}})();(function(){var t=Eg();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],yw(e,gX(e,t))}})();function EC(){var t=new Zr(2);return Zr!=Float32Array&&(t[0]=0,t[1]=0),t}function mX(t,e){return t[0]=e[0],t[1]=e[1],t}function bX(t,e,n){return t[0]=e,t[1]=n,t}function xX(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function _X(t,e){return t[0]*e[0]+t[1]*e[1]}function wX(t,e){return t[0]===e[0]&&t[1]===e[1]}(function(){var t=EC();return function(e,n,r,i,a,o){var s,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,e.length):l=e.length,s=r;s<l;s+=n)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}})();var ff=function(){return ff=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ff.apply(this,arguments)};function XR(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var t8={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function OX(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n],i=n;r.length;)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}var Cm={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function e8(t){return Array.isArray(t)&&t.every(function(e){var n=e[0].toLowerCase();return Cm[n]===e.length-1&&"achlmqstvz".includes(n)})}function n8(t){return e8(t)&&t.every(function(e){var n=e[0];return n===n.toUpperCase()})}function r8(t){return n8(t)&&t.every(function(e){var n=e[0];return"ACLMQZ".includes(n)})}function VR(t){for(var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;r.length>=Cm[n]&&(n==="m"&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e=e==="m"?"l":"L"):t.segments.push([e].concat(r.splice(0,Cm[n]))),!!Cm[n]););}function SX(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);if(r===48){t.param=0,t.index+=1;return}if(r===49){t.param=1,t.index+=1;return}t.err='[path-util]: invalid Arc flag "'.concat(n[e],'", expecting 0 or 1 at index ').concat(e)}function EX(t){return t>=48&&t<=57||t===43||t===45||t===46}function xv(t){return t>=48&&t<=57}function AX(t){var e=t.max,n=t.pathValue,r=t.index,i=r,a=!1,o=!1,s=!1,l=!1,c;if(i>=e){t.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');return}if(c=n.charCodeAt(i),(c===43||c===45)&&(i+=1,c=n.charCodeAt(i)),!xv(c)&&c!==46){t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" is not a number');return}if(c!==46){if(a=c===48,i+=1,c=n.charCodeAt(i),a&&i<e&&c&&xv(c)){t.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(n[r],'" illegal number');return}for(;i<e&&xv(n.charCodeAt(i));)i+=1,o=!0;c=n.charCodeAt(i)}if(c===46){for(l=!0,i+=1;xv(n.charCodeAt(i));)i+=1,s=!0;c=n.charCodeAt(i)}if(c===101||c===69){if(l&&!o&&!s){t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid float exponent');return}if(i+=1,c=n.charCodeAt(i),(c===43||c===45)&&(i+=1),i<e&&xv(n.charCodeAt(i)))for(;i<e&&xv(n.charCodeAt(i));)i+=1;else{t.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(n[i],'" invalid integer exponent');return}}t.index=i,t.param=+t.pathValue.slice(r,i)}function MX(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return t===10||t===13||t===8232||t===8233||t===32||t===9||t===11||t===12||t===160||t>=5760&&e.includes(t)}function G_(t){for(var e=t.pathValue,n=t.max;t.index<n&&MX(e.charCodeAt(t.index));)t.index+=1}function TX(t){switch(t|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function kX(t){return(t|32)===97}function CX(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),a=Cm[n[r].toLowerCase()];if(t.segmentStart=r,!TX(i)){t.err='[path-util]: Invalid path value "'.concat(n[r],'" is not a path command');return}if(t.index+=1,G_(t),t.data=[],!a){VR(t);return}for(;;){for(var o=a;o>0;o-=1){if(kX(i)&&(o===3||o===4)?SX(t):AX(t),t.err.length)return;t.data.push(t.param),G_(t),t.index<e&&n.charCodeAt(t.index)===44&&(t.index+=1,G_(t))}if(t.index>=t.max||!EX(n.charCodeAt(t.index)))break}VR(t)}var RX=(function(){function t(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t})();function PX(t){if(e8(t))return[].concat(t);var e=new RX(t);for(G_(e);e.index<e.max&&!e.err.length;)CX(e);return e.err?e.err:e.segments}function jX(t){if(n8(t))return[].concat(t);var e=PX(t),n=0,r=0,i=0,a=0;return e.map(function(o){var s=o.slice(1).map(Number),l=o[0],c=l.toUpperCase();if(l==="M")return n=s[0],r=s[1],i=n,a=r,["M",n,r];var u;if(l!==c)switch(c){case"A":u=[c,s[0],s[1],s[2],s[3],s[4],s[5]+n,s[6]+r];break;case"V":u=[c,s[0]+r];break;case"H":u=[c,s[0]+n];break;default:{var d=s.map(function(v,g){return v+(g%2?r:n)});u=[c].concat(d)}}else u=[c].concat(s);var h=u.length;switch(c){case"Z":n=i,r=a;break;case"H":n=u[1];break;case"V":r=u[1];break;default:n=u[h-2],r=u[h-1],c==="M"&&(i=n,a=r)}return u})}function LX(t,e){var n=t[0],r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=t.slice(1).map(Number),l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),n==="H")l=["L",t[1],i];else if(n==="V")l=["L",r,t[1]];else if(n==="S"){var c=r*2-a,u=i*2-o;e.x1=c,e.y1=u,l=["C",c,u].concat(s)}else if(n==="T"){var d=r*2-e.qx,h=i*2-e.qy;e.qx=d,e.qy=h,l=["Q",d,h].concat(s)}else if(n==="Q"){var v=s[0],g=s[1];e.qx=v,e.qy=g}return l}function mw(t){if(r8(t))return[].concat(t);for(var e=jX(t),n=ff({},t8),r=0;r<e.length;r+=1){e[r]=LX(e[r],n);var i=e[r],a=i.length;n.x1=+i[a-2],n.y1=+i[a-1],n.x2=+i[a-4]||n.x1,n.y2=+i[a-3]||n.y1}return e}function NX(t){return r8(t)&&t.every(function(e){var n=e[0];return"MC".includes(n)})}function F2(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}}function AC(t,e,n,r,i,a,o,s,l,c){var u=t,d=e,h=n,v=r,g=s,b=l,x=Math.PI*120/180,_=Math.PI/180*(+i||0),w=[],E,A,M,T,C;if(c)A=c[0],M=c[1],T=c[2],C=c[3];else{E=F2(u,d,-_),u=E.x,d=E.y,E=F2(g,b,-_),g=E.x,b=E.y;var R=(u-g)/2,j=(d-b)/2,I=R*R/(h*h)+j*j/(v*v);I>1&&(I=Math.sqrt(I),h*=I,v*=I);var D=h*h,B=v*v,$=(a===o?-1:1)*Math.sqrt(Math.abs((D*B-D*j*j-B*R*R)/(D*j*j+B*R*R)));T=$*h*j/v+(u+g)/2,C=$*-v*R/h+(d+b)/2,A=Math.asin(((d-C)/v*Math.pow(10,9)>>0)/Math.pow(10,9)),M=Math.asin(((b-C)/v*Math.pow(10,9)>>0)/Math.pow(10,9)),A=u<T?Math.PI-A:A,M=g<T?Math.PI-M:M,A<0&&(A=Math.PI*2+A),M<0&&(M=Math.PI*2+M),o&&A>M&&(A-=Math.PI*2),!o&&M>A&&(M-=Math.PI*2)}var U=M-A;if(Math.abs(U)>x){var G=M,F=g,H=b;M=A+x*(o&&M>A?1:-1),g=T+h*Math.cos(M),b=C+v*Math.sin(M),w=AC(g,b,h,v,i,0,o,F,H,[M,G,T,C])}U=M-A;var Y=Math.cos(A),W=Math.sin(A),V=Math.cos(M),J=Math.sin(M),tt=Math.tan(U/4),nt=4/3*h*tt,lt=4/3*v*tt,at=[u,d],ft=[u+nt*W,d-lt*Y],mt=[g+nt*J,b-lt*V],ct=[g,b];if(ft[0]=2*at[0]-ft[0],ft[1]=2*at[1]-ft[1],c)return ft.concat(mt,ct,w);w=ft.concat(mt,ct,w);for(var St=[],Mt=0,It=w.length;Mt<It;Mt+=1)St[Mt]=Mt%2?F2(w[Mt-1],w[Mt],_).y:F2(w[Mt],w[Mt+1],_).x;return St}function DX(t,e,n,r,i,a){var o=.3333333333333333,s=2/3;return[o*t+s*n,o*e+s*r,o*i+s*n,o*a+s*r,i,a]}function Gu(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return[r+(a-r)*n,i+(o-i)*n]}var KR=function(t,e,n,r){var i=.5,a=Gu([t,e],[n,r],i);return XR(XR([],a,!0),[n,r,n,r],!1)};function IX(t,e){var n=t[0],r=t.slice(1).map(Number),i=r[0],a=r[1],o,s=e.x1,l=e.y1,c=e.x,u=e.y;switch("TQ".includes(n)||(e.qx=null,e.qy=null),n){case"M":return e.x=i,e.y=a,t;case"A":return o=[s,l].concat(r),["C"].concat(AC(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return e.qx=i,e.qy=a,o=[s,l].concat(r),["C"].concat(DX(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat(KR(s,l,i,a));case"Z":return s===c&&l===u?["C",s,l,c,u,c,u]:["C"].concat(KR(s,l,c,u))}return t}function hT(t,e){if(e===void 0&&(e=!1),NX(t)){var n=[].concat(t);return e?[n,[]]:n}for(var r=mw(t),i=ff({},t8),a=[],o="",s=r.length,l,c,u=[],d=0;d<s;d+=1){r[d]&&(o=r[d][0]),a[d]=o;var h=IX(r[d],i);r[d]=h,OX(r,a,d),s=r.length,o==="Z"&&u.push(d),l=r[d],c=l.length,i.x1=+l[c-2],i.y1=+l[c-1],i.x2=+l[c-4]||i.x1,i.y2=+l[c-3]||i.y1}return e?[r,u]:r}function BX(t){return t.map(function(e){return Array.isArray(e)?[].concat(e):e})}function $X(t){var e=t.slice(1).map(function(n,r,i){return r?i[r-1].slice(-2).concat(n.slice(1)):t[0].slice(1).concat(n.slice(1))}).map(function(n){return n.map(function(r,i){return n[n.length-i-2*(1-i%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(n){return["C"].concat(n.slice(2))}))}function Za(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function pT(t,e,n,r,i){var a=Za([t,e],[n,r]),o={x:0,y:0};if(typeof i=="number")if(i<=0)o={x:t,y:e};else if(i>=a)o={x:n,y:r};else{var s=Gu([t,e],[n,r],i/a),l=s[0],c=s[1];o={x:l,y:c}}return{length:a,point:o,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function ZR(t,e){var n=t.x,r=t.y,i=e.x,a=e.y,o=n*i+r*a,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(a,2))),l=n*a-r*i<0?-1:1,c=l*Math.acos(o/s);return c}function zX(t,e,n,r,i,a,o,s,l,c){var u=Math.abs,d=Math.sin,h=Math.cos,v=Math.sqrt,g=Math.PI,b=u(n),x=u(r),_=(i%360+360)%360,w=_*(g/180);if(t===s&&e===l)return{x:t,y:e};if(b===0||x===0)return pT(t,e,s,l,c).point;var E=(t-s)/2,A=(e-l)/2,M={x:h(w)*E+d(w)*A,y:-d(w)*E+h(w)*A},T=Math.pow(M.x,2)/Math.pow(b,2)+Math.pow(M.y,2)/Math.pow(x,2);T>1&&(b*=v(T),x*=v(T));var C=Math.pow(b,2)*Math.pow(x,2)-Math.pow(b,2)*Math.pow(M.y,2)-Math.pow(x,2)*Math.pow(M.x,2),R=Math.pow(b,2)*Math.pow(M.y,2)+Math.pow(x,2)*Math.pow(M.x,2),j=C/R;j=j<0?0:j;var I=(a!==o?1:-1)*v(j),D={x:I*(b*M.y/x),y:I*(-(x*M.x)/b)},B={x:h(w)*D.x-d(w)*D.y+(t+s)/2,y:d(w)*D.x+h(w)*D.y+(e+l)/2},$={x:(M.x-D.x)/b,y:(M.y-D.y)/x},U=ZR({x:1,y:0},$),G={x:(-M.x-D.x)/b,y:(-M.y-D.y)/x},F=ZR($,G);!o&&F>0?F-=2*g:o&&F<0&&(F+=2*g),F%=2*g;var H=U+F*c,Y=b*h(H),W=x*d(H),V={x:h(w)*Y-d(w)*W+B.x,y:d(w)*Y+h(w)*W+B.y};return V}function FX(t,e,n,r,i,a,o,s,l,c,u){var d,h=u.bbox,v=h===void 0?!0:h,g=u.length,b=g===void 0?!0:g,x=u.sampleSize,_=x===void 0?30:x,w=typeof c=="number",E=t,A=e,M=0,T=[E,A,M],C=[E,A],R=0,j={x:0,y:0},I=[{x:E,y:A}];w&&c<=0&&(j={x:E,y:A});for(var D=0;D<=_;D+=1){if(R=D/_,d=zX(t,e,n,r,i,a,o,s,l,R),E=d.x,A=d.y,v&&I.push({x:E,y:A}),b&&(M+=Za(C,[E,A])),C=[E,A],w&&M>=c&&c>T[2]){var B=(M-c)/(M-T[2]);j={x:C[0]*(1-B)+T[0]*B,y:C[1]*(1-B)+T[1]*B}}T=[E,A,M]}return w&&c>=M&&(j={x:s,y:l}),{length:M,point:j,min:{x:Math.min.apply(null,I.map(function($){return $.x})),y:Math.min.apply(null,I.map(function($){return $.y}))},max:{x:Math.max.apply(null,I.map(function($){return $.x})),y:Math.max.apply(null,I.map(function($){return $.y}))}}}function UX(t,e,n,r,i,a,o,s,l){var c=1-l;return{x:Math.pow(c,3)*t+3*Math.pow(c,2)*l*n+3*c*Math.pow(l,2)*i+Math.pow(l,3)*o,y:Math.pow(c,3)*e+3*Math.pow(c,2)*l*r+3*c*Math.pow(l,2)*a+Math.pow(l,3)*s}}function i8(t,e,n,r,i,a,o,s,l,c){var u,d=c.bbox,h=d===void 0?!0:d,v=c.length,g=v===void 0?!0:v,b=c.sampleSize,x=b===void 0?10:b,_=typeof l=="number",w=t,E=e,A=0,M=[w,E,A],T=[w,E],C=0,R={x:0,y:0},j=[{x:w,y:E}];_&&l<=0&&(R={x:w,y:E});for(var I=0;I<=x;I+=1){if(C=I/x,u=UX(t,e,n,r,i,a,o,s,C),w=u.x,E=u.y,h&&j.push({x:w,y:E}),g&&(A+=Za(T,[w,E])),T=[w,E],_&&A>=l&&l>M[2]){var D=(A-l)/(A-M[2]);R={x:T[0]*(1-D)+M[0]*D,y:T[1]*(1-D)+M[1]*D}}M=[w,E,A]}return _&&l>=A&&(R={x:o,y:s}),{length:A,point:R,min:{x:Math.min.apply(null,j.map(function(B){return B.x})),y:Math.min.apply(null,j.map(function(B){return B.y}))},max:{x:Math.max.apply(null,j.map(function(B){return B.x})),y:Math.max.apply(null,j.map(function(B){return B.y}))}}}function HX(t,e,n,r,i,a,o){var s=1-o;return{x:Math.pow(s,2)*t+2*s*o*n+Math.pow(o,2)*i,y:Math.pow(s,2)*e+2*s*o*r+Math.pow(o,2)*a}}function GX(t,e,n,r,i,a,o,s){var l,c=s.bbox,u=c===void 0?!0:c,d=s.length,h=d===void 0?!0:d,v=s.sampleSize,g=v===void 0?10:v,b=typeof o=="number",x=t,_=e,w=0,E=[x,_,w],A=[x,_],M=0,T={x:0,y:0},C=[{x,y:_}];b&&o<=0&&(T={x,y:_});for(var R=0;R<=g;R+=1){if(M=R/g,l=HX(t,e,n,r,i,a,M),x=l.x,_=l.y,u&&C.push({x,y:_}),h&&(w+=Za(A,[x,_])),A=[x,_],b&&w>=o&&o>E[2]){var j=(w-o)/(w-E[2]);T={x:A[0]*(1-j)+E[0]*j,y:A[1]*(1-j)+E[1]*j}}E=[x,_,w]}return b&&o>=w&&(T={x:i,y:a}),{length:w,point:T,min:{x:Math.min.apply(null,C.map(function(I){return I.x})),y:Math.min.apply(null,C.map(function(I){return I.y}))},max:{x:Math.max.apply(null,C.map(function(I){return I.x})),y:Math.max.apply(null,C.map(function(I){return I.y}))}}}function a8(t,e,n){for(var r,i,a,o,s,l,c=mw(t),u=typeof e=="number",d,h=[],v,g=0,b=0,x=0,_=0,w,E=[],A=[],M=0,T={x:0,y:0},C=T,R=T,j=T,I=0,D=0,B=c.length;D<B;D+=1)w=c[D],v=w[0],d=v==="M",h=d?h:[g,b].concat(w.slice(1)),d?(x=w[1],_=w[2],T={x,y:_},C=T,M=0,u&&e<.001&&(j=T)):v==="L"?(r=pT(h[0],h[1],h[2],h[3],(e||0)-I),M=r.length,T=r.min,C=r.max,R=r.point):v==="A"?(i=FX(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],(e||0)-I,n||{}),M=i.length,T=i.min,C=i.max,R=i.point):v==="C"?(a=i8(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],(e||0)-I,n||{}),M=a.length,T=a.min,C=a.max,R=a.point):v==="Q"?(o=GX(h[0],h[1],h[2],h[3],h[4],h[5],(e||0)-I,n||{}),M=o.length,T=o.min,C=o.max,R=o.point):v==="Z"&&(h=[g,b,x,_],s=pT(h[0],h[1],h[2],h[3],(e||0)-I),M=s.length,T=s.min,C=s.max,R=s.point),u&&I<e&&I+M>=e&&(j=R),A.push(C),E.push(T),I+=M,l=v!=="Z"?w.slice(-2):[x,_],g=l[0],b=l[1];return u&&e>=I&&(j={x:g,y:b}),{length:I,point:j,min:{x:Math.min.apply(null,E.map(function($){return $.x})),y:Math.min.apply(null,E.map(function($){return $.y}))},max:{x:Math.max.apply(null,A.map(function($){return $.x})),y:Math.max.apply(null,A.map(function($){return $.y}))}}}function YX(t,e){return a8(t,void 0,ff(ff({},e),{bbox:!1,length:!0})).length}function qX(t){var e=t.length,n=e-1;return t.map(function(r,i){return t.map(function(a,o){var s=i+o,l;return o===0||t[s]&&t[s][0]==="M"?(l=t[s],["M"].concat(l.slice(-2))):(s>=e&&(s-=n),t[s])})})}function WX(t,e){var n=t.length-1,r=[],i=0,a=0,o=qX(t);return o.forEach(function(s,l){t.slice(1).forEach(function(c,u){a+=Za(t[(l+u)%n].slice(-2),e[u%n].slice(-2))}),r[l]=a,a=0}),i=r.indexOf(Math.min.apply(null,r)),o[i]}function XX(t,e,n,r,i,a,o,s){return 3*((s-e)*(n+i)-(o-t)*(r+a)+r*(t-i)-n*(e-a)+s*(i+t/3)-o*(a+e/3))/20}function VX(t){var e=0,n=0,r=0;return hT(t).map(function(i){var a;switch(i[0]){case"M":return e=i[1],n=i[2],0;default:var o=i.slice(1),s=o[0],l=o[1],c=o[2],u=o[3],d=o[4],h=o[5];return r=XX(e,n,s,l,c,u,d,h),a=i.slice(-2),e=a[0],n=a[1],r}}).reduce(function(i,a){return i+a},0)}function QR(t){return VX(t)>=0}function KX(t,e,n){return a8(t,e,ff(ff({},n),{bbox:!1,length:!0})).point}var ZX=50;function QX(t,e){e===void 0&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),a=t.slice(6,8),o=Gu(n,r,e),s=Gu(r,i,e),l=Gu(i,a,e),c=Gu(o,s,e),u=Gu(s,l,e),d=Gu(c,u,e);return[["C"].concat(o,c,d),["C"].concat(u,l,a)]}function JR(t){return t.map(function(e,n,r){var i=n&&r[n-1].slice(-2).concat(e.slice(1)),a=n?i8(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0,o;return n?o=a?QX(i):[e,e]:o=[e],{s:e,ss:o,l:a}})}function o8(t,e,n,r){if(r===void 0&&(r=0),r>ZX)return console.warn("Maximum recursion depth reached in equalizeSegments"),[t,e];var i=JR(t),a=JR(e),o=i.length,s=a.length,l=i.filter(function(_){return _.l}).length,c=a.filter(function(_){return _.l}).length,u=i.filter(function(_){return _.l}).reduce(function(_,w){var E=w.l;return _+E},0)/l||0,d=a.filter(function(_){return _.l}).reduce(function(_,w){var E=w.l;return _+E},0)/c||0,h=n||Math.max(o,s),v=[u,d],g=[h-o,h-s],b=0,x=[i,a].map(function(_,w){return _.l===h?_.map(function(E){return E.s}):_.map(function(E,A){return b=A&&g[w]&&E.l>=v[w],g[w]-=b?1:0,b?E.ss:[E.s]}).flat()});return x[0].length===x[1].length?x:o8(x[0],x[1],h,r+1)}function tP(t){var e=document.createElement("div");e.innerHTML=t;var n=e.childNodes[0];return n&&e.contains(n)&&e.removeChild(n),n}function Yn(t,e){if(t!==null)return{type:"column",value:t,field:e}}function Zm(t,e){const n=Yn(t,e);return Object.assign(Object.assign({},n),{inferred:!0})}function bw(t,e){if(t!==null)return{type:"column",value:t,field:e,visual:!0}}function JX(t,e){const n=Yn(t,e);return Object.assign(Object.assign({},n),{constant:!1})}function of(t,e){const n=[];for(const r of t)n[r]=e;return n}function rn(t,e){const n=t[e];if(!n)return[null,null];const{value:r,field:i=null}=n;return[r,i]}function xw(t,...e){for(const n of e)if(typeof n=="string"){const[r,i]=rn(t,n);if(r!==null)return[r,i]}else return[n,null];return[null,null]}function N1(t){return t instanceof Date?!1:typeof t=="object"}const D1=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;return r!==void 0?[t,e]:[t,wt({},e,{encode:{y1:Zm(of(t,0))}})]};D1.props={};function Cr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tV(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Pc(t){let e,n,r;t.length!==2?(e=Cr,n=(s,l)=>Cr(t(s),l),r=(s,l)=>t(s)-l):(e=t===Cr||t===tV?t:eV,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function eV(){return 0}function vT(t){return t===null?NaN:+t}function*nV(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const s8=Pc(Cr),rV=s8.right,iV=s8.left,aV=Pc(vT).center;function l8(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function oV(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function c8(t,e){const n=oV(t,e);return n&&Math.sqrt(n)}function jc(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class gh{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}let sV=class extends Map{constructor(e,n=uV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(eP(this,e))}has(e){return super.has(eP(this,e))}set(e,n){return super.set(lV(this,e),n)}delete(e){return super.delete(cV(this,e))}};function eP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function cV({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function uV(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Qm(t){return t}function Vn(t,...e){return $O(t,Qm,Qm,e)}function MC(t,...e){return $O(t,Array.from,Qm,e)}function TC(t,e,...n){return $O(t,Qm,e,n)}function kC(t,e,...n){return $O(t,Array.from,e,n)}function $O(t,e,n,r){return(function i(a,o){if(o>=r.length)return n(a);const s=new sV,l=r[o++];let c=-1;for(const u of a){const d=l(u,++c,a),h=s.get(d);h?h.push(u):s.set(d,[u])}for(const[u,d]of s)s.set(u,i(d,o));return e(s)})(t,0)}function fV(t,e){return Array.from(e,n=>t[n])}function Ns(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const s=Jm(o[i],o[a]);if(s)return s}})):(n=t.map(n),r.sort((i,a)=>Jm(n[i],n[a]))),fV(t,r)}return t.sort(u8(n))}function u8(t=Cr){if(t===Cr)return Jm;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Jm(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function dV(t,e,n){return(e.length!==2?Ns(TC(t,e,n),(([r,i],[a,o])=>Cr(i,o)||Cr(r,a))):Ns(Vn(t,n),(([r,i],[a,o])=>e(i,o)||Cr(r,a)))).map(([r])=>r)}var hV=Array.prototype,pV=hV.slice;function mA(t){return()=>t}const vV=Math.sqrt(50),gV=Math.sqrt(10),yV=Math.sqrt(2);function _w(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=vV?10:a>=gV?5:a>=yV?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?_w(t,e,n*2):[s,l,c]}function mV(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?_w(e,t,n):_w(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function gT(t,e,n){return e=+e,t=+t,n=+n,_w(t,e,n)[2]}function bV(t,e,n){let r;for(;;){const i=gT(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function xV(t){return Math.max(1,Math.ceil(Math.log(l8(t))/Math.LN2)+1)}function _V(){var t=Qm,e=jc,n=xV;function r(i){Array.isArray(i)||(i=Array.from(i));var a,o=i.length,s,l,c=new Array(o);for(a=0;a<o;++a)c[a]=t(i[a],a,i);var u=e(c),d=u[0],h=u[1],v=n(c,d,h);if(!Array.isArray(v)){const E=h,A=+v;if(e===jc&&([d,h]=bV(d,h,A)),v=mV(d,h,A),v[0]<=d&&(l=gT(d,h,A)),v[v.length-1]>=h)if(E>=h&&e===jc){const M=gT(d,h,A);isFinite(M)&&(M>0?h=(Math.floor(h/M)+1)*M:M<0&&(h=(Math.ceil(h*-M)+1)/-M))}else v.pop()}for(var g=v.length,b=0,x=g;v[b]<=d;)++b;for(;v[x-1]>h;)--x;(b||x<g)&&(v=v.slice(b,x),g=x-b);var _=new Array(g+1),w;for(a=0;a<=g;++a)w=_[a]=[],w.x0=a>0?v[a-1]:d,w.x1=a<g?v[a]:h;if(isFinite(l)){if(l>0)for(a=0;a<o;++a)(s=c[a])!=null&&d<=s&&s<=h&&_[Math.min(g,Math.floor((s-d)/l))].push(i[a]);else if(l<0){for(a=0;a<o;++a)if((s=c[a])!=null&&d<=s&&s<=h){const E=Math.floor((d-s)*l);_[Math.min(g,E+(v[E]<=s))].push(i[a])}}}else for(a=0;a<o;++a)(s=c[a])!=null&&d<=s&&s<=h&&_[rV(v,s,0,g)].push(i[a]);return _}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:mA(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:mA([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:mA(Array.isArray(i)?pV.call(i):i),r):n},r}function Mn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ag(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function xo(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function I1(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function CC(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Jm:u8(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),v=Math.max(n,Math.floor(e-c*d/l+h)),g=Math.min(r,Math.floor(e+(l-c)*d/l+h));CC(t,e,v,g,i)}const a=t[e];let o=n,s=r;for(Hy(t,n,e),i(t[r],a)>0&&Hy(t,n,r);o<s;){for(Hy(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Hy(t,n,s):(++s,Hy(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Hy(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function wV(t,e=Cr){let n,r=!1;if(e.length===1){let i;for(const a of t){const o=e(a);(r?Cr(o,i)>0:Cr(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function zO(t,e,n){if(t=Float64Array.from(nV(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xo(t);if(e>=1)return Mn(t);var r,i=(r-1)*e,a=Math.floor(i),o=Mn(CC(t,a).subarray(0,a+1)),s=xo(t.subarray(a+1));return o+(s-o)*(i-a)}}function OV(t,e,n=vT){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(s,l)=>vT(n(t[l],l,t))),e<=0)return I1(r);if(e>=1)return Ag(r);var r,i=Uint32Array.from(t,(s,l)=>l),a=r.length-1,o=Math.floor(a*e);return CC(i,o,0,a,(s,l)=>Jm(r[s],r[l])),o=wV(i.subarray(0,o+1),s=>r[s]),o>=0?o:-1}}function SV(t,e,n){const r=l8(t),i=c8(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function t1(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function RC(t,e){return zO(t,.5,e)}function EV(t,e){return OV(t,.5,e)}function*AV(t){for(const e of t)yield*e}function f8(t){return Array.from(AV(t))}function Pv(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Qo(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function ng(t,...e){return e.reduce((n,r)=>i=>n(r(i)),t)}function ww(t,e){return e-t?n=>(n-t)/(e-t):n=>.5}function MV(t,e){const n=e<t?e:t,r=t>e?t:e;return i=>Math.min(Math.max(n,i),r)}function PC(t,e,n,r,i){let a=n||0,o=r||t.length;const s=i||(l=>l);for(;a<o;){const l=Math.floor((a+o)/2);s(t[l])>e?o=l:a=l+1}return a}const yT=Math.sqrt(50),mT=Math.sqrt(10),bT=Math.sqrt(2);function Y_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=yT?10:a>=mT?5:a>=bT?2:1)*10**i:-(10**-i)/(a>=yT?10:a>=mT?5:a>=bT?2:1)}function nP(t,e,n){const r=Math.abs(e-t)/Math.max(0,n);let i=10**Math.floor(Math.log(r)/Math.LN10);const a=r/i;return a>=yT?i*=10:a>=mT?i*=5:a>=bT&&(i*=2),e<t?-i:i}const jC=(t,e,n=5)=>{const r=[t,e];let i=0,a=r.length-1,o=r[i],s=r[a],l;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),l=Y_(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=Y_(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=Y_(o,s,n)),l>0?(r[i]=Math.floor(o/l)*l,r[a]=Math.ceil(s/l)*l):l<0&&(r[i]=Math.ceil(o*l)/l,r[a]=Math.floor(s*l)/l),r},e1=1e3,n1=e1*60,r1=n1*60,yh=r1*24,Rm=yh*7,d8=yh*30,h8=yh*365;function la(t,e,n,r){const i=(c,u)=>{const d=v=>r(v)%u===0;let h=u;for(;h&&!d(c);)n(c,-1),h-=1;return c},a=(c,u)=>{u&&i(c,u),e(c)},o=(c,u)=>{const d=new Date(+c);return a(d,u),d},s=(c,u)=>{const d=new Date(+c-1);return a(d,u),n(d,u),a(d),d};return{ceil:s,floor:o,range:(c,u,d,h)=>{const v=[],g=Math.floor(d),b=h?s(c,d):s(c);for(let x=b;x<u;n(x,g),a(x))v.push(new Date(+x));return v},duration:t}}const TV=la(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),kV=la(e1,t=>{t.setMilliseconds(0)},(t,e=1)=>{t.setTime(+t+e1*e)},t=>t.getSeconds()),CV=la(n1,t=>{t.setSeconds(0,0)},(t,e=1)=>{t.setTime(+t+n1*e)},t=>t.getMinutes()),RV=la(r1,t=>{t.setMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+r1*e)},t=>t.getHours()),PV=la(yh,t=>{t.setHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+yh*e)},t=>t.getDate()-1),p8=la(d8,t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e=1)=>{const n=t.getMonth();t.setMonth(n+e)},t=>t.getMonth()),jV=la(Rm,t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)},(t,e=1)=>{t.setDate(t.getDate()+7*e)},t=>{const e=p8.floor(t),n=new Date(+t);return Math.floor((+n-+e)/Rm)}),LV=la(h8,t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e=1)=>{const n=t.getFullYear();t.setFullYear(n+e)},t=>t.getFullYear()),v8={millisecond:TV,second:kV,minute:CV,hour:RV,day:PV,week:jV,month:p8,year:LV},NV=la(1,t=>t,(t,e=1)=>{t.setTime(+t+e)},t=>t.getTime()),DV=la(e1,t=>{t.setUTCMilliseconds(0)},(t,e=1)=>{t.setTime(+t+e1*e)},t=>t.getUTCSeconds()),IV=la(n1,t=>{t.setUTCSeconds(0,0)},(t,e=1)=>{t.setTime(+t+n1*e)},t=>t.getUTCMinutes()),BV=la(r1,t=>{t.setUTCMinutes(0,0,0)},(t,e=1)=>{t.setTime(+t+r1*e)},t=>t.getUTCHours()),$V=la(yh,t=>{t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+yh*e)},t=>t.getUTCDate()-1),g8=la(d8,t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const n=t.getUTCMonth();t.setUTCMonth(n+e)},t=>t.getUTCMonth()),zV=la(Rm,t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)},(t,e=1)=>{t.setTime(+t+Rm*e)},t=>{const e=g8.floor(t),n=new Date(+t);return Math.floor((+n-+e)/Rm)}),FV=la(h8,t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e=1)=>{const n=t.getUTCFullYear();t.setUTCFullYear(n+e)},t=>t.getUTCFullYear()),y8={millisecond:NV,second:DV,minute:IV,hour:BV,day:$V,week:zV,month:g8,year:FV};function UV(t){const e=t?y8:v8,{year:n,month:r,week:i,day:a,hour:o,minute:s,second:l,millisecond:c}=e;return{tickIntervals:[[l,1],[l,5],[l,15],[l,30],[s,1],[s,5],[s,15],[s,30],[o,1],[o,3],[o,6],[o,12],[a,1],[a,2],[i,1],[r,1],[r,3],[n,1]],year:n,millisecond:c}}function m8(t,e,n,r,i){const a=+t,o=+e,{tickIntervals:s,year:l,millisecond:c}=UV(i),u=([x,_])=>x.duration*_,d=r?(o-a)/r:n||5,h=r||(o-a)/d,v=s.length,g=PC(s,h,0,v,u);let b;if(g===v){const x=nP(a/l.duration,o/l.duration,d);b=[l,x]}else if(g){const x=h/u(s[g-1])<u(s[g])/h,[_,w]=x?s[g-1]:s[g],E=r?Math.ceil(r/_.duration):w;b=[_,E]}else{const x=Math.max(nP(a,o,d),1);b=[c,x]}return b}const HV=(t,e,n,r,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[l,c]=m8(o,s,n,r,i),u=[l.floor(o,c),l.ceil(s,c)];return a?u.reverse():u};function Ow(t){return!jn(t)&&!C6(t)&&!Number.isNaN(t)}const b8=t=>e=>-t(-e),LC=(t,e)=>{const n=Math.log(t),r=t===Math.E?Math.log:t===10?Math.log10:t===2?Math.log2:i=>Math.log(i)/n;return e?b8(r):r},NC=(t,e)=>{const n=t===Math.E?Math.exp:r=>t**r;return e?b8(n):n},GV=(t,e,n,r)=>{const i=t<0,a=LC(r,i),o=NC(r,i),s=t>e,l=s?e:t,c=s?t:e,u=[o(Math.floor(a(l))),o(Math.ceil(a(c)))];return s?u.reverse():u},YV=t=>e=>{const n=t(e);return Kn(n)?Math.round(n):n};function qV(t,e){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[r]=this.chooseTransforms();this.composeOutput(r,this.chooseClamp(r))},n.prototype.initRange=function(){const{interpolator:r}=this.options;this.options.range=t(r)},n.prototype.composeOutput=function(r,i){const{domain:a,interpolator:o,round:s}=this.getOptions(),l=e(a.map(r)),c=s?YV(o):o;this.output=ng(c,l,i,r)},n.prototype.invert=void 0}}var bA={exports:{}},xA,rP;function WV(){return rP||(rP=1,xA={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),xA}var _A={exports:{}},wA,iP;function XV(){return iP||(iP=1,wA=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}),wA}var aP;function VV(){if(aP)return _A.exports;aP=1;var t=XV(),e=Array.prototype.concat,n=Array.prototype.slice,r=_A.exports=function(a){for(var o=[],s=0,l=a.length;s<l;s++){var c=a[s];t(c)?o=e.call(o,n.call(c)):o.push(c)}return o};return r.wrap=function(i){return function(){return i(r(arguments))}},_A.exports}var oP;function KV(){if(oP)return bA.exports;oP=1;var t=WV(),e=VV(),n=Object.hasOwnProperty,r=Object.create(null);for(var i in t)n.call(t,i)&&(r[t[i]]=i);var a=bA.exports={to:{},get:{}};a.get=function(l){var c=l.substring(0,3).toLowerCase(),u,d;switch(c){case"hsl":u=a.get.hsl(l),d="hsl";break;case"hwb":u=a.get.hwb(l),d="hwb";break;default:u=a.get.rgb(l),d="rgb";break}return u?{model:d,value:u}:null},a.get.rgb=function(l){if(!l)return null;var c=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,d=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,v=/^(\w+)$/,g=[0,0,0,1],b,x,_;if(b=l.match(u)){for(_=b[2],b=b[1],x=0;x<3;x++){var w=x*2;g[x]=parseInt(b.slice(w,w+2),16)}_&&(g[3]=parseInt(_,16)/255)}else if(b=l.match(c)){for(b=b[1],_=b[3],x=0;x<3;x++)g[x]=parseInt(b[x]+b[x],16);_&&(g[3]=parseInt(_+_,16)/255)}else if(b=l.match(d)){for(x=0;x<3;x++)g[x]=parseInt(b[x+1],0);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else if(b=l.match(h)){for(x=0;x<3;x++)g[x]=Math.round(parseFloat(b[x+1])*2.55);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else return(b=l.match(v))?b[1]==="transparent"?[0,0,0,0]:n.call(t,b[1])?(g=t[b[1]],g[3]=1,g):null:null;for(x=0;x<3;x++)g[x]=o(g[x],0,255);return g[3]=o(g[3],0,1),g},a.get.hsl=function(l){if(!l)return null;var c=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var d=parseFloat(u[4]),h=(parseFloat(u[1])%360+360)%360,v=o(parseFloat(u[2]),0,100),g=o(parseFloat(u[3]),0,100),b=o(isNaN(d)?1:d,0,1);return[h,v,g,b]}return null},a.get.hwb=function(l){if(!l)return null;var c=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=l.match(c);if(u){var d=parseFloat(u[4]),h=(parseFloat(u[1])%360+360)%360,v=o(parseFloat(u[2]),0,100),g=o(parseFloat(u[3]),0,100),b=o(isNaN(d)?1:d,0,1);return[h,v,g,b]}return null},a.to.hex=function(){var l=e(arguments);return"#"+s(l[0])+s(l[1])+s(l[2])+(l[3]<1?s(Math.round(l[3]*255)):"")},a.to.rgb=function(){var l=e(arguments);return l.length<4||l[3]===1?"rgb("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+")":"rgba("+Math.round(l[0])+", "+Math.round(l[1])+", "+Math.round(l[2])+", "+l[3]+")"},a.to.rgb.percent=function(){var l=e(arguments),c=Math.round(l[0]/255*100),u=Math.round(l[1]/255*100),d=Math.round(l[2]/255*100);return l.length<4||l[3]===1?"rgb("+c+"%, "+u+"%, "+d+"%)":"rgba("+c+"%, "+u+"%, "+d+"%, "+l[3]+")"},a.to.hsl=function(){var l=e(arguments);return l.length<4||l[3]===1?"hsl("+l[0]+", "+l[1]+"%, "+l[2]+"%)":"hsla("+l[0]+", "+l[1]+"%, "+l[2]+"%, "+l[3]+")"},a.to.hwb=function(){var l=e(arguments),c="";return l.length>=4&&l[3]!==1&&(c=", "+l[3]),"hwb("+l[0]+", "+l[1]+"%, "+l[2]+"%"+c+")"},a.to.keyword=function(l){return r[l.slice(0,3)]};function o(l,c,u){return Math.min(Math.max(c,l),u)}function s(l){var c=Math.round(l).toString(16).toUpperCase();return c.length<2?"0"+c:c}return bA.exports}var ZV=KV();const DC=LO(ZV);function OA(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function QV(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=OA(o,a,e+1/3),l=OA(o,a,e),c=OA(o,a,e-1/3);return[s*255,l*255,c*255,i]}function sP(t){const e=DC.get(t);if(!e)return null;const{model:n,value:r}=e;return n==="rgb"?r:n==="hsl"?QV(r):null}const rg=(t,e)=>n=>t*(1-n)+e*n,JV=(t,e)=>{const n=sP(t),r=sP(e);return n===null||r===null?n?()=>t:()=>e:i=>{const a=new Array(4);for(let u=0;u<4;u+=1){const d=n[u],h=r[u];a[u]=d*(1-i)+h*i}const[o,s,l,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}},B1=(t,e)=>typeof t=="number"&&typeof e=="number"?rg(t,e):typeof t=="string"&&typeof e=="string"?JV(t,e):()=>t,tK=(t,e)=>{const n=rg(t,e);return r=>Math.round(n(r))};function eK(t,e){const{second:n,minute:r,hour:i,day:a,week:o,month:s,year:l}=e;return n.floor(t)<t?".SSS":r.floor(t)<t?":ss":i.floor(t)<t?"hh:mm":a.floor(t)<t?"hh A":s.floor(t)<t?o.floor(t)<t?"MMM DD":"ddd DD":l.floor(t)<t?"MMMM":"YYYY"}function lP({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nK({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rK({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iK(t){return typeof t=="object"?t.valueOf():t}let cP=class extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=iK,e!==null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(lP({map:this.map,initKey:this.initKey},e))}has(e){return super.has(lP({map:this.map,initKey:this.initKey},e))}set(e,n){return super.set(nK({map:this.map,initKey:this.initKey},e),n)}delete(e){return super.delete(rK({map:this.map,initKey:this.initKey},e))}},$1=class{transformBreaks(e){return e}constructor(e){var n;this.options=wt({},this.getDefaultOptions()),this.update(!((n=e?.breaks)===null||n===void 0)&&n.length?this.transformBreaks(e):e)}getOptions(){return this.options}update(e={}){const n=e.breaks?this.transformBreaks(e):e;this.options=wt({},this.options,n),this.rescale(n)}rescale(e){}};const FO=Symbol("defaultUnknown");function uP(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function fP(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(e);if(o===void 0){if(a!==FO)return a;o=n.push(e)-1,i.set(e,o)}return r[o%r.length]}function dP(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}let x8=class _8 extends $1{getDefaultOptions(){return{domain:[],range:[],unknown:FO}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&uP(this.domainIndexMap,this.getDomain(),this.domainKey),fP({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&uP(this.rangeIndexMap,this.getRange(),this.rangeKey),fP({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=dP(n),this.rangeKey=dP(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new _8(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:n}=this.options;return this.sortedDomain=n?[...e].sort(n):e,this.sortedDomain}};function aK(t){const e=t.reduce((n,r)=>Math.min(n,r),1/0);return e===1/0?[]:t.map(n=>n/e)}function oK(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function sK(t){return Math.round(t*1e12)/1e12}function lK(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,l=e.length,c=oK(a,l),[u,d]=n,h=d-u,v=2/l*r+1-1/l*i,g=h/v,b=g*i/l,x=g-l*b,_=aK(c),w=_.reduce((B,$)=>B+$),E=x/w,A=new cP(e.map((B,$)=>{const U=_[$]*E;return[B,o?Math.floor(U):U]})),M=new cP(e.map((B,$)=>{const G=_[$]*E+b;return[B,o?Math.floor(G):G]})),T=Array.from(M.values()).reduce((B,$)=>B+$),R=(h-(T-T/l*i))*s,j=u+R;let I=o?Math.round(j):j;const D=new Array(l);for(let B=0;B<l;B+=1){D[B]=sK(I);const $=e[B];I+=M.get($)}return{valueBandWidth:A,valueStep:M,adjustedRange:D}}function cK(t){var e;const{domain:n}=t,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return lK(t);const{range:a,paddingOuter:o,paddingInner:s,round:l,align:c}=t;let u,d,h=a[0];const g=a[1]-h,b=o*2,x=r-s;u=g/Math.max(1,b+x),l&&(u=Math.floor(u)),h+=(g-u*(r-s))*c,d=u*(1-s),l&&(h=Math.round(h),d=Math.round(d));const _=new Array(r).fill(0).map((w,E)=>h+E*u);return{valueStep:u,valueBandWidth:d,adjustedRange:_}}let i1=class w8 extends x8{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:FO,flex:[]}}constructor(e){super(e)}clone(){return new w8(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:n}=this.options;return e>0?e:n}getPaddingOuter(){const{padding:e,paddingOuter:n}=this.options;return e>0?e:n}rescale(){super.rescale();const{align:e,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=cK({align:e,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}};const uK=(t,e)=>{if(!e?.length)return t;const n=[...t,...e.flatMap(a=>[a.start,a.end])],i=Array.from(new Set(n)).sort((a,o)=>a-o).filter(a=>!e.some(({start:o,end:s})=>a>o&&a<s));return i.length?i:t},df=(t,e,n,r)=>{let i,a,o=t,s=e;if(o===s&&n>0)return[o];let l=Y_(o,s,n);if(l===0||!Number.isFinite(l))return[];if(l>0){o=Math.ceil(o/l),s=Math.floor(s/l),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)*l}else{l=-l,o=Math.ceil(o*l),s=Math.floor(s*l),a=new Array(i=Math.ceil(s-o+1));for(let c=0;c<i;c+=1)a[c]=(o+c)/l}return uK(a,r)};let IC=class O8 extends $1{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:df}}map(e){const[n]=this.options.range;return n!==void 0?n:this.options.unknown}invert(e){const[n]=this.options.range;return e===n&&n!==void 0?this.options.domain:[]}getTicks(){const{tickMethod:e,domain:n,tickCount:r}=this.options,[i,a]=n;return!Kn(i)||!Kn(a)?[]:e(i,a,r)}clone(){return new O8(this.options)}};function Gy(t){return Math.abs(t)<1e-14?t:parseFloat(t.toFixed(14))}const fK=[1,5,2,2.5,4,3],hP=Number.EPSILON*100;function dK(t,e){return(t%e+e)%e}function hK(t){return Math.round(t*1e12)/1e12}function pK(t,e,n,r,i,a){const o=Km(e),s=L6(e,t);let l=0;const c=dK(r,a);return(c<hP||a-c<hP)&&r<=0&&i>=0&&(l=1),1-s/(o-1)-n+l}function vK(t,e,n){const r=Km(e);return 1-L6(e,t)/(r-1)-n+1}function gK(t,e,n,r,i,a){const o=(t-1)/(a-i),s=(e-1)/(Math.max(a,r)-Math.min(n,i));return 2-Math.max(o/s,s/o)}function yK(t,e){return t>=e?2-(t-1)/(e-1):1}function mK(t,e,n,r){const i=e-t;return 1-.5*((e-r)**2+(t-n)**2)/(.1*i)**2}function bK(t,e,n){const r=e-t;return n>r?1-((n-r)/2)**2/(.1*r)**2:1}function xK(){return 1}const BC=(t,e,n=5,r=!0,i=fK,a=[.25,.2,.5,.05])=>{const o=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||typeof t!="number"||typeof e!="number"||!o)return[];if(e-t<1e-15||o===1)return[t];const s={score:-2,lmin:0,lmax:0,lstep:0};let l=1;for(;l<1/0;){for(let g=0;g<i.length;g+=1){const b=i[g],x=vK(b,i,l);if(a[0]*x+a[1]+a[2]+a[3]<s.score){l=1/0;break}let _=2;for(;_<1/0;){const w=yK(_,o);if(a[0]*x+a[1]+a[2]*w+a[3]<s.score)break;const E=(e-t)/(_+1)/l/b;let A=Math.ceil(Math.log10(E));for(;A<1/0;){const M=l*b*10**A,T=bK(t,e,M*(_-1));if(a[0]*x+a[1]*T+a[2]*w+a[3]<s.score)break;const C=Math.floor(e/M)*l-(_-1)*l,R=Math.ceil(t/M)*l;if(C<=R){const j=R-C;for(let I=0;I<=j;I+=1){const B=(C+I)*(M/l),$=B+M*(_-1),U=M,G=pK(b,i,l,B,$,U),F=mK(t,e,B,$),H=gK(_,o,t,e,B,$),Y=xK(),W=a[0]*G+a[1]*F+a[2]*H+a[3]*Y;W>s.score&&(!r||B<=t&&$>=e)&&(s.lmin=B,s.lmax=$,s.lstep=U,s.score=W)}}A+=1}_+=1}}l+=1}const c=Gy(s.lmax),u=Gy(s.lmin),d=Gy(s.lstep),h=Math.floor(hK((c-u)/d))+1,v=new Array(h);v[0]=Gy(u);for(let g=1;g<h;g+=1)v[g]=Gy(v[g-1]+d);return v};let S8=class E8 extends $1{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:BC}}map(e){return Ow(e)?e:this.options.unknown}invert(e){return this.map(e)}clone(){return new E8(this.options)}getTicks(){const{domain:e,tickCount:n,tickMethod:r}=this.options,[i,a]=e;return!Kn(i)||!Kn(a)?[]:r(i,a,n)}};const _K=(t,e,n)=>{const[r,i]=t,[a,o]=e;let s,l;return r<i?(s=ww(r,i),l=n(a,o)):(s=ww(i,r),l=n(o,a)),ng(l,s)},wK=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,l=o?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=ww(s[c],s[c+1]),a[c]=n(l[c],l[c+1]);return c=>{const u=PC(t,c,1,r)-1,d=i[u],h=a[u];return ng(h,d)(c)}},pP=(t,e,n,r)=>(Math.min(t.length,e.length)>2?wK:_K)(t,e,r?tK:n);let UO=class extends $1{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:rg,tickCount:5}}map(e){return Ow(e)?this.output(e):this.options.unknown}invert(e){return Ow(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice||$r(this.options.breaks))return;const[e,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,n,r,...i)}getTicks(){const{tickMethod:e}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return e(n,r,i,...a)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}chooseNice(){return jC}rescale(){this.nice();const[e,n]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,n,this.chooseClamp(n))}chooseClamp(e){const{clamp:n,range:r}=this.options,i=this.options.domain.map(e),a=Math.min(i.length,r.length);return n?MV(i[0],i[a-1]):Ul}composeOutput(e,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=pP(r.map(e),i,o,a);this.output=ng(s,n,e)}composeInput(e,n,r){const{domain:i,range:a}=this.options,o=pP(a,i.map(e),rg);this.input=ng(n,r,o)}},Ic=class A8 extends UO{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:B1,tickMethod:df,tickCount:5}}removeUnsortedValues(e,n,r){let i=-1/0;return n.reduce((o,s,l)=>{if(l===0)return o;const c=i>0?i:s;return i>0&&(r?s>i:s<i)?o.push(l):(c-n[l-1])*(r?-1:1)<0?(i<0&&(i=n[l-1]),o.push(l)):i=-1/0,o},[]).slice().reverse().forEach(o=>{e.splice(o,1),n.splice(o,1)}),{breaksDomain:e,breaksRange:n}}transformDomain(e){const n=[.2,.8],r=.03,{domain:i=[],range:a=[1,0],breaks:o=[],tickCount:s=5,nice:l}=e,[c,u]=[Math.min(...i),Math.max(...i)];let d=c,h=u;if(l&&o.length<2){const j=this.chooseNice()(c,u,s);d=j[0],h=j[j.length-1]}const v=Math.min(d,c);let g=Math.max(h,u);const b=o.filter(({end:j})=>j<g).sort((j,I)=>j.start-I.start),x=df(v,g,s,b);if(qo(x)<g){const j=jC(0,g-qo(x),3);x.push(qo(x)+qo(j)),g=qo(x)}const[_,w]=[a[0],qo(a)],E=g-v,A=Math.abs(w-_),M=_>w,T=x.map(j=>{const I=(j-v)/E;return M?_-I*A:_+I*A}),[C,R]=n;return b.forEach(({start:j,end:I,gap:D=r,compress:B="middle"})=>{const $=x.indexOf(j),U=x.indexOf(I);let G=(T[$]+T[U])/2;B==="start"&&(G=T[$]),B==="end"&&(G=T[U]);const F=D*A/2;let H=M?G+F:G-F,Y=M?G-F:G+F;H<C&&(Y+=C-H,H=C),Y>R&&(H-=Y-R,Y=R),H>R&&(Y-=H-R,H=R),Y<C&&(H+=C-Y,Y=C),T[$]=H,T[U]=Y}),this.removeUnsortedValues(x,T,M)}transformBreaks(e){const{domain:n,breaks:r=[]}=e;if(!$r(e.breaks))return e;const i=Math.max(...n),a=r.filter(({end:c})=>c<i),o={...e,breaks:a},{breaksDomain:s,breaksRange:l}=this.transformDomain(o);return{...e,domain:s,range:l,breaks:a,tickMethod:()=>[...s]}}chooseTransforms(){return[Ul,Ul]}clone(){return new A8(this.options)}},OK=class M8 extends i1{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:FO,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new M8(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}};const SK=t=>e=>e<0?-((-e)**t):e**t,EK=t=>e=>e<0?-((-e)**(1/t)):e**(1/t),AK=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);let T8=class k8 extends UO{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:B1,tickMethod:df,tickCount:5}}constructor(e){super(e)}chooseTransforms(){const{exponent:e}=this.options;if(e===1)return[Ul,Ul];const n=e===.5?AK:SK(e),r=EK(e);return[n,r]}clone(){return new k8(this.options)}},MK=class C8 extends T8{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:B1,tickMethod:df,tickCount:5,exponent:.5}}constructor(e){super(e)}update(e){super.update(e)}clone(){return new C8(this.options)}},HO=class R8 extends $1{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(e){super(e)}map(e){if(!Ow(e))return this.options.unknown;const n=PC(this.thresholds,e,0,this.n);return this.options.range[n]}invert(e){const{range:n}=this.options,r=n.indexOf(e),i=this.thresholds;return[i[r-1],i[r]]}clone(){return new R8(this.options)}rescale(){const{domain:e,range:n}=this.options;this.n=Math.min(e.length,n.length-1),this.thresholds=e}};const TK=(t,e,n,r=10)=>{const i=t<0,a=NC(r,i),o=LC(r,i),s=e<t,l=s?e:t,c=s?t:e;let u=o(l),d=o(c),h=[];if(!(r%1)&&d-u<n){if(u=Math.floor(u),d=Math.ceil(d),i)for(;u<=d;u+=1){const v=a(u);for(let g=r-1;g>=1;g-=1){const b=v*g;if(b>c)break;b>=l&&h.push(b)}}else for(;u<=d;u+=1){const v=a(u);for(let g=1;g<r;g+=1){const b=v*g;if(b>c)break;b>=l&&h.push(b)}}h.length*2<n&&(h=df(l,c,n))}else{const v=n===-1?d-u:Math.min(d-u,n);h=df(u,d,v).map(a)}return s?h.reverse():h};let kK=class P8 extends UO{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:B1,tickMethod:TK,tickCount:5}}chooseNice(){return GV}getTickMethodOptions(){const{domain:e,tickCount:n,base:r}=this.options,i=e[0],a=e[e.length-1];return[i,a,n,r]}chooseTransforms(){const{base:e,domain:n}=this.options,r=n[0]<0;return[LC(e,r),NC(e,r)]}clone(){return new P8(this.options)}},j8=class L8 extends HO{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:BC}}constructor(e){super(e)}nice(){const{nice:e}=this.options;if(e){const[n,r,i]=this.getTickMethodOptions();this.options.domain=jC(n,r,i)}}getTicks(){const{tickMethod:e}=this.options,[n,r,i]=this.getTickMethodOptions();return e(n,r,i)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}rescale(){this.nice();const{range:e,domain:n}=this.options,[r,i]=n;this.n=e.length-1,this.thresholds=new Array(this.n);for(let a=0;a<this.n;a+=1)this.thresholds[a]=((a+1)*i-(a-this.n)*r)/(this.n+1)}invert(e){const[n,r]=super.invert(e),[i,a]=this.options.domain;return n===void 0&&r===void 0?[n,r]:[n||i,r||a]}getThresholds(){return this.thresholds}clone(){return new L8(this.options)}};function CK(t,e){const n=t.length;if(!n)return;if(n<2)return t[n-1];const r=(n-1)*e,i=Math.floor(r),a=t[i],o=t[i+1];return a+(o-a)*(r-i)}function RK(t,e,n=!1){const r=t;n||r.sort((a,o)=>a-o);const i=[];for(let a=1;a<e;a+=1)i.push(CK(r,a/e));return i}let N8=class D8 extends HO{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:BC}}constructor(e){super(e)}rescale(){const{domain:e,range:n}=this.options;this.n=n.length-1,this.thresholds=RK(e,this.n+1,!1)}invert(e){const[n,r]=super.invert(e),{domain:i}=this.options,a=i[0],o=i[i.length-1];return n===void 0&&r===void 0?[n,r]:[n||a,r||o]}getThresholds(){return this.thresholds}clone(){return new D8(this.options)}getTicks(){const{tickCount:e,domain:n,tickMethod:r}=this.options,i=n.length-1,a=n[0],o=n[i];return r(a,o,e)}};var PK=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,jK=/\[([^]*?)\]/gm;function I8(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function xT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var a=i[r];for(var o in a)t[o]=a[o]}return t}var B8=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$8=["January","February","March","April","May","June","July","August","September","October","November","December"],LK=I8($8,3),NK=I8(B8,3),DK={dayNamesShort:NK,dayNames:B8,monthNamesShort:LK,monthNames:$8,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},IK=xT({},DK),Xa=function(t,e){for(e===void 0&&(e=2),t=String(t);t.length<e;)t="0"+t;return t},BK={D:function(t){return String(t.getDate())},DD:function(t){return Xa(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Xa(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Xa(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return Xa(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Xa(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Xa(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Xa(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Xa(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Xa(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Xa(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Xa(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Xa(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+Xa(Math.floor(Math.abs(e)/60),2)+":"+Xa(Math.abs(e)%60,2)}},vP={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},$K=function(t,e,n){if(e===void 0&&(e=vP.default),n===void 0&&(n={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=vP[e]||e;var r=[];e=e.replace(jK,function(a,o){return r.push(o),"@@@"});var i=xT(xT({},IK),n);return e=e.replace(PK,function(a){return BK[a](t,i)}),e.replace(/@@@/g,function(){return r.shift()})};const zK=(t,e,n,r,i)=>{const a=t>e,o=a?e:t,s=a?t:e,[l,c]=m8(o,s,n,r,i),u=l.range(o,new Date(+s+1),c,!0);return a?u.reverse():u};function FK(t){const e=t.getTimezoneOffset(),n=new Date(t);return n.setMinutes(n.getMinutes()+e,n.getSeconds(),n.getMilliseconds()),n}let UK=class z8 extends UO{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:zK,interpolate:rg,mask:void 0,utc:!1}}chooseTransforms(){return[r=>+r,r=>new Date(r)]}chooseNice(){return HV}getTickMethodOptions(){const{domain:e,tickCount:n,tickInterval:r,utc:i}=this.options,a=e[0],o=e[e.length-1];return[a,o,n,r,i]}getFormatter(){const{mask:e,utc:n}=this.options,r=n?y8:v8,i=n?FK:Ul;return a=>$K(i(a),e||eK(a,r))}clone(){return new z8(this.options)}};var HK=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},_T;function GK(t){return[t(0),t(1)]}const YK=t=>{const[e,n]=t;return ng(rg(0,1),ww(e,n))};let wT=_T=class extends Ic{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:Ul,tickMethod:df,tickCount:5}}constructor(e){super(e)}clone(){return new _T(this.options)}};wT=_T=HK([qV(GK,YK)],wT);var qK=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};function WK(t){var e;let n=t;for(;n;){if(((e=n.attributes)===null||e===void 0?void 0:e.class)==="view")return n;n=n.parentNode}return null}function GO(t){const{markType:e,nodeName:n}=t;return e==="heatmap"&&n==="image"}function $C(t,e){const n=e??WK(t).__data__,r=t.__data__,{markKey:i,index:a,seriesIndex:o,normalized:s={x:0}}=r,{markState:l}=n,c=Array.from(l.keys()).find(u=>u.key===i);if(c)return o?o.map(u=>c.data[u]):GO(t)?c.data[Math.round(c.data.length*s.x)]:c.data[a]}function XK(t,e){const{color:n,series:r,facet:i=!1}=t,{color:a,series:o}=e,s=l=>l&&l.invert&&!(l instanceof i1)&&!(l instanceof IC);if(s(r))return r.clone().invert(o);if(o&&r instanceof i1&&r.invert(o)!==a&&!i)return r.invert(o);if(s(n)){const l=n.invert(a);return Array.isArray(l)?null:l}return null}function mh(t){return t}function zC(t){return t.reduce((e,n)=>(r,...i)=>n(e(r,...i),...i),mh)}function VK(t){return t.reduce((e,n)=>r=>qK(this,void 0,void 0,function*(){const i=yield e(r);return n(i)}),mh)}function FC(t){return t.replace(/( |^)[a-z]/g,e=>e.toUpperCase())}function ig(t=""){throw new Error(t)}function YO(t,e){const{attributes:n}=e,r=new Set(["id","className"]);for(const[i,a]of Object.entries(n))r.has(i)||t.attr(i,a)}function qn(t){return t!=null&&!Number.isNaN(t)}function KK(t){const e=new Map;return n=>{if(e.has(n))return e.get(n);const r=t(n);return e.set(n,r),r}}function ZK(t,e){const{transform:n}=t.style,i=(a=>a==="none"||a===void 0)(n)?"":n;t.style.transform=`${i} ${e}`.trimStart()}function $t(t,e){return F8(t,e)||{}}function F8(t,e){const n=Object.entries(t||{}).filter(([r])=>r.startsWith(e)).map(([r,i])=>[k6(r.replace(e,"").trim()),i]).filter(([r])=>!!r);return n.length===0?null:Object.fromEntries(n)}function QK(t,e){return Object.fromEntries(Object.entries(t).filter(([n])=>e.find(r=>n.startsWith(r))))}function q_(t,...e){return Object.fromEntries(Object.entries(t).filter(([n])=>e.every(r=>!n.startsWith(r))))}function gP(t,e){if(t===void 0)return null;if(typeof t=="number")return t;const n=+t.replace("%","");return Number.isNaN(n)?null:n/100*e}function ag(t){return typeof t=="object"&&!(t instanceof Date)&&t!==null&&!Array.isArray(t)}function Bc(t){return t===null||t===!1}function U8(t,e,n=5,r=0){if(!(r>=n)){for(const i of Object.keys(e)){const a=e[i];!Dc(a)||!Dc(t[i])?t[i]=a:U8(t[i],a,n,r+1)}return t}}function Hl(t,e){return Object.entries(t).reduce((n,[r,i])=>(n[r]=e(i,r,t),n),{})}function Rh(t){return t.map((e,n)=>n)}function JK(t){return t[0]}function H8(t){return t[t.length-1]}function tZ(t){return Array.from(new Set(t))}function G8(t,e){const n=[[],[]];return t.forEach(r=>{n[e(r)?0:1].push(r)}),n}function Y8(t,e=t.length){if(e===1)return t.map(r=>[r]);const n=[];for(let r=0;r<t.length;r++){const i=t.slice(r+1);Y8(i,e-1).forEach(o=>{n.push([t[r],...o])})}return n}function eZ(t){if(t.length===1)return[t];const e=[];for(let n=1;n<=t.length;n++)e.push(...Y8(t,n));return e}function yf(t,e,n){const{encode:r}=n;if(t===null)return[e];const i=nZ(t).map(o=>{var s;return[o,(s=rn(r,o))===null||s===void 0?void 0:s[0]]}).filter(([,o])=>qn(o)),a=o=>i.map(([,s])=>s[o]).join("-");return Array.from(Vn(e,a).values())}function q8(t){return Array.isArray(t)?aZ(t):typeof t=="function"?iZ(t):t==="series"?rZ:t==="value"?oZ:t==="sum"?sZ:t==="maxIndex"?lZ:null}function W8(t,e){for(const n of t)n.sort(e)}function X8(t,e){return e?.domain||Array.from(new Set(t))}function nZ(t){return Array.isArray(t)?t:[t]}function rZ(t,e,n){return z1(r=>n[r])}function iZ(t){return(e,n,r)=>z1(i=>t(e[i]))}function aZ(t){return(e,n,r)=>(i,a)=>t.reduce((o,s)=>o!==0?o:Cr(e[i][s],e[a][s]),0)}function oZ(t,e,n){return z1(r=>e[r])}function sZ(t,e,n){const r=Rh(t),i=Array.from(Vn(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,s.reduce((l,c)=>l+ +e[c])]));return z1(o=>a.get(n[o]))}function lZ(t,e,n){const r=Rh(t),i=Array.from(Vn(r,o=>n[+o]).entries()),a=new Map(i.map(([o,s])=>[o,Ag(s,l=>e[l])]));return z1(o=>a.get(n[o]))}function z1(t){return(e,n)=>Cr(t(e),t(n))}const V8=(t={})=>{const{groupBy:e="x",orderBy:n=null,reverse:r=!1,y:i="y",y1:a="y1",series:o=!0}=t;return(s,l)=>{var c;const{data:u,encode:d,style:h={}}=l,[v,g]=rn(d,"y"),[b,x]=rn(d,"y1"),[_]=o?xw(d,"series","color"):rn(d,"color"),w=yf(e,s,l),A=((c=q8(n))!==null&&c!==void 0?c:(()=>null))(u,v,_);A&&W8(w,A);const M=new Array(s.length),T=new Array(s.length),C=new Array(s.length),R=[],j=[];for(const G of w){r&&G.reverse();const F=b?+b[G[0]]:0,H=[],Y=[];for(const at of G){const ft=C[at]=+v[at]-F;ft<0?Y.push(at):ft>=0&&H.push(at)}const W=H.length>0?H:Y,V=Y.length>0?Y:H;let J=H.length-1,tt=0;for(;J>0&&v[W[J]]===0;)J--;for(;tt<V.length-1&&v[V[tt]]===0;)tt++;R.push(W[J]),j.push(V[tt]);let nt=F;for(const at of Y.reverse()){const ft=C[at];nt=M[at]=(T[at]=nt)+ft}let lt=F;for(const at of H){const ft=C[at];ft>0?lt=M[at]=(T[at]=lt)+ft:M[at]=T[at]=lt}}const I=new Set(R),D=new Set(j),B=i==="y"?M:T,$=a==="y"?M:T;let U;return l.type==="point"?U={y0:Zm(v,g),y:Yn(B,g)}:U={y0:Zm(v,g),y:Yn(B,g),y1:Yn($,x)},[s,wt({},l,{encode:Object.assign({},U),style:Object.assign({first:(G,F)=>I.has(F),last:(G,F)=>D.has(F)},h)})]}};V8.props={};function Yy(t){return Math.abs(t)>10?String(t):t.toString().padStart(2,"0")}function cZ(t){const e=t.getFullYear(),n=Yy(t.getMonth()+1),r=Yy(t.getDate()),i=`${e}-${n}-${r}`,a=t.getHours(),o=t.getMinutes(),s=t.getSeconds();return a||o||s?`${i} ${Yy(a)}:${Yy(o)}:${Yy(s)}`:i}const qO=(t={})=>{const{channel:e="x"}=t;return(n,r)=>{const{encode:i}=r,{tooltip:a}=r;if(Bc(a))return[n,r];const{title:o}=a;if(o!==void 0)return[n,r];const s=Object.keys(i).filter(c=>c.startsWith(e)).filter(c=>!i[c].inferred).map(c=>rn(i,c)).filter(([c])=>c).map(c=>c[0]);if(s.length===0)return[n,r];const l=[];for(const c of n)l[c]={value:s.map(u=>u[c]instanceof Date?cZ(u[c]):u[c]).join(", ")};return[n,wt({},r,{tooltip:{title:l}})]}};qO.props={};const Ph=()=>(t,e)=>{const{encode:n}=e,{x:r}=n;return r!==void 0?[t,e]:[t,wt({},e,{encode:{x:Zm(of(t,0))},scale:{x:{guide:null}}})]};Ph.props={};const WO=()=>(t,e)=>{const{encode:n}=e,{y:r}=n;return r!==void 0?[t,e]:[t,wt({},e,{encode:{y:Zm(of(t,0))},scale:{y:{guide:null}}})]};WO.props={};const K8=()=>(t,e)=>{const{encode:n}=e,{size:r}=n;return r!==void 0?[t,e]:[t,wt({},e,{encode:{size:bw(of(t,3))}})]};K8.props={};var uZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Z8=()=>(t,e)=>{const{encode:n}=e,{key:r}=n,i=uZ(n,["key"]);if(r!==void 0)return[t,e];const a=Object.values(i).map(({value:s})=>s),o=t.map(s=>a.filter(Array.isArray).map(l=>l[s]).join("-"));return[t,wt({},e,{encode:{key:Yn(o)}})]};Z8.props={};const UC=()=>(t,e)=>{const{encode:n}=e,{series:r,color:i}=n;if(r!==void 0||i===void 0)return[t,e];const[a,o]=rn(n,"color");return[t,wt({},e,{encode:{series:Yn(a,o)}})]};UC.props={};const Q8=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(N1)?[t,e]:[t,wt({},e,{encode:{y:Yn(n)}})]};Q8.props={};const J8=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(N1)?[t,e]:[t,wt({},e,{encode:{x:Yn(n)}})]};J8.props={};const tI=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;if(r)return[t,e];const[i]=rn(n,"y");return[t,wt({},e,{encode:{y1:Yn([...i])}})]};tI.props={};const eI=()=>(t,e)=>{const{encode:n}=e,{x1:r}=n;if(r)return[t,e];const[i]=rn(n,"x");return[t,wt({},e,{encode:{x1:Yn([...i])}})]};eI.props={};const nI=()=>(t,e)=>{const{data:n}=e;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(N1))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,wt({},e,{encode:{x:Yn(r(n,0)),x1:Yn(r(n,1))}})]}return[t,e]};nI.props={};const rI=()=>(t,e)=>{const{data:n}=e;if(Array.isArray(n)&&(n.every(Array.isArray)||!n.some(N1))){const r=(i,a)=>Array.isArray(i[0])?i.map(o=>o[a]):[i[a]];return[t,wt({},e,{encode:{y:Yn(r(n,0)),y1:Yn(r(n,1))}})]}return[t,e]};rI.props={};const XO=t=>{const{channel:e}=t;return(n,r)=>{const{encode:i,tooltip:a}=r;if(Bc(a))return[n,r];const{items:o=[]}=a;if(!o||o.length>0)return[n,r];const l=(Array.isArray(e)?e:[e]).flatMap(c=>Object.keys(i).filter(u=>u.startsWith(c)).map(u=>{const{field:d,value:h,inferred:v=!1,aggregate:g}=i[u];return v?null:g&&h?{channel:u}:d?{field:d}:h?{channel:u}:null}).filter(u=>u!==null));return[n,wt({},r,{tooltip:{items:l}})]}};XO.props={};const HC=()=>(t,e)=>[t,wt({scale:{x:{padding:0},y:{padding:0}}},e)];HC.props={};var yP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const VO=()=>(t,e)=>{const{data:n,style:r={}}=e,i=yP(e,["data","style"]),{x:a,y:o}=r,s=yP(r,["x","y"]);if(a==null||o==null)return[t,e];const l=a||0,c=o||0;return[[0],wt({},i,{data:[0],cartesian:!0,encode:{x:Yn([l]),y:Yn([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};VO.props={};const iI=()=>(t,e)=>{const{style:n={}}=e;return[t,wt({},e,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="function").map(([r,i])=>[r,()=>i])))})]};iI.props={};const KO=()=>(t,e)=>{const{data:n}=e;if(!Array.isArray(n)||n.some(N1))return[t,e];const r=Array.isArray(n[0])?n:[n],i=r.map(o=>o[0]),a=r.map(o=>o[1]);return[t,wt({},e,{encode:{x:Yn(i),y:Yn(a)}})]};KO.props={};const aI=()=>(t,e)=>{const{style:n={},encode:r}=e,{series:i}=r,{gradient:a}=n;return!a||i?[t,e]:[t,wt({},e,{encode:{series:bw(of(t,void 0))}})]};aI.props={};var fZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const oI=(t={})=>{const{groupBy:e="x",reverse:n=!1,orderBy:r,padding:i}=t;return fZ(t,["groupBy","reverse","orderBy","padding"]),(a,o)=>{const{data:s,encode:l,scale:c}=o,{series:u}=c,[d]=rn(l,"y"),[h]=xw(l,"series","color"),v=X8(h,u),g=wt({},o,{scale:{series:{domain:v,paddingInner:i}}}),b=yf(e,a,o),x=q8(r);if(!x)return[a,wt(g,{encode:{series:Yn(h)}})];const _=x(s,d,h);_&&W8(b,_);const w=new Array(a.length);for(const E of b){n&&E.reverse();for(let A=0;A<E.length;A++)w[E[A]]=v[A]}return[a,wt(g,{encode:{series:Yn(r?w:h)}})]}};oI.props={};const sI=t=>{const{groupBy:e=["x"],reducer:n=(o,s)=>s[o[0]],orderBy:r=null,reverse:i=!1,duration:a}=t;return(o,s)=>{const{encode:l}=s,u=(Array.isArray(e)?e:[e]).map(x=>[x,rn(l,x)[0]]);if(u.length===0)return[o,s];let d=[o];for(const[,x]of u){const _=[];for(const w of d){const E=Array.from(Vn(w,A=>x[A]).values());_.push(...E)}d=_}if(r){const[x]=rn(l,r);x&&d.sort((_,w)=>n(_,x)-n(w,x)),i&&d.reverse()}const h=(a||3e3)/d.length,[v]=a?[of(o,h)]:xw(l,"enterDuration",of(o,h)),[g]=xw(l,"enterDelay",of(o,0)),b=new Array(o.length);for(let x=0,_=0;x<d.length;x++){const w=d[x],E=Mn(w,A=>+v[A]);for(const A of w)b[A]=+g[A]+_;_+=E}return[o,wt({},s,{encode:{enterDuration:bw(v),enterDelay:bw(b)}})]}};sI.props={};var dZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function hZ(t){return typeof t=="function"?t:{min:(n,r)=>xo(n,i=>r[+i]),max:(n,r)=>Mn(n,i=>r[+i]),first:(n,r)=>r[n[0]],last:(n,r)=>r[n[n.length-1]],mean:(n,r)=>t1(n,i=>r[+i]),median:(n,r)=>RC(n,i=>r[+i]),sum:(n,r)=>Qo(n,i=>r[+i]),deviation:(n,r)=>c8(n,i=>r[+i])}[t]||Mn}const lI=(t={})=>{const{groupBy:e="x",basis:n="max"}=t;return(r,i)=>{const{encode:a,tooltip:o}=i,{x:s}=a,l=dZ(a,["x"]),c=Object.entries(l).filter(([b])=>b.startsWith("y")).map(([b])=>[b,rn(a,b)[0]]),[,u]=c.find(([b])=>b==="y"),d=c.map(([b])=>[b,new Array(r.length)]),h=yf(e,r,i),v=hZ(n);for(const b of h){const x=v(b,u);for(const _ of b)for(let w=0;w<c.length;w++){const[,E]=c[w],[,A]=d[w];A[_]=+E[_]/x}}const g=Bc(o)||o?.items&&o?.items.length!==0;return[r,wt({},i,Object.assign({encode:Object.fromEntries(d.map(([b,x])=>[b,Yn(x,rn(a,b)[1])]))},!g&&a.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};lI.props={};function Sw(t,e,n){if(t===null)return[-.5,.5];const r=X8(t,e),a=new i1({domain:r,range:[0,1],padding:n}).getBandWidth();return[-a/2,a/2]}function Ew(t,e,n){return e*(1-t)+n*t}const cI=(t={})=>{const{padding:e=0,paddingX:n=e,paddingY:r=e,random:i=Math.random}=t;return(a,o)=>{const{encode:s,scale:l}=o,{x:c,y:u}=l,[d]=rn(s,"x"),[h]=rn(s,"y"),v=Sw(d,c,n),g=Sw(h,u,r),b=a.map(()=>Ew(i(),...g)),x=a.map(()=>Ew(i(),...v));return[a,wt({scale:{x:{padding:.5},y:{padding:.5}}},o,{encode:{dy:Yn(b),dx:Yn(x)}})]}};cI.props={};const uI=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{x:s}=o,[l]=rn(a,"x"),c=Sw(l,s,e),u=r.map(()=>Ew(n(),...c));return[r,wt({scale:{x:{padding:.5}}},i,{encode:{dx:Yn(u)}})]}};uI.props={};const fI=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(r,i)=>{const{encode:a,scale:o}=i,{y:s}=o,[l]=rn(a,"y"),c=Sw(l,s,e),u=r.map(()=>Ew(n(),...c));return[r,wt({scale:{y:{padding:.5}}},i,{encode:{dy:Yn(u)}})]}};fI.props={};var pZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const dI=(t={})=>{const{groupBy:e="x"}=t;return(n,r)=>{const{encode:i}=r,{x:a}=i,o=pZ(i,["x"]),s=Object.entries(o).filter(([h])=>h.startsWith("y")).map(([h])=>[h,rn(i,h)[0]]),l=s.map(([h])=>[h,new Array(n.length)]),c=yf(e,n,r),u=new Array(c.length);for(let h=0;h<c.length;h++){const g=c[h].flatMap(_=>s.map(([,w])=>+w[_])),[b,x]=jc(g);u[h]=(b+x)/2}const d=Math.max(...u);for(let h=0;h<c.length;h++){const v=d-u[h],g=c[h];for(const b of g)for(let x=0;x<s.length;x++){const[,_]=s[x],[,w]=l[x];w[b]=+_[b]+v}}return[n,wt({},r,{encode:Object.fromEntries(l.map(([h,v])=>[h,Yn(v,rn(i,h)[1])]))})]}};dI.props={};const hI=(t={})=>{const{groupBy:e="x"}=t;return(n,r)=>{const{encode:i}=r,[a]=rn(i,"y"),[o,s]=rn(i,"y1"),l=yf(e,n,r),c=new Array(n.length);for(const u of l){const d=u.map(h=>+a[h]);for(let h=0;h<u.length;h++){const v=u[h],g=Math.max(...d.filter((b,x)=>x!==h));c[v]=+a[v]>g?g:a[v]}}return[n,wt({},r,{encode:{y1:Yn(c,s)}})]}};hI.props={};function mP(t,e){return[t[0]]}function vZ(t,e){const n=t.length-1;return[t[n]]}function gZ(t,e){const n=Ag(t,r=>e[r]);return[t[n]]}function yZ(t,e){const n=I1(t,r=>e[r]);return[t[n]]}function mZ(t){return typeof t=="function"?t:{first:mP,last:vZ,max:gZ,min:yZ}[t]||mP}const ZO=(t={})=>{const{groupBy:e="series",channel:n,selector:r}=t;return(i,a)=>{const{encode:o}=a,s=yf(e,i,a),[l]=rn(o,n),c=mZ(r);return[s.flatMap(u=>c(u,l)),a]}};ZO.props={};var bZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pI=(t={})=>{const{selector:e}=t,n=bZ(t,["selector"]);return ZO(Object.assign({channel:"x",selector:e},n))};pI.props={};var xZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const vI=(t={})=>{const{selector:e}=t,n=xZ(t,["selector"]);return ZO(Object.assign({channel:"y",selector:e},n))};vI.props={};var _Z=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mf(t){return e=>e===null?t:`${t} of ${e}`}function wZ(t){if(typeof t=="function")return[t,null];const n={mean:OZ,max:EZ,count:MZ,first:kZ,last:CZ,sum:TZ,min:AZ,median:SZ}[t];if(!n)throw new Error(`Unknown reducer: ${t}.`);return n()}function OZ(){const t=(n,r)=>t1(n,i=>+r[i]),e=mf("mean");return[t,e]}function SZ(){const t=(n,r)=>RC(n,i=>+r[i]),e=mf("median");return[t,e]}function EZ(){const t=(n,r)=>Mn(n,i=>+r[i]),e=mf("max");return[t,e]}function AZ(){const t=(n,r)=>xo(n,i=>+r[i]),e=mf("min");return[t,e]}function MZ(){const t=(n,r)=>n.length,e=mf("count");return[t,e]}function TZ(){const t=(n,r)=>Qo(n,i=>+r[i]),e=mf("sum");return[t,e]}function kZ(){const t=(n,r)=>r[n[0]],e=mf("first");return[t,e]}function CZ(){const t=(n,r)=>r[n[n.length-1]],e=mf("last");return[t,e]}const GC=(t={})=>{const{groupBy:e}=t,n=_Z(t,["groupBy"]);return(r,i)=>{const{data:a,encode:o}=i,s=e(r,i);if(!s)return[r,i];const l=(v,g)=>{if(v)return v;const{from:b}=g;if(!b)return v;const[,x]=rn(o,b);return x},c=Object.entries(n).map(([v,g])=>{const[b,x]=wZ(g),[_,w]=rn(o,v),E=l(w,g),A=s.map(M=>b(M,_??a));return[v,Object.assign(Object.assign({},JX(A,x?.(E)||E)),{aggregate:!0})]}),u=Object.keys(o).map(v=>{const[g,b]=rn(o,v),x=s.map(_=>g[_[0]]);return[v,Yn(x,b)]}),d=s.map(v=>a[v[0]]);return[Rh(s),wt({},i,{data:d,encode:Object.fromEntries([...u,...c])})]}};GC.props={};var RZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const F1=(t={})=>{const{channels:e=["x","y"]}=t,n=RZ(t,["channels"]),r=(i,a)=>yf(e,i,a);return GC(Object.assign(Object.assign({},n),{groupBy:r}))};F1.props={};const gI=(t={})=>F1(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));gI.props={};const yI=(t={})=>F1(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));yI.props={};const mI=(t={})=>F1(Object.assign(Object.assign({},t),{channels:["color"]}));mI.props={};function PZ(t,e,n){const{by:r=t,reducer:i="max"}=e,[a]=rn(n,r);if(typeof i=="function")return o=>i(o,a);if(i==="max")return o=>Mn(o,s=>+a[s]);if(i==="min")return o=>xo(o,s=>+a[s]);if(i==="sum")return o=>Qo(o,s=>+a[s]);if(i==="median")return o=>RC(o,s=>+a[s]);if(i==="mean")return o=>t1(o,s=>+a[s]);if(i==="first")return o=>a[o[0]];if(i==="last")return o=>a[o[o.length-1]];throw new Error(`Unknown reducer: ${i}`)}function jZ(t,e,n){if(!Array.isArray(n))return t;const r=new Set(n);return t.filter(i=>r.has(e[i]))}const QO=(t={})=>(e,n)=>{const{reverse:r,slice:i,channel:a,by:o,ordinal:s=!0,reducer:l}=t,{encode:c,scale:u={}}=n,d=u[a].domain,[h]=rn(c,o??a),[v]=rn(c,a),g=PZ(a,{by:o,reducer:l},c),b=jZ(e,v,d),x=dV(b,g,A=>v[A]),_=s?e:Ns(e,A=>h[A]);r&&(!s&&_.reverse(),x.reverse());const w=typeof i=="number"?[0,i]:i,E=i?x.slice(...w):x;return[_,wt(n,{scale:{[a]:{domain:E}}})]};QO.props={};const bI=(t={})=>QO(Object.assign(Object.assign({},t),{channel:"x"}));bI.props={};const xI=(t={})=>QO(Object.assign(Object.assign({},t),{channel:"color"}));xI.props={};const _I=(t={})=>QO(Object.assign(Object.assign({},t),{channel:"y"}));_I.props={};function LZ(t,e){return typeof e=="string"?t.map(n=>n[e]):t.map(e)}function NZ(t,e){if(typeof t=="function")return n=>t(n,e);if(t==="sum")return n=>Qo(n,r=>+e[r]);throw new Error(`Unknown reducer: ${t}`)}const wI=(t={})=>{const{field:e,channel:n="y",reducer:r="sum"}=t;return(i,a)=>{const{data:o,encode:s}=a,[l]=rn(s,"x"),c=e?LZ(o,e):rn(s,n)[0],u=NZ(r,c),d=kC(i,u,h=>l[h]).map(h=>h[1]);return[i,wt({},a,{scale:{x:{flex:d}}})]}};wI.props={};function Pr([t,e],[n,r]){return[t-n,e-r]}function U2([t,e],[n,r]){return[t+n,e+r]}function Sr([t,e],[n,r]){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))}function ts([t,e]){return Math.atan2(e,t)}function og([t,e]){return ts([t,e])+Math.PI/2}function OI(t,e){const n=ts(t),r=ts(e);return n<r?r-n:Math.PI*2-(n-r)}function YC(t){let e=1/0,n=-1/0,r=1/0,i=-1/0;for(const[s,l]of t)e=Math.min(s,e),n=Math.max(s,n),r=Math.min(l,r),i=Math.max(l,i);const a=n-e,o=i-r;return[e,r,a,o]}function SI([t,e],[n,r]){return[(t+n)/2,(e+r)/2]}function DZ(t){const{padding:e=0,direction:n="col"}=t;return(r,i,a)=>{const o=r.length;if(o===0)return[];const{innerWidth:s,innerHeight:l}=a,c=l/s;let u=Math.ceil(Math.sqrt(i/c)),d=s/u,h=Math.ceil(i/u),v=h*d;for(;v>l;)u=u+1,d=s/u,h=Math.ceil(i/u),v=h*d;const g=l-h*d,b=h<=1?0:g/(h-1),[x,_]=h<=1?[(s-o*d)/(o-1),(l-d)/2]:[0,0];return r.map((w,E)=>{const[A,M,T,C]=YC(w),R=n==="col"?E%u:Math.floor(E/h),j=n==="col"?Math.floor(E/u):E%h,I=R*d,D=(h-j-1)*d+g,B=(d-e)/T,$=(d-e)/C,U=I-A+x*R+1/2*e,G=D-M-b*j-_+1/2*e;return`translate(${U}, ${G}) scale(${B}, ${$})`})}}const EI=t=>(e,n)=>[e,wt({},n,{modifier:DZ(t),axis:!1})];EI.props={};var IZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const bP="thresholds";function BZ(t){const[e,n]=jc(t);return Math.min(200,SV(t,e,n))}const qC=(t={})=>{const{groupChannels:e=["color"],binChannels:n=["x","y"]}=t,r=IZ(t,["groupChannels","binChannels"]),i={},a=(o,s)=>{const{encode:l}=s,c=n.map(g=>{const[b]=rn(l,g);return b}),u=$t(r,bP),d=o.filter(g=>c.every(b=>qn(b[g]))),h=[...e.map(g=>{const[b]=rn(l,g);return b}).filter(qn).map(g=>b=>g[b]),...n.map((g,b)=>{const x=c[b],_=u[g]||BZ(x),w=_V().thresholds(_).value(A=>+x[A])(d),E=new Map(w.flatMap(A=>{const{x0:M,x1:T}=A,C=`${M},${T}`;return A.map(R=>[R,C])}));return i[g]=E,A=>E.get(A)})],v=g=>h.map(b=>b(g)).join("-");return Array.from(Vn(d,v).values())};return GC(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter(([o])=>!o.startsWith(bP)))),Object.fromEntries(n.flatMap(o=>{const s=([c])=>+i[o].get(c).split(",")[0],l=([c])=>+i[o].get(c).split(",")[1];return l.from=o,[[o,s],[`${o}1`,l]]}))),{groupBy:a}))};qC.props={};const AI=(t={})=>{const{thresholds:e}=t;return qC(Object.assign(Object.assign({},t),{thresholdsX:e,groupChannels:["color"],binChannels:["x"]}))};AI.props={};function $Z(t,e,n,r){const i=t.length;if(r>=i||r===0)return t;const a=v=>e[t[v]]*1,o=v=>n[t[v]]*1,s=[],l=(i-2)/(r-2);let c=0,u,d,h;s.push(c);for(let v=0;v<r-2;v++){let g=0,b=0,x=Math.floor((v+1)*l)+1,_=Math.floor((v+2)*l)+1;_=Math.min(_,i);const w=_-x;for(;x<_;x++)g+=a(x),b+=o(x);g/=w,b/=w;let E=Math.floor((v+0)*l)+1;const A=Math.floor((v+1)*l)+1,M=[a(c),o(c)];for(u=d=-1;E<A;E++)d=Math.abs((M[0]-g)*(a(E)-M[1])-(M[0]-o(E))*(b-M[0]))*.5,d>u&&(u=d,h=E);s.push(h),c=h}return s.push(i-1),s.map(v=>t[v])}function zZ(t){if(typeof t=="function")return t;if(t==="lttb")return $Z;const e={first:r=>[r[0]],last:r=>[r[r.length-1]],min:(r,i,a)=>[r[I1(r,o=>a[o])]],max:(r,i,a)=>[r[Ag(r,o=>a[o])]],median:(r,i,a)=>[r[EV(r,o=>a[o])]]},n=e[t]||e.median;return(r,i,a,o)=>{const s=Math.max(1,Math.floor(r.length/o));return FZ(r,s).flatMap(c=>n(c,i,a))}}function FZ(t,e){const n=t.length,r=[];let i=0;for(;i<n;)r.push(t.slice(i,i+=e));return r}const MI=(t={})=>{const{strategy:e="median",thresholds:n=2e3,groupBy:r=["series","color"]}=t,i=zZ(e);return(a,o)=>{const{encode:s}=o,l=yf(r,a,o),[c]=rn(s,"x"),[u]=rn(s,"y");return[l.flatMap(d=>i(d,c,u,n)),o]}};MI.props={};function UZ(t){return typeof t=="object"?[t.value,t.ordinal]:[t,!0]}function HZ(t){var e;const{encode:n}=t,r=Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),{y:Object.assign(Object.assign({},t.encode.y),{value:[]})})}),i=(e=n?.color)===null||e===void 0?void 0:e.field;if(!n||!i)return r;let a;for(const[o,s]of Object.entries(n))(o==="x"||o==="y")&&s.field===i&&(a=Object.assign(Object.assign({},a),{[o]:Object.assign(Object.assign({},s),{value:[]})}));return a?Object.assign(Object.assign({},t),{encode:Object.assign(Object.assign({},t.encode),a)}):r}const TI=(t={})=>(e,n)=>{const{encode:r,data:i}=n,a=Object.entries(t).map(([u,d])=>{const[h]=rn(r,u);if(!h)return null;const[v,g=!0]=UZ(d);if(typeof v=="function")return b=>v(h[b]);if(g){const b=Array.isArray(v)?v:[v];return b.length===0?null:x=>b.includes(h[x])}else{const[b,x]=v;return _=>h[_]>=b&&h[_]<=x}}).filter(qn),o=u=>a.every(d=>d(u)),s=e.filter(o),l=s.map((u,d)=>d);if(a.length===0){const u=HZ(n);return[e,u]}const c=Object.entries(r).map(([u,d])=>[u,Object.assign(Object.assign({},d),{value:l.map(h=>d.value[s[h]]).filter(h=>h!==void 0)})]);return[l,wt({},n,{encode:Object.fromEntries(c),data:s.map(u=>i[u])})]};TI.props={};function fr(t){return function(){return t}}const xP=Math.abs,Ji=Math.atan2,$d=Math.cos,GZ=Math.max,SA=Math.min,_l=Math.sin,jv=Math.sqrt,ea=1e-12,a1=Math.PI,Aw=a1/2,YZ=2*a1;function qZ(t){return t>1?0:t<-1?a1:Math.acos(t)}function _P(t){return t>=1?Aw:t<=-1?-Aw:Math.asin(t)}const OT=Math.PI,ST=2*OT,Kd=1e-6,WZ=ST-Kd;function kI(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kI;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let WC=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kI:XZ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,c=i-n,u=o-e,d=s-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Kd)if(!(Math.abs(d*l-c*u)>Kd)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,g=i-s,b=l*l+c*c,x=v*v+g*g,_=Math.sqrt(b),w=Math.sqrt(h),E=a*Math.tan((OT-Math.acos((b+h-x)/(2*_*w)))/2),A=E/w,M=E/_;Math.abs(A-1)>Kd&&this._append`L${e+A*u},${n+A*d}`,this._append`A${a},${a},0,0,${+(d*v>u*g)},${this._x1=e+M*l},${this._y1=n+M*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Kd||Math.abs(this._y1-u)>Kd)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%ST+ST),h>WZ?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>Kd&&this._append`A${r},${r},0,${+(h>=OT)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function rs(){return new WC}rs.prototype=WC.prototype;function XC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new WC(e)}function VZ(t){return t.innerRadius}function KZ(t){return t.outerRadius}function ZZ(t){return t.startAngle}function QZ(t){return t.endAngle}function JZ(t){return t&&t.padAngle}function tQ(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,d=s-a,h=d*l-u*c;if(!(h*h<ea))return h=(u*(e-a)-d*(t-i))/h,[t+h*l,e+h*c]}function H2(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/jv(s*s+l*l),u=c*l,d=-c*s,h=t+u,v=e+d,g=n+u,b=r+d,x=(h+g)/2,_=(v+b)/2,w=g-h,E=b-v,A=w*w+E*E,M=i-a,T=h*b-g*v,C=(E<0?-1:1)*jv(GZ(0,M*M*A-T*T)),R=(T*E-w*C)/A,j=(-T*w-E*C)/A,I=(T*E+w*C)/A,D=(-T*w+E*C)/A,B=R-x,$=j-_,U=I-x,G=D-_;return B*B+$*$>U*U+G*G&&(R=I,j=D),{cx:R,cy:j,x01:-u,y01:-d,x11:R*(i/M-1),y11:j*(i/M-1)}}function VC(){var t=VZ,e=KZ,n=fr(0),r=null,i=ZZ,a=QZ,o=JZ,s=null,l=XC(c);function c(){var u,d,h=+t.apply(this,arguments),v=+e.apply(this,arguments),g=i.apply(this,arguments)-Aw,b=a.apply(this,arguments)-Aw,x=xP(b-g),_=b>g;if(s||(s=u=l()),v<h&&(d=v,v=h,h=d),!(v>ea))s.moveTo(0,0);else if(x>YZ-ea)s.moveTo(v*$d(g),v*_l(g)),s.arc(0,0,v,g,b,!_),h>ea&&(s.moveTo(h*$d(b),h*_l(b)),s.arc(0,0,h,b,g,_));else{var w=g,E=b,A=g,M=b,T=x,C=x,R=o.apply(this,arguments)/2,j=R>ea&&(r?+r.apply(this,arguments):jv(h*h+v*v)),I=SA(xP(v-h)/2,+n.apply(this,arguments)),D=I,B=I,$,U;if(j>ea){var G=_P(j/h*_l(R)),F=_P(j/v*_l(R));(T-=G*2)>ea?(G*=_?1:-1,A+=G,M-=G):(T=0,A=M=(g+b)/2),(C-=F*2)>ea?(F*=_?1:-1,w+=F,E-=F):(C=0,w=E=(g+b)/2)}var H=v*$d(w),Y=v*_l(w),W=h*$d(M),V=h*_l(M);if(I>ea){var J=v*$d(E),tt=v*_l(E),nt=h*$d(A),lt=h*_l(A),at;if(x<a1)if(at=tQ(H,Y,nt,lt,J,tt,W,V)){var ft=H-at[0],mt=Y-at[1],ct=J-at[0],St=tt-at[1],Mt=1/_l(qZ((ft*ct+mt*St)/(jv(ft*ft+mt*mt)*jv(ct*ct+St*St)))/2),It=jv(at[0]*at[0]+at[1]*at[1]);D=SA(I,(h-It)/(Mt-1)),B=SA(I,(v-It)/(Mt+1))}else D=B=0}C>ea?B>ea?($=H2(nt,lt,H,Y,v,B,_),U=H2(J,tt,W,V,v,B,_),s.moveTo($.cx+$.x01,$.cy+$.y01),B<I?s.arc($.cx,$.cy,B,Ji($.y01,$.x01),Ji(U.y01,U.x01),!_):(s.arc($.cx,$.cy,B,Ji($.y01,$.x01),Ji($.y11,$.x11),!_),s.arc(0,0,v,Ji($.cy+$.y11,$.cx+$.x11),Ji(U.cy+U.y11,U.cx+U.x11),!_),s.arc(U.cx,U.cy,B,Ji(U.y11,U.x11),Ji(U.y01,U.x01),!_))):(s.moveTo(H,Y),s.arc(0,0,v,w,E,!_)):s.moveTo(H,Y),!(h>ea)||!(T>ea)?s.lineTo(W,V):D>ea?($=H2(W,V,J,tt,h,-D,_),U=H2(H,Y,nt,lt,h,-D,_),s.lineTo($.cx+$.x01,$.cy+$.y01),D<I?s.arc($.cx,$.cy,D,Ji($.y01,$.x01),Ji(U.y01,U.x01),!_):(s.arc($.cx,$.cy,D,Ji($.y01,$.x01),Ji($.y11,$.x11),!_),s.arc(0,0,h,Ji($.cy+$.y11,$.cx+$.x11),Ji(U.cy+U.y11,U.cx+U.x11),_),s.arc(U.cx,U.cy,D,Ji(U.y11,U.x11),Ji(U.y01,U.x01),!_))):s.arc(0,0,h,M,A,_)}if(s.closePath(),u)return s=null,u+""||null}return c.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-a1/2;return[$d(d)*u,_l(d)*u]},c.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:fr(+u),c):t},c.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:fr(+u),c):e},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:fr(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:fr(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:fr(+u),c):i},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:fr(+u),c):a},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:fr(+u),c):o},c.context=function(u){return arguments.length?(s=u??null,c):s},c}function CI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RI(t){this._context=t}RI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function U1(t){return new RI(t)}function PI(t){return t[0]}function jI(t){return t[1]}function jh(t,e){var n=fr(!0),r=null,i=U1,a=null,o=XC(s);t=typeof t=="function"?t:t===void 0?PI:fr(t),e=typeof e=="function"?e:e===void 0?jI:fr(e);function s(l){var c,u=(l=CI(l)).length,d,h=!1,v;for(r==null&&(a=i(v=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(d,c,l),+e(d,c,l));if(v)return a=null,v+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:fr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:fr(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:fr(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function ET(t,e,n){var r=null,i=fr(!0),a=null,o=U1,s=null,l=XC(c);t=typeof t=="function"?t:t===void 0?PI:fr(+t),e=typeof e=="function"?e:fr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jI:fr(+n);function c(d){var h,v,g,b=(d=CI(d)).length,x,_=!1,w,E=new Array(b),A=new Array(b);for(a==null&&(s=o(w=l())),h=0;h<=b;++h){if(!(h<b&&i(x=d[h],h,d))===_)if(_=!_)v=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=v;--g)s.point(E[g],A[g]);s.lineEnd(),s.areaEnd()}_&&(E[h]=+t(x,h,d),A[h]=+e(x,h,d),s.point(r?+r(x,h,d):E[h],n?+n(x,h,d):A[h]))}if(w)return s=null,w+""||null}function u(){return jh().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:fr(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:fr(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:fr(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:fr(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:fr(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:fr(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:fr(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}var LI=KC(U1);function NI(t){this._curve=t}NI.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function KC(t){function e(n){return new NI(t(n))}return e._curve=t,e}function fm(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(KC(n)):e()._curve},t}function eQ(){return fm(jh().curve(LI))}function nQ(){var t=ET().curve(LI),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return fm(n())},delete t.lineX0,t.lineEndAngle=function(){return fm(r())},delete t.lineX1,t.lineInnerRadius=function(){return fm(i())},delete t.lineY0,t.lineOuterRadius=function(){return fm(a())},delete t.lineY1,t.curve=function(o){return arguments.length?e(KC(o)):e()._curve},t}function sg(){}function AT(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ZC(t,e){this._context=t,this._k=(1-e)/6}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:AT(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:AT(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return new ZC(r,e)}return n.tension=function(r){return t(+r)},n})(0);function QC(t,e){this._context=t,this._k=(1-e)/6}QC.prototype={areaStart:sg,areaEnd:sg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:AT(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return new QC(r,e)}return n.tension=function(r){return t(+r)},n})(0);function DI(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>ea){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>ea){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function II(t,e){this._context=t,this._alpha=e}II.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:DI(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(r){return e?new II(r,e):new ZC(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function BI(t,e){this._context=t,this._alpha=e}BI.prototype={areaStart:sg,areaEnd:sg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:DI(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $I=(function t(e){function n(r){return e?new BI(r,e):new QC(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function zI(t){this._context=t}zI.prototype={areaStart:sg,areaEnd:sg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function JC(t){return new zI(t)}function wP(t){return t<0?-1:1}function OP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(wP(a)+wP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function SP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function EA(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Mw(t){this._context=t}Mw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:EA(this,this._t0,SP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,EA(this,SP(this,n=OP(this,t,e)),n);break;default:EA(this,this._t0,n=OP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function FI(t){this._context=new UI(t)}(FI.prototype=Object.create(Mw.prototype)).point=function(t,e){Mw.prototype.point.call(this,e,t)};function UI(t){this._context=t}UI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function HI(t){return new Mw(t)}function GI(t){return new FI(t)}function JO(t,e){this._context=t,this._t=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function YI(t){return new JO(t,.5)}function qI(t){return new JO(t,0)}function WI(t){return new JO(t,1)}function nr(t){const{transformations:e}=t.getOptions();return e.map(([r])=>r).filter(r=>r==="transpose").length%2!==0}function Nn(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="polar")}function tS(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="reflect")&&e.some(([n])=>n.startsWith("transpose"))}function XI(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="helix")}function eS(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="parallel")}function VI(t){const{transformations:e}=t.getOptions();return e.some(([n])=>n==="fisheye")}function rQ(t){return eS(t)&&Nn(t)}function Mg(t){return XI(t)||Nn(t)}function iQ(t){return Nn(t)&&nr(t)}function aQ(t){if(Mg(t)){const[e,n]=t.getSize(),r=t.getOptions().transformations.find(i=>i[0]==="polar");if(r)return Math.max(e,n)/2*r[4]}return 0}function nS(t){const{transformations:e}=t.getOptions(),[,,,n,r]=e.find(i=>i[0]==="polar");return[+n,+r]}function t5(t,e=!0){const{transformations:n}=t.getOptions(),[,r,i]=n.find(a=>a[0]==="polar");return e?[+r*180/Math.PI,+i*180/Math.PI]:[r,i]}function oQ(t,e){const{transformations:n}=t.getOptions(),[,...r]=n.find(i=>i[0]===e);return r}var AA={exports:{}},EP;function sQ(){return EP||(EP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var v=new i(u,d||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],v]:l._events[g].push(v):(l._events[g]=v,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,v=d.length,g=new Array(v);h<v;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,v,g){var b=n?n+c:c;if(!this._events[b])return!1;var x=this._events[b],_=arguments.length,w,E;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,d),!0;case 4:return x.fn.call(x.context,u,d,h),!0;case 5:return x.fn.call(x.context,u,d,h,v),!0;case 6:return x.fn.call(x.context,u,d,h,v,g),!0}for(E=1,w=new Array(_-1);E<_;E++)w[E-1]=arguments[E];x.fn.apply(x.context,w)}else{var A=x.length,M;for(E=0;E<A;E++)switch(x[E].once&&this.removeListener(c,x[E].fn,void 0,!0),_){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,u);break;case 3:x[E].fn.call(x[E].context,u,d);break;case 4:x[E].fn.call(x[E].context,u,d,h);break;default:if(!w)for(M=1,w=new Array(_-1);M<_;M++)w[M-1]=arguments[M];x[E].fn.apply(x[E].context,w)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var v=n?n+c:c;if(!this._events[v])return this;if(!u)return o(this,v),this;var g=this._events[v];if(g.fn)g.fn===u&&(!h||g.once)&&(!d||g.context===d)&&o(this,v);else{for(var b=0,x=[],_=g.length;b<_;b++)(g[b].fn!==u||h&&!g[b].once||d&&g[b].context!==d)&&x.push(g[b]);x.length?this._events[v]=x.length===1?x[0]:x:o(this,v)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(AA)),AA.exports}var lQ=sQ();const KI=LO(lQ);function cQ(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=KD(t))!==null;);return t}function MT(){return MT=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=cQ(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},MT.apply(null,arguments)}function AP(t,e,n,r){var i=MT(KD(t.prototype),e,n);return typeof i=="function"?function(a){return i.apply(n,a)}:i}/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function Lc(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}function ZI(t,e){var n=Math.min.apply(Math,He(t)),r=Math.min.apply(Math,He(e)),i=Math.max.apply(Math,He(t)),a=Math.max.apply(Math,He(e));return{x:n,y:r,width:i-n,height:a-r}}function uQ(t,e,n){return Math.atan(-e/t*Math.tan(n))}function fQ(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function dQ(t,e,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+t}function hQ(t,e,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+e}function pQ(t,e,n,r,i,a,o){for(var s=uQ(n,r,i),l=1/0,c=-1/0,u=[a,o],d=-Math.PI*2;d<=Math.PI*2;d+=Math.PI){var h=s+d;a<o?a<h&&h<o&&u.push(h):o<h&&h<a&&u.push(h)}for(var v=0;v<u.length;v++){var g=dQ(t,e,n,r,i,u[v]);g<l&&(l=g),g>c&&(c=g)}for(var b=fQ(n,r,i),x=1/0,_=-1/0,w=[a,o],E=-Math.PI*2;E<=Math.PI*2;E+=Math.PI){var A=b+E;a<o?a<A&&A<o&&w.push(A):o<A&&A<a&&w.push(A)}for(var M=0;M<w.length;M++){var T=hQ(t,e,n,r,i,w[M]);T<x&&(x=T),T>_&&(_=T)}return{x:l,y:x,width:c-l,height:_-x}}var vQ=1e-4;function QI(t,e,n,r,i,a){var o=-1,s=1/0,l=[n,r],c=20;a&&a>200&&(c=a/10);for(var u=1/c,d=u/10,h=0;h<=c;h++){var v=h*u,g=[i.apply(void 0,He(t.concat([v]))),i.apply(void 0,He(e.concat([v])))],b=Lc(l[0],l[1],g[0],g[1]);b<s&&(o=v,s=b)}if(o===0)return{x:t[0],y:e[0]};if(o===1){var x=t.length;return{x:t[x-1],y:e[x-1]}}s=1/0;for(var _=0;_<32&&!(d<vQ);_++){var w=o-d,E=o+d,A=[i.apply(void 0,He(t.concat([w]))),i.apply(void 0,He(e.concat([w])))],M=Lc(l[0],l[1],A[0],A[1]);if(w>=0&&M<s)o=w,s=M;else{var T=[i.apply(void 0,He(t.concat([E]))),i.apply(void 0,He(e.concat([E])))],C=Lc(l[0],l[1],T[0],T[1]);E<=1&&C<s?(o=E,s=C):d*=.5}}return{x:i.apply(void 0,He(t.concat([o]))),y:i.apply(void 0,He(e.concat([o])))}}function JI(t,e,n,r){return Lc(t,e,n,r)}function tB(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}}function gQ(t,e,n,r,i,a){var o=[n-t,r-e];if(wX(o,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var s=[-o[1],o[0]];xX(s,s);var l=[i-t,a-e];return Math.abs(_X(l,s))}function TT(t,e,n,r,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*n*i*i*a+r*i*i*i}function MP(t,e,n,r){var i=-3*t+9*e-9*n+3*r,a=6*t-12*e+6*n,o=3*e-3*t,s=[],l,c,u;if(Tm(i,0))Tm(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var d=a*a-4*i*o;Tm(d,0)?s.push(-a/(2*i)):d>0&&(u=Math.sqrt(d),l=(-a+u)/(2*i),c=(-a-u)/(2*i),l>=0&&l<=1&&s.push(l),c>=0&&c<=1&&s.push(c))}return s}function yQ(t,e,n,r,i,a,o,s){for(var l=[t,o],c=[e,s],u=MP(t,n,i,o),d=MP(e,r,a,s),h=0;h<u.length;h++)l.push(TT(t,n,i,o,u[h]));for(var v=0;v<d.length;v++)c.push(TT(e,r,a,s,d[v]));return ZI(l,c)}function mQ(t,e,n,r,i,a,o,s,l,c,u){return QI([t,n,i,o],[e,r,a,s],l,c,TT,u)}function TP(t,e,n,r,i,a,o,s,l,c,u){var d=mQ(t,e,n,r,i,a,o,s,l,c,u);return Lc(d.x,d.y,l,c)}function bQ(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=Lc(r[0],r[1],i[0],i[1])}return e}function xQ(t){return bQ(t)}function kT(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function kP(t,e,n){var r=t+n-2*e;if(Tm(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function _Q(t,e,n,r,i,a){var o=kP(t,n,i)[0],s=kP(e,r,a)[0],l=[t,i],c=[e,a];return o!==void 0&&l.push(kT(t,n,i,o)),s!==void 0&&c.push(kT(e,r,a,s)),ZI(l,c)}function wQ(t,e,n,r,i,a,o,s){return QI([t,n,i],[e,r,a],o,s,kT)}function OQ(t,e,n,r,i,a,o,s){var l=wQ(t,e,n,r,i,a,o,s);return Lc(l.x,l.y,o,s)}/*!
 * @antv/g-lite
 * @description A core module for rendering engine implements DOM API.
 * @version 2.3.2
 * @date 7/30/2025, 1:34:19 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var SQ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eB={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(SQ,function(){function n(M,T,C,R,j){r(M,T,C||0,R||M.length-1,j||a)}function r(M,T,C,R,j){for(;R>C;){if(R-C>600){var I=R-C+1,D=T-C+1,B=Math.log(I),$=.5*Math.exp(2*B/3),U=.5*Math.sqrt(B*$*(I-$)/I)*(D-I/2<0?-1:1),G=Math.max(C,Math.floor(T-D*$/I+U)),F=Math.min(R,Math.floor(T+(I-D)*$/I+U));r(M,T,G,F,j)}var H=M[T],Y=C,W=R;for(i(M,C,T),j(M[R],H)>0&&i(M,C,R);Y<W;){for(i(M,Y,W),Y++,W--;j(M[Y],H)<0;)Y++;for(;j(M[W],H)>0;)W--}j(M[C],H)===0?i(M,C,W):(W++,i(M,W,R)),W<=T&&(C=W+1),T<=W&&(R=W-1)}}function i(M,T,C){var R=M[T];M[T]=M[C],M[C]=R}function a(M,T){return M<T?-1:M>T?1:0}var o=function(T){T===void 0&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(T){var C=this.data,R=[];if(!w(T,C))return R;for(var j=this.toBBox,I=[];C;){for(var D=0;D<C.children.length;D++){var B=C.children[D],$=C.leaf?j(B):B;w(T,$)&&(C.leaf?R.push(B):_(T,$)?this._all(B,R):I.push(B))}C=I.pop()}return R},o.prototype.collides=function(T){var C=this.data;if(!w(T,C))return!1;for(var R=[];C;){for(var j=0;j<C.children.length;j++){var I=C.children[j],D=C.leaf?this.toBBox(I):I;if(w(T,D)){if(C.leaf||_(T,D))return!0;R.push(I)}}C=R.pop()}return!1},o.prototype.load=function(T){if(!(T&&T.length))return this;if(T.length<this._minEntries){for(var C=0;C<T.length;C++)this.insert(T[C]);return this}var R=this._build(T.slice(),0,T.length-1,0);if(!this.data.children.length)this.data=R;else if(this.data.height===R.height)this._splitRoot(this.data,R);else{if(this.data.height<R.height){var j=this.data;this.data=R,R=j}this._insert(R,this.data.height-R.height-1,!0)}return this},o.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},o.prototype.clear=function(){return this.data=E([]),this},o.prototype.remove=function(T,C){if(!T)return this;for(var R=this.data,j=this.toBBox(T),I=[],D=[],B,$,U;R||I.length;){if(R||(R=I.pop(),$=I[I.length-1],B=D.pop(),U=!0),R.leaf){var G=s(T,R.children,C);if(G!==-1)return R.children.splice(G,1),I.push(R),this._condense(I),this}!U&&!R.leaf&&_(R,j)?(I.push(R),D.push(B),B=0,$=R,R=R.children[0]):$?(B++,R=$.children[B],U=!1):R=null}return this},o.prototype.toBBox=function(T){return T},o.prototype.compareMinX=function(T,C){return T.minX-C.minX},o.prototype.compareMinY=function(T,C){return T.minY-C.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(T){return this.data=T,this},o.prototype._all=function(T,C){for(var R=[];T;)T.leaf?C.push.apply(C,T.children):R.push.apply(R,T.children),T=R.pop();return C},o.prototype._build=function(T,C,R,j){var I=R-C+1,D=this._maxEntries,B;if(I<=D)return B=E(T.slice(C,R+1)),l(B,this.toBBox),B;j||(j=Math.ceil(Math.log(I)/Math.log(D)),D=Math.ceil(I/Math.pow(D,j-1))),B=E([]),B.leaf=!1,B.height=j;var $=Math.ceil(I/D),U=$*Math.ceil(Math.sqrt(D));A(T,C,R,U,this.compareMinX);for(var G=C;G<=R;G+=U){var F=Math.min(G+U-1,R);A(T,G,F,$,this.compareMinY);for(var H=G;H<=F;H+=$){var Y=Math.min(H+$-1,F);B.children.push(this._build(T,H,Y,j-1))}}return l(B,this.toBBox),B},o.prototype._chooseSubtree=function(T,C,R,j){for(;j.push(C),!(C.leaf||j.length-1===R);){for(var I=1/0,D=1/0,B=void 0,$=0;$<C.children.length;$++){var U=C.children[$],G=v(U),F=b(T,U)-G;F<D?(D=F,I=G<I?G:I,B=U):F===D&&G<I&&(I=G,B=U)}C=B||C.children[0]}return C},o.prototype._insert=function(T,C,R){var j=R?T:this.toBBox(T),I=[],D=this._chooseSubtree(j,this.data,C,I);for(D.children.push(T),u(D,j);C>=0&&I[C].children.length>this._maxEntries;)this._split(I,C),C--;this._adjustParentBBoxes(j,I,C)},o.prototype._split=function(T,C){var R=T[C],j=R.children.length,I=this._minEntries;this._chooseSplitAxis(R,I,j);var D=this._chooseSplitIndex(R,I,j),B=E(R.children.splice(D,R.children.length-D));B.height=R.height,B.leaf=R.leaf,l(R,this.toBBox),l(B,this.toBBox),C?T[C-1].children.push(B):this._splitRoot(R,B)},o.prototype._splitRoot=function(T,C){this.data=E([T,C]),this.data.height=T.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(T,C,R){for(var j,I=1/0,D=1/0,B=C;B<=R-C;B++){var $=c(T,0,B,this.toBBox),U=c(T,B,R,this.toBBox),G=x($,U),F=v($)+v(U);G<I?(I=G,j=B,D=F<D?F:D):G===I&&F<D&&(D=F,j=B)}return j||R-C},o.prototype._chooseSplitAxis=function(T,C,R){var j=T.leaf?this.compareMinX:d,I=T.leaf?this.compareMinY:h,D=this._allDistMargin(T,C,R,j),B=this._allDistMargin(T,C,R,I);D<B&&T.children.sort(j)},o.prototype._allDistMargin=function(T,C,R,j){T.children.sort(j);for(var I=this.toBBox,D=c(T,0,C,I),B=c(T,R-C,R,I),$=g(D)+g(B),U=C;U<R-C;U++){var G=T.children[U];u(D,T.leaf?I(G):G),$+=g(D)}for(var F=R-C-1;F>=C;F--){var H=T.children[F];u(B,T.leaf?I(H):H),$+=g(B)}return $},o.prototype._adjustParentBBoxes=function(T,C,R){for(var j=R;j>=0;j--)u(C[j],T)},o.prototype._condense=function(T){for(var C=T.length-1,R=void 0;C>=0;C--)T[C].children.length===0?C>0?(R=T[C-1].children,R.splice(R.indexOf(T[C]),1)):this.clear():l(T[C],this.toBBox)};function s(M,T,C){if(!C)return T.indexOf(M);for(var R=0;R<T.length;R++)if(C(M,T[R]))return R;return-1}function l(M,T){c(M,0,M.children.length,T,M)}function c(M,T,C,R,j){j||(j=E(null)),j.minX=1/0,j.minY=1/0,j.maxX=-1/0,j.maxY=-1/0;for(var I=T;I<C;I++){var D=M.children[I];u(j,M.leaf?R(D):D)}return j}function u(M,T){return M.minX=Math.min(M.minX,T.minX),M.minY=Math.min(M.minY,T.minY),M.maxX=Math.max(M.maxX,T.maxX),M.maxY=Math.max(M.maxY,T.maxY),M}function d(M,T){return M.minX-T.minX}function h(M,T){return M.minY-T.minY}function v(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function g(M){return M.maxX-M.minX+(M.maxY-M.minY)}function b(M,T){return(Math.max(T.maxX,M.maxX)-Math.min(T.minX,M.minX))*(Math.max(T.maxY,M.maxY)-Math.min(T.minY,M.minY))}function x(M,T){var C=Math.max(M.minX,T.minX),R=Math.max(M.minY,T.minY),j=Math.min(M.maxX,T.maxX),I=Math.min(M.maxY,T.maxY);return Math.max(0,j-C)*Math.max(0,I-R)}function _(M,T){return M.minX<=T.minX&&M.minY<=T.minY&&T.maxX<=M.maxX&&T.maxY<=M.maxY}function w(M,T){return T.minX<=M.maxX&&T.minY<=M.maxY&&T.maxX>=M.minX&&T.maxY>=M.minY}function E(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(M,T,C,R,j){for(var I=[T,C];I.length;)if(C=I.pop(),T=I.pop(),!(C-T<=R)){var D=T+Math.ceil((C-T)/R/2)*R;n(M,D,T,C,j),I.push(T,D,D,C)}}return o})})(eB);var EQ=eB.exports,xt=(function(t){return t.GROUP="g",t.FRAGMENT="fragment",t.CIRCLE="circle",t.ELLIPSE="ellipse",t.IMAGE="image",t.RECT="rect",t.LINE="line",t.POLYLINE="polyline",t.POLYGON="polygon",t.TEXT="text",t.PATH="path",t.HTML="html",t.MESH="mesh",t})({}),W_=(function(t){return t[t.ZERO=0]="ZERO",t[t.NEGATIVE_ONE=1]="NEGATIVE_ONE",t})({}),bf=(function(){function t(){Lt(this,t),this.plugins=[]}return jt(t,[{key:"addRenderingPlugin",value:function(n){this.plugins.push(n),this.context.renderingPlugins.push(n)}},{key:"removeAllRenderingPlugins",value:function(){var n=this;this.plugins.forEach(function(r){var i=n.context.renderingPlugins.indexOf(r);i>=0&&n.context.renderingPlugins.splice(i,1)})}}])})(),AQ=(function(){function t(e){Lt(this,t),this.clipSpaceNearZ=W_.NEGATIVE_ONE,this.plugins=[],this.config=Te({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0,enableRenderingOptimization:!1},e)}return jt(t,[{key:"registerPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r===-1&&this.plugins.push(n)}},{key:"unregisterPlugin",value:function(n){var r=this.plugins.findIndex(function(i){return i===n});r>-1&&this.plugins.splice(r,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(n){return this.plugins.find(function(r){return r.name===n})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(n){Object.assign(this.config,n)}}])})(),MA=rf,_v=Pl,MQ=cX,TQ=lX,CP=gw,TA=dX,Kr=(function(){function t(){Lt(this,t),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return jt(t,[{key:"update",value:function(n,r){_v(this.center,n),_v(this.halfExtents,r),TA(this.min,this.center,this.halfExtents),MA(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(n,r){MA(this.center,r,n),CP(this.center,this.center,.5),TA(this.halfExtents,r,n),CP(this.halfExtents,this.halfExtents,.5),_v(this.min,n),_v(this.max,r)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(n){if(!t.isEmpty(n)){if(t.isEmpty(this)){this.setMinMax(n.getMin(),n.getMax());return}var r=this.center,i=r[0],a=r[1],o=r[2],s=this.halfExtents,l=s[0],c=s[1],u=s[2],d=i-l,h=i+l,v=a-c,g=a+c,b=o-u,x=o+u,_=n.center,w=_[0],E=_[1],A=_[2],M=n.halfExtents,T=M[0],C=M[1],R=M[2],j=w-T,I=w+T,D=E-C,B=E+C,$=A-R,U=A+R;j<d&&(d=j),I>h&&(h=I),D<v&&(v=D),B>g&&(g=B),$<b&&(b=$),U>x&&(x=U),r[0]=(d+h)*.5,r[1]=(v+g)*.5,r[2]=(b+x)*.5,s[0]=(h-d)*.5,s[1]=(g-v)*.5,s[2]=(x-b)*.5,this.min[0]=d,this.min[1]=v,this.min[2]=b,this.max[0]=h,this.max[1]=g,this.max[2]=x}}},{key:"setFromTransformedAABB",value:function(n,r){var i=this.center,a=this.halfExtents,o=n.center,s=n.halfExtents,l=r[0],c=r[4],u=r[8],d=r[1],h=r[5],v=r[9],g=r[2],b=r[6],x=r[10],_=Math.abs(l),w=Math.abs(c),E=Math.abs(u),A=Math.abs(d),M=Math.abs(h),T=Math.abs(v),C=Math.abs(g),R=Math.abs(b),j=Math.abs(x);i[0]=r[12]+l*o[0]+c*o[1]+u*o[2],i[1]=r[13]+d*o[0]+h*o[1]+v*o[2],i[2]=r[14]+g*o[0]+b*o[1]+x*o[2],a[0]=_*s[0]+w*s[1]+E*s[2],a[1]=A*s[0]+M*s[1]+T*s[2],a[2]=C*s[0]+R*s[1]+j*s[2],TA(this.min,i,a),MA(this.max,i,a)}},{key:"intersects",value:function(n){var r=this.getMax(),i=this.getMin(),a=n.getMax(),o=n.getMin();return i[0]<=a[0]&&r[0]>=o[0]&&i[1]<=a[1]&&r[1]>=o[1]&&i[2]<=a[2]&&r[2]>=o[2]}},{key:"intersection",value:function(n){if(!this.intersects(n))return null;var r=new t,i=MQ([0,0,0],this.getMin(),n.getMin()),a=TQ([0,0,0],this.getMax(),n.getMax());return r.setMinMax(i,a),r}},{key:"getNegativeFarPoint",value:function(n){return n.pnVertexFlag===273?_v([0,0,0],this.min):n.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:n.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(n){return n.pnVertexFlag===273?_v([0,0,0],this.max):n.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:n.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:n.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:n.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:n.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:n.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(n){return!n||n.halfExtents[0]===0&&n.halfExtents[1]===0&&n.halfExtents[2]===0}}])})(),kQ=(function(){function t(e,n){Lt(this,t),this.distance=e||0,this.normal=n||vn(0,1,0),this.updatePNVertexFlag()}return jt(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(n){return jl(n,this.normal)-this.distance}},{key:"normalize",value:function(){var n=1/Q6(this.normal);gw(this.normal,this.normal,n),this.distance*=n}},{key:"intersectsLine",value:function(n,r,i){var a=this.distanceToPoint(n),o=this.distanceToPoint(r),s=a/(a-o),l=s>=0&&s<=1;return l&&i&&dT(i,n,r,s),l}}])})(),wv=(function(t){return t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE",t})({}),CQ=(function(){function t(e){if(Lt(this,t),this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new kQ)}return jt(t,[{key:"extractFromVPMatrix",value:function(n){var r=we(n,16),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],v=r[9],g=r[10],b=r[11],x=r[12],_=r[13],w=r[14],E=r[15];ra(this.planes[0].normal,s-i,d-l,b-h),this.planes[0].distance=E-x,ra(this.planes[1].normal,s+i,d+l,b+h),this.planes[1].distance=E+x,ra(this.planes[2].normal,s+a,d+c,b+v),this.planes[2].distance=E+_,ra(this.planes[3].normal,s-a,d-c,b-v),this.planes[3].distance=E-_,ra(this.planes[4].normal,s-o,d-u,b-g),this.planes[4].distance=E-w,ra(this.planes[5].normal,s+o,d+u,b+g),this.planes[5].distance=E+w,this.planes.forEach(function(A){A.normalize(),A.updatePNVertexFlag()})}}])})(),Di=(function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Lt(this,t),this.x=0,this.y=0,this.x=e,this.y=n}return jt(t,[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copyFrom",value:function(n){this.x=n.x,this.y=n.y}}])})(),lg=(function(){function t(e,n,r,i){Lt(this,t),this.x=e,this.y=n,this.width=r,this.height=i,this.left=e,this.right=e+r,this.top=n,this.bottom=n+i}return jt(t,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(n){return new t(n.x,n.y,n.width,n.height)}},{key:"applyTransform",value:function(n,r){var i=um(n.x,n.y,0,1),a=um(n.x+n.width,n.y,0,1),o=um(n.x,n.y+n.height,0,1),s=um(n.x+n.width,n.y+n.height,0,1),l=Ll(),c=Ll(),u=Ll(),d=Ll();Nl(l,i,r),Nl(c,a,r),Nl(u,o,r),Nl(d,s,r);var h=Math.min(l[0],c[0],u[0],d[0]),v=Math.min(l[1],c[1],u[1],d[1]),g=Math.max(l[0],c[0],u[0],d[0]),b=Math.max(l[1],c[1],u[1],d[1]);return t.fromRect({x:h,y:v,width:g-h,height:b-v})}}])})(),Fn="Method not implemented.",Ov="Use document.documentElement instead.",RQ="Cannot append a destroyed element.";function Fv(t){return t===void 0?0:t>360||t<-360?t%360:t}var kA=Ye();function Ea(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return Array.isArray(t)&&t.length===3?r?Ac(t):Pl(kA,t):Kn(t)?r?vn(t,e,n):ra(kA,t,e,n):r?vn(t[0],t[1]||e,t[2]||n):ra(kA,t[0],t[1]||e,t[2]||n)}var PQ=Math.PI/180;function Hn(t){return t*PQ}var jQ=180/Math.PI;function Ho(t){return t*jQ}function LQ(t){return 360*t}var Tw=Math.PI/2;function NQ(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n*n,s=r*r,l=i*i,c=a*a,u=o+s+l+c,d=n*a-r*i;return d>.499995*u?(t[0]=Tw,t[1]=2*Math.atan2(r,n),t[2]=0):d<-.499995*u?(t[0]=-Tw,t[1]=2*Math.atan2(r,n),t[2]=0):(t[0]=Math.asin(2*(n*i-a*r)),t[1]=Math.atan2(2*(n*a+r*i),1-2*(l+c)),t[2]=Math.atan2(2*(n*r+i*a),1-2*(s+l))),t}function DQ(t,e){var n,r,i=eg(Ye(),e),a=we(i,3),o=a[0],s=a[1],l=a[2],c=Math.asin(-e[2]/o);return c<Tw?c>-Tw?(n=Math.atan2(e[6]/s,e[10]/l),r=Math.atan2(e[1]/o,e[0]/o)):(r=0,n=-Math.atan2(e[4]/s,e[5]/s)):(r=0,n=Math.atan2(e[4]/s,e[5]/s)),t[0]=n,t[1]=c,t[2]=r,t}function CA(t,e){return e.length===16?DQ(t,e):NQ(t,e)}function IQ(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t);return NW(r*a,i*o,0,-r*o,i*a,0,e,n,1)}function BQ(t,e,n,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,l=2*a,c=n-e,u=r-i,d=l/c,h=l/u,v=(n+e)/c,g=(r+i)/u,b,x,_=o-a,w=o*a;return s?(b=-o/_,x=-w/_):(b=-(o+a)/_,x=-2*w/_),t[0]=d,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=v,t[9]=g,t[10]=b,t[11]=-1,t[12]=0,t[13]=0,t[14]=x,t[15]=0,t}function RP(t){var e=t[0],n=t[1],r=t[3],i=t[4],a=Math.sqrt(e*e+n*n),o=Math.sqrt(r*r+i*i),s=e*i-n*r;if(s<0&&(e<i?a=-a:o=-o),a){var l=1/a;e*=l,n*=l}if(o){var c=1/o;r*=c,i*=c}var u=Math.atan2(n,e),d=Ho(u);return[t[6],t[7],a,o,d]}var wl=An(),Ts=An(),qy=Ll(),me=[Ye(),Ye(),Ye()],PP=Ye();function $Q(t,e,n,r,i,a){if(!zQ(wl,t)||(tg(Ts,wl),Ts[3]=0,Ts[7]=0,Ts[11]=0,Ts[15]=1,Math.abs(I6(Ts))<1e-8))return!1;var o=wl[3],s=wl[7],l=wl[11],c=wl[12],u=wl[13],d=wl[14],h=wl[15];if(o!==0||s!==0||l!==0){qy[0]=o,qy[1]=s,qy[2]=l,qy[3]=h;var v=Ls(Ts,Ts);if(!v)return!1;D6(Ts,Ts),Nl(i,qy,Ts)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=c,e[1]=u,e[2]=d,FQ(me,wl),n[0]=Tc(me[0]),lh(me[0],me[0]),r[0]=jl(me[0],me[1]),RA(me[1],me[1],me[0],1,-r[0]),n[1]=Tc(me[1]),lh(me[1],me[1]),r[0]/=n[1],r[1]=jl(me[0],me[2]),RA(me[2],me[2],me[0],1,-r[1]),r[2]=jl(me[1],me[2]),RA(me[2],me[2],me[1],1,-r[2]),n[2]=Tc(me[2]),lh(me[2],me[2]),r[1]/=n[2],r[2]/=n[2],H_(PP,me[1],me[2]),jl(me[0],PP)<0)for(var g=0;g<3;g++)n[g]*=-1,me[g][0]*=-1,me[g][1]*=-1,me[g][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+me[0][0]-me[1][1]-me[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-me[0][0]+me[1][1]-me[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-me[0][0]-me[1][1]+me[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+me[0][0]+me[1][1]+me[2][2],0)),me[2][1]>me[1][2]&&(a[0]=-a[0]),me[0][2]>me[2][0]&&(a[1]=-a[1]),me[1][0]>me[0][1]&&(a[2]=-a[2]),!0}function zQ(t,e){var n=e[15];if(n===0)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}function FQ(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function RA(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}var zn=(function(t){return t[t.ORBITING=0]="ORBITING",t[t.EXPLORING=1]="EXPLORING",t[t.TRACKING=2]="TRACKING",t})({}),CT=(function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.ROTATIONAL=1]="ROTATIONAL",t[t.TRANSLATIONAL=2]="TRANSLATIONAL",t[t.CINEMATIC=3]="CINEMATIC",t})({}),$o=(function(t){return t[t.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",t[t.PERSPECTIVE=1]="PERSPECTIVE",t})({}),nB={UPDATED:"updated"},jP=2e-4,rB=(function(){function t(){Lt(this,t),this.clipSpaceNearZ=W_.NEGATIVE_ONE,this.eventEmitter=new KI,this.matrix=An(),this.right=vn(1,0,0),this.up=vn(0,1,0),this.forward=vn(0,0,1),this.position=vn(0,0,1),this.focalPoint=vn(0,0,0),this.distanceVector=vn(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=An(),this.projectionMatrixInverse=An(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=zn.EXPLORING,this.trackingMode=CT.DEFAULT,this.projectionMode=$o.PERSPECTIVE,this.frustum=new CQ,this.orthoMatrix=An()}return jt(t,[{key:"isOrtho",value:function(){return this.projectionMode===$o.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(n){this.enableUpdate=n}},{key:"setType",value:function(n,r){return this.type=n,this.type===zn.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===zn.TRACKING&&r!==void 0&&this.setTrackingMode(r),this}},{key:"setProjectionMode",value:function(n){return this.projectionMode=n,this}},{key:"setTrackingMode",value:function(n){if(this.type!==zn.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=n,this}},{key:"setWorldRotation",value:function(n){return this.rotateWorld=n,this._getAngles(),this}},{key:"getViewTransform",value:function(){return Ls(An(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(n,r){var i=Mc(An(),[n,r,0]);this.jitteredProjectionMatrix=oa(An(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(n){return this.matrix=n,this._update(),this}},{key:"setProjectionMatrix",value:function(n){this.projectionMatrix=n}},{key:"setFov",value:function(n){return this.setPerspective(this.near,this.far,n,this.aspect),this}},{key:"setAspect",value:function(n){return this.setPerspective(this.near,this.far,this.fov,n),this}},{key:"setNear",value:function(n){return this.projectionMode===$o.PERSPECTIVE?this.setPerspective(n,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,n,this.far),this}},{key:"setFar",value:function(n){return this.projectionMode===$o.PERSPECTIVE?this.setPerspective(this.near,n,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,n),this}},{key:"setViewOffset",value:function(n,r,i,a,o,s){return this.aspect=n/r,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=s,this.projectionMode===$o.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===$o.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(n){return this.zoom=n,this.projectionMode===$o.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===$o.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(n,r){var i=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),a=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(a,o),this.setFocalPoint(a,o),this.setZoom(n),this.rotate(0,0,s);var l=this.canvas.viewport2Canvas({x:r[0],y:r[1]}),c=l.x,u=l.y,d=vn(c-a,u-o,0),h=jl(d,this.right)/Tc(this.right),v=jl(d,this.up)/Tc(this.up),g=this.getPosition(),b=we(g,2),x=b[0],_=b[1],w=this.getFocalPoint(),E=we(w,2),A=E[0],M=E[1];return this.setPosition(x-h,_-v),this.setFocalPoint(A-h,M-v),this}},{key:"setPerspective",value:function(n,r,i,a){var o;this.projectionMode=$o.PERSPECTIVE,this.fov=i,this.near=n,this.far=r,this.aspect=a;var s=this.near*Math.tan(Hn(.5*this.fov))/this.zoom,l=2*s,c=this.aspect*l,u=-.5*c;if((o=this.view)!==null&&o!==void 0&&o.enabled){var d=this.view.fullWidth,h=this.view.fullHeight;u+=this.view.offsetX*c/d,s-=this.view.offsetY*l/h,c*=this.view.width/d,l*=this.view.height/h}return BQ(this.projectionMatrix,u,u+c,s-l,s,n,this.far,this.clipSpaceNearZ===W_.ZERO),Ls(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(n,r,i,a,o,s){var l;this.projectionMode=$o.ORTHOGRAPHIC,this.rright=r,this.left=n,this.top=i,this.bottom=a,this.near=o,this.far=s;var c=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),d=(this.rright+this.left)/2,h=(this.top+this.bottom)/2,v=d-c,g=d+c,b=h+u,x=h-u;if((l=this.view)!==null&&l!==void 0&&l.enabled){var _=(this.rright-this.left)/this.view.fullWidth/this.zoom,w=(this.top-this.bottom)/this.view.fullHeight/this.zoom;v+=_*this.view.offsetX,g=v+_*this.view.width,b-=w*this.view.offsetY,x=b-w*this.view.height}return this.clipSpaceNearZ===W_.NEGATIVE_ONE?W6(this.projectionMatrix,v,g,b,x,o,s):X6(this.projectionMatrix,v,g,b,x,o,s),Ls(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.position[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.position[2],a=Ea(n,r,i);return this._setPosition(a),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.focalPoint[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.focalPoint[2],a=vn(0,1,0);if(this.focalPoint=Ea(n,r,i),this.trackingMode===CT.CINEMATIC){var o=fT(Ye(),this.focalPoint,this.position);n=o[0],r=o[1],i=o[2];var s=Tc(o),l=Ho(Math.asin(r/s)),c=90+Ho(Math.atan2(i,n)),u=An();z6(u,u,Hn(c)),$6(u,u,Hn(l)),a=Rr(Ye(),[0,1,0],u)}return Ls(this.matrix,V6(An(),this.position,this.focalPoint,a)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(n){if(this.distance===n||n<0)return this;this.distance=n,this.distance<jP&&(this.distance=jP),this.dollyingStep=this.distance/100;var r=Ye();n=this.distance;var i=this.forward,a=this.focalPoint;return r[0]=n*i[0]+a[0],r[1]=n*i[1]+a[1],r[2]=n*i[2]+a[2],this._setPosition(r),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(n){return this.maxDistance=n,this}},{key:"setMinDistance",value:function(n){return this.minDistance=n,this}},{key:"setAzimuth",value:function(n){return this.azimuth=Fv(n),this.computeMatrix(),this._getAxes(),this.type===zn.ORBITING||this.type===zn.EXPLORING?this._getPosition():this.type===zn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(n){return this.elevation=Fv(n),this.computeMatrix(),this._getAxes(),this.type===zn.ORBITING||this.type===zn.EXPLORING?this._getPosition():this.type===zn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(n){return this.roll=Fv(n),this.computeMatrix(),this._getAxes(),this.type===zn.ORBITING||this.type===zn.EXPLORING?this._getPosition():this.type===zn.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var n=Ku(hi(),[0,0,1],Hn(this.roll));uf(this.matrix);var r=Ku(hi(),[1,0,0],Hn((this.rotateWorld&&this.type!==zn.TRACKING||this.type===zn.TRACKING?1:-1)*this.elevation)),i=Ku(hi(),[0,1,0],Hn((this.rotateWorld&&this.type!==zn.TRACKING||this.type===zn.TRACKING?1:-1)*this.azimuth)),a=af(hi(),i,r);a=af(hi(),a,n);var o=OC(An(),a);this.type===zn.ORBITING||this.type===zn.EXPLORING?(zv(this.matrix,this.matrix,this.focalPoint),oa(this.matrix,this.matrix,o),zv(this.matrix,this.matrix,[0,0,this.distance])):this.type===zn.TRACKING&&(zv(this.matrix,this.matrix,this.position),oa(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(n,r,i){this.position=Ea(n,r,i);var a=this.matrix;a[12]=this.position[0],a[13]=this.position[1],a[14]=this.position[2],a[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Pl(this.right,Ea(Nl(Ll(),[1,0,0,0],this.matrix))),Pl(this.up,Ea(Nl(Ll(),[0,1,0,0],this.matrix))),Pl(this.forward,Ea(Nl(Ll(),[0,0,1,0],this.matrix))),lh(this.right,this.right),lh(this.up,this.up),lh(this.forward,this.forward)}},{key:"_getAngles",value:function(){var n=this.distanceVector[0],r=this.distanceVector[1],i=this.distanceVector[2],a=Tc(this.distanceVector);if(a===0){this.elevation=0,this.azimuth=0;return}this.type===zn.TRACKING?(this.elevation=Ho(Math.asin(r/a)),this.azimuth=Ho(Math.atan2(-n,-i))):this.rotateWorld?(this.elevation=Ho(Math.asin(r/a)),this.azimuth=Ho(Math.atan2(-n,-i))):(this.elevation=-Ho(Math.asin(r/a)),this.azimuth=-Ho(Math.atan2(-n,-i)))}},{key:"_getPosition",value:function(){Pl(this.position,Ea(Nl(Ll(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Z6(this.distanceVector,[0,0,-this.distance],jW(Eg(),this.matrix)),rf(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=fT(Ye(),this.focalPoint,this.position),this.distance=Tc(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===$o.ORTHOGRAPHIC){var n=this.position,r=Ku(hi(),[0,0,1],-this.roll*Math.PI/180);km(this.orthoMatrix,r,vn((this.rright-this.left)/2-n[0],(this.top-this.bottom)/2-n[1],0),vn(this.zoom,this.zoom,1),n)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var n=this.getViewTransform(),r=oa(An(),this.getPerspective(),n);this.getFrustum().extractFromVPMatrix(r),this.eventEmitter.emit(nB.UPDATED)}}},{key:"rotate",value:function(n,r,i){throw new Error(Fn)}},{key:"pan",value:function(n,r){throw new Error(Fn)}},{key:"dolly",value:function(n){throw new Error(Fn)}},{key:"createLandmark",value:function(n,r){throw new Error(Fn)}},{key:"gotoLandmark",value:function(n,r){throw new Error(Fn)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Fn)}}])})(),UQ=(function(t){return t[t.Standard=0]="Standard",t})({}),kw=(function(t){return t[t.ADDED=0]="ADDED",t[t.REMOVED=1]="REMOVED",t[t.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",t})({}),HQ=Ye(),Wy=An(),GQ=hi();function LP(t){if(t.localDirtyFlag){var e=t.localSkew[0]!==0||t.localSkew[1]!==0;if(e){km(t.localTransform,t.localRotation,t.localPosition,vn(1,1,1),t.origin),(t.localSkew[0]!==0||t.localSkew[1]!==0)&&(uf(Wy),Wy[4]=Math.tan(t.localSkew[0]),Wy[1]=Math.tan(t.localSkew[1]),oa(t.localTransform,t.localTransform,Wy));var n=km(Wy,J6(GQ,0,0,0,1),ra(HQ,1,1,1),t.localScale,t.origin);oa(t.localTransform,t.localTransform,n)}else{var r=t.localTransform,i=t.localPosition,a=t.localRotation,o=t.localScale,s=t.origin,l=i[0]!==0||i[1]!==0||i[2]!==0,c=a[3]!==1||a[0]!==0||a[1]!==0||a[2]!==0,u=o[0]!==1||o[1]!==1||o[2]!==1,d=s[0]!==0||s[1]!==0||s[2]!==0;!c&&!u&&!d?l?Mc(r,i):uf(r):km(r,a,i,o,s)}t.localDirtyFlag=!1}}function YQ(t,e){t.dirtyFlag&&(e?oa(t.worldTransform,e.worldTransform,t.localTransform):tg(t.worldTransform,t.localTransform),t.dirtyFlag=!1)}var iB={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new lg(0,0,0,0)},Ft=(function(t){return t.COORDINATE="<coordinate>",t.COLOR="<color>",t.PAINT="<paint>",t.NUMBER="<number>",t.ANGLE="<angle>",t.OPACITY_VALUE="<opacity-value>",t.SHADOW_BLUR="<shadow-blur>",t.LENGTH="<length>",t.PERCENTAGE="<percentage>",t.LENGTH_PERCENTAGE="<length> | <percentage>",t.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",t.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",t.LIST_OF_POINTS="<list-of-points>",t.PATH="<path>",t.FILTER="<filter>",t.Z_INDEX="<z-index>",t.OFFSET_DISTANCE="<offset-distance>",t.DEFINED_PATH="<defined-path>",t.MARKER="<marker>",t.TRANSFORM="<transform>",t.TRANSFORM_ORIGIN="<transform-origin>",t.TEXT="<text>",t.TEXT_TRANSFORM="<text-transform>",t})({});function e5(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function aB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function H1(){}var o1=.7,Cw=1/o1,Uv="\\s*([+-]?\\d+)\\s*",s1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qQ=/^#([0-9a-f]{3,8})$/,WQ=new RegExp(`^rgb\\(${Uv},${Uv},${Uv}\\)$`),XQ=new RegExp(`^rgb\\(${Il},${Il},${Il}\\)$`),VQ=new RegExp(`^rgba\\(${Uv},${Uv},${Uv},${s1}\\)$`),KQ=new RegExp(`^rgba\\(${Il},${Il},${Il},${s1}\\)$`),ZQ=new RegExp(`^hsl\\(${s1},${Il},${Il}\\)$`),QQ=new RegExp(`^hsla\\(${s1},${Il},${Il},${s1}\\)$`),NP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e5(H1,rS,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:DP,formatHex:DP,formatHex8:JQ,formatHsl:tJ,formatRgb:IP,toString:IP});function DP(){return this.rgb().formatHex()}function JQ(){return this.rgb().formatHex8()}function tJ(){return oB(this).formatHsl()}function IP(){return this.rgb().formatRgb()}function rS(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?BP(e):n===3?new to(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?G2(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?G2(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=WQ.exec(t))?new to(e[1],e[2],e[3],1):(e=XQ.exec(t))?new to(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=VQ.exec(t))?G2(e[1],e[2],e[3],e[4]):(e=KQ.exec(t))?G2(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ZQ.exec(t))?FP(e[1],e[2]/100,e[3]/100,1):(e=QQ.exec(t))?FP(e[1],e[2]/100,e[3]/100,e[4]):NP.hasOwnProperty(t)?BP(NP[t]):t==="transparent"?new to(NaN,NaN,NaN,0):null}function BP(t){return new to(t>>16&255,t>>8&255,t&255,1)}function G2(t,e,n,r){return r<=0&&(t=e=n=NaN),new to(t,e,n,r)}function eJ(t){return t instanceof H1||(t=rS(t)),t?(t=t.rgb(),new to(t.r,t.g,t.b,t.opacity)):new to}function nJ(t,e,n,r){return arguments.length===1?eJ(t):new to(t,e,n,r??1)}function to(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}e5(to,nJ,aB(H1,{brighter(t){return t=t==null?Cw:Math.pow(Cw,t),new to(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?o1:Math.pow(o1,t),new to(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new to(ch(this.r),ch(this.g),ch(this.b),Rw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$P,formatHex:$P,formatHex8:rJ,formatRgb:zP,toString:zP}));function $P(){return`#${th(this.r)}${th(this.g)}${th(this.b)}`}function rJ(){return`#${th(this.r)}${th(this.g)}${th(this.b)}${th((isNaN(this.opacity)?1:this.opacity)*255)}`}function zP(){const t=Rw(this.opacity);return`${t===1?"rgb(":"rgba("}${ch(this.r)}, ${ch(this.g)}, ${ch(this.b)}${t===1?")":`, ${t})`}`}function Rw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ch(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function th(t){return t=ch(t),(t<16?"0":"")+t.toString(16)}function FP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ps(t,e,n,r)}function oB(t){if(t instanceof Ps)return new Ps(t.h,t.s,t.l,t.opacity);if(t instanceof H1||(t=rS(t)),!t)return new Ps;if(t instanceof Ps)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ps(o,s,l,t.opacity)}function iJ(t,e,n,r){return arguments.length===1?oB(t):new Ps(t,e,n,r??1)}function Ps(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e5(Ps,iJ,aB(H1,{brighter(t){return t=t==null?Cw:Math.pow(Cw,t),new Ps(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?o1:Math.pow(o1,t),new Ps(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new to(PA(t>=240?t-240:t+120,i,r),PA(t,i,r),PA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ps(UP(this.h),Y2(this.s),Y2(this.l),Rw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Rw(this.opacity);return`${t===1?"hsl(":"hsla("}${UP(this.h)}, ${Y2(this.s)*100}%, ${Y2(this.l)*100}%${t===1?")":`, ${t})`}`}}));function UP(t){return t=(t||0)%360,t<0?t+360:t}function Y2(t){return Math.max(0,Math.min(1,t||0))}function PA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Qr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e?e.apply(this,a):a[0],l=n.cache;if(l.has(s))return l.get(s);var c=t.apply(this,a);return n.cache=l.set(s,c)||l,c};return n.cache=new(Qr.Cache||Map),Qr.cacheList.push(n.cache),n}Qr.Cache=Map;Qr.cacheList=[];Qr.clearCache=function(){Qr.cacheList.forEach(function(t){return t.clear()})};var Ht=(function(t){return t[t.kUnknown=0]="kUnknown",t[t.kNumber=1]="kNumber",t[t.kPercentage=2]="kPercentage",t[t.kEms=3]="kEms",t[t.kPixels=4]="kPixels",t[t.kRems=5]="kRems",t[t.kDegrees=6]="kDegrees",t[t.kRadians=7]="kRadians",t[t.kGradians=8]="kGradians",t[t.kTurns=9]="kTurns",t[t.kMilliseconds=10]="kMilliseconds",t[t.kSeconds=11]="kSeconds",t[t.kInteger=12]="kInteger",t})({}),Rs=(function(t){return t[t.kUNumber=0]="kUNumber",t[t.kUPercent=1]="kUPercent",t[t.kULength=2]="kULength",t[t.kUAngle=3]="kUAngle",t[t.kUTime=4]="kUTime",t[t.kUOther=5]="kUOther",t})({}),aJ=(function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t})({}),oJ=(function(t){return t[t.kYes=0]="kYes",t[t.kNo=1]="kNo",t})({}),sJ=[{name:"em",unit_type:Ht.kEms},{name:"px",unit_type:Ht.kPixels},{name:"deg",unit_type:Ht.kDegrees},{name:"rad",unit_type:Ht.kRadians},{name:"grad",unit_type:Ht.kGradians},{name:"ms",unit_type:Ht.kMilliseconds},{name:"s",unit_type:Ht.kSeconds},{name:"rem",unit_type:Ht.kRems},{name:"turn",unit_type:Ht.kTurns}],cg=(function(t){return t[t.kUnknownType=0]="kUnknownType",t[t.kUnparsedType=1]="kUnparsedType",t[t.kKeywordType=2]="kKeywordType",t[t.kUnitType=3]="kUnitType",t[t.kSumType=4]="kSumType",t[t.kProductType=5]="kProductType",t[t.kNegateType=6]="kNegateType",t[t.kInvertType=7]="kInvertType",t[t.kMinType=8]="kMinType",t[t.kMaxType=9]="kMaxType",t[t.kClampType=10]="kClampType",t[t.kTransformType=11]="kTransformType",t[t.kPositionType=12]="kPositionType",t[t.kURLImageType=13]="kURLImageType",t[t.kColorType=14]="kColorType",t[t.kUnsupportedColorType=15]="kUnsupportedColorType",t})({}),lJ=function(e){return sJ.find(function(n){return n.name===e}).unit_type},cJ=function(e){return e?e==="number"?Ht.kNumber:e==="percent"||e==="%"?Ht.kPercentage:lJ(e):Ht.kUnknown},uJ=function(e){switch(e){case Ht.kNumber:case Ht.kInteger:return Rs.kUNumber;case Ht.kPercentage:return Rs.kUPercent;case Ht.kPixels:return Rs.kULength;case Ht.kMilliseconds:case Ht.kSeconds:return Rs.kUTime;case Ht.kDegrees:case Ht.kRadians:case Ht.kGradians:case Ht.kTurns:return Rs.kUAngle;default:return Rs.kUOther}},fJ=function(e){switch(e){case Rs.kUNumber:return Ht.kNumber;case Rs.kULength:return Ht.kPixels;case Rs.kUPercent:return Ht.kPercentage;case Rs.kUTime:return Ht.kSeconds;case Rs.kUAngle:return Ht.kDegrees;default:return Ht.kUnknown}},HP=function(e){var n=1;switch(e){case Ht.kPixels:case Ht.kDegrees:case Ht.kSeconds:break;case Ht.kMilliseconds:n=.001;break;case Ht.kRadians:n=180/Math.PI;break;case Ht.kGradians:n=.9;break;case Ht.kTurns:n=360;break}return n},RT=function(e){switch(e){case Ht.kNumber:case Ht.kInteger:return"";case Ht.kPercentage:return"%";case Ht.kEms:return"em";case Ht.kRems:return"rem";case Ht.kPixels:return"px";case Ht.kDegrees:return"deg";case Ht.kRadians:return"rad";case Ht.kGradians:return"grad";case Ht.kMilliseconds:return"ms";case Ht.kSeconds:return"s";case Ht.kTurns:return"turn"}return""},iS=(function(){function t(){Lt(this,t)}return jt(t,[{key:"toString",value:function(){return this.buildCSSText(aJ.kNo,oJ.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=cg.kUnitType&&this.getType()<=cg.kClampType}}],[{key:"isAngle",value:function(n){return n===Ht.kDegrees||n===Ht.kRadians||n===Ht.kGradians||n===Ht.kTurns}},{key:"isLength",value:function(n){return n>=Ht.kEms&&n<Ht.kDegrees}},{key:"isRelativeUnit",value:function(n){return n===Ht.kPercentage||n===Ht.kEms||n===Ht.kRems}},{key:"isTime",value:function(n){return n===Ht.kSeconds||n===Ht.kMilliseconds}}])})(),dJ=(function(t){function e(n){var r;return Lt(this,e),r=Re(this,e),r.colorSpace=n,r}return Ce(e,t),jt(e,[{key:"getType",value:function(){return cg.kColorType}},{key:"to",value:function(r){return this}}])})(iS),Zu=(function(t){return t[t.Constant=0]="Constant",t[t.LinearGradient=1]="LinearGradient",t[t.RadialGradient=2]="RadialGradient",t})({}),q2=(function(t){function e(n,r){var i;return Lt(this,e),i=Re(this,e),i.type=n,i.value=r,i}return Ce(e,t),jt(e,[{key:"clone",value:function(){return new e(this.type,this.value)}},{key:"buildCSSText",value:function(r,i,a){return a}},{key:"getType",value:function(){return cg.kColorType}}])})(iS),is=(function(t){function e(n){var r;return Lt(this,e),r=Re(this,e),r.value=n,r}return Ce(e,t),jt(e,[{key:"clone",value:function(){return new e(this.value)}},{key:"getType",value:function(){return cg.kKeywordType}},{key:"buildCSSText",value:function(r,i,a){return a+this.value}}])})(iS),hJ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r="";return Number.isFinite(e)?r="NaN":e>0?r="infinity":r="-infinity",r+=n},PT=function(e){return fJ(uJ(e))},Un=(function(t){function e(n){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ht.kNumber;Lt(this,e),r=Re(this,e);var a;return typeof i=="string"?a=cJ(i):a=i,r.unit=a,r.value=n,r}return Ce(e,t),jt(e,[{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"equals",value:function(r){var i=r;return this.value===i.value&&this.unit===i.unit}},{key:"getType",value:function(){return cg.kUnitType}},{key:"convertTo",value:function(r){if(this.unit===r)return new e(this.value,this.unit);var i=PT(this.unit);if(i!==PT(r)||i===Ht.kUnknown)return null;var a=HP(this.unit)/HP(r);return new e(this.value*a,r)}},{key:"buildCSSText",value:function(r,i,a){var o;switch(this.unit){case Ht.kUnknown:break;case Ht.kInteger:o=Number(this.value).toFixed(0);break;case Ht.kNumber:case Ht.kPercentage:case Ht.kEms:case Ht.kRems:case Ht.kPixels:case Ht.kDegrees:case Ht.kRadians:case Ht.kGradians:case Ht.kMilliseconds:case Ht.kSeconds:case Ht.kTurns:{var s=-999999,l=999999,c=this.value,u=RT(this.unit);if(c<s||c>l){var d=RT(this.unit);!Number.isFinite(c)||Number.isNaN(c)?o=hJ(c,d):o=c+(d||"")}else o="".concat(c).concat(u)}}return a+=o,a}}])})(iS),ks=new Un(0,"px");new Un(1,"px");var bh=new Un(0,"deg"),n5=(function(t){function e(n,r,i){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return Lt(this,e),a=Re(this,e,["rgb"]),a.r=n,a.g=r,a.b=i,a.alpha=o,a.isNone=s,a}return Ce(e,t),jt(e,[{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(r,i,a){return"".concat(a,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])})(dJ),GP=new is("unset"),pJ=new is("initial"),vJ=new is("inherit"),jA={"":GP,unset:GP,initial:pJ,inherit:vJ},gJ=function(e){return jA[e]||(jA[e]=new is(e)),jA[e]},sB=new n5(0,0,0,0,!0),lB=new n5(0,0,0,0),yJ=Qr(function(t,e,n,r){return new n5(t,e,n,r)},function(t,e,n,r){return"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")}),gr=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ht.kNumber;return new Un(e,n)};new Un(50,"%");function mJ(t){var e=t.type,n=t.value;return e==="hex"?"#".concat(n):e==="literal"?n:e==="rgb"?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}var bJ=(function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(H){throw new Error("".concat(e,": ").concat(H))}function r(){var H=i();return e.length>0&&n("Invalid input not EOF"),H}function i(){return E(a)}function a(){return o("linear-gradient",t.linearGradient,l)||o("repeating-linear-gradient",t.repeatingLinearGradient,l)||o("radial-gradient",t.radialGradient,d)||o("repeating-radial-gradient",t.repeatingRadialGradient,d)||o("conic-gradient",t.conicGradient,d)}function o(H,Y,W){return s(Y,function(V){var J=W();return J&&(G(t.comma)||n("Missing comma before color stops")),{type:H,orientation:J,colorStops:E(A)}})}function s(H,Y){var W=G(H);if(W){G(t.startCall)||n("Missing (");var V=Y(W);return G(t.endCall)||n("Missing )"),V}}function l(){return c()||u()}function c(){return U("directional",t.sideOrCorner,1)}function u(){return U("angular",t.angleValue,1)}function d(){var H,Y=h(),W;return Y&&(H=[],H.push(Y),W=e,G(t.comma)&&(Y=h(),Y?H.push(Y):e=W)),H}function h(){var H=v()||g();if(H)H.at=x();else{var Y=b();if(Y){H=Y;var W=x();W&&(H.at=W)}else{var V=_();V&&(H={type:"default-radial",at:V})}}return H}function v(){var H=U("shape",/^(circle)/i,0);return H&&(H.style=$()||b()),H}function g(){var H=U("shape",/^(ellipse)/i,0);return H&&(H.style=D()||b()),H}function b(){return U("extent-keyword",t.extentKeywords,1)}function x(){if(U("position",/^at/,0)){var H=_();return H||n("Missing positioning value"),H}}function _(){var H=w();if(H.x||H.y)return{type:"position",value:H}}function w(){return{x:D(),y:D()}}function E(H){var Y=H(),W=[];if(Y)for(W.push(Y);G(t.comma);)Y=H(),Y?W.push(Y):n("One extra comma");return W}function A(){var H=M();return H||n("Expected color definition"),H.length=D(),H}function M(){return C()||j()||R()||T()}function T(){return U("literal",t.literalColor,0)}function C(){return U("hex",t.hexColor,1)}function R(){return s(t.rgbColor,function(){return{type:"rgb",value:E(I)}})}function j(){return s(t.rgbaColor,function(){return{type:"rgba",value:E(I)}})}function I(){return G(t.number)[1]}function D(){return U("%",t.percentageValue,1)||B()||$()}function B(){return U("position-keyword",t.positionKeywords,1)}function $(){return U("px",t.pixelValue,1)||U("em",t.emValue,1)}function U(H,Y,W){var V=G(Y);if(V)return{type:H,value:V[W]}}function G(H){var Y=/^[\n\r\t\s]+/.exec(e);Y&&F(Y[0].length);var W=H.exec(e);return W&&F(W[0].length),W}function F(H){e=e.substring(H)}return function(H){return e=H,r()}})();function xJ(t,e,n,r){var i=Hn(r.value),a=0,o=0,s=a+e/2,l=o+n/2,c=Math.abs(e*Math.cos(i))+Math.abs(n*Math.sin(i)),u=t[0]+s-Math.cos(i)*c/2,d=t[1]+l-Math.sin(i)*c/2,h=t[0]+s+Math.cos(i)*c/2,v=t[1]+l+Math.sin(i)*c/2;return{x1:u,y1:d,x2:h,y2:v}}function _J(t,e,n,r,i,a){var o=r.value,s=i.value;r.unit===Ht.kPercentage&&(o=r.value/100*e),i.unit===Ht.kPercentage&&(s=i.value/100*n);var l=Math.max(Za([0,0],[o,s]),Za([0,n],[o,s]),Za([e,n],[o,s]),Za([e,0],[o,s]));return a&&(a instanceof Un?l=a.value:a instanceof is&&(a.value==="closest-side"?l=Math.min(o,e-o,s,n-s):a.value==="farthest-side"?l=Math.max(o,e-o,s,n-s):a.value==="closest-corner"&&(l=Math.min(Za([0,0],[o,s]),Za([0,n],[o,s]),Za([e,n],[o,s]),Za([e,0],[o,s]))))),{x:o+t[0],y:s+t[1],r:l}}var wJ=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,OJ=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,SJ=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,cB=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function EJ(t){var e,n=t.length;if(t[n-1].length=(e=t[n-1].length)!==null&&e!==void 0?e:{type:"%",value:"100"},n>1){var r;t[0].length=(r=t[0].length)!==null&&r!==void 0?r:{type:"%",value:"0"}}for(var i=0,a=Number(t[0].length.value),o=1;o<n;o++){var s,l=(s=t[o].length)===null||s===void 0?void 0:s.value;if(!ue(l)&&!ue(a)){for(var c=1;c<o-i;c++)t[i+c].length={type:"%",value:"".concat(a+(Number(l)-a)*c/(o-i))};i=o,a=Number(l)}}}var AJ={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},MJ=Qr(function(t){var e;return t.type==="angular"?e=Number(t.value):e=AJ[t.value]||0,gr(e,"deg")}),TJ=Qr(function(t){var e=50,n=50,r="%",i="%";if(t?.type==="position"){var a=t.value,o=a.x,s=a.y;o?.type==="position-keyword"&&(o.value==="left"?e=0:o.value==="center"?e=50:o.value==="right"?e=100:o.value==="top"?n=0:o.value==="bottom"&&(n=100)),s?.type==="position-keyword"&&(s.value==="left"?e=0:s.value==="center"?n=50:s.value==="right"?e=100:s.value==="top"?n=0:s.value==="bottom"&&(n=100)),(o?.type==="px"||o?.type==="%"||o?.type==="em")&&(r=o?.type,e=Number(o.value)),(s?.type==="px"||s?.type==="%"||s?.type==="em")&&(i=s?.type,n=Number(s.value))}return{cx:gr(e,r),cy:gr(n,i)}}),kJ=Qr(function(t){if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var e=bJ(t);return e.map(function(s){var l=s.type,c=s.orientation,u=s.colorStops;EJ(u);var d=u.map(function(E){return{offset:gr(Number(E.length.value),"%"),color:mJ(E)}});if(l==="linear-gradient")return new q2(Zu.LinearGradient,{angle:c?MJ(c):bh,steps:d});if(l==="radial-gradient"&&(c||(c=[{type:"shape",value:"circle"}]),c[0].type==="shape"&&c[0].value==="circle")){var h=TJ(c[0].at),v=h.cx,g=h.cy,b;if(c[0].style){var x=c[0].style,_=x.type,w=x.value;_==="extent-keyword"?b=gJ(w):b=gr(w,_)}return new q2(Zu.RadialGradient,{cx:v,cy:g,size:b,steps:d})}})}var n=t[0];if(t[1]==="("||t[2]==="("){if(n==="l"){var r=wJ.exec(t);if(r){var i,a=((i=r[2].match(cB))===null||i===void 0?void 0:i.map(function(s){return s.split(":")}))||[];return[new q2(Zu.LinearGradient,{angle:gr(parseFloat(r[1]),"deg"),steps:a.map(function(s){var l=we(s,2),c=l[0],u=l[1];return{offset:gr(Number(c)*100,"%"),color:u}})})]}}else if(n==="r"){var o=CJ(t);if(o)if(tr(o))t=o;else return[new q2(Zu.RadialGradient,o)]}else if(n==="p")return RJ(t)}});function CJ(t){var e=OJ.exec(t);if(e){var n,r=((n=e[4].match(cB))===null||n===void 0?void 0:n.map(function(i){return i.split(":")}))||[];return{cx:gr(50,"%"),cy:gr(50,"%"),steps:r.map(function(i){var a=we(i,2),o=a[0],s=a[1];return{offset:gr(Number(o)*100,"%"),color:s}})}}return null}function RJ(t){var e=SJ.exec(t);if(e){var n=e[1],r=e[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function xh(t){return t&&!!t.image}function Pw(t){return t&&!ue(t.r)&&!ue(t.g)&&!ue(t.b)}var sf=Qr(function(t){if(xh(t))return Te({repetition:"repeat"},t);if(ue(t)&&(t=""),t==="transparent")return lB;if(t==="currentColor")t="black";else if(t==="none")return sB;var e=kJ(t);if(e)return e;var n=rS(t),r=[0,0,0,0];return n!==null&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),yJ.apply(void 0,r)});function PJ(t,e){if(!(!Pw(t)||!Pw(e)))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(n){var r=n.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(jr(r[i],0,255));return r[3]=jr(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function G1(t,e){if(ue(e))return gr(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return gr(Number(e),"px");if("deg".search(t)>=0)return gr(Number(e),"deg")}var n=[];e=e.replace(t,function(i){return n.push(i),"U".concat(i)});var r="U(".concat(t.source,")");return n.map(function(i){return gr(Number(e.replace(new RegExp("U".concat(i),"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var uB=function(e){return G1(new RegExp("px","g"),e)},jJ=Qr(uB),LJ=function(e){return G1(new RegExp("%","g"),e)};Qr(LJ);var fB=function(e){return Kn(e)||isFinite(Number(e))?gr(Number(e)||0,"px"):G1(new RegExp("px|%|em|rem","g"),e)},jT=Qr(fB),dB=function(e){return G1(new RegExp("deg|rad|grad|turn","g"),e)},NJ=Qr(dB);function DJ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a="",o=t.value||0,s=e.value||0,l=PT(t.unit),c=t.convertTo(l),u=e.convertTo(l);return c&&u?(o=c.value,s=u.value,a=RT(t.unit)):(Un.isLength(t.unit)||Un.isLength(e.unit))&&(o=mo(t,i,n),s=mo(e,i,n),a="px"),[o,s,function(d){return d+a}]}function Qa(t){var e=0;return t.unit===Ht.kDegrees?e=t.value:t.unit===Ht.kRadians?e=Ho(Number(t.value)):t.unit===Ht.kTurns?e=LQ(Number(t.value)):t.value&&(e=t.value),e}function YP(t,e){var n;return Array.isArray(t)?n=t.map(function(r){return Number(r)}):tr(t)?n=t.split(" ").map(function(r){return Number(r)}):Kn(t)&&(n=[t]),e===2?n.length===1?[n[0],n[0]]:[n[0],n[1]]:e===4?n.length===1?[n[0],n[0],n[0],n[0]]:n.length===2?[n[0],n[1],n[0],n[1]]:n.length===3?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]:e==="even"&&n.length%2===1?[].concat(He(n),He(n)):n}function mo(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.unit===Ht.kPixels)return Number(t.value);if(t.unit===Ht.kPercentage&&n){var i=n.nodeName===xt.GROUP?n.getLocalBounds():n.getGeometryBounds();return(r?i.min[e]:0)+t.value/100*i.halfExtents[e]*2}return 0}var IJ=function(e){return G1(/deg|rad|grad|turn|px|%/g,e)},BJ=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function $J(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(t=t.toLowerCase().trim(),t==="none")return[];for(var e=/\s*([\w-]+)\(([^)]*)\)/g,n=[],r,i=0;r=e.exec(t);){if(r.index!==i)return[];if(i=r.index+r[0].length,BJ.indexOf(r[1])>-1&&n.push({name:r[1],params:r[2].split(" ").map(function(a){return IJ(a)||sf(a)})}),e.lastIndex===t.length)return n}return[]}function hB(t){return t.toString()}var pB=function(e){return typeof e=="number"?gr(e):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(e)?gr(Number(e)):gr(0)},LT=Qr(pB);Qr(function(t){return tr(t)?t.split(" ").map(LT):t.map(LT)});function r5(t,e){return[t,e,hB]}function i5(t,e){return function(n,r){return[n,r,function(i){return hB(jr(i,t,e))}]}}function vB(t,e){if(t.length===e.length)return[t,e,function(n){return n}]}function NT(t){return t.parsedStyle.d.totalLength===0&&(t.parsedStyle.d.totalLength=YX(t.parsedStyle.d.absolutePath)),t.parsedStyle.d.totalLength}function zJ(t){return t.parsedStyle.points.totalLength===0&&(t.parsedStyle.points.totalLength=xQ(t.parsedStyle.points.points)),t.parsedStyle.points.totalLength}function FJ(t){for(var e=0;e<t.length;e++){var n=t[e-1],r=t[e],i=r[0];if(i==="M"&&n){var a=n[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[n[1],n[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[n[n.length-2],n[n.length-1]]),s&&jw(o,s)&&(t.splice(e,1),e--)}}}function UJ(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function HJ(t){for(var e=[],n=[],r=[],i=0;i<t.length;i++){var a=t[i],o=a[0];o==="M"?(r.length&&(n.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(e.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}}function jw(t,e){return t[0]===e[0]&&t[1]===e[1]}function GJ(t,e){for(var n=[],r=[],i=[],a=0;a<t.length;a++){var o=t[a],s=o.currentPoint,l=o.params,c=o.prePoint,u=void 0;switch(o.command){case"Q":u=_Q(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=yQ(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var d=o.arcParams;u=pQ(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}u&&(o.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height))}n=n.filter(function(A){return!Number.isNaN(A)&&A!==1/0&&A!==-1/0}),r=r.filter(function(A){return!Number.isNaN(A)&&A!==1/0&&A!==-1/0});var h=hw(n),v=hw(r),g=dw(n),b=dw(r);if(i.length===0)return{x:h,y:v,width:g-h,height:b-v};for(var x=0;x<i.length;x++){var _=i[x],w=_.currentPoint,E=void 0;w[0]===h?(E=W2(_,e),h-=E.xExtra):w[0]===g&&(E=W2(_,e),g+=E.xExtra),w[1]===v?(E=W2(_,e),v-=E.yExtra):w[1]===b&&(E=W2(_,e),b+=E.yExtra)}return{x:h,y:v,width:g-h,height:b-v}}function W2(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,a=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Tm(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var d={xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return d}function qP(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}var WP=function(e,n){var r=e.x*n.x+e.y*n.y,i=Math.sqrt((Math.pow(e.x,2)+Math.pow(e.y,2))*(Math.pow(n.x,2)+Math.pow(n.y,2))),a=e.x*n.y-e.y*n.x<0?-1:1,o=a*Math.acos(r/i);return o},XP=function(e,n,r,i,a,o,s,l){n=Math.abs(n),r=Math.abs(r),i=M6(i,360);var c=Hn(i);if(e.x===s.x&&e.y===s.y)return{x:e.x,y:e.y,ellipticalArcAngle:0};if(n===0||r===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(e.x-s.x)/2,d=(e.y-s.y)/2,h={x:Math.cos(c)*u+Math.sin(c)*d,y:-Math.sin(c)*u+Math.cos(c)*d},v=Math.pow(h.x,2)/Math.pow(n,2)+Math.pow(h.y,2)/Math.pow(r,2);v>1&&(n*=Math.sqrt(v),r*=Math.sqrt(v));var g=Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(h.y,2)-Math.pow(r,2)*Math.pow(h.x,2),b=Math.pow(n,2)*Math.pow(h.y,2)+Math.pow(r,2)*Math.pow(h.x,2),x=g/b;x=x<0?0:x;var _=(a!==o?1:-1)*Math.sqrt(x),w={x:_*(n*h.y/r),y:_*(-(r*h.x)/n)},E={x:Math.cos(c)*w.x-Math.sin(c)*w.y+(e.x+s.x)/2,y:Math.sin(c)*w.x+Math.cos(c)*w.y+(e.y+s.y)/2},A={x:(h.x-w.x)/n,y:(h.y-w.y)/r},M=WP({x:1,y:0},A),T={x:(-h.x-w.x)/n,y:(-h.y-w.y)/r},C=WP(A,T);!o&&C>0?C-=2*Math.PI:o&&C<0&&(C+=2*Math.PI),C%=2*Math.PI;var R=M+C*l,j=n*Math.cos(R),I=r*Math.sin(R),D={x:Math.cos(c)*j-Math.sin(c)*I+E.x,y:Math.sin(c)*j+Math.cos(c)*I+E.y,ellipticalArcStartAngle:M,ellipticalArcEndAngle:M+C,ellipticalArcAngle:R,ellipticalArcCenter:E,resultantRx:n,resultantRy:r};return D};function YJ(t){for(var e=[],n=null,r=null,i=null,a=0,o=t.length,s=0;s<o;s++){var l=t[s];r=t[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[l[1],l[2]],a=s;break;case"A":var d=qJ(n,l);u.arcParams=d;break}if(c==="Z")n=i,r=t[a+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&r[0]==="Z"&&(r=t[a],e[a]&&(e[a].prePoint=n)),u.currentPoint=n,e[a]&&jw(n,e[a].currentPoint)&&(e[a].prePoint=u.prePoint);var v=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=v;var g=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[g[0]-n[0],g[1]-n[1]],u.endTangent=[n[0]-g[0],n[1]-g[1]];else if(c==="Q"){var b=[l[1],l[2]];u.startTangent=[g[0]-b[0],g[1]-b[1]],u.endTangent=[n[0]-b[0],n[1]-b[1]]}else if(c==="T"){var x=e[s-1],_=qP(x.currentPoint,g);x.command==="Q"?(u.command="Q",u.startTangent=[g[0]-_[0],g[1]-_[1]],u.endTangent=[n[0]-_[0],n[1]-_[1]]):(u.command="TL",u.startTangent=[g[0]-n[0],g[1]-n[1]],u.endTangent=[n[0]-g[0],n[1]-g[1]])}else if(c==="C"){var w=[l[1],l[2]],E=[l[3],l[4]];u.startTangent=[g[0]-w[0],g[1]-w[1]],u.endTangent=[n[0]-E[0],n[1]-E[1]],u.startTangent[0]===0&&u.startTangent[1]===0&&(u.startTangent=[w[0]-E[0],w[1]-E[1]]),u.endTangent[0]===0&&u.endTangent[1]===0&&(u.endTangent=[E[0]-w[0],E[1]-w[1]])}else if(c==="S"){var A=e[s-1],M=qP(A.currentPoint,g),T=[l[1],l[2]];A.command==="C"?(u.command="C",u.startTangent=[g[0]-M[0],g[1]-M[1]],u.endTangent=[n[0]-T[0],n[1]-T[1]]):(u.command="SQ",u.startTangent=[g[0]-T[0],g[1]-T[1]],u.endTangent=[n[0]-T[0],n[1]-T[1]])}else if(c==="A"){var C=VP(u,0),R=C.x,j=C.y,I=VP(u,1,!1),D=I.x,B=I.y;u.startTangent=[R,j],u.endTangent=[D,B]}e.push(u)}return e}function VP(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,d=XP({x:t.prePoint[0],y:t.prePoint[1]},a,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},e),h=XP({x:t.prePoint[0],y:t.prePoint[1]},a,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},n?e+.005:e-.005),v=h.x-d.x,g=h.y-d.y,b=Math.sqrt(v*v+g*g);return{x:-v/b,y:-g/b}}function X2(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function DT(t,e){return X2(t)*X2(e)?(t[0]*e[0]+t[1]*e[1])/(X2(t)*X2(e)):1}function KP(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(DT(t,e))}function qJ(t,e){var n=e[1],r=e[2],i=M6(Hn(e[3]),Math.PI*2),a=e[4],o=e[5],s=t[0],l=t[1],c=e[6],u=e[7],d=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,h=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,v=d*d/(n*n)+h*h/(r*r);v>1&&(n*=Math.sqrt(v),r*=Math.sqrt(v));var g=n*n*(h*h)+r*r*(d*d),b=g?Math.sqrt((n*n*(r*r)-g)/g):1;a===o&&(b*=-1),isNaN(b)&&(b=0);var x=r?b*n*h/r:0,_=n?b*-r*d/n:0,w=(s+c)/2+Math.cos(i)*x-Math.sin(i)*_,E=(l+u)/2+Math.sin(i)*x+Math.cos(i)*_,A=[(d-x)/n,(h-_)/r],M=[(-1*d-x)/n,(-1*h-_)/r],T=KP([1,0],A),C=KP(A,M);return DT(A,M)<=-1&&(C=Math.PI),DT(A,M)>=1&&(C=0),o===0&&C>0&&(C-=2*Math.PI),o===1&&C<0&&(C+=2*Math.PI),{cx:w,cy:E,rx:jw(t,[c,u])?0:n,ry:jw(t,[c,u])?0:r,startAngle:T,endAngle:T+C,xRotation:i,arcFlag:a,sweepFlag:o}}function WJ(t,e,n){return t.reduce(function(r,i){var a="";if(i[0]==="M"||i[0]==="L"){var o=vn(i[1],i[2],0);n&&Rr(o,o,n),a="".concat(i[0]).concat(o[0],",").concat(o[1])}else if(i[0]==="Z")a=i[0];else if(i[0]==="C"){var s=vn(i[1],i[2],0),l=vn(i[3],i[4],0),c=vn(i[5],i[6],0);n&&(Rr(s,s,n),Rr(l,l,n),Rr(c,c,n)),a="".concat(i[0]).concat(s[0],",").concat(s[1],",").concat(l[0],",").concat(l[1],",").concat(c[0],",").concat(c[1])}else if(i[0]==="A"){var u=vn(i[6],i[7],0);n&&Rr(u,u,n),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],",").concat(i[5],",").concat(u[0],",").concat(u[1])}else if(i[0]==="Q"){var d=vn(i[1],i[2],0),h=vn(i[3],i[4],0);n&&(Rr(d,d,n),Rr(h,h,n)),a="".concat(i[0]).concat(i[1],",").concat(i[2],",").concat(i[3],",").concat(i[4],"}")}return r+=a},"")}function XJ(t,e,n,r){return[["M",t,e],["L",n,r]]}function ZP(t,e,n,r){var i=(-1+Math.sqrt(2))/3*4,a=t*i,o=e*i,s=n-t,l=n+t,c=r-e,u=r+e;return[["M",s,r],["C",s,r-o,n-a,c,n,c],["C",n+a,c,l,r-o,l,r],["C",l,r+o,n+a,u,n,u],["C",n-a,u,s,r+o,s,r],["Z"]]}function VJ(t,e){var n=t.map(function(r,i){return[i===0?"M":"L",r[0],r[1]]});return e&&n.push(["Z"]),n}function KJ(t,e,n,r,i){if(i){var a=we(i,4),o=a[0],s=a[1],l=a[2],c=a[3],u=t>0?1:-1,d=e>0?1:-1,h=u+d!==0?1:0;return[["M",u*o+n,r],["L",t-u*s+n,r],s?["A",s,s,0,0,h,t+n,d*s+r]:null,["L",t+n,e-d*l+r],l?["A",l,l,0,0,h,t+n-u*l,e+r]:null,["L",n+u*c,e+r],c?["A",c,c,0,0,h,n,e+r-d*c]:null,["L",n,d*o+r],o?["A",o,o,0,0,h,u*o+n,r]:null,["Z"]].filter(function(v){return v})}return[["M",n,r],["L",n+t,r],["L",n+t,r+e],["L",n,r+e],["Z"]]}function ZJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.getLocalTransform(),n=[];switch(t.nodeName){case xt.LINE:var r=t.parsedStyle,i=r.x1,a=i===void 0?0:i,o=r.y1,s=o===void 0?0:o,l=r.x2,c=l===void 0?0:l,u=r.y2,d=u===void 0?0:u;n=XJ(a,s,c,d);break;case xt.CIRCLE:{var h=t.parsedStyle,v=h.r,g=v===void 0?0:v,b=h.cx,x=b===void 0?0:b,_=h.cy,w=_===void 0?0:_;n=ZP(g,g,x,w);break}case xt.ELLIPSE:{var E=t.parsedStyle,A=E.rx,M=A===void 0?0:A,T=E.ry,C=T===void 0?0:T,R=E.cx,j=R===void 0?0:R,I=E.cy,D=I===void 0?0:I;n=ZP(M,C,j,D);break}case xt.POLYLINE:case xt.POLYGON:var B=t.parsedStyle.points;n=VJ(B.points,t.nodeName===xt.POLYGON);break;case xt.RECT:var $=t.parsedStyle,U=$.width,G=U===void 0?0:U,F=$.height,H=F===void 0?0:F,Y=$.x,W=Y===void 0?0:Y,V=$.y,J=V===void 0?0:V,tt=$.radius,nt=tt&&tt.some(function(at){return at!==0});n=KJ(G,H,W,J,nt&&tt.map(function(at){return jr(at,0,Math.min(Math.abs(G)/2,Math.abs(H)/2))}));break;case xt.PATH:var lt=t.parsedStyle.d.absolutePath;n=He(lt);break}if(n.length)return WJ(n,t,e)}var gB=function(e){if(e===""||Array.isArray(e)&&e.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var n;try{n=mw(e)}catch{n=mw(""),console.error("[g]: Invalid SVG Path definition: ".concat(e))}FJ(n);var r=UJ(n),i=HJ(n),a=i.polygons,o=i.polylines,s=YJ(n),l=GJ(s,0),c=l.x,u=l.y,d=l.width,h=l.height;return{absolutePath:n,hasArc:r,segments:s,polygons:a,polylines:o,totalLength:0,rect:{x:Number.isFinite(c)?c:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(d)?d:0,height:Number.isFinite(h)?h:0}}},QJ=Qr(gB);function yB(t){return tr(t)?QJ(t):gB(t)}function JJ(t,e,n){var r=t.curve,i=e.curve;(!r||r.length===0)&&(r=hT(t.absolutePath,!1),t.curve=r),(!i||i.length===0)&&(i=hT(e.absolutePath,!1),e.curve=i);var a=[r,i];r.length!==i.length&&(a=o8(r,i));var o=QR(a[0])!==QR(a[1])?$X(a[0]):BX(a[0]);return[o,WX(a[1],o),function(s){return s}]}function ttt(t,e){var n;return tr(t)?n=t.split(" ").map(function(r){var i=r.split(","),a=we(i,2),o=a[0],s=a[1];return[Number(o),Number(s)]}):n=t,{points:n,totalLength:0,segments:[]}}function ett(t,e){return[t.points,e.points,function(n){return n}]}var Mr=null,Hv=/\s*(\w+)\(([^)]*)\)/g;function Va(t){return function(e){var n=0;return t.map(function(r){return r===Mr?e[n++]:r})}}function zd(t){return t}var l1={matrix:["NNNNNN",[Mr,Mr,0,0,Mr,Mr,0,0,0,0,1,0,Mr,Mr,0,1],zd],matrix3d:["NNNNNNNNNNNNNNNN",zd],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Va([Mr,Mr,new Un(1)]),zd],scaleX:["N",Va([Mr,new Un(1),new Un(1)]),Va([Mr,new Un(1)])],scaleY:["N",Va([new Un(1),Mr,new Un(1)]),Va([new Un(1),Mr])],scaleZ:["N",Va([new Un(1),new Un(1),Mr])],scale3d:["NNN",zd],skew:["Aa",null,zd],skewX:["A",null,Va([Mr,bh])],skewY:["A",null,Va([bh,Mr])],translate:["Tt",Va([Mr,Mr,ks]),zd],translateX:["T",Va([Mr,ks,ks]),Va([Mr,ks])],translateY:["T",Va([ks,Mr,ks]),Va([ks,Mr])],translateZ:["L",Va([ks,ks,Mr])],translate3d:["TTL",zd]};function mB(t){for(var e=[],n=t.length,r=0;r<n;r++){var i=t[r],a=i[0],o=i.slice(1);a==="translate"||a==="skew"?o.length===1&&o.push(0):a==="scale"&&o.length===1&&o.push(o[0]);var s=l1[a];if(!s)return[];var l=o.map(function(c){return gr(c)});e.push({t:a,d:l})}return e}function bB(t){if(Array.isArray(t))return mB(t);if(t=(t||"none").trim(),t==="none")return[];var e=[],n,r=0;for(Hv.lastIndex=0;n=Hv.exec(t);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=l1[i];if(!a)return[];var o=n[2].split(","),s=a[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],d=s[c],h=void 0;if(u?h={A:function(g){return g.trim()==="0"?bh:NJ(g)},N:LT,T:jT,L:jJ}[d.toUpperCase()](u):h={a:bh,n:l[0],t:ks}[d],h===void 0)return[];l.push(h)}if(e.push({t:i,d:l}),Hv.lastIndex===t.length)return e}return[]}function ntt(t){if(Array.isArray(t))return mB(t);if(t=(t||"none").trim(),t==="none")return[];var e=[],n,r=0;for(Hv.lastIndex=0;n=Hv.exec(t);){if(n.index!==r)return[];r=n.index+n[0].length;var i=n[1],a=l1[i];if(!a)return[];var o=n[2].split(","),s=a[0];if(s.length<o.length)return[];for(var l=[],c=0;c<s.length;c++){var u=o[c],d=s[c],h=void 0;if(u?h={A:function(g){return g.trim()==="0"?bh:dB(g)},N:pB,T:fB,L:uB}[d.toUpperCase()](u):h={a:bh,n:l[0],t:ks}[d],h===void 0)return[];l.push(h)}if(e.push({t:i,d:l}),Hv.lastIndex===t.length)return e}return[]}function rtt(t){var e,n,r,i;switch(t.t){case"rotateX":return i=Hn(Qa(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotateY":return i=Hn(Qa(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotateZ":return i=Hn(Qa(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,n=t.d[1].value,r=t.d[2].value,i=Hn(Qa(t.d[3]));var a=e*e+n*n+r*r;if(a===0)e=1,n=0,r=0;else if(a!==1){var o=Math.sqrt(a);e/=o,n/=o,r/=o}var s=Math.sin(i/2),l=s*Math.cos(i/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(e*n*c+r*l),2*(e*r*c-n*l),0,2*(e*n*c-r*l),1-2*(e*e+r*r)*c,2*(n*r*c+e*l),0,2*(e*r*c+n*l),2*(n*r*c-e*l),1-2*(e*e+n*n)*c,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var u=Hn(Qa(t.d[0])),d=Hn(Qa(t.d[1]));return[1,Math.tan(d),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return i=Hn(Qa(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return i=Hn(Qa(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=mo(t.d[0],0,null)||0,n=mo(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];case"translateX":return e=mo(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translateY":return n=mo(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translateZ":return r=mo(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return e=mo(t.d[0],0,null)||0,n=mo(t.d[1],0,null)||0,r=mo(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,r,1];case"perspective":var h=mo(t.d[0],0,null)||0,v=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,v,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map(function(g){return g.value})}}function itt(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function att(t){return t.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(rtt).reduce(itt)}function QP(t){var e=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return $Q(att(t),e,n,r,i,a),[[e,n,r,a,i]]}var ott=(function(){function t(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)a[o][s]+=i[o][l]*r[l][s];return a}function e(r){return r[0][2]===0&&r[0][3]===0&&r[1][2]===0&&r[1][3]===0&&r[2][0]===0&&r[2][1]===0&&r[2][2]===1&&r[2][3]===0&&r[3][2]===0&&r[3][3]===1}function n(r,i,a,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],c=0;c<4;c++)l[c][3]=s[c];for(var u=0;u<3;u++)for(var d=0;d<3;d++)l[3][u]+=r[d]*l[d][u];var h=o[0],v=o[1],g=o[2],b=o[3],x=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];x[0][0]=1-2*(v*v+g*g),x[0][1]=2*(h*v-g*b),x[0][2]=2*(h*g+v*b),x[1][0]=2*(h*v+g*b),x[1][1]=1-2*(h*h+g*g),x[1][2]=2*(v*g-h*b),x[2][0]=2*(h*g-v*b),x[2][1]=2*(v*g+h*b),x[2][2]=1-2*(h*h+v*v),l=t(l,x);var _=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(_[2][1]=a[2],l=t(l,_)),a[1]&&(_[2][1]=0,_[2][0]=a[0],l=t(l,_)),a[0]&&(_[2][0]=0,_[1][0]=a[0],l=t(l,_));for(var w=0;w<3;w++)for(var E=0;E<3;E++)l[w][E]*=i[w];return e(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return n})();function stt(t){return t.toFixed(6).replace(".000000","")}function LA(t,e){var n,r;return t.decompositionPair!==e&&(t.decompositionPair=e,n=QP(t)),e.decompositionPair!==t&&(e.decompositionPair=t,r=QP(e)),n[0]===null||r[0]===null?[[!1],[!0],function(i){return i?e[0].d:t[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(i){var a=ctt(n[0][3],r[0][3],i[5]),o=ott(i[0],i[1],i[2],a,i[4]),s=o.map(stt).join(",");return s}])}function ltt(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function ctt(t,e,n){var r=ltt(t,e);r=jr(r,-1,1);var i=[];if(r===1)i=t;else for(var a=Math.acos(r),o=Math.sin(n*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(n*a)-r*o)+e[s]*o);return i}function NA(t){return t.replace(/[XY]/,"")}function DA(t){return t.replace(/(X|Y|Z|3d)?$/,"3d")}var utt=function(e,n){return e==="perspective"&&n==="perspective"||(e==="matrix"||e==="matrix3d")&&(n==="matrix"||n==="matrix3d")};function ftt(t,e,n){var r=!1;if(!t.length||!e.length){t.length||(r=!0,t=e,e=[]);for(var i=function(){var D=t[a],B=D.t,$=D.d,U=B.substring(0,5)==="scale"?1:0;e.push({t:B,d:$.map(function(G){return typeof G=="number"?gr(U):gr(U,G.unit)})})},a=0;a<t.length;a++)i()}var o=[],s=[],l=[];if(t.length!==e.length){var c=LA(t,e);o=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]]}else for(var u=0;u<t.length;u++){var d=t[u].t,h=e[u].t,v=t[u].d,g=e[u].d,b=l1[d],x=l1[h],_=void 0;if(utt(d,h)){var w=LA([t[u]],[e[u]]);o.push(w[0]),s.push(w[1]),l.push(["matrix",[w[2]]]);continue}else if(d===h)_=d;else if(b[2]&&x[2]&&NA(d)===NA(h))_=NA(d),v=b[2](v),g=x[2](g);else if(b[1]&&x[1]&&DA(d)===DA(h))_=DA(d),v=b[1](v),g=x[1](g);else{var E=LA(t,e);o=[E[0]],s=[E[1]],l=[["matrix",[E[2]]]];break}for(var A=[],M=[],T=[],C=0;C<v.length;C++){var R=DJ(v[C],g[C],n,!1,C);A[C]=R[0],M[C]=R[1],T.push(R[2])}o.push(A),s.push(M),l.push([_,T])}if(r){var j=o;o=s,s=j}return[o,s,function(I){return I.map(function(D,B){var $=D.map(function(U,G){return l[B][1][G](U)}).join(",");return l[B][0]==="matrix"&&$.split(",").length===16&&(l[B][0]="matrix3d"),l[B][0]==="matrix3d"&&$.split(",").length===6&&(l[B][0]="matrix"),"".concat(l[B][0],"(").concat($,")")}).join(" ")}]}var dtt=Qr(function(t){if(tr(t)){if(t==="text-anchor")return[gr(0,"px"),gr(0,"px")];var e=t.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[jT(JP(e[0])),jT(JP(e[1]))]}return[gr(t[0]||0,"px"),gr(t[1]||0,"px")]});function JP(t){return t==="center"?"50%":t==="left"||t==="top"?"0%":t==="right"||t==="bottom"?"100%":t}var a5=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Ft.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Ft.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Ft.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Ft.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Ft.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Ft.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Ft.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Ft.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Ft.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Ft.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Ft.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Ft.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Ft.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Ft.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Ft.FILTER},{n:"clipPath",syntax:Ft.DEFINED_PATH},{n:"textPath",syntax:Ft.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Ft.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Ft.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Ft.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Ft.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Ft.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Ft.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Ft.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Ft.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Ft.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Ft.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Ft.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Ft.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Ft.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Ft.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Ft.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Ft.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Ft.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Ft.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Ft.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Ft.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Ft.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Ft.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Ft.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Ft.NUMBER,d:function(e){return e===xt.PATH||e===xt.POLYGON||e===xt.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Ft.MARKER},{n:"markerEnd",syntax:Ft.MARKER},{n:"markerMid",syntax:Ft.MARKER},{n:"markerStartOffset",syntax:Ft.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Ft.LENGTH,l:!0,int:!0,d:"0"}],htt=new Set(a5.filter(function(t){return!!t.l}).map(function(t){return t.n})),xB={},ptt=(function(){function t(e){var n=this;Lt(this,t),this.runtime=e,a5.forEach(function(r){n.registerMetadata(r)})}return jt(t,[{key:"registerMetadata",value:function(n){[n.n].concat(He(n.a||[])).forEach(function(r){xB[r]=n})}},{key:"getPropertySyntax",value:function(n){return this.runtime.CSSPropertySyntaxFactory[n]}},{key:"processProperties",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{forceUpdateGeometry:!1};Object.assign(n.attributes,r);var a=n.parsedStyle.clipPath,o=n.parsedStyle.offsetPath;vtt(n,r);var s=!!i.forceUpdateGeometry;if(!s){for(var l in r)if(htt.has(l)){s=!0;break}}var c=_B(n);c.has("fill")&&r.fill&&(n.parsedStyle.fill=sf(r.fill)),c.has("stroke")&&r.stroke&&(n.parsedStyle.stroke=sf(r.stroke)),c.has("shadowColor")&&r.shadowColor&&(n.parsedStyle.shadowColor=sf(r.shadowColor)),c.has("filter")&&r.filter&&(n.parsedStyle.filter=$J(r.filter)),c.has("radius")&&!ue(r.radius)&&(n.parsedStyle.radius=YP(r.radius,4)),c.has("lineDash")&&!ue(r.lineDash)&&(n.parsedStyle.lineDash=YP(r.lineDash,"even")),c.has("points")&&r.points&&(n.parsedStyle.points=ttt(r.points)),c.has("d")&&r.d===""&&(n.parsedStyle.d=Te({},iB)),c.has("d")&&r.d&&(n.parsedStyle.d=yB(r.d)),c.has("textTransform")&&r.textTransform&&this.runtime.CSSPropertySyntaxFactory[Ft.TEXT_TRANSFORM].calculator(null,null,{value:r.textTransform},n,null),c.has("clipPath")&&!jn(r.clipPath)&&this.runtime.CSSPropertySyntaxFactory[Ft.DEFINED_PATH].calculator("clipPath",a,r.clipPath,n,this.runtime),c.has("offsetPath")&&r.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Ft.DEFINED_PATH].calculator("offsetPath",o,r.offsetPath,n,this.runtime),c.has("transform")&&r.transform&&(n.parsedStyle.transform=bB(r.transform)),c.has("transformOrigin")&&r.transformOrigin&&(n.parsedStyle.transformOrigin=dtt(r.transformOrigin)),c.has("markerStart")&&r.markerStart&&(n.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Ft.MARKER].calculator(null,r.markerStart,r.markerStart,null,null)),c.has("markerEnd")&&r.markerEnd&&(n.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Ft.MARKER].calculator(null,r.markerEnd,r.markerEnd,null,null)),c.has("markerMid")&&r.markerMid&&(n.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Ft.MARKER].calculator("",r.markerMid,r.markerMid,null,null)),c.has("zIndex")&&!ue(r.zIndex)&&this.runtime.CSSPropertySyntaxFactory[Ft.Z_INDEX].postProcessor(n),c.has("offsetDistance")&&!ue(r.offsetDistance)&&this.runtime.CSSPropertySyntaxFactory[Ft.OFFSET_DISTANCE].postProcessor(n),c.has("transform")&&r.transform&&this.runtime.CSSPropertySyntaxFactory[Ft.TRANSFORM].postProcessor(n),c.has("transformOrigin")&&r.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Ft.TRANSFORM_ORIGIN].postProcessor(n),s&&(n.geometry.dirty=!0,n.dirty(!0,!0),i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtyToRoot(n))}},{key:"updateGeometry",value:function(n){var r=n.nodeName,i=this.runtime.geometryUpdaterFactory[r];if(i){var a=n.geometry;a.contentBounds||(a.contentBounds=new Kr),a.renderBounds||(a.renderBounds=new Kr);var o=n.parsedStyle,s=i.update(o,n),l=s.cx,c=l===void 0?0:l,u=s.cy,d=u===void 0?0:u,h=s.cz,v=h===void 0?0:h,g=s.hwidth,b=g===void 0?0:g,x=s.hheight,_=x===void 0?0:x,w=s.hdepth,E=w===void 0?0:w,A=[Math.abs(b),Math.abs(_),E],M=o.stroke,T=o.lineWidth,C=T===void 0?1:T,R=o.increasedLineWidthForHitTesting,j=R===void 0?0:R,I=o.shadowType,D=I===void 0?"outer":I,B=o.shadowColor,$=o.filter,U=$===void 0?[]:$,G=o.transformOrigin,F=[c,d,v];a.contentBounds.update(F,A);var H=r===xt.POLYLINE||r===xt.POLYGON||r===xt.PATH?Math.SQRT2:.5,Y=M&&!M.isNone;if(Y){var W=((C||0)+(j||0))*H;A[0]+=W,A[1]+=W}if(a.renderBounds.update(F,A),B&&D&&D!=="inner"){var V=a.renderBounds,J=V.min,tt=V.max,nt=o.shadowBlur,lt=o.shadowOffsetX,at=o.shadowOffsetY,ft=nt||0,mt=lt||0,ct=at||0,St=J[0]-ft+mt,Mt=tt[0]+ft+mt,It=J[1]-ft+ct,Nt=tt[1]+ft+ct;J[0]=Math.min(J[0],St),tt[0]=Math.max(tt[0],Mt),J[1]=Math.min(J[1],It),tt[1]=Math.max(tt[1],Nt),a.renderBounds.setMinMax(J,tt)}U.forEach(function(Gt){var Jt=Gt.name,le=Gt.params;if(Jt==="blur"){var _n=le[0].value;a.renderBounds.update(a.renderBounds.center,rf(a.renderBounds.halfExtents,a.renderBounds.halfExtents,[_n,_n,0]))}else if(Jt==="drop-shadow"){var dn=le[0].value,yn=le[1].value,kn=le[2].value,Zn=a.renderBounds,Dn=Zn.min,Pe=Zn.max,Se=Dn[0]-kn+dn,an=Pe[0]+kn+dn,Ee=Dn[1]-kn+yn,en=Pe[1]+kn+yn;Dn[0]=Math.min(Dn[0],Se),Pe[0]=Math.max(Pe[0],an),Dn[1]=Math.min(Dn[1],Ee),Pe[1]=Math.max(Pe[1],en),a.renderBounds.setMinMax(Dn,Pe)}}),n.geometry.dirty=!1;var zt=b<0,Ut=_<0,Zt=(zt?-1:1)*(G?mo(G[0],0,n,!0):0),ie=(Ut?-1:1)*(G?mo(G[1],1,n,!0):0);(Zt||ie)&&n.setOrigin(Zt,ie)}}},{key:"updateSizeAttenuation",value:function(n,r){n.style.isSizeAttenuation?(n.style.rawLineWidth||(n.style.rawLineWidth=n.style.lineWidth),n.style.lineWidth=(n.style.rawLineWidth||1)/r,n.nodeName===xt.CIRCLE&&(n.style.rawR||(n.style.rawR=n.style.r),n.style.r=(n.style.rawR||1)/r)):(n.style.rawLineWidth&&(n.style.lineWidth=n.style.rawLineWidth,delete n.style.rawLineWidth),n.nodeName===xt.CIRCLE&&n.style.rawR&&(n.style.r=n.style.rawR,delete n.style.rawR))}}])})();function vtt(t,e){var n=_B(t);for(var r in e)n.has(r)&&(t.parsedStyle[r]=e[r])}function _B(t){return t.constructor.PARSED_STYLE_LIST}var gtt=(function(){function t(){Lt(this,t),this.mixer=r5}return jt(t,[{key:"calculator",value:function(n,r,i,a){return Qa(i)}}])})(),ytt=(function(){function t(){Lt(this,t)}return jt(t,[{key:"calculator",value:function(n,r,i,a,o){return i instanceof is&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(n,r,i,a),n==="clipPath"&&a.forEach(function(s){s.childNodes.length===0&&o.sceneGraphService.dirtyToRoot(s)}),i}}])})(),mtt=(function(){function t(){Lt(this,t),this.parser=sf,this.mixer=PJ}return jt(t,[{key:"calculator",value:function(n,r,i,a){return i instanceof is?i.value==="none"?sB:lB:i}}])})(),btt=(function(){function t(){Lt(this,t)}return jt(t,[{key:"calculator",value:function(n,r,i){return i instanceof is?[]:i}}])})();function tj(t){var e=t.parsedStyle,n=e.fontSize;return ue(n)?null:n}var IT=(function(){function t(){Lt(this,t),this.mixer=r5}return jt(t,[{key:"calculator",value:function(n,r,i,a,o){if(Kn(i))return i;if(Un.isRelativeUnit(i.unit)){if(i.unit===Ht.kPercentage)return 0;if(i.unit===Ht.kEms){if(a.parentNode){var s=tj(a.parentNode);if(s)return s*=i.value,s}return 0}if(i.unit===Ht.kRems){var l;if(a!=null&&(l=a.ownerDocument)!==null&&l!==void 0&&l.documentElement){var c=tj(a.ownerDocument.documentElement);if(c)return c*=i.value,c}return 0}}else return i.value}}])})(),xtt=(function(){function t(){Lt(this,t),this.mixer=vB}return jt(t,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])})(),_tt=(function(){function t(){Lt(this,t),this.mixer=vB}return jt(t,[{key:"calculator",value:function(n,r,i){return i.map(function(a){return a.value})}}])})(),wtt=(function(){function t(){Lt(this,t)}return jt(t,[{key:"calculator",value:function(n,r,i,a){var o;i instanceof is&&(i=null);var s=(o=i)===null||o===void 0?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])})(),Ott=(function(){function t(){Lt(this,t),this.mixer=r5}return jt(t,[{key:"calculator",value:function(n,r,i){return i.value}}])})(),Stt=(function(){function t(){Lt(this,t),this.mixer=i5(0,1)}return jt(t,[{key:"calculator",value:function(n,r,i){return i.value}},{key:"postProcessor",value:function(n){var r=n.parsedStyle,i=r.offsetPath,a=r.offsetDistance;if(i){var o=i.nodeName;if(o===xt.LINE||o===xt.PATH||o===xt.POLYLINE){var s=i.getPoint(a);s&&n.setLocalPosition(s.x,s.y)}}}}])})(),Ett=(function(){function t(){Lt(this,t),this.mixer=i5(0,1)}return jt(t,[{key:"calculator",value:function(n,r,i){return i.value}}])})(),Att=(function(){function t(){Lt(this,t),this.parser=yB,this.mixer=JJ}return jt(t,[{key:"calculator",value:function(n,r,i){return i instanceof is&&i.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new lg(0,0,0,0)}:i}}])})(),Mtt=jt(function t(){Lt(this,t),this.mixer=ett}),Ttt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.mixer=i5(0,1/0),n}return Ce(e,t),jt(e)})(IT),ktt=(function(){function t(){Lt(this,t)}return jt(t,[{key:"calculator",value:function(n,r,i,a){return i instanceof is?i.value==="unset"?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(n){n.nodeValue="".concat(n.parsedStyle.text)||""}}])})(),Ctt=(function(){function t(){Lt(this,t)}return jt(t,[{key:"calculator",value:function(n,r,i,a){var o=a.getAttribute("text");if(o){var s=o;i.value==="capitalize"?s=o.charAt(0).toUpperCase()+o.slice(1):i.value==="lowercase"?s=o.toLowerCase():i.value==="uppercase"&&(s=o.toUpperCase()),a.parsedStyle.text=s}return i.value}}])})(),IA=new WeakMap;function Rtt(t,e,n){if(t){var r=typeof t=="string"?document.getElementById(t):t;IA.has(r)&&IA.get(r).destroy(n),IA.set(r,e)}}var o5=typeof window<"u"&&typeof window.document<"u";function Ptt(t){return!!t.getAttribute}function jtt(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;wB(t[i],e)<0?n=i+1:r=i}return n}function wB(t,e){var n=Number(t.parsedStyle.zIndex||0),r=Number(e.parsedStyle.zIndex||0);if(n===r){var i=t.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(t)-a.indexOf(e)}}return n-r}function OB(t){var e=t;do{var n,r=(n=e.parsedStyle)===null||n===void 0?void 0:n.clipPath;if(r)return e;e=e.parentElement}while(e!==null);return null}var ej="px";function Ltt(t,e,n){o5&&t.style&&(t.style.width=e+ej,t.style.height=n+ej)}function SB(t,e){if(o5)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function Ntt(t){var e=SB(t,"width");return e==="auto"?t.offsetWidth:parseFloat(e)}function Dtt(t){var e=SB(t,"height");return e==="auto"?t.offsetHeight:parseFloat(e)}var Itt=1,Btt={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},BT=typeof performance=="object"&&performance.now?performance:Date;function Lw(t){return t.nodeName===xt.FRAGMENT?!0:t.getRootNode().nodeName===xt.FRAGMENT}function Lh(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"auto",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=!1,i=!1,a=!!e&&!e.isNone,o=!!n&&!n.isNone;return t==="visiblepainted"||t==="painted"||t==="auto"?(r=a,i=o):t==="visiblefill"||t==="fill"?r=!0:t==="visiblestroke"||t==="stroke"?i=!0:(t==="visible"||t==="all")&&(r=!0,i=!0),[r,i]}var $tt=1,ztt=function(){return $tt++},Bl=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:{},Ftt=Date.now(),Utt=function(){return Bl.performance&&typeof Bl.performance.now=="function"?Bl.performance.now():Date.now()-Ftt},dm={},nj=Date.now(),Htt=function(e){if(typeof e!="function")throw new TypeError("".concat(e," is not a function"));var n=Date.now(),r=n-nj,i=r>16?0:16-r,a=ztt();return dm[a]=e,Object.keys(dm).length>1||setTimeout(function(){nj=n;var o=dm;dm={},Object.keys(o).forEach(function(s){return o[s](Utt())})},i),a},Gtt=function(e){delete dm[e]},Ytt=["","webkit","moz","ms","o"],EB=function(e){return typeof e!="string"?Htt:e===""?Bl.requestAnimationFrame:Bl["".concat(e,"RequestAnimationFrame")]},qtt=function(e){return typeof e!="string"?Gtt:e===""?Bl.cancelAnimationFrame:Bl["".concat(e,"CancelAnimationFrame")]||Bl["".concat(e,"CancelRequestAnimationFrame")]},Wtt=function(e,n){for(var r=0;e[r]!==void 0;){if(n(e[r]))return e[r];r+=1}},AB=Wtt(Ytt,function(t){return!!EB(t)}),s5=EB(AB),MB=qtt(AB);Bl.requestAnimationFrame=s5;Bl.cancelAnimationFrame=MB;var Xtt=(function(){function t(){Lt(this,t),this.callbacks=[]}return jt(t,[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Promise.all(this.callbacks.map(function(a){return a.apply(void 0,r)}))}}])})(),Vtt=(function(){function t(){Lt(this,t),this.callbacks=[]}return jt(t,[{key:"tapPromise",value:function(n,r){this.callbacks.push(r)}},{key:"promise",value:(function(){var e=cf(aa().mark(function r(){var i,a,o,s,l=arguments;return aa().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.callbacks.length){c.next=6;break}return c.next=1,(i=this.callbacks)[0].apply(i,l);case 1:a=c.sent,o=0;case 2:if(!(o<this.callbacks.length-1)){c.next=5;break}return s=this.callbacks[o],c.next=3,s(a);case 3:a=c.sent;case 4:o++,c.next=2;break;case 5:return c.abrupt("return",a);case 6:return c.abrupt("return",null);case 7:case"end":return c.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n})()}])})(),wa=(function(){function t(){Lt(this,t),this.callbacks=[]}return jt(t,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=arguments;this.callbacks.forEach(function(o){o.apply(void 0,a)})}}])})(),BA=(function(){function t(){Lt(this,t),this.callbacks=[]}return jt(t,[{key:"tap",value:function(n,r){this.callbacks.push(r)}},{key:"call",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(this.callbacks.length){for(var a=arguments,o=this.callbacks[0].apply(void 0,a),s=0;s<this.callbacks.length-1;s++){var l=this.callbacks[s];o=l(o)}return o}return null}}])})(),Ktt=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ztt=/([\"\'])[^\'\"]+\1/;function rj(t){var e=t.fontSize,n=e===void 0?16:e,r=t.fontFamily,i=r===void 0?"sans-serif":r,a=t.fontStyle,o=a===void 0?"normal":a,s=t.fontVariant,l=s===void 0?"normal":s,c=t.fontWeight,u=c===void 0?"normal":c;return{fontSize:n,fontFamily:i,fontStyle:o,fontVariant:l,fontWeight:u}}var ij=Qr(function(e){for(var n=rj(e),r=n.fontSize,i=n.fontFamily,a=n.fontStyle,o=n.fontVariant,s=n.fontWeight,l=Kn(r)&&"".concat(r,"px")||"16px",c=i.split(","),u=c.length-1;u>=0;u--){var d=c[u].trim();!Ztt.test(d)&&Ktt.indexOf(d)<0&&(d='"'.concat(d,'"')),c[u]=d}return"".concat(a," ").concat(o," ").concat(s," ").concat(l," ").concat(c.join(","))},function(t){var e=rj(t),n=e.fontSize,r=e.fontFamily,i=e.fontStyle,a=e.fontVariant,o=e.fontWeight;return"".concat(i,"_").concat(a,"_").concat(o,"_").concat(n,"_").concat(r)}),Qtt=1e-6,Xy=function(e){return Math.max(e,Qtt)};function $A(t,e,n){return uf(t),t[4]=Math.tan(e),t[1]=Math.tan(n),t}var Vr=An(),Jtt=An(),tet={scale:function(e){Wu(Vr,[e[0].value,e[1].value,1].map(function(n){return Xy(n)}))},scaleX:function(e){Wu(Vr,[e[0].value,1,1].map(function(n){return Xy(n)}))},scaleY:function(e){Wu(Vr,[1,e[0].value,1].map(function(n){return Xy(n)}))},scaleZ:function(e){Wu(Vr,[1,1,e[0].value].map(function(n){return Xy(n)}))},scale3d:function(e){Wu(Vr,[e[0].value,e[1].value,e[2].value].map(function(n){return Xy(n)}))},translate:function(e){Mc(Vr,[e[0].value,e[1].value,0])},translateX:function(e){Mc(Vr,[e[0].value,0,0])},translateY:function(e){Mc(Vr,[0,e[0].value,0])},translateZ:function(e){Mc(Vr,[0,0,e[0].value])},translate3d:function(e){Mc(Vr,[e[0].value,e[1].value,e[2].value])},rotate:function(e){cT(Vr,Hn(Qa(e[0])))},rotateX:function(e){U6(Vr,Hn(Qa(e[0])))},rotateY:function(e){H6(Vr,Hn(Qa(e[0])))},rotateZ:function(e){cT(Vr,Hn(Qa(e[0])))},rotate3d:function(e){F6(Vr,Hn(Qa(e[3])),[e[0].value,e[1].value,e[2].value])},skew:function(e){$A(Vr,Hn(e[0].value),Hn(e[1].value))},skewX:function(e){$A(Vr,Hn(e[0].value),0)},skewY:function(e){$A(Vr,0,Hn(e[0].value))},matrix:function(e){lT(Vr,e[0].value,e[1].value,0,0,e[2].value,e[3].value,0,0,0,0,1,0,e[4].value,e[5].value,0,1)},matrix3d:function(e){lT.apply(oX,[Vr].concat(He(e.map(function(n){return n.value}))))}},eet=vn(1,1,1),net=Ye(),aj={translate:function(e,n){Pt.sceneGraphService.setLocalScale(e,eet,!1),Pt.sceneGraphService.setLocalEulerAngles(e,net,void 0,void 0,!1),Pt.sceneGraphService.setLocalPosition(e,[n[0].value,n[1].value,0],!1),Pt.sceneGraphService.dirtyLocalTransform(e,e.transformable)}};function TB(t,e){if(t.length){if(t.length===1&&aj[t[0].t]){aj[t[0].t](e,t[0].d);return}for(var n=uf(Jtt),r=0;r<t.length;r++){var i=t[r],a=i.t,o=i.d,s=tet[a];s&&(s(o),SC(n,n,Vr))}e.setLocalTransform(n)}else e.resetLocalTransform();return e.getLocalTransform()}var ret=(function(){function t(){Lt(this,t),this.parser=ntt,this.mixer=ftt}return jt(t,[{key:"calculator",value:function(n,r,i,a){return i instanceof is?[]:i}},{key:"postProcessor",value:function(n){TB(n.parsedStyle.transform,n)}}])})(),iet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"postProcessor",value:function(n){var r=n.parsedStyle.transformOrigin;r[0].unit===Ht.kPixels&&r[1].unit===Ht.kPixels?n.setOrigin(r[0].value,r[1].value):n.getGeometryBounds()}}])})(),aet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"calculator",value:function(n,r,i,a){return i.value}},{key:"postProcessor",value:function(n){if(n.parentNode){var r=n.parentNode,i=r.renderable,a=r.sortable;i&&r.dirty(),a&&(a.dirty=!0,a.dirtyReason=kw.Z_INDEX_CHANGED)}}}])})(),oet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,o=n.cy,s=o===void 0?0:o,l=n.r,c=l===void 0?0:l;return{cx:a,cy:s,hwidth:c,hheight:c}}}])})(),set=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n,r){var i=n.cx,a=i===void 0?0:i,o=n.cy,s=o===void 0?0:o,l=n.rx,c=l===void 0?0:l,u=n.ry,d=u===void 0?0:u;return{cx:a,cy:s,hwidth:c,hheight:d}}}])})(),cet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n){var r=n.x1,i=n.y1,a=n.x2,o=n.y2,s=Math.min(r,a),l=Math.max(r,a),c=Math.min(i,o),u=Math.max(i,o),d=l-s,h=u-c,v=d/2,g=h/2;return{cx:s+v,cy:c+g,hwidth:v,hheight:g}}}])})(),uet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n){var r=n.d,i=r.rect,a=i.x,o=i.y,s=i.width,l=i.height,c=s/2,u=l/2;return{cx:a+c,cy:o+u,hwidth:c,hheight:u}}}])})(),fet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n){if(n.points&&$r(n.points.points)){var r=n.points.points,i=Math.min.apply(Math,He(r.map(function(h){return h[0]}))),a=Math.max.apply(Math,He(r.map(function(h){return h[0]}))),o=Math.min.apply(Math,He(r.map(function(h){return h[1]}))),s=Math.max.apply(Math,He(r.map(function(h){return h[1]}))),l=a-i,c=s-o,u=l/2,d=c/2;return{cx:i+u,cy:o+d,hwidth:u,hheight:d}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])})(),det=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,l=n.src,c=n.width,u=c===void 0?0:c,d=n.height,h=d===void 0?0:d,v=u,g=h;return l&&!tr(l)&&(v||(v=l.width,n.width=v),g||(g=l.height,n.height=g)),{cx:a+v/2,cy:s+g/2,hwidth:v/2,hheight:g/2}}}])})(),het=(function(){function t(e){Lt(this,t),this.globalRuntime=e}return jt(t,[{key:"isReadyToMeasure",value:function(n,r){var i=n.text;return i}},{key:"update",value:function(n,r){var i,a=n.text,o=n.textAlign,s=o===void 0?"start":o,l=n.lineWidth,c=l===void 0?1:l,u=n.textBaseline,d=u===void 0?"alphabetic":u,h=n.dx,v=h===void 0?0:h,g=n.dy,b=g===void 0?0:g,x=n.x,_=x===void 0?0:x,w=n.y,E=w===void 0?0:w;if(!this.isReadyToMeasure(n,r))return n.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var A=(r==null||(i=r.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0?void 0:i.getConfig())||{},M=A.offscreenCanvas,T=this.globalRuntime.textService.measureText(a,n,M);n.metrics=T;var C=T.width,R=T.height,j=C/2,I=R/2,D=_+j;s==="center"||s==="middle"?D+=c/2-j:(s==="right"||s==="end")&&(D+=c-j*2);var B=E-I;return d==="middle"?B+=I:d==="top"||d==="hanging"?B+=I*2:d==="alphabetic"||(d==="bottom"||d==="ideographic")&&(B+=0),v&&(D+=v),b&&(B+=b),{cx:D,cy:B,hwidth:j,hheight:I}}}])})(),pet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n,r){return{cx:0,cy:0,hwidth:0,hheight:0}}}])})(),vet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"update",value:function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,l=n.width,c=l===void 0?0:l,u=n.height,d=u===void 0?0:u;return{cx:a+c/2,cy:s+d/2,hwidth:c/2,hheight:d/2}}}])})(),aS=(function(){function t(e){Lt(this,t),this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Di,this.page=new Di,this.canvas=new Di,this.viewport=new Di,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return jt(t,[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Fn)}}])})(),kB=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.client=new Di,n.movement=new Di,n.offset=new Di,n.global=new Di,n.screen=new Di,n}return Ce(e,t),jt(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(r){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(r)}},{key:"initMouseEvent",value:function(){throw new Error(Fn)}}])})(aS),$T=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.width=0,n.height=0,n.isPrimary=!1,n}return Ce(e,t),jt(e,[{key:"getCoalescedEvents",value:function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])})(kB),zT=(function(t){function e(){return Lt(this,e),Re(this,e,arguments)}return Ce(e,t),jt(e,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])})(kB),Gn=(function(t){function e(n,r){var i;return Lt(this,e),i=Re(this,e,[null]),i.type=n,i.detail=r,Object.assign(i,r),i}return Ce(e,t),jt(e)})(aS),CB=(function(){function t(){Lt(this,t),this.emitter=new KI}return jt(t,[{key:"on",value:function(n,r,i){return this.addEventListener(n,r,i),this}},{key:"addEventListener",value:function(n,r,i){var a=!1,o=!1;if(GR(i))a=i;else if(i){var s=i.capture;a=s===void 0?!1:s;var l=i.once;o=l===void 0?!1:l}a&&(n+="capture"),r=pi(r)?r:r.handleEvent;var c=pi(r)?void 0:r;return o?this.emitter.once(n,r,c):this.emitter.on(n,r,c),this}},{key:"off",value:function(n,r,i){return n?this.removeEventListener(n,r,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var n;(n=this.emitter)===null||n===void 0||n.removeAllListeners()}},{key:"removeEventListener",value:function(n,r,i){var a;if(!this.emitter)return this;var o=GR(i)?i:i?.capture;o&&(n+="capture"),r=pi(r)?r:(a=r)===null||a===void 0?void 0:a.handleEvent;var s=pi(r)?void 0:r;return this.emitter.off(n,r,s),this}},{key:"emit",value:function(n,r){this.dispatchEvent(new Gn(n,r))}},{key:"dispatchEventToSelf",value:function(n){n.target||(n.target=this),n.currentTarget=this,this.emitter.emit(n.type,n)}},{key:"dispatchEvent",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0;if(i)return this.dispatchEventToSelf(n),!0;var a;if(this.document)a=this;else if(this.defaultView)a=this.defaultView;else{var o;a=(o=this.ownerDocument)===null||o===void 0?void 0:o.defaultView}if(a){if(n.manager=a.getEventService(),!n.manager)return!1;n.defaultPrevented=!1,n.path?n.path.length=0:n.page=[],r||(n.target=this),n.manager.dispatchEvent(n,n.type,r)}else this.dispatchEventToSelf(n);return!n.defaultPrevented}}])})(),wr=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.shadow=!1,n.ownerDocument=null,n.isConnected=!1,n.baseURI="",n.childNodes=[],n.nodeType=0,n.nodeName="",n.nodeValue=null,n.parentNode=null,n.destroyed=!1,n}return Ce(e,t),jt(e,[{key:"textContent",get:function(){var r="";this.nodeName===xt.TEXT&&(r+=this.style.text);var i=Zd(this.childNodes),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.nodeName===xt.TEXT?r+=o.nodeValue:r+=o.textContent}}catch(s){i.e(s)}finally{i.f()}return r},set:function(r){var i=this;this.childNodes.slice().forEach(function(a){i.removeChild(a)}),this.nodeName===xt.TEXT&&(this.style.text="".concat(r))}},{key:"getRootNode",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(r):r.composed&&this.host?this.host.getRootNode(r):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(r){throw new Error(Fn)}},{key:"lookupNamespaceURI",value:function(r){throw new Error(Fn)}},{key:"lookupPrefix",value:function(r){throw new Error(Fn)}},{key:"normalize",value:function(){throw new Error(Fn)}},{key:"isEqualNode",value:function(r){return this===r}},{key:"isSameNode",value:function(r){return this.isEqualNode(r)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(r){if(r===this)return 0;for(var i=r,a=this,o=[i],s=[a];(l=i.parentNode)!==null&&l!==void 0?l:a.parentNode;){var l;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a}if(i!==a)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var c=o.length>s.length?o:s,u=c===o?s:o;if(c[c.length-u.length]===u[0])return c===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var d=c.length-u.length,h=u.length-1;h>=0;h--){var v=u[h],g=c[d+h];if(g!==v){var b=v.parentNode.childNodes;return b.indexOf(v)<b.indexOf(g)?u===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:c===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(r){return this.contains(r)}},{key:"contains",value:function(r){for(var i=r;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(r){for(var i=this;r>0&&i;)i=i.parentNode,r--;return i}},{key:"forEach",value:function(r){for(var i=[this];i.length>0;){var a=i.pop(),o=r(a);if(o===!1)break;for(var s=a.childNodes.length-1;s>=0;s--)i.push(a.childNodes[s])}}}],[{key:"isNode",value:function(r){return!!r.childNodes}}])})(CB);wr.DOCUMENT_POSITION_DISCONNECTED=1;wr.DOCUMENT_POSITION_PRECEDING=2;wr.DOCUMENT_POSITION_FOLLOWING=4;wr.DOCUMENT_POSITION_CONTAINS=8;wr.DOCUMENT_POSITION_CONTAINED_BY=16;wr.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var get=2048,yet=(function(){function t(e,n){var r=this;Lt(this,t),this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=An(),this.tmpVec3=Ye(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;r.dispatchEvent(a,o?"rightdown":"mousedown")}var s=r.trackingData(i.pointerId);s.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a=BT.now(),o=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(o,"pointerup"),o.pointerType==="touch")r.dispatchEvent(o,"touchend");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;r.dispatchEvent(o,s?"rightup":"mouseup")}var l=r.trackingData(i.pointerId),c=r.findMountedTarget(l.pressTargetsByButton[i.button]),u=c;if(c&&!o.composedPath().includes(c)){for(var d=c;d&&!o.composedPath().includes(d);){if(o.currentTarget=d,r.notifyTarget(o,"pointerupoutside"),o.pointerType==="touch")r.notifyTarget(o,"touchendoutside");else if(o.pointerType==="mouse"||o.pointerType==="pen"){var h=o.button===2;r.notifyTarget(o,h?"rightupoutside":"mouseupoutside")}wr.isNode(d)&&(d=d.parentNode)}delete l.pressTargetsByButton[i.button],u=d}if(u){var v,g=r.clonePointerEvent(o,"click");g.target=u,g.path=[],l.clicksByButton[i.button]||(l.clicksByButton[i.button]={clickCount:0,target:g.target,timeStamp:a});var b=r.context.renderingContext.root.ownerDocument.defaultView,x=l.clicksByButton[i.button];x.target===g.target&&a-x.timeStamp<b.getConfig().dblClickSpeed?++x.clickCount:x.clickCount=1,x.target=g.target,x.timeStamp=a,g.detail=x.clickCount,(v=o.detail)!==null&&v!==void 0&&v.preventClick||(!r.context.config.useNativeClickEvent&&(g.pointerType==="mouse"||g.pointerType==="touch")&&r.dispatchEvent(g,"click"),r.dispatchEvent(g,"pointertap")),r.freeEvent(g)}r.freeEvent(o)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.trackingData(i.pointerId),l=r.findMountedTarget(s.overTargets);if(s.overTargets&&l!==a.target){var c=i.type==="mousemove"?"mouseout":"pointerout",u=r.createPointerEvent(i,c,l||void 0);if(r.dispatchEvent(u,"pointerout"),o&&r.dispatchEvent(u,"mouseout"),!a.composedPath().includes(l)){var d=r.createPointerEvent(i,"pointerleave",l||void 0);for(d.eventPhase=d.AT_TARGET;d.target&&!a.composedPath().includes(d.target);)d.currentTarget=d.target,r.notifyTarget(d),o&&r.notifyTarget(d,"mouseleave"),wr.isNode(d.target)&&(d.target=d.target.parentNode);r.freeEvent(d)}r.freeEvent(u)}if(l!==a.target){var h=i.type==="mousemove"?"mouseover":"pointerover",v=r.clonePointerEvent(a,h);r.dispatchEvent(v,"pointerover"),o&&r.dispatchEvent(v,"mouseover");for(var g=l&&wr.isNode(l)&&l.parentNode;g&&g!==(wr.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&g!==a.target;)g=g.parentNode;var b=!g||g===(wr.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(b){var x=r.clonePointerEvent(a,"pointerenter");for(x.eventPhase=x.AT_TARGET;x.target&&x.target!==l&&x.target!==(wr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)x.currentTarget=x.target,r.notifyTarget(x),o&&r.notifyTarget(x,"mouseenter"),wr.isNode(x.target)&&(x.target=x.target.parentNode);r.freeEvent(x)}r.freeEvent(v)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),o&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),s.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.findMountedTarget(a.overTargets),l=r.createPointerEvent(i,"pointerout",s||void 0);r.dispatchEvent(l),o&&r.dispatchEvent(l,"mouseout");var c=r.createPointerEvent(i,"pointerleave",s||void 0);for(c.eventPhase=c.AT_TARGET;c.target&&c.target!==(wr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)c.currentTarget=c.target,r.notifyTarget(c),o&&r.notifyTarget(c,"mouseleave"),wr.isNode(c.target)&&(c.target=c.target.parentNode);a.overTargets=null,r.freeEvent(l),r.freeEvent(c)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),o=r.createPointerEvent(i),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var l=r.clonePointerEvent(o,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(wr.isNode(r.rootTarget)&&r.rootTarget.parentNode);)l.currentTarget=l.target,r.notifyTarget(l),s&&r.notifyTarget(l,"mouseenter"),wr.isNode(l.target)&&(l.target=l.target.parentNode);a.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(l)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),o=r.findMountedTarget(a.pressTargetsByButton[i.button]),s=r.createPointerEvent(i);if(o){for(var l=o;l;)s.currentTarget=l,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),wr.isNode(l)&&(l=l.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(s)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)},this.globalRuntime=e,this.context=n}return jt(t,[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var n=this.context.contextService.getBoundingClientRect(),r=1,i=1,a=this.context.contextService.getDomElement();if(a&&n){var o=a.offsetWidth,s=a.offsetHeight;o&&s&&(r=n.width/o,i=n.height/s)}return{scaleX:r,scaleY:i,bbox:n}}},{key:"client2Viewport",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new Di((n.x-(o?.left||0))/i,(n.y-(o?.top||0))/a)}},{key:"viewport2Client",value:function(n){var r=this.getScale(),i=r.scaleX,a=r.scaleY,o=r.bbox;return new Di((n.x+(o?.left||0))*i,(n.y+(o?.top||0))*a)}},{key:"viewport2Canvas",value:function(n){var r=n.x,i=n.y,a=this.rootTarget.defaultView,o=a.getCamera(),s=this.context.config,l=s.width,c=s.height,u=o.getPerspectiveInverse(),d=o.getWorldTransform(),h=oa(this.tmpMatrix,d,u),v=ra(this.tmpVec3,r/l*2-1,(1-i/c)*2-1,0);return Rr(v,v,h),new Di(v[0],v[1])}},{key:"canvas2Viewport",value:function(n){var r=this.rootTarget.defaultView,i=r.getCamera(),a=i.getPerspective(),o=i.getViewTransform(),s=oa(this.tmpMatrix,a,o),l=ra(this.tmpVec3,n.x,n.y,0);Rr(this.tmpVec3,this.tmpVec3,s);var c=this.context.config,u=c.width,d=c.height;return new Di((l[0]+1)/2*u,(1-(l[1]+1)/2)*d)}},{key:"setPickHandler",value:function(n){this.pickHandler=n}},{key:"addEventMapping",value:function(n,r){this.mappingTable[n]||(this.mappingTable[n]=[]),this.mappingTable[n].push({fn:r,priority:0}),this.mappingTable[n].sort(function(i,a){return i.priority-a.priority})}},{key:"mapEvent",value:function(n){if(this.rootTarget){var r=this.mappingTable[n.type];if(r)for(var i=0,a=r.length;i<a;i++)r[i].fn(n);else console.warn("[EventService]: Event mapping not defined for ".concat(n.type))}}},{key:"dispatchEvent",value:function(n,r,i){if(!i)n.propagationStopped=!1,n.propagationImmediatelyStopped=!1,this.propagate(n,r);else{n.eventPhase=n.AT_TARGET;var a=this.rootTarget.defaultView||null;n.currentTarget=a,this.notifyListeners(n,r)}}},{key:"propagate",value:function(n,r){if(n.target){var i=n.composedPath();n.eventPhase=n.CAPTURING_PHASE;for(var a=i.length-1;a>=1;a--)if(n.currentTarget=i[a],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return;if(n.eventPhase=n.AT_TARGET,n.currentTarget=n.target,this.notifyTarget(n,r),!(n.propagationStopped||n.propagationImmediatelyStopped)){var o=i.indexOf(n.currentTarget);n.eventPhase=n.BUBBLING_PHASE;for(var s=o+1;s<i.length;s++)if(n.currentTarget=i[s],this.notifyTarget(n,r),n.propagationStopped||n.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(n){var r=[n],i=this.rootTarget.defaultView||null;if(i&&i===n)return r.unshift(i.document),r;for(var a=0;a<get&&n!==this.rootTarget;a++)wr.isNode(n)&&n.parentNode&&(r.push(n.parentNode),n=n.parentNode);return i&&r.push(i),r}},{key:"hitTest",value:function(n){var r=n.viewportX,i=n.viewportY,a=this.context.config,o=a.width,s=a.height,l=a.disableHitTesting;return r<0||i<0||r>o||i>s?null:!l&&this.pickHandler(n)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(n,r){var i,a=r?.target;if((i=a)!==null&&i!==void 0&&i.shadowRoot&&(a=r.composedPath()[0]),a){if(a===n)return!0;if(n&&n.contains)return n.contains(a)}return r!=null&&r.composedPath?r.composedPath().indexOf(n)>-1:!1}},{key:"getExistedHTML",value:function(n){if(n.nativeEvent.composedPath)for(var r=0,i=n.nativeEvent.composedPath();r<i.length;r++){var a=i[r],o=this.nativeHTMLMap.get(a);if(o)return o}return null}},{key:"pickTarget",value:function(n){return this.hitTest({clientX:n.clientX,clientY:n.clientY,viewportX:n.viewportX,viewportY:n.viewportY,x:n.canvasX,y:n.canvasY})}},{key:"createPointerEvent",value:function(n,r,i,a){var o=this.allocateEvent($T);this.copyPointerData(n,o),this.copyMouseData(n,o),this.copyData(n,o),o.nativeEvent=n.nativeEvent,o.originalEvent=n;var s=this.getExistedHTML(o),l=this.context.contextService.getDomElement();return o.target=i??(s||this.isNativeEventFromCanvas(l,o.nativeEvent)&&this.pickTarget(o)||a),typeof r=="string"&&(o.type=r),o}},{key:"createWheelEvent",value:function(n){var r=this.allocateEvent(zT);this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.nativeEvent=n.nativeEvent,r.originalEvent=n;var i=this.getExistedHTML(r),a=this.context.contextService.getDomElement();return r.target=i||this.isNativeEventFromCanvas(a,r.nativeEvent)&&this.pickTarget(r),r}},{key:"trackingData",value:function(n){return this.mappingState.trackingData[n]||(this.mappingState.trackingData[n]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[n]}},{key:"cloneWheelEvent",value:function(n){var r=this.allocateEvent(zT);return r.nativeEvent=n.nativeEvent,r.originalEvent=n.originalEvent,this.copyWheelData(n,r),this.copyMouseData(n,r),this.copyData(n,r),r.target=n.target,r.path=n.composedPath().slice(),r.type=n.type,r}},{key:"clonePointerEvent",value:function(n,r){var i=this.allocateEvent($T);return i.nativeEvent=n.nativeEvent,i.originalEvent=n.originalEvent,this.copyPointerData(n,i),this.copyMouseData(n,i),this.copyData(n,i),i.target=n.target,i.path=n.composedPath().slice(),i.type=r??i.type,i}},{key:"copyPointerData",value:function(n,r){r.pointerId=n.pointerId,r.width=n.width,r.height=n.height,r.isPrimary=n.isPrimary,r.pointerType=n.pointerType,r.pressure=n.pressure,r.tangentialPressure=n.tangentialPressure,r.tiltX=n.tiltX,r.tiltY=n.tiltY,r.twist=n.twist}},{key:"copyMouseData",value:function(n,r){r.altKey=n.altKey,r.button=n.button,r.buttons=n.buttons,r.ctrlKey=n.ctrlKey,r.metaKey=n.metaKey,r.shiftKey=n.shiftKey,r.client.copyFrom(n.client),r.movement.copyFrom(n.movement),r.canvas.copyFrom(n.canvas),r.screen.copyFrom(n.screen),r.global.copyFrom(n.global),r.offset.copyFrom(n.offset)}},{key:"copyWheelData",value:function(n,r){r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ}},{key:"copyData",value:function(n,r){r.isTrusted=n.isTrusted,r.timeStamp=BT.now(),r.type=n.type,r.detail=n.detail,r.view=n.view,r.page.copyFrom(n.page),r.viewport.copyFrom(n.viewport)}},{key:"allocateEvent",value:function(n){this.eventPool.has(n)||this.eventPool.set(n,[]);var r=this.eventPool.get(n).pop()||new n(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=[],r.target=null,r}},{key:"freeEvent",value:function(n){if(n.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var r=n.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(n)}},{key:"notifyTarget",value:function(n,r){r=r??n.type;var i=n.eventPhase===n.CAPTURING_PHASE||n.eventPhase===n.AT_TARGET?"".concat(r,"capture"):r;this.notifyListeners(n,i),n.eventPhase===n.AT_TARGET&&this.notifyListeners(n,r)}},{key:"notifyListeners",value:function(n,r){var i=n.currentTarget.emitter,a=i._events[r];if(a)if("fn"in a)a.once&&i.removeListener(r,a.fn,void 0,!0),a.fn.call(n.currentTarget||a.context,n);else for(var o=0;o<a.length&&!n.propagationImmediatelyStopped;o++)a[o].once&&i.removeListener(r,a[o].fn,void 0,!0),a[o].fn.call(n.currentTarget||a[o].context,n)}},{key:"findMountedTarget",value:function(n){if(!n)return null;for(var r=n[n.length-1],i=n.length-2;i>=0;i--){var a=n[i];if(a===this.rootTarget||wr.isNode(a)&&a.parentNode===r)r=n[i];else break}return r}},{key:"getCursor",value:function(n){for(var r=n;r;){var i=Ptt(r)&&r.getAttribute("cursor");if(i)return i;r=wr.isNode(r)&&r.parentNode}}}])})(),l5=(function(){function t(){Lt(this,t)}return jt(t,[{key:"getOrCreateCanvas",value:function(n,r){if(this.canvas)return this.canvas;if(n||Pt.offscreenCanvas)this.canvas=n||Pt.offscreenCanvas,this.context=this.canvas.getContext("2d",Te({willReadFrequently:!0},r));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Te({willReadFrequently:!0},r)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Te({willReadFrequently:!0},r))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(n,r){return this.context?this.context:(this.getOrCreateCanvas(n,r),this.context)}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])})(),Gv=(function(t){return t[t.CAMERA_CHANGED=0]="CAMERA_CHANGED",t[t.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",t[t.NONE=2]="NONE",t})({}),met=(function(){function t(e,n){Lt(this,t),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new wa,initAsync:new Xtt,dirtycheck:new BA,cull:new BA,beginFrame:new wa,beforeRender:new wa,render:new wa,afterRender:new wa,endFrame:new wa,destroy:new wa,pick:new Vtt,pickSync:new BA,pointerDown:new wa,pointerUp:new wa,pointerMove:new wa,pointerOut:new wa,pointerOver:new wa,pointerWheel:new wa,pointerCancel:new wa,click:new wa},this.globalRuntime=e,this.context=n}return jt(t,[{key:"init",value:function(n){var r=this,i=Te(Te({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(a){a.apply(i,r.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,n()):this.hooks.initAsync.promise().then(function(){r.inited=!0,n()}).catch(function(a){})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){var n=this.context.config.renderer,r=n.getConfig(),i=r.enableDirtyRectangleRendering;return!i||this.context.renderingContext.renderReasons.has(Gv.CAMERA_CHANGED)}},{key:"render",value:function(n,r,i){var a=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited){o.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var s=o.renderReasons.size===1&&o.renderReasons.has(Gv.CAMERA_CHANGED),l=!n.disableRenderHooks||!s;l&&this.renderDisplayObject(o.root,n,o),this.hooks.beginFrame.call(r),l&&o.renderListCurrentFrame.forEach(function(c){a.hooks.beforeRender.call(c),a.hooks.render.call(c),a.hooks.afterRender.call(c)}),this.hooks.endFrame.call(r),o.renderListCurrentFrame=[],o.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(n,r,i){var a=this,o=r.renderer.getConfig(),s=o.enableDirtyCheck,l=o.enableCulling;function c(b){var x=b.renderable,_=b.sortable,w=s?x.dirty||i.dirtyRectangleRenderingDisabled?b:null:b,E=null;w&&(E=l?a.hooks.cull.call(w,a.context.camera):w,E&&(a.stats.rendered+=1,i.renderListCurrentFrame.push(E))),b.dirty(!1),_.renderOrder=a.zIndexCounter,a.zIndexCounter+=1,a.stats.total+=1,_.dirty&&(a.sort(b,_),_.dirty=!1,_.dirtyChildren=[],_.dirtyReason=void 0)}for(var u=[n];u.length>0;){var d,h=u.pop();c(h);for(var v=((d=h.sortable)===null||d===void 0||(d=d.sorted)===null||d===void 0?void 0:d.length)>0?h.sortable.sorted:h.childNodes,g=v.length-1;g>=0;g--)u.push(v[g])}}},{key:"sort",value:function(n,r){var i,a;(r==null||(i=r.sorted)===null||i===void 0?void 0:i.length)>0&&r.dirtyReason!==kw.Z_INDEX_CHANGED?r.dirtyChildren.forEach(function(o){var s=r.sorted.indexOf(o);s>-1&&r.sorted.splice(s,1);var l=n.childNodes.indexOf(o);if(l>-1)if(r.sorted.length===0)r.sorted.push(o);else{var c=jtt(r.sorted,o);r.sorted.splice(c,0,o)}}):r.sorted=n.childNodes.slice().sort(wB),((a=r.sorted)===null||a===void 0?void 0:a.length)>0&&n.childNodes.filter(function(o){return o.parsedStyle.zIndex}).length===0&&(r.sorted=[])}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Gv.DISPLAY_OBJECT_CHANGED)}}])})(),bet=/\[\s*(.*)=(.*)\s*\]/,xet=(function(){function t(){Lt(this,t)}return jt(t,[{key:"selectOne",value:function(n,r){var i=this;if(n.startsWith("."))return r.find(function(l){return(l?.classList||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.find(function(l){return l.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),o=a.name,s=a.value;return o?r.find(function(l){return r!==l&&(o==="name"?l.name===s:i.attributeToString(l,o)===s)}):null}return r.find(function(l){return r!==l&&l.nodeName===n})}},{key:"selectAll",value:function(n,r){var i=this;if(n.startsWith("."))return r.findAll(function(l){return r!==l&&(l?.classList||[]).indexOf(i.getIdOrClassname(n))>-1});if(n.startsWith("#"))return r.findAll(function(l){return r!==l&&l.id===i.getIdOrClassname(n)});if(n.startsWith("[")){var a=this.getAttribute(n),o=a.name,s=a.value;return o?r.findAll(function(l){return r!==l&&(o==="name"?l.name===s:i.attributeToString(l,o)===s)}):[]}return r.findAll(function(l){return r!==l&&l.nodeName===n})}},{key:"is",value:function(n,r){if(n.startsWith("."))return r.className===this.getIdOrClassname(n);if(n.startsWith("#"))return r.id===this.getIdOrClassname(n);if(n.startsWith("[")){var i=this.getAttribute(n),a=i.name,o=i.value;return a==="name"?r.name===o:this.attributeToString(r,a)===o}return r.nodeName===n}},{key:"getIdOrClassname",value:function(n){return n.substring(1)}},{key:"getAttribute",value:function(n){var r=n.match(bet),i="",a="";return r&&r.length>2&&(i=r[1].replace(/"/g,""),a=r[2].replace(/"/g,"")),{name:i,value:a}}},{key:"attributeToString",value:function(n,r){if(!n.getAttribute)return"";var i=n.getAttribute(r);return ue(i)?"":i.toString?i.toString():""}}])})(),Ne=(function(t){return t.ATTR_MODIFIED="DOMAttrModified",t.INSERTED="DOMNodeInserted",t.MOUNTED="DOMNodeInsertedIntoDocument",t.REMOVED="removed",t.UNMOUNTED="DOMNodeRemovedFromDocument",t.REPARENT="reparent",t.DESTROY="destroy",t.BOUNDS_CHANGED="bounds-changed",t.CULLED="culled",t})({}),Gl=(function(t){function e(n,r,i,a,o,s,l,c){var u;return Lt(this,e),u=Re(this,e,[null]),u.relatedNode=r,u.prevValue=i,u.newValue=a,u.attrName=o,u.attrChange=s,u.prevParsedValue=l,u.newParsedValue=c,u.type=n,u}return Ce(e,t),jt(e)})(aS);Gl.ADDITION=2;Gl.MODIFICATION=1;Gl.REMOVAL=3;var _et=new Gl(Ne.REPARENT,null,"","","",0,"",""),wet=EC(),V2=Ye(),Oet=vn(1,1,1),Eet=An(),Aet=EC(),Fd=Ye(),Met=An(),Ud=hi(),Tet=Ye(),ket=hi(),Cet=Ye(),Vy=Ye(),Hd=Ye(),K2=An(),oj=hi(),sj=hi(),Z2=hi(),Q2={affectChildren:!0},Ret=(function(){function t(e){Lt(this,t),this.pendingEvents=new Map,this.boundsChangedEvent=new Gn(Ne.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=e}return jt(t,[{key:"matches",value:function(n,r){return this.runtime.sceneGraphSelector.is(n,r)}},{key:"querySelector",value:function(n,r){return this.runtime.sceneGraphSelector.selectOne(n,r)}},{key:"querySelectorAll",value:function(n,r){return this.runtime.sceneGraphSelector.selectAll(n,r)}},{key:"attach",value:function(n,r,i){var a,o=!1;n.parentNode&&(o=n.parentNode!==r,this.detach(n));var s=n.nodeName===xt.FRAGMENT,l=Lw(r);n.parentNode=r;var c=s?n.childNodes:[n];Kn(i)?c.forEach(function(b){r.childNodes.splice(i,0,b),b.parentNode=r}):c.forEach(function(b){r.childNodes.push(b),b.parentNode=r});var u=r,d=u.sortable;if((d!=null&&(a=d.sorted)!==null&&a!==void 0&&a.length||d.dirty||n.parsedStyle.zIndex)&&(d.dirtyChildren.indexOf(n)===-1&&d.dirtyChildren.push(n),d.dirty=!0,d.dirtyReason=kw.ADDED),!l){if(s)this.dirtifyFragment(n);else{var h=n.transformable;h&&this.dirtyWorldTransform(n,h)}if(o){var v,g=((v=r.ownerDocument)===null||v===void 0||(v=v.defaultView)===null||v===void 0||(v=v.getConfig())===null||v===void 0||(v=v.future)===null||v===void 0?void 0:v.experimentalCancelEventPropagation)===!0;n.dispatchEvent(_et,g,g)}}}},{key:"detach",value:function(n){var r,i;if(n.parentNode){var a=n.transformable,o=n.parentNode,s=o.sortable;(s!=null&&(r=s.sorted)!==null&&r!==void 0&&r.length||(i=n.style)!==null&&i!==void 0&&i.zIndex)&&(s.dirtyChildren.indexOf(n)===-1&&s.dirtyChildren.push(n),s.dirty=!0,s.dirtyReason=kw.REMOVED);var l=n.parentNode.childNodes.indexOf(n);l>-1&&n.parentNode.childNodes.splice(l,1),a&&this.dirtyWorldTransform(n,a),n.parentNode=null}}},{key:"getLocalPosition",value:function(n){return n.transformable.localPosition}},{key:"getLocalRotation",value:function(n){return n.transformable.localRotation}},{key:"getLocalScale",value:function(n){return n.transformable.localScale}},{key:"getLocalSkew",value:function(n){return n.transformable.localSkew}},{key:"getLocalTransform",value:function(n){var r=n.transformable;return LP(r),r.localTransform}},{key:"setLocalPosition",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;Vy[0]=r[0],Vy[1]=r[1],Vy[2]=(i=r[2])!==null&&i!==void 0?i:0,!Uy(o.localPosition,Vy)&&(Pl(o.localPosition,Vy),a&&this.dirtyLocalTransform(n,o))}},{key:"translateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;Uy(r,V2)||(fX(r,r,o.localRotation),rf(o.localPosition,o.localPosition,r),this.dirtyLocalTransform(n,o))}},{key:"setLocalRotation",value:function(n,r,i,a,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;typeof r=="number"&&(r=J6(Ud,r,i,a,o));var l=n.transformable;z2(l.localRotation,r),s&&this.dirtyLocalTransform(n,l)}},{key:"rotateLocal",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;$2(sj,r[0],r[1],r[2]),WR(o.localRotation,o.localRotation,sj),this.dirtyLocalTransform(n,o)}},{key:"setLocalScale",value:function(n,r){var i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=n.transformable;ra(Fd,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:o.localScale[2]),!Uy(Fd,o.localScale)&&(Pl(o.localScale,Fd),a&&this.dirtyLocalTransform(n,o))}},{key:"scaleLocal",value:function(n,r){var i,a=n.transformable;sX(a.localScale,a.localScale,ra(Fd,r[0],r[1],(i=r[2])!==null&&i!==void 0?i:1)),this.dirtyLocalTransform(n,a)}},{key:"setLocalSkew",value:function(n,r,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;typeof r=="number"&&(r=bX(Aet,r,i));var o=n.transformable;mX(o.localSkew,r),a&&this.dirtyLocalTransform(n,o)}},{key:"setLocalEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;typeof r=="number"&&(r=vn(r,i,a));var s=n.transformable;$2(s.localRotation,r[0],r[1],r[2]),o&&this.dirtyLocalTransform(n,s)}},{key:"setLocalTransform",value:function(n,r){var i=pw(Tet,r),a=vw(ket,r),o=eg(Cet,r);this.setLocalScale(n,o,!1),this.setLocalPosition(n,i,!1),this.setLocalRotation(n,a,void 0,void 0,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"resetLocalTransform",value:function(n){this.setLocalScale(n,Oet,!1),this.setLocalPosition(n,V2,!1),this.setLocalEulerAngles(n,V2,void 0,void 0,!1),this.setLocalSkew(n,wet,void 0,!1),this.dirtyLocalTransform(n,n.transformable)}},{key:"getPosition",value:function(n){var r=n.transformable;return pw(r.position,this.getWorldTransform(n,r))}},{key:"getRotation",value:function(n){var r=n.transformable;return vw(r.rotation,this.getWorldTransform(n,r))}},{key:"getScale",value:function(n){var r=n.transformable;return eg(r.scaling,this.getWorldTransform(n,r))}},{key:"getOrigin",value:function(n){return n.getGeometryBounds(),n.transformable.origin}},{key:"getWorldTransform",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.transformable;return!r.localDirtyFlag&&!r.dirtyFlag||(n.parentNode&&n.parentNode.transformable&&this.getWorldTransform(n.parentNode),this.internalUpdateTransform(n)),r.worldTransform}},{key:"setPosition",value:function(n,r){var i,a=n.transformable;if(Hd[0]=r[0],Hd[1]=r[1],Hd[2]=(i=r[2])!==null&&i!==void 0?i:0,!Uy(this.getPosition(n),Hd)){if(Pl(a.position,Hd),n.parentNode===null||!n.parentNode.transformable)Pl(a.localPosition,Hd);else{var o=n.parentNode.transformable;tg(K2,o.worldTransform),Ls(K2,K2),Rr(a.localPosition,Hd,K2)}this.dirtyLocalTransform(n,a)}}},{key:"translate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=ra(Fd,r,i,a)),!Uy(r,V2)&&(rf(Fd,this.getPosition(n),r),this.setPosition(n,Fd))}},{key:"setRotation",value:function(n,r,i,a,o){var s=n.transformable;if(typeof r=="number"&&(r=yX(r,i,a,o)),n.parentNode===null||!n.parentNode.transformable)this.setLocalRotation(n,r);else{var l=this.getRotation(n.parentNode);z2(Ud,l),yA(Ud,Ud),af(s.localRotation,Ud,r),yw(s.localRotation,s.localRotation),this.dirtyLocalTransform(n,s)}}},{key:"rotate",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.rotateLocal(n,r);else{var s=Ud;$2(s,r[0],r[1],r[2]);var l=this.getRotation(n),c=this.getRotation(n.parentNode);z2(Z2,c),yA(Z2,Z2),af(s,Z2,s),af(o.localRotation,s,l),yw(o.localRotation,o.localRotation),this.dirtyLocalTransform(n,o)}}},{key:"setOrigin",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=[r,i,a]);var o=n.transformable;if(!(r[0]===o.origin[0]&&r[1]===o.origin[1]&&r[2]===o.origin[2])){var s=o.origin;s[0]=r[0],s[1]=r[1],s[2]=r[2]||0,this.dirtyLocalTransform(n,o)}}},{key:"setEulerAngles",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;typeof r=="number"&&(r=vn(r,i,a));var o=n.transformable;if(n.parentNode===null||!n.parentNode.transformable)this.setLocalEulerAngles(n,r);else{$2(o.localRotation,r[0],r[1],r[2]);var s=this.getRotation(n.parentNode);z2(oj,yA(Ud,s)),WR(o.localRotation,o.localRotation,oj),this.dirtyLocalTransform(n,o)}}},{key:"getTransformedGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2?arguments[2]:void 0,a=this.getGeometryBounds(n,r);if(!Kr.isEmpty(a)){var o=i||new Kr;return o.setFromTransformedAABB(a,this.getWorldTransform(n)),o}return null}},{key:"getGeometryBounds",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=n,a=i.geometry;a.dirty&&Pt.styleValueRegistry.updateGeometry(n);var o=r?a.renderBounds:a.contentBounds||null;return o||new Kr}},{key:"getBounds",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,o=a.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,l=this.getTransformedGeometryBounds(n,i,s),c=n.childNodes;if(c.forEach(function(h){var v=r.getBounds(h,i);v&&(l?l.add(v):(l=s||new Kr,l.update(v.center,v.halfExtents)))}),l||(l=new Kr),i){var u=OB(n);if(u){var d=u.parsedStyle.clipPath.getBounds(i);l?d&&(l=d.intersection(l)):l.update(d.center,d.halfExtents)}}return i?(o.renderBounds=l,o.renderBoundsDirty=!1):(o.bounds=l,o.boundsDirty=!1),l}},{key:"getLocalBounds",value:function(n){if(n.parentNode){var r=Eet;n.parentNode.transformable&&(r=Ls(Met,this.getWorldTransform(n.parentNode)));var i=this.getBounds(n);if(!Kr.isEmpty(i)){var a=new Kr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds(n)}},{key:"getBoundingClientRect",value:function(n){var r,i,a=this.getGeometryBounds(n);Kr.isEmpty(a)||(i=new Kr,i.setFromTransformedAABB(a,this.getWorldTransform(n)));var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=i.getMin(),l=we(s,2),c=l[0],u=l[1],d=i.getMax(),h=we(d,2),v=h[0],g=h[1];return new lg(c+(o?.left||0),u+(o?.top||0),v-c,g-u)}return new lg(o?.left||0,o?.top||0,0,0)}},{key:"internalUpdateTransform",value:function(n){var r,i=(r=n.parentNode)===null||r===void 0?void 0:r.transformable;LP(n.transformable),YQ(n.transformable,i)}},{key:"internalUpdateElement",value:function(n,r){var i,a,o,s,l=((i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0,c=r[r.length-1],u=c?.transformDirty||((a=n.transformable)===null||a===void 0?void 0:a.localDirtyFlag);if(n.transformable){var d;(d=n.transformable).dirtyFlag||(d.dirtyFlag=u)}if(this.internalUpdateTransform(n),u){var h;(h=n.dirty)===null||h===void 0||h.call(n,!0,!0)}var v=((o=n.renderable)===null||o===void 0?void 0:o.boundsDirty)||((s=n.renderable)===null||s===void 0?void 0:s.renderBoundsDirty);if((u||v)&&c?.shapeUpdated===!1&&l)for(var g=r.length-1;g>=0;){var b,x,_=r[g];if(_.shapeUpdated)break;(b=(x=_.node).dirty)===null||b===void 0||b.call(x,!0,!0),_.shapeUpdated=!0,g-=1}return u}},{key:"syncHierarchy",value:function(n){for(var r,i,a=[n],o=n.parentNode?[{node:n.parentNode,transformDirty:((r=n.parentNode.transformable)===null||r===void 0?void 0:r.localDirtyFlag)||((i=n.parentNode.transformable)===null||i===void 0?void 0:i.dirtyFlag),shapeUpdated:!1}]:[];a.length>0;){for(var s=a.pop(),l=o[o.length-1];o.length>0&&s.parentNode!==l.node;)l=o.pop();var c=this.internalUpdateElement(s,o);if(s.childNodes.length>0){for(var u=s.childNodes.length-1;u>=0;u--)a.push(s.childNodes[u]);o.push({node:s,transformDirty:c,shapeUpdated:!1})}}}},{key:"dirtyLocalTransform",value:function(n,r){Lw(n)||r.localDirtyFlag||(r.localDirtyFlag=!0,r.dirtyFlag||this.dirtyWorldTransform(n,r))}},{key:"dirtyWorldTransform",value:function(n,r){this.dirtifyWorldInternal(n,r),this.dirtyToRoot(n,!0)}},{key:"dirtifyWorldInternal",value:function(n,r){var i,a=this,o=((i=n.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig())===null||i===void 0||(i=i.future)===null||i===void 0?void 0:i.experimentalAttributeUpdateOptimization)===!0;r.dirtyFlag||(r.dirtyFlag=!0,n.dirty(!0,!0),o||n.childNodes.forEach(function(s){var l=s.transformable;a.dirtifyWorldInternal(s,l)}))}},{key:"dirtyToRoot",value:function(n){for(var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=n,o=((r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalAttributeUpdateOptimization)===!0;a;){var s,l;if((s=(l=a).dirty)===null||s===void 0||s.call(l,!0,!0),o)break;a=a.parentNode}i&&n.forEach(function(c){var u;(u=c.dirty)===null||u===void 0||u.call(c,!0,!0)}),this.informDependentDisplayObjects(n),this.pendingEvents.set(n,i)}},{key:"dirtifyFragment",value:function(n){var r,i,a=n.transformable;a&&(a.dirtyFlag=!0,a.localDirtyFlag=!0),(r=(i=n).dirty)===null||r===void 0||r.call(i,!0,!0);for(var o=n.childNodes.length,s=0;s<o;s++)this.dirtifyFragment(n.childNodes[s]);n.nodeName===xt.FRAGMENT&&this.pendingEvents.set(n,!1)}},{key:"triggerPendingEvents",value:function(){var n=this,r=new Set,i,a,o=function(l,c){if(!(!l.isConnected||r.has(l)||l.nodeName===xt.FRAGMENT)){if(n.boundsChangedEvent.detail=c,n.boundsChangedEvent.target=l,l.isMutationObserved)l.dispatchEvent(n.boundsChangedEvent);else{if(i===void 0){var u;i=((u=l.ownerDocument.defaultView)===null||u===void 0||(u=u.getConfig())===null||u===void 0||(u=u.future)===null||u===void 0?void 0:u.experimentalCancelEventPropagation)===!0}l.ownerDocument.defaultView.dispatchEvent(n.boundsChangedEvent,!0,i)}r.add(l)}};this.pendingEvents.forEach(function(s,l){if(l.nodeName!==xt.FRAGMENT){if(a===void 0){var c;a=((c=l.ownerDocument)===null||c===void 0||(c=c.defaultView)===null||c===void 0||(c=c.getConfig())===null||c===void 0||(c=c.future)===null||c===void 0?void 0:c.experimentalAttributeUpdateOptimization)===!0}Q2.affectChildren=s,a?o(l,Q2):s?l.forEach(function(u){o(u,Q2)}):o(l,Q2)}}),r.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"updateDisplayObjectDependency",value:function(n,r,i,a){if(r&&r!==i){var o=this.displayObjectDependencyMap.get(r);if(o&&o[n]){var s=o[n].indexOf(a);o[n].splice(s,1)}}if(i){var l=this.displayObjectDependencyMap.get(i);l||(this.displayObjectDependencyMap.set(i,{}),l=this.displayObjectDependencyMap.get(i)),l[n]||(l[n]=[]),l[n].push(a)}}},{key:"informDependentDisplayObjects",value:function(n){var r,i=this,a=this.displayObjectDependencyMap.get(n);if(a){var o=(r=n.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig())===null||r===void 0||(r=r.future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation;Object.keys(a).forEach(function(s){a[s].forEach(function(l){i.dirtyToRoot(l,!0),l.dispatchEvent(new Gl(Ne.ATTR_MODIFIED,l,i,i,s,Gl.MODIFICATION,i,i),o,o),l.isCustomElement&&l.isConnected&&l.attributeChangedCallback&&l.attributeChangedCallback(s,i,i)})})}}}])})(),lj=(function(){function t(e){if(Lt(this,t),e<=0)throw new Error("LRU capacity must be a positive number.");this.capacity=e,this.cache=new Map}return jt(t,[{key:"get",value:function(n){if(this.cache.has(n)){var r=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,r),r}}},{key:"put",value:function(n,r){if(this.cache.has(n)&&this.cache.delete(n),this.cache.set(n,r),this.cache.size>this.capacity){var i=this.cache.keys().next().value;this.cache.delete(i)}}},{key:"len",value:function(){return this.cache.size}},{key:"clear",value:function(){this.cache.clear()}}])})(),Gd={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},cj=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Pet=/[!%),.:;?\]}'""]/,jet=/[$('"]/,Let=/[!),.:;?\]}'""]/,Net=/[([{'"]/,Det=/[)\]'"?!:;,.]/,Iet=/[(['"...]/,Bet=/[!%),.:;?\]}'"]/,$et=/[$([{'"#]/,zet=new RegExp("".concat(Pet.source,"|").concat(Let.source,"|").concat(Det.source,"|").concat(Bet.source)),Fet=new RegExp("".concat(jet.source,"|").concat(Net.source,"|").concat(Iet.source,"|").concat($et.source)),Uet=(function(){function t(e){var n=this;Lt(this,t),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return n.isBreakingSpace(i)?!1:!!(r&&(Fet.exec(i)||zet.exec(r)))},this.trimByKinsokuShorui=function(r){var i=He(r),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i},this.runtime=e,this.charWidthCache=new lj(100)}return jt(t,[{key:"measureFont",value:function(n,r){if(this.fontMetricsCache[n])return this.fontMetricsCache[n];var i={ascent:0,descent:0,fontSize:0},a=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(r),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(r,{willReadFrequently:!0});o.font=n;var s=Gd.MetricsString+Gd.BaselineSymbol,l=Math.ceil(o.measureText(s).width),c=Math.ceil(o.measureText(Gd.BaselineSymbol).width),u=Gd.HeightMultiplier*c;c=c*Gd.BaselineMultiplier|0,a.width=l,a.height=u,o.fillStyle="#f00",o.fillRect(0,0,l,u),o.font=n,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,c);var d=o.getImageData(0,0,l||1,u||1).data,h=d.length,v=l*4,g=0,b=0,x=!1;for(g=0;g<c;++g){for(var _=0;_<v;_+=4)if(d[b+_]!==255){x=!0;break}if(!x)b+=v;else break}for(i.ascent=c-g,b=h-v,x=!1,g=u;g>c;--g){for(var w=0;w<v;w+=4)if(d[b+w]!==255){x=!0;break}if(!x)b-=v;else break}return i.descent=g-c,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[n]=i,i}},{key:"measureText",value:function(n,r,i){var a=r.fontSize,o=a===void 0?16:a,s=r.wordWrap,l=s===void 0?!1:s,c=r.lineHeight,u=r.lineWidth,d=u===void 0?1:u,h=r.textBaseline,v=h===void 0?"alphabetic":h,g=r.textAlign,b=g===void 0?"start":g,x=r.letterSpacing,_=x===void 0?0:x,w=r.textPath;r.textPathSide,r.textPathStartOffset;var E=r.leading,A=E===void 0?0:E,M=ij(r),T=this.measureFont(M,i);T.fontSize===0&&(T.fontSize=o,T.ascent=o);var C=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);C.font=M,r.isOverflowing=!1;var R=l?this.wordWrap(n,r,i):n,j=R.split(/(?:\r\n|\r|\n)/),I=new Array(j.length),D=0;if(w){w.getTotalLength();for(var B=0;B<j.length;B++)C.measureText(j[B]).width+(j[B].length-1)*_}else{for(var $=0;$<j.length;$++){var U=C.measureText(j[$]).width+(j[$].length-1)*_;I[$]=U,D=Math.max(D,U)}var G=D+d,F=c||T.fontSize+d,H=Math.max(F,T.fontSize+d)+(j.length-1)*(F+A);F+=A;var Y=0;return v==="middle"?Y=-H/2:v==="bottom"||v==="alphabetic"||v==="ideographic"?Y=-H:(v==="top"||v==="hanging")&&(Y=0),{font:M,width:G,height:H,lines:j,lineWidths:I,lineHeight:F,maxLineWidth:D,fontProperties:T,lineMetrics:I.map(function(W,V){var J=0;return b==="center"||b==="middle"?J-=W/2:(b==="right"||b==="end")&&(J-=W),new lg(J-d/2,Y+V*F,W+d,F)})}}}},{key:"wordWrap",value:function(n,r,i){var a=this,o=Array.from(n);if(o.length===0)return"";var s=this,l=r.wordWrapWidth,c=l===void 0?0:l,u=r.letterSpacing,d=u===void 0?0:u,h=r.maxLines,v=h===void 0?1/0:h,g=r.textOverflow,b=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),x=c+d,_="";g==="ellipsis"?_="...":g&&g!=="clip"&&(_=g);var w=[""],E=0,A=0,M=-1,T=ij(r),C=this.charWidthCache.get(T);C||(C=new lj(500),this.charWidthCache.put(T,C));var R=function(W){return a.getFromCache(W,d,C,b)},j=R(_);function I(Y,W,V,J){for(;R(Y)<J&&W<o.length-1&&!s.isNewline(o[W+1]);)W+=1,Y+=o[W];for(;R(Y)>J&&W>=V;)W-=1,Y=Y.slice(0,-1);return{lineTxt:Y,txtLastCharIndex:W}}function D(Y,W){if(!(j<=0||j>x)){if(!w[Y]){w[Y]=_;return}var V=I(w[Y],W,M+1,x-j);w[Y]=V.lineTxt+_}}for(var B=0;B<o.length;B++){var $=o[B],U=o[B-1],G=o[B+1],F=R($);if(this.isNewline($)){if(E+1>=v){B<o.length-1&&D(E,B-1),r.isOverflowing=!0;break}M=B-1,E+=1,A=0,w[E]="";continue}if(F>x){D(E,B-1),r.isOverflowing=!0;break}if(A>0&&A+F>x){var H=I(w[E],B-1,M+1,x);if(H.txtLastCharIndex!==B-1){if(w[E]=H.lineTxt,H.txtLastCharIndex===o.length-1)break;B=H.txtLastCharIndex+1,$=o[B],U=o[B-1],G=o[B+1],F=R($)}if(E+1>=v){D(E,B-1),r.isOverflowing=!0;break}if(M=B-1,E+=1,A=0,w[E]="",this.isBreakingSpace($))continue;this.canBreakInLastChar($)||(w=this.trimToBreakable(w),A=this.sumTextWidthByCache(w[E]||"",R)),this.shouldBreakByKinsokuShorui($,G)&&(w=this.trimByKinsokuShorui(w),A+=R(U||""))}A+=F,w[E]+=$}return w.join(`
`)}},{key:"isBreakingSpace",value:function(n){return typeof n!="string"?!1:Gd.BreakingSpaces.indexOf(n.charCodeAt(0))>=0}},{key:"isNewline",value:function(n){return typeof n!="string"?!1:Gd.Newlines.indexOf(n.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(n){var r=He(n),i=r[r.length-2],a=this.findBreakableIndex(i);if(a===-1||!i)return r;var o=i.slice(a,a+1),s=this.isBreakingSpace(o),l=a+1,c=a+(s?0:1);return r[r.length-1]+=i.slice(l,i.length),r[r.length-2]=i.slice(0,c),r}},{key:"canBreakInLastChar",value:function(n){return!(n&&cj.test(n))}},{key:"sumTextWidthByCache",value:function(n,r){return n.split("").reduce(function(i,a){return i+r(a)},0)}},{key:"findBreakableIndex",value:function(n){for(var r=n.length-1;r>=0;r--)if(!cj.test(n[r]))return r;return-1}},{key:"getFromCache",value:function(n,r,i,a){var o=i.get(n);if(typeof o!="number"){var s=n.length*r,l=a.measureText(n);o=l.width+s,i.put(n,o)}return o}},{key:"clearCache",value:function(){this.fontMetricsCache={},this.charWidthCache.clear()}}])})(),Pt={},Het=(function(t){var e=new det,n=new fet;return t={},Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(t,xt.FRAGMENT,null),xt.CIRCLE,new oet),xt.ELLIPSE,new set),xt.RECT,e),xt.IMAGE,e),xt.GROUP,new pet),xt.LINE,new cet),xt.TEXT,new het(Pt)),xt.POLYLINE,n),xt.POLYGON,n),Wt(Wt(Wt(t,xt.PATH,new uet),xt.HTML,new vet),xt.MESH,null)})(),Get=(function(t){var e=new mtt,n=new IT;return t={},Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(t,Ft.PERCENTAGE,null),Ft.NUMBER,new Ott),Ft.ANGLE,new gtt),Ft.DEFINED_PATH,new ytt),Ft.PAINT,e),Ft.COLOR,e),Ft.FILTER,new btt),Ft.LENGTH,n),Ft.LENGTH_PERCENTAGE,n),Ft.LENGTH_PERCENTAGE_12,new xtt),Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(t,Ft.LENGTH_PERCENTAGE_14,new _tt),Ft.COORDINATE,new IT),Ft.OFFSET_DISTANCE,new Stt),Ft.OPACITY_VALUE,new Ett),Ft.PATH,new Att),Ft.LIST_OF_POINTS,new Mtt),Ft.SHADOW_BLUR,new Ttt),Ft.TEXT,new ktt),Ft.TEXT_TRANSFORM,new Ctt),Ft.TRANSFORM,new ret),Wt(Wt(Wt(t,Ft.TRANSFORM_ORIGIN,new iet),Ft.Z_INDEX,new aet),Ft.MARKER,new wtt)})(),Yet=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};Pt.CameraContribution=rB;Pt.AnimationTimeline=null;Pt.EasingFunction=null;Pt.offscreenCanvasCreator=new l5;Pt.sceneGraphSelector=new xet;Pt.sceneGraphService=new Ret(Pt);Pt.textService=new Uet(Pt);Pt.geometryUpdaterFactory=Het;Pt.CSSPropertySyntaxFactory=Get;Pt.styleValueRegistry=new ptt(Pt);Pt.layoutRegistry=null;Pt.globalThis=Yet();Pt.enableStyleSyntax=!0;Pt.enableSizeAttenuation=!1;var qet=0,FT=new Gl(Ne.INSERTED,null,"","","",0,"",""),UT=new Gl(Ne.REMOVED,null,"","","",0,"",""),RB=new Gn(Ne.DESTROY),Wet=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.entity=qet++,n.transformable={dirtyFlag:!1,localDirtyFlag:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},n.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},n.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},n.cullable={strategy:UQ.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},n.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},n.rBushNode={aabb:void 0},n.namespaceURI="g",n.scrollLeft=0,n.scrollTop=0,n.clientTop=0,n.clientLeft=0,n.style={},n.computedStyle={},n.parsedStyle={},n.attributes={},n}return Ce(e,t),jt(e,[{key:"dirty",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.renderable.dirty=r,i&&(this.renderable.boundsDirty=r,this.renderable.renderBoundsDirty=r)}},{key:"className",get:function(){return this.getAttribute("class")||""},set:function(r){this.setAttribute("class",r)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(r){return r!==""})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[r-1]||null}return null}},{key:"cloneNode",value:function(r){throw new Error(Fn)}},{key:"appendChild",value:function(r,i){var a;if(r.destroyed)throw new Error(RQ);return Pt.sceneGraphService.attach(r,this,i),(a=this.ownerDocument)!==null&&a!==void 0&&a.defaultView&&(!Lw(this)&&r.nodeName===xt.FRAGMENT?this.ownerDocument.defaultView.mountFragment(r):this.ownerDocument.defaultView.mountChildren(r)),this.isMutationObserved&&(FT.relatedNode=this,r.dispatchEvent(FT)),r}},{key:"insertBefore",value:function(r,i){if(!i)this.appendChild(r);else{r.parentElement&&r.parentElement.removeChild(r);var a=this.childNodes.indexOf(i);a===-1?this.appendChild(r):this.appendChild(r,a)}return r}},{key:"replaceChild",value:function(r,i){var a=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(r,a),i}},{key:"removeChild",value:function(r){var i,a,o=((i=this.ownerDocument)===null||i===void 0||(i=i.defaultView)===null||i===void 0||(i=i.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;return UT.relatedNode=this,r.dispatchEvent(UT,o,o),(a=r.ownerDocument)!==null&&a!==void 0&&a.defaultView&&r.ownerDocument.defaultView.unmountChildren(r),Pt.sceneGraphService.detach(r),r}},{key:"removeChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];this.removeChild(i)}}},{key:"destroyChildren",value:function(){for(var r=this.childNodes.length-1;r>=0;r--){var i=this.childNodes[r];i.childNodes.length>0&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(r){return Pt.sceneGraphService.matches(r,this)}},{key:"getElementById",value:function(r){return Pt.sceneGraphService.querySelector("#".concat(r),this)}},{key:"getElementsByName",value:function(r){return Pt.sceneGraphService.querySelectorAll('[name="'.concat(r,'"]'),this)}},{key:"getElementsByClassName",value:function(r){return Pt.sceneGraphService.querySelectorAll(".".concat(r),this)}},{key:"getElementsByTagName",value:function(r){return Pt.sceneGraphService.querySelectorAll(r,this)}},{key:"querySelector",value:function(r){return Pt.sceneGraphService.querySelector(r,this)}},{key:"querySelectorAll",value:function(r){return Pt.sceneGraphService.querySelectorAll(r,this)}},{key:"closest",value:function(r){var i=this;do{if(Pt.sceneGraphService.matches(r,i))return i;i=i.parentElement}while(i!==null);return null}},{key:"find",value:function(r){var i=this,a=null;return this.forEach(function(o){return o!==i&&r(o)?(a=o,!1):!0}),a}},{key:"findAll",value:function(r){var i=this,a=[];return this.forEach(function(o){o!==i&&r(o)&&a.push(o)}),a}},{key:"after",value:function(){var r=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];o.forEach(function(l,c){var u;return(u=r.parentNode)===null||u===void 0?void 0:u.appendChild(l,i+c+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var r,i=this.parentNode.childNodes.indexOf(this),a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=o[0],c=o.slice(1);this.parentNode.appendChild(l,i),(r=l).after.apply(r,He(c))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s){return r.appendChild(s)})}},{key:"prepend",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];a.forEach(function(s,l){return r.appendChild(s,l)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){var r,i=((r=this.ownerDocument)===null||r===void 0||(r=r.defaultView)===null||r===void 0||(r=r.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;this.destroyChildren(),this.dispatchEvent(RB,i,i),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Pt.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Pt.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Pt.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Pt.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Pt.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(r){if(typeof r!="symbol"){var i=this.attributes[r];return i}}},{key:"hasAttribute",value:function(r){return this.getAttributeNames().includes(r)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(r){this.setAttribute(r,null),delete this.attributes[r]}},{key:"setAttribute",value:function(r,i,a,o){this.attributes[r]=i}},{key:"getAttributeNS",value:function(r,i){throw new Error(Fn)}},{key:"getAttributeNode",value:function(r){throw new Error(Fn)}},{key:"getAttributeNodeNS",value:function(r,i){throw new Error(Fn)}},{key:"hasAttributeNS",value:function(r,i){throw new Error(Fn)}},{key:"removeAttributeNS",value:function(r,i){throw new Error(Fn)}},{key:"removeAttributeNode",value:function(r){throw new Error(Fn)}},{key:"setAttributeNS",value:function(r,i,a){throw new Error(Fn)}},{key:"setAttributeNode",value:function(r){throw new Error(Fn)}},{key:"setAttributeNodeNS",value:function(r){throw new Error(Fn)}},{key:"toggleAttribute",value:function(r,i){throw new Error(Fn)}}])})(wr);function un(t){return!!(t!=null&&t.nodeName)}var Xet=Pt.globalThis.Proxy?Pt.globalThis.Proxy:function(){},Al=new Gl(Ne.ATTR_MODIFIED,null,null,null,null,Gl.MODIFICATION,null,null),Ky=Ye(),Vet=hi(),ir=(function(t){function e(n){var r;return Lt(this,e),r=Re(this,e),r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=n,r.id=n.id||"",r.name=n.name||"",(n.className||n.class)&&(r.className=n.className||n.class),r.nodeName=n.type||xt.GROUP,n.initialParsedStyle&&Object.assign(r.parsedStyle,n.initialParsedStyle),r.initAttributes(n.style),Pt.enableStyleSyntax&&(r.style=new Xet({setProperty:function(a,o){r.setAttribute(a,o)},getPropertyValue:function(a){return r.getAttribute(a)},removeProperty:function(a){r.removeAttribute(a)},item:function(){return""}},{get:function(a,o){return a[o]!==void 0?a[o]:r.getAttribute(o)},set:function(a,o,s){return r.setAttribute(o,s),!0}})),r}return Ce(e,t),jt(e,[{key:"destroy",value:function(){AP(e,"destroy",this)([]),this.getAnimations().forEach(function(r){r.cancel()})}},{key:"cloneNode",value:function(r,i){var a=Te({},this.attributes);for(var o in a){var s=a[o];un(s)&&o!=="clipPath"&&o!=="offsetPath"&&o!=="textPath"&&(a[o]=s.cloneNode(r)),i&&(a[o]=i(o,s))}var l=new this.constructor(Te(Te({},this.config),{},{style:a}));return l.setLocalTransform(this.getLocalTransform()),r&&this.children.forEach(function(c){if(!c.style.isMarker){var u=c.cloneNode(r);l.appendChild(u)}}),l}},{key:"initAttributes",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i={forceUpdateGeometry:!0};Pt.styleValueRegistry.processProperties(this,r,i),this.dirty()}},{key:"setAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;jn(i)||(a||i!==this.attributes[r])&&(this.internalSetAttribute(r,i,{memoize:o}),AP(e,"setAttribute",this)([r,i]))}},{key:"internalSetAttribute",value:function(r,i){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.attributes[r],s=this.parsedStyle[r];Pt.styleValueRegistry.processProperties(this,Wt({},r,i),a),this.dirty();var l=this.parsedStyle[r];if(this.isConnected)if(Al.relatedNode=this,Al.prevValue=o,Al.newValue=i,Al.attrName=r,Al.prevParsedValue=s,Al.newParsedValue=l,this.isMutationObserved)this.dispatchEvent(Al);else{var c,u=((c=this.ownerDocument.defaultView.getConfig().future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;Al.target=this,this.ownerDocument.defaultView.dispatchEvent(Al,!0,u)}if(this.isCustomElement&&this.isConnected||!this.isCustomElement){var d,h;(d=(h=this).attributeChangedCallback)===null||d===void 0||d.call(h,r,o,i,s,l)}}},{key:"getBBox",value:function(){var r=this.getBounds(),i=r.getMin(),a=we(i,2),o=a[0],s=a[1],l=r.getMax(),c=we(l,2),u=c[0],d=c[1];return new lg(o,s,u-o,d-s)}},{key:"setOrigin",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Pt.sceneGraphService.setOrigin(this,Ea(r,i,a,!1)),this}},{key:"getOrigin",value:function(){return Pt.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Pt.sceneGraphService.setPosition(this,Ea(r,i,a,!1)),this}},{key:"setLocalPosition",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Pt.sceneGraphService.setLocalPosition(this,Ea(r,i,a,!1)),this}},{key:"translate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Pt.sceneGraphService.translate(this,Ea(r,i,a,!1)),this}},{key:"translateLocal",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Pt.sceneGraphService.translateLocal(this,Ea(r,i,a,!1)),this}},{key:"getPosition",value:function(){return Pt.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Pt.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(r,i,a){return this.scaleLocal(r,i,a)}},{key:"scaleLocal",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=Ea(r,i,a,!1)),Pt.sceneGraphService.scaleLocal(this,r),this}},{key:"setLocalScale",value:function(r,i,a){return typeof r=="number"&&(i=i||r,a=a||r,r=Ea(r,i,a,!1)),Pt.sceneGraphService.setLocalScale(this,r),this}},{key:"getLocalScale",value:function(){return Pt.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Pt.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){var r=CA(Ky,Pt.sceneGraphService.getWorldTransform(this)),i=we(r,3),a=i[2];return Ho(a)}},{key:"getLocalEulerAngles",value:function(){var r=CA(Ky,Pt.sceneGraphService.getLocalRotation(this)),i=we(r,3),a=i[2];return Ho(a)}},{key:"setEulerAngles",value:function(r){return Pt.sceneGraphService.setEulerAngles(this,0,0,r),this}},{key:"setLocalEulerAngles",value:function(r){return Pt.sceneGraphService.setLocalEulerAngles(this,0,0,r),this}},{key:"rotateLocal",value:function(r,i,a){return ue(i)&&ue(a)?Pt.sceneGraphService.rotateLocal(this,0,0,r):Pt.sceneGraphService.rotateLocal(this,r,i,a),this}},{key:"rotate",value:function(r,i,a){return ue(i)&&ue(a)?Pt.sceneGraphService.rotate(this,0,0,r):Pt.sceneGraphService.rotate(this,r,i,a),this}},{key:"setRotation",value:function(r,i,a,o){return Pt.sceneGraphService.setRotation(this,r,i,a,o),this}},{key:"setLocalRotation",value:function(r,i,a,o){return Pt.sceneGraphService.setLocalRotation(this,r,i,a,o),this}},{key:"setLocalSkew",value:function(r,i){return Pt.sceneGraphService.setLocalSkew(this,r,i),this}},{key:"getRotation",value:function(){return Pt.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Pt.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Pt.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Pt.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Pt.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(r){return Pt.sceneGraphService.setLocalTransform(this,r),this}},{key:"resetLocalTransform",value:function(){Pt.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(r,i){var a,o=(a=this.ownerDocument)===null||a===void 0?void 0:a.timeline;return o?o.play(this,r,i):null}},{key:"isVisible",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"}},{key:"interactive",get:function(){return this.isInteractive()},set:function(r){this.style.pointerEvents=r?"auto":"none"}},{key:"isInteractive",value:function(){var r;return((r=this.parsedStyle)===null||r===void 0?void 0:r.pointerEvents)!=="none"}},{key:"isCulled",value:function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,He(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,He(this.parentNode.children.map(function(r){return Number(r.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=a[0],l=a[1];return s?L1(s)?(Object.keys(s).forEach(function(c){r.setAttribute(c,s[c])}),this):a.length===2?(this.setAttribute(s,l),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(r){var i=r||this.getWorldTransform(),a=pw(Ky,i),o=we(a,2),s=o[0],l=o[1],c=eg(Ky,i),u=we(c,2),d=u[0],h=u[1],v=vw(Vet,i),g=CA(Ky,v),b=we(g,3),x=b[0],_=b[2];return IQ(x||_,s,l,d,h)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(r){var i=RP(r),a=we(i,5),o=a[0],s=a[1],l=a[2],c=a[3],u=a[4];this.setEulerAngles(u).setPosition(o,s).setLocalScale(l,c)}},{key:"setLocalMatrix",value:function(r){var i=RP(r),a=we(i,5),o=a[0],s=a[1],l=a[2],c=a[3],u=a[4];this.setLocalEulerAngles(u).setLocalPosition(o,s).setLocalScale(l,c)}},{key:"show",value:function(){this.forEach(function(r){r.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(r){r.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(r){return this.children[r]||null}},{key:"add",value:function(r,i){return this.appendChild(r,i)}},{key:"set",value:function(r,i){this.config[r]=i}},{key:"get",value:function(r){return this.config[r]}},{key:"moveTo",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"move",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return this.setPosition(r,i,a),this}},{key:"setZIndex",value:function(r){return this.style.zIndex=r,this}}])})(Wet);ir.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","display","draggable","droppable","fill","fillOpacity","fillRule","filter","increasedLineWidthForHitTesting","lineCap","lineDash","lineDashOffset","lineJoin","lineWidth","miterLimit","hitArea","offsetDistance","offsetPath","offsetX","offsetY","opacity","pointerEvents","shadowColor","shadowType","shadowBlur","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","strokeWidth","strokeLinecap","strokeLineJoin","strokeDasharray","strokeDashoffset","transform","transformOrigin","textTransform","visibility","zIndex"]);var Yl=(function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lt(this,e),Re(this,e,[Te({type:xt.CIRCLE},n)])}return Ce(e,t),jt(e)})(ir);Yl.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["cx","cy","cz","r","isBillboard","isSizeAttenuation"]));var Ket=["style"],Y1=(function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=kh(r,Ket);return Lt(this,e),n=Re(this,e,[Te({style:i},a)]),n.isCustomElement=!0,n}return Ce(e,t),jt(e)})(ir);Y1.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var oS=(function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lt(this,e),Re(this,e,[Te({type:xt.ELLIPSE},n)])}return Ce(e,t),jt(e)})(ir);oS.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["cx","cy","cz","rx","ry","isBillboard","isSizeAttenuation"]));var Zet=(function(t){function e(){return Lt(this,e),Re(this,e,[{type:xt.FRAGMENT}])}return Ce(e,t),jt(e)})(ir);Zet.PARSED_STYLE_LIST=new Set(["class","className"]);var mi=(function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lt(this,e),Re(this,e,[Te({type:xt.GROUP},n)])}return Ce(e,t),jt(e)})(ir);mi.PARSED_STYLE_LIST=new Set(["class","className","clipPath","cursor","draggable","droppable","opacity","pointerEvents","transform","transformOrigin","zIndex","visibility"]);var Qet=["style"],Tg=(function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=kh(r,Qet);return Lt(this,e),n=Re(this,e,[Te({type:xt.HTML,style:i},a)]),n.cullable.enable=!1,n}return Ce(e,t),jt(e,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var r=Ls(An(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!Kr.isEmpty(i)){var a=new Kr;return a.setFromTransformedAABB(i,r),a}}return this.getBounds()}}])})(ir);Tg.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["x","y","$el","innerHTML","width","height"]));var sS=(function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lt(this,e),Re(this,e,[Te({type:xt.IMAGE},n)])}return Ce(e,t),jt(e)})(ir);sS.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["x","y","z","src","width","height","isBillboard","billboardRotation","isSizeAttenuation","keepAspectRatio"]));var Jet=["style"],Nh=(function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=kh(r,Jet);Lt(this,e),n=Re(this,e,[Te({type:xt.LINE,style:Te({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a)]),n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&un(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),l&&un(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return Ce(e,t),jt(e,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="x1"||r==="y1"||r==="x2"||r==="y2"||r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&un(o)&&(this.markerStartAngle=0,o.remove()),s&&un(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"&&(o&&un(o)&&(this.markerEndAngle=0,o.remove()),s&&un(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,c=i.x1,u=i.x2,d=i.y1,h=i.y2,v=r?a:o;if(!(!v||!un(v))){var g=0,b,x,_,w,E,A;r?(_=c,w=d,b=u-c,x=h-d,E=s||0,A=this.markerStartAngle):(_=u,w=h,b=c-u,x=d-h,E=l||0,A=this.markerEndAngle),g=Math.atan2(x,b),v.setLocalEulerAngles(g*180/Math.PI+A),v.setLocalPosition(_+Math.cos(g)*E,w+Math.sin(g)*E)}}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle,o=a.x1,s=a.y1,l=a.x2,c=a.y2,u=tB(o,s,l,c,r),d=u.x,h=u.y,v=Rr(Ye(),vn(d,h,0),i?this.getWorldTransform():this.getLocalTransform());return new Di(v[0],v[1])}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var r=this.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2;return JI(i,a,o,s)}}])})(ir);Nh.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["x1","y1","x2","y2","z1","z2","isBillboard","isSizeAttenuation","markerStart","markerEnd","markerStartOffset","markerEndOffset"]));var tnt=["style"],Bi=(function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=kh(r,tnt);Lt(this,e),n=Re(this,e,[Te({type:xt.PATH,style:i,initialParsedStyle:{miterLimit:4,d:Te({},iB)}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&un(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&un(c)&&n.placeMarkerMid(c),l&&un(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return Ce(e,t),jt(e,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&un(o)&&(this.markerStartAngle=0,o.remove()),s&&un(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&un(o)&&(this.markerEndAngle=0,o.remove()),s&&un(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,c=r?a:o;if(!(!c||!un(c))){var u=0,d,h,v,g,b,x;if(r){var _=this.getStartTangent(),w=we(_,2),E=w[0],A=w[1];v=A[0],g=A[1],d=E[0]-A[0],h=E[1]-A[1],b=s||0,x=this.markerStartAngle}else{var M=this.getEndTangent(),T=we(M,2),C=T[0],R=T[1];v=R[0],g=R[1],d=C[0]-R[0],h=C[1]-R[1],b=l||0,x=this.markerEndAngle}u=Math.atan2(h,d),c.setLocalEulerAngles(u*180/Math.PI+x),c.setLocalPosition(v+Math.cos(u)*b,g+Math.sin(u)*b)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),r&&un(r))for(var a=1;a<i.length-1;a++){var o=we(i[a].currentPoint,2),s=o[0],l=o[1],c=a===1?r:r.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s,l)}}},{key:"getTotalLength",value:function(){return NT(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.d.absolutePath,o=KX(a,r),s=o.x,l=o.y,c=Rr(Ye(),vn(s,l,0),i?this.getWorldTransform():this.getLocalTransform());return new Di(c[0],c[1])}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPointAtLength(r*NT(this),i)}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.d.segments,i=[];if(r.length>1){var a=r[0].currentPoint,o=r[1].currentPoint,s=r[1].startTangent;i=[],s?(i.push([a[0]-s[0],a[1]-s[1]]),i.push([a[0],a[1]])):(i.push([o[0],o[1]]),i.push([a[0],a[1]]))}return i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.d.segments,i=r.length,a=[];if(i>1){var o=r[i-2].currentPoint,s=r[i-1].currentPoint,l=r[i-1].endTangent;a=[],l?(a.push([s[0]-l[0],s[1]-l[1]]),a.push([s[0],s[1]])):(a.push([o[0],o[1]]),a.push([s[0],s[1]]))}return a}}])})(ir);Bi.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["d","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard","isSizeAttenuation"]));var ent=["style"],Dh=(function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.style,a=kh(r,ent);Lt(this,e),n=Re(this,e,[Te({type:xt.POLYGON,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a)]),n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,s=o.markerStart,l=o.markerEnd,c=o.markerMid;return s&&un(s)&&(n.markerStartAngle=s.getLocalEulerAngles(),n.appendChild(s)),c&&un(c)&&n.placeMarkerMid(c),l&&un(l)&&(n.markerEndAngle=l.getLocalEulerAngles(),n.appendChild(l)),n.transformMarker(!0),n.transformMarker(!1),n}return Ce(e,t),jt(e,[{key:"attributeChangedCallback",value:function(r,i,a,o,s){r==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):r==="markerStartOffset"||r==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):r==="markerStart"?(o&&un(o)&&(this.markerStartAngle=0,o.remove()),s&&un(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):r==="markerEnd"?(o&&un(o)&&(this.markerEndAngle=0,o.remove()),s&&un(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):r==="markerMid"&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(r){var i=this.parsedStyle,a=i.markerStart,o=i.markerEnd,s=i.markerStartOffset,l=i.markerEndOffset,c=i.points,u=c||{},d=u.points,h=r?a:o;if(!(!h||!un(h)||!d)){var v=0,g,b,x,_,w,E;if(x=d[0][0],_=d[0][1],r)g=d[1][0]-d[0][0],b=d[1][1]-d[0][1],w=s||0,E=this.markerStartAngle;else{var A=d.length;this.parsedStyle.isClosed?(g=d[A-1][0]-d[0][0],b=d[A-1][1]-d[0][1]):(x=d[A-1][0],_=d[A-1][1],g=d[A-2][0]-d[A-1][0],b=d[A-2][1]-d[A-1][1]),w=l||0,E=this.markerEndAngle}v=Math.atan2(b,g),h.setLocalEulerAngles(v*180/Math.PI+E),h.setLocalPosition(x+Math.cos(v)*w,_+Math.sin(v)*w)}}},{key:"placeMarkerMid",value:function(r){var i=this.parsedStyle.points,a=i||{},o=a.points;if(this.markerMidList.forEach(function(d){d.remove()}),this.markerMidList=[],r&&un(r)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var l=o[s][0],c=o[s][1],u=s===1?r:r.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(l,c)}}}])})(ir);Dh.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isClosed","isBillboard","isSizeAttenuation"]));var nnt=["style"],lS=(function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=kh(n,nnt);return Lt(this,e),Re(this,e,[Te({type:xt.POLYLINE,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i)])}return Ce(e,t),jt(e,[{key:"getTotalLength",value:function(){return zJ(this)}},{key:"getPointAtLength",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.getPoint(r/this.getTotalLength(),i)}},{key:"getPoint",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var o=[],s=0,l,c,u=this.getTotalLength();a.forEach(function(_,w){a[w+1]&&(l=[0,0],l[0]=s/u,c=JI(_[0],_[1],a[w+1][0],a[w+1][1]),s+=c,l[1]=s/u,o.push(l))}),this.parsedStyle.points.segments=o}var d=0,h=0;this.parsedStyle.points.segments.forEach(function(_,w){r>=_[0]&&r<=_[1]&&(d=(r-_[0])/(_[1]-_[0]),h=w)});var v=tB(a[h][0],a[h][1],a[h+1][0],a[h+1][1],d),g=v.x,b=v.y,x=Rr(Ye(),vn(g,b,0),i?this.getWorldTransform():this.getLocalTransform());return new Di(x[0],x[1])}},{key:"getStartTangent",value:function(){var r=this.parsedStyle.points.points,i=[];return i.push([r[1][0],r[1][1]]),i.push([r[0][0],r[0][1]]),i}},{key:"getEndTangent",value:function(){var r=this.parsedStyle.points.points,i=r.length-1,a=[];return a.push([r[i-1][0],r[i-1][1]]),a.push([r[i][0],r[i][1]]),a}}])})(Dh);lS.PARSED_STYLE_LIST=new Set([].concat(He(Dh.PARSED_STYLE_LIST),["points","markerStart","markerMid","markerEnd","markerStartOffset","markerEndOffset","isBillboard"]));var xf=(function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lt(this,e),Re(this,e,[Te({type:xt.RECT},n)])}return Ce(e,t),jt(e)})(ir);xf.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["x","y","z","width","height","isBillboard","isSizeAttenuation","radius"]));var rnt=["style"],es=(function(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.style,i=kh(n,rnt);return Lt(this,e),Re(this,e,[Te({type:xt.TEXT,style:Te({fill:"black"},r)},i)])}return Ce(e,t),jt(e,[{key:"getComputedTextLength",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var r;return this.getGeometryBounds(),((r=this.parsedStyle.metrics)===null||r===void 0?void 0:r.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])})(ir);es.PARSED_STYLE_LIST=new Set([].concat(He(ir.PARSED_STYLE_LIST),["x","y","z","isBillboard","billboardRotation","isSizeAttenuation","text","textAlign","textBaseline","fontStyle","fontSize","fontFamily","fontWeight","fontVariant","lineHeight","letterSpacing","leading","wordWrap","wordWrapWidth","maxLines","textOverflow","isOverflowing","textPath","textDecorationLine","textDecorationColor","textDecorationStyle","textPathSide","textPathStartOffset","metrics","dx","dy"]));var int=(function(){function t(){Lt(this,t),this.registry={},this.define(xt.CIRCLE,Yl),this.define(xt.ELLIPSE,oS),this.define(xt.RECT,xf),this.define(xt.IMAGE,sS),this.define(xt.LINE,Nh),this.define(xt.GROUP,mi),this.define(xt.PATH,Bi),this.define(xt.POLYGON,Dh),this.define(xt.POLYLINE,lS),this.define(xt.TEXT,es),this.define(xt.HTML,Tg)}return jt(t,[{key:"define",value:function(n,r){this.registry[n]=r}},{key:"get",value:function(n){return this.registry[n]}}])})(),PB={number:function(e){return new Un(e)},percent:function(e){return new Un(e,"%")},px:function(e){return new Un(e,"px")},em:function(e){return new Un(e,"em")},rem:function(e){return new Un(e,"rem")},deg:function(e){return new Un(e,"deg")},grad:function(e){return new Un(e,"grad")},rad:function(e){return new Un(e,"rad")},turn:function(e){return new Un(e,"turn")},s:function(e){return new Un(e,"s")},ms:function(e){return new Un(e,"ms")},registerProperty:function(e){var n=e.name,r=e.inherits,i=e.interpolable,a=e.initialValue,o=e.syntax;Pt.styleValueRegistry.registerMetadata({n,inh:r,int:i,d:a,syntax:o})},registerLayout:function(e,n){Pt.layoutRegistry.registerLayout(e,n)}},ant=(function(t){function e(){var n;Lt(this,e),n=Re(this,e),n.defaultView=null,n.ownerDocument=null,n.nodeName="document";try{n.timeline=new Pt.AnimationTimeline(n)}catch{}var r={};return a5.forEach(function(i){var a=i.n,o=i.inh,s=i.d;o&&s&&(r[a]=pi(s)?s(xt.GROUP):s)}),n.documentElement=new mi({id:"g-root",style:r}),n.documentElement.ownerDocument=n,n.documentElement.parentNode=n,n.childNodes=[n.documentElement],n}return Ce(e,t),jt(e,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(r,i){if(r==="svg")return this.documentElement;var a=this.defaultView.customElements.get(r);a||(console.warn("Unsupported tagName: ",r),a=r==="tspan"?es:mi);var o=new a(i);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(r,i,a){return this.createElement(i,a)}},{key:"cloneNode",value:function(r){throw new Error(Fn)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(r,i,a,o){var s=this.defaultView.context.rBushRoot,l=s.search({minX:r,minY:i,maxX:a,maxY:o}),c=[];return l.forEach(function(u){var d=u.displayObject,h=d.parsedStyle.pointerEvents,v=h===void 0?"auto":h,g=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(v);(!g||g&&d.isVisible())&&!d.isCulled()&&d.isInteractive()&&c.push(d)}),c.sort(function(u,d){return d.sortable.renderOrder-u.sortable.renderOrder}),c}},{key:"elementFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(o<0||s<0||o>c||s>u)return null;var d=this.defaultView.viewport2Client({x:o,y:s}),h=d.x,v=d.y,g=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:h,clientY:v},picked:[]}),b=g.picked;return b&&b[0]||this.documentElement}},{key:"elementFromPoint",value:(function(){var n=cf(aa().mark(function i(a,o){var s,l,c,u,d,h,v,g,b,x,_;return aa().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),l=s.x,c=s.y,u=this.defaultView.getConfig(),d=u.width,h=u.height,!(l<0||c<0||l>d||c>h)){w.next=1;break}return w.abrupt("return",null);case 1:return v=this.defaultView.viewport2Client({x:l,y:c}),g=v.x,b=v.y,w.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:a,y:o,viewportX:l,viewportY:c,clientX:g,clientY:b},picked:[]});case 2:return x=w.sent,_=x.picked,w.abrupt("return",_&&_[0]||this.documentElement);case 3:case"end":return w.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r})()},{key:"elementsFromPointSync",value:function(r,i){var a=this.defaultView.canvas2Viewport({x:r,y:i}),o=a.x,s=a.y,l=this.defaultView.getConfig(),c=l.width,u=l.height;if(o<0||s<0||o>c||s>u)return[];var d=this.defaultView.viewport2Client({x:o,y:s}),h=d.x,v=d.y,g=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:r,y:i,viewportX:o,viewportY:s,clientX:h,clientY:v},picked:[]}),b=g.picked;return b[b.length-1]!==this.documentElement&&b.push(this.documentElement),b}},{key:"elementsFromPoint",value:(function(){var n=cf(aa().mark(function i(a,o){var s,l,c,u,d,h,v,g,b,x,_;return aa().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=this.defaultView.canvas2Viewport({x:a,y:o}),l=s.x,c=s.y,u=this.defaultView.getConfig(),d=u.width,h=u.height,!(l<0||c<0||l>d||c>h)){w.next=1;break}return w.abrupt("return",[]);case 1:return v=this.defaultView.viewport2Client({x:l,y:c}),g=v.x,b=v.y,w.next=2,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:a,y:o,viewportX:l,viewportY:c,clientX:g,clientY:b},picked:[]});case 2:return x=w.sent,_=x.picked,_[_.length-1]!==this.documentElement&&_.push(this.documentElement),w.abrupt("return",_);case 3:case"end":return w.stop()}},i,this)}));function r(i,a){return n.apply(this,arguments)}return r})()},{key:"appendChild",value:function(r,i){throw new Error(Ov)}},{key:"insertBefore",value:function(r,i){throw new Error(Ov)}},{key:"removeChild",value:function(r,i){throw new Error(Ov)}},{key:"replaceChild",value:function(r,i,a){throw new Error(Ov)}},{key:"append",value:function(){throw new Error(Ov)}},{key:"prepend",value:function(){throw new Error(Ov)}},{key:"getElementById",value:function(r){return this.documentElement.getElementById(r)}},{key:"getElementsByName",value:function(r){return this.documentElement.getElementsByName(r)}},{key:"getElementsByTagName",value:function(r){return this.documentElement.getElementsByTagName(r)}},{key:"getElementsByClassName",value:function(r){return this.documentElement.getElementsByClassName(r)}},{key:"querySelector",value:function(r){return this.documentElement.querySelector(r)}},{key:"querySelectorAll",value:function(r){return this.documentElement.querySelectorAll(r)}},{key:"find",value:function(r){return this.documentElement.find(r)}},{key:"findAll",value:function(r){return this.documentElement.findAll(r)}}])})(wr),jB=(function(){function t(e){Lt(this,t),this.strategies=e}return jt(t,[{key:"apply",value:function(n){var r=n.config,i=n.camera,a=n.renderingService,o=n.renderingContext,s=this.strategies;a.hooks.cull.tap(t.tag,function(l){if(l){var c,u=l.cullable;if(s.length===0?u.visible=o.unculledEntities.indexOf(l.entity)>-1:u.visible=s.every(function(h){return h.isVisible(i,l)}),!l.isCulled()&&l.isVisible())return l;var d=((c=r.future)===null||c===void 0?void 0:c.experimentalCancelEventPropagation)===!0;return l.dispatchEvent(new Gn(Ne.CULLED),d,d),null}return l}),a.hooks.afterRender.tap(t.tag,function(l){l.cullable.visibilityPlaneMask=-1})}}])})();jB.tag="Culling";var LB=(function(){function t(){var e=this;Lt(this,t),this.autoPreventDefault=!1,this.rootPointerEvent=new $T(null),this.rootWheelEvent=new zT(null),this.onPointerMove=function(n){var r,i=(r=e.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView;if(!(i.supportsTouchEvents&&n.pointerType==="touch")){var a=e.normalizeToPointerEvent(n,i),o=Zd(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=e.bootstrapEvent(e.rootPointerEvent,l,i,n);e.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(n){var r,i=(r=e.context.renderingContext.root)===null||r===void 0||(r=r.ownerDocument)===null||r===void 0?void 0:r.defaultView,a=e.normalizeToPointerEvent(n,i),o=Zd(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=e.bootstrapEvent(e.rootPointerEvent,l,i,n);e.context.eventService.mapEvent(c)}}catch(u){o.e(u)}finally{o.f()}e.setCursor(e.context.eventService.cursor)}}return jt(t,[{key:"apply",value:function(n){var r=this;this.context=n;var i=n.renderingService,a=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){var s=r.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}),l=s.picked;return l[0]||null}),i.hooks.pointerWheel.tap(t.tag,function(o){var s=r.normalizeWheelEvent(o);r.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(t.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.normalizeToPointerEvent(o,a);if(r.autoPreventDefault&&s[0].isNormalized){var l=o.cancelable||!("cancelable"in o);l&&o.preventDefault()}var c=Zd(s),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=r.bootstrapEvent(r.rootPointerEvent,d,a,o);r.context.eventService.mapEvent(h)}}catch(v){c.e(v)}finally{c.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerUp.tap(t.tag,function(o){if(!(a.supportsTouchEvents&&o.pointerType==="touch")){var s=r.context.contextService.getDomElement(),l=r.context.eventService.isNativeEventFromCanvas(s,o),c=l?"":"outside",u=r.normalizeToPointerEvent(o,a),d=Zd(u),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,g=r.bootstrapEvent(r.rootPointerEvent,v,a,o);g.type+=c,r.context.eventService.mapEvent(g)}}catch(b){d.e(b)}finally{d.f()}r.setCursor(r.context.eventService.cursor)}}),i.hooks.pointerMove.tap(t.tag,this.onPointerMove),i.hooks.pointerOver.tap(t.tag,this.onPointerMove),i.hooks.pointerOut.tap(t.tag,this.onPointerMove),i.hooks.click.tap(t.tag,this.onClick),i.hooks.pointerCancel.tap(t.tag,function(o){var s=r.normalizeToPointerEvent(o,a),l=Zd(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=r.bootstrapEvent(r.rootPointerEvent,u,a,o);r.context.eventService.mapEvent(d)}}catch(h){l.e(h)}finally{l.f()}r.setCursor(r.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(n,r,i,a){n.view=i,n.originalEvent=null,n.nativeEvent=a,n.pointerId=r.pointerId,n.width=r.width,n.height=r.height,n.isPrimary=r.isPrimary,n.pointerType=r.pointerType,n.pressure=r.pressure,n.tangentialPressure=r.tangentialPressure,n.tiltX=r.tiltX,n.tiltY=r.tiltY,n.twist=r.twist,this.transferMouseData(n,r);var o=this.context.eventService.client2Viewport({x:r.clientX,y:r.clientY}),s=o.x,l=o.y;n.viewport.x=s,n.viewport.y=l;var c=this.context.eventService.viewport2Canvas(n.viewport),u=c.x,d=c.y;return n.canvas.x=u,n.canvas.y=d,n.global.copyFrom(n.canvas),n.offset.copyFrom(n.canvas),n.isTrusted=a.isTrusted,n.type==="pointerleave"&&(n.type="pointerout"),n.type.startsWith("mouse")&&(n.type=n.type.replace("mouse","pointer")),n.type.startsWith("touch")&&(n.type=Btt[n.type]||n.type),n}},{key:"normalizeWheelEvent",value:function(n){var r=this.rootWheelEvent;this.transferMouseData(r,n),r.deltaMode=n.deltaMode,r.deltaX=n.deltaX,r.deltaY=n.deltaY,r.deltaZ=n.deltaZ;var i=this.context.eventService.client2Viewport({x:n.clientX,y:n.clientY}),a=i.x,o=i.y;r.viewport.x=a,r.viewport.y=o;var s=this.context.eventService.viewport2Canvas(r.viewport),l=s.x,c=s.y;return r.canvas.x=l,r.canvas.y=c,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=n,r.type=n.type,r}},{key:"transferMouseData",value:function(n,r){n.isTrusted=r.isTrusted,n.srcElement=r.srcElement,n.timeStamp=BT.now(),n.type=r.type,n.altKey=r.altKey,n.metaKey=r.metaKey,n.shiftKey=r.shiftKey,n.ctrlKey=r.ctrlKey,n.button=r.button,n.buttons=r.buttons,n.client.x=r.clientX,n.client.y=r.clientY,n.movement.x=r.movementX,n.movement.y=r.movementY,n.page.x=r.pageX,n.page.y=r.pageY,n.screen.x=r.screenX,n.screen.y=r.screenY,n.relatedTarget=null}},{key:"setCursor",value:function(n){this.context.contextService.applyCursorStyle(n||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(n,r){var i=[];if(r.isTouchEvent(n))for(var a=0;a<n.changedTouches.length;a++){var o=n.changedTouches[a];jn(o.button)&&(o.button=0),jn(o.buttons)&&(o.buttons=1),jn(o.isPrimary)&&(o.isPrimary=n.touches.length===1&&n.type==="touchstart"),jn(o.width)&&(o.width=o.radiusX||1),jn(o.height)&&(o.height=o.radiusY||1),jn(o.tiltX)&&(o.tiltX=0),jn(o.tiltY)&&(o.tiltY=0),jn(o.pointerType)&&(o.pointerType="touch"),jn(o.pointerId)&&(o.pointerId=o.identifier||0),jn(o.pressure)&&(o.pressure=o.force||.5),jn(o.twist)&&(o.twist=0),jn(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=n.type,i.push(o)}else if(r.isMouseEvent(n)){var s=n;jn(s.isPrimary)&&(s.isPrimary=!0),jn(s.width)&&(s.width=1),jn(s.height)&&(s.height=1),jn(s.tiltX)&&(s.tiltX=0),jn(s.tiltY)&&(s.tiltY=0),jn(s.pointerType)&&(s.pointerType="mouse"),jn(s.pointerId)&&(s.pointerId=Itt),jn(s.pressure)&&(s.pressure=.5),jn(s.twist)&&(s.twist=0),jn(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(n);return i}}])})();LB.tag="Event";var ont=[xt.CIRCLE,xt.ELLIPSE,xt.IMAGE,xt.RECT,xt.LINE,xt.POLYLINE,xt.POLYGON,xt.TEXT,xt.PATH,xt.HTML],snt=(function(){function t(){Lt(this,t)}return jt(t,[{key:"isVisible",value:function(n,r){var i,a=r.cullable;if(!a.enable)return!0;var o=r.getRenderBounds();if(Kr.isEmpty(o))return!1;var s=n.getFrustum(),l=(i=r.parentNode)===null||i===void 0||(i=i.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(r,o,l||wv.INDETERMINATE,s.planes),a.visible=a.visibilityPlaneMask!==wv.OUTSIDE,a.visible}},{key:"computeVisibilityWithPlaneMask",value:function(n,r,i,a){if(i===wv.OUTSIDE||i===wv.INSIDE)return i;for(var o=wv.INSIDE,s=ont.indexOf(n.nodeName)>-1,l=0,c=a.length;l<c;++l){var u=1<<l;if((i&u)!==0&&!(s&&(l===4||l===5))){var d=a[l],h=d.normal,v=d.distance;if(jl(h,r.getPositiveFarPoint(a[l]))+v<0)return wv.OUTSIDE;jl(h,r.getNegativeFarPoint(a[l]))+v<0&&(o|=u)}}return o}}])})(),NB=(function(){function t(){Lt(this,t),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return jt(t,[{key:"apply",value:function(n){var r=this,i,a,o=n.config,s=n.renderingService,l=n.renderingContext,c=n.rBushRoot,u=l.root.ownerDocument.defaultView;this.rBush=c;var d=function(w){s.dirtify()},h=function(w){r.syncTasks.set(w.target,w.detail.affectChildren),s.dirtify()},v=function(w){var E=w.target;Pt.enableSizeAttenuation&&Pt.styleValueRegistry.updateSizeAttenuation(E,u.getCamera().getZoom())},g=function(w){var E=w.target,A=E.rBushNode;A!=null&&A.aabb&&r.rBush.remove(A.aabb),r.syncTasks.delete(E),Pt.sceneGraphService.dirtyToRoot(E),s.dirtify()};s.hooks.init.tap(t.tag,function(){u.addEventListener(Ne.MOUNTED,v),u.addEventListener(Ne.UNMOUNTED,g),u.addEventListener(Ne.ATTR_MODIFIED,d),u.addEventListener(Ne.BOUNDS_CHANGED,h)}),s.hooks.destroy.tap(t.tag,function(){u.removeEventListener(Ne.MOUNTED,v),u.removeEventListener(Ne.UNMOUNTED,g),u.removeEventListener(Ne.ATTR_MODIFIED,d),u.removeEventListener(Ne.BOUNDS_CHANGED,h),r.syncTasks.clear()});var b=(i=Pt.globalThis.requestIdleCallback)!==null&&i!==void 0?i:s5.bind(Pt.globalThis),x=((a=o.future)===null||a===void 0?void 0:a.experimentalRICSyncRTree)===!0;s.hooks.endFrame.tap(t.tag,function(){r.isFirstTimeRendering?(r.isFirstTimeRendering=!1,r.syncing=!0,b(function(){r.syncRTree(!0),r.isFirstTimeRenderingFinished=!0})):x&&Pt.globalThis.requestIdleCallback&&Pt.globalThis.cancelIdleCallback?(Pt.globalThis.cancelIdleCallback(r.ricSyncRTreeId),r.ricSyncRTreeId=Pt.globalThis.requestIdleCallback(function(){return r.syncRTree()})):r.syncRTree()})}},{key:"syncNode",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.isConnected){var i=n.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var a=n.getRenderBounds();if(a){var o=n.renderable;r&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new Kr),o.dirtyRenderBounds.update(a.center,a.halfExtents));var s=a.getMin(),l=we(s,2),c=l[0],u=l[1],d=a.getMax(),h=we(d,2),v=h[0],g=h[1];i.aabb||(i.aabb={}),i.aabb.displayObject=n,i.aabb.minX=c,i.aabb.minY=u,i.aabb.maxX=v,i.aabb.maxY=g}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r&&(this.syncing||this.syncTasks.size===0))){this.syncing=!0;var i=[],a=new Set,o=function(l){if(!a.has(l)&&l.renderable){var c=n.syncNode(l,r);c&&(i.push(c),a.add(l))}};this.syncTasks.forEach(function(s,l){s&&l.forEach(o);for(var c=l;c;)o(c),c=c.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])})();NB.tag="Prepare";var Wo=(function(t){return t.READY="ready",t.BEFORE_RENDER="beforerender",t.RERENDER="rerender",t.AFTER_RENDER="afterrender",t.BEFORE_DESTROY="beforedestroy",t.AFTER_DESTROY="afterdestroy",t.RESIZE="resize",t.DIRTY_RECTANGLE="dirtyrectangle",t.RENDERER_CHANGED="rendererchanged",t})({}),uj=500,lnt=.1,cnt=1e3,J2=new Gn(Ne.MOUNTED),t_=new Gn(Ne.UNMOUNTED),zA=new Gn(Wo.BEFORE_RENDER),fj=new Gn(Wo.RERENDER),FA=new Gn(Wo.AFTER_RENDER),DB=(function(t){function e(n){var r;Lt(this,e),r=Re(this,e),r.Element=ir,r.inited=!1,r.context={};var i=n.container,a=n.canvas,o=n.renderer,s=n.width,l=n.height,c=n.background,u=n.cursor,d=n.supportsMutipleCanvasesInOneContainer,h=n.cleanUpOnDestroy,v=h===void 0?!0:h,g=n.offscreenCanvas,b=n.devicePixelRatio,x=n.requestAnimationFrame,_=n.cancelAnimationFrame,w=n.createImage,E=n.supportsTouchEvents,A=n.supportsPointerEvents,M=n.isTouchEvent,T=n.isMouseEvent,C=n.dblClickSpeed,R=s,j=l,I=b||o5&&window.devicePixelRatio||1;return I=I>=1?Math.ceil(I):1,a&&(R=s||Ntt(a)||a.width/I,j=l||Dtt(a)||a.height/I),r.customElements=new int,r.devicePixelRatio=I,r.requestAnimationFrame=x??s5.bind(Pt.globalThis),r.cancelAnimationFrame=_??MB.bind(Pt.globalThis),r.createImage=w??function(){return new window.Image},r.supportsTouchEvents=E??"ontouchstart"in Pt.globalThis,r.supportsPointerEvents=A??!!Pt.globalThis.PointerEvent,r.isTouchEvent=M??function(D){return r.supportsTouchEvents&&D instanceof Pt.globalThis.TouchEvent},r.isMouseEvent=T??function(D){return!Pt.globalThis.MouseEvent||D instanceof Pt.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(D instanceof Pt.globalThis.PointerEvent))},g&&(Pt.offscreenCanvas=g),r.document=new ant,r.document.defaultView=r,d||Rtt(i,r,v),r.initRenderingContext(Te(Te({},n),{},{width:R,height:j,background:c??"transparent",cursor:u??"default",cleanUpOnDestroy:v,devicePixelRatio:I,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,createImage:r.createImage,supportsTouchEvents:r.supportsTouchEvents,supportsPointerEvents:r.supportsPointerEvents,isTouchEvent:r.isTouchEvent,isMouseEvent:r.isMouseEvent,dblClickSpeed:C??200})),r.initDefaultCamera(R,j,o.clipSpaceNearZ),r.initRenderer(o,!0),r}return Ce(e,t),jt(e,[{key:"initRenderingContext",value:function(r){this.context.config=r,this.context.renderingContext={root:this.document.documentElement,unculledEntities:[],renderListCurrentFrame:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(r,i,a){var o=this,s=new Pt.CameraContribution;s.clipSpaceNearZ=a,s.setType(zn.EXPLORING,CT.DEFAULT).setPosition(r/2,i/2,uj).setFocalPoint(r/2,i/2,0).setOrthographic(r/-2,r/2,i/2,i/-2,lnt,cnt),s.canvas=this,s.eventEmitter.on(nB.UPDATED,function(){o.context.renderingContext.renderReasons.add(Gv.CAMERA_CHANGED),Pt.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var r=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){Pt.styleValueRegistry.updateSizeAttenuation(i,r)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var r=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){r.resolveReadyPromise=function(){i(r)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=arguments.length>1?arguments[1]:void 0;Qr.clearCache();var o=((r=this.getConfig().future)===null||r===void 0?void 0:r.experimentalCancelEventPropagation)===!0;a||this.dispatchEvent(new Gn(Wo.BEFORE_DESTROY),o,o),this.frameId&&this.cancelAnimationFrame(this.frameId);var s=this.getRoot();i&&(this.unmountChildren(s),this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),this.context.rBushRoot&&this.context.rBushRoot.clear(),a||this.dispatchEvent(new Gn(Wo.AFTER_DESTROY),o,o);var l=function(u){u.currentTarget=null,u.manager=null,u.target=null,u.relatedNode=null};l(J2),l(t_),l(zA),l(fj),l(FA),l(Al),l(FT),l(UT),l(RB),Pt.textService.clearCache()}},{key:"changeSize",value:function(r,i){this.resize(r,i)}},{key:"resize",value:function(r,i){var a,o=this.context.config;o.width=r,o.height=i,this.getContextService().resize(r,i);var s=this.context.camera,l=s.getProjectionMode();s.setPosition(r/2,i/2,uj).setFocalPoint(r/2,i/2,0),l===$o.ORTHOGRAPHIC?s.setOrthographic(r/-2,r/2,i/2,i/-2,s.getNear(),s.getFar()):s.setAspect(r/i);var c=((a=o.future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;this.dispatchEvent(new Gn(Wo.RESIZE,{width:r,height:i}),c,c)}},{key:"appendChild",value:function(r,i){return this.document.documentElement.appendChild(r,i)}},{key:"insertBefore",value:function(r,i){return this.document.documentElement.insertBefore(r,i)}},{key:"removeChild",value:function(r){return this.document.documentElement.removeChild(r)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(r){var i,a=this;r&&(zA.detail=r,FA.detail=r);var o=((i=this.getConfig().future)===null||i===void 0?void 0:i.experimentalCancelEventPropagation)===!0;this.dispatchEvent(zA,o,o);var s=this.getRenderingService();s.render(this.getConfig(),r,function(){a.dispatchEvent(fj,o,o)}),this.dispatchEvent(FA,o,o)}},{key:"run",value:function(){var r=this,i=function(o,s){r.render(s),r.frameId=r.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new EQ,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new LB,new NB,new jB([new snt])),this.loadRendererContainerModule(r),this.context.contextService=new this.context.ContextService(Te(Te({},Pt),this.context)),this.context.renderingService=new met(Pt,this.context),this.context.eventService=new yet(Pt,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(r,a,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(r,a)}).catch(function(o){console.error(o)})}},{key:"initRenderingService",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.context.renderingService.init(function(){var s;i.inited=!0;var l=((s=i.getConfig().future)===null||s===void 0?void 0:s.experimentalCancelEventPropagation)===!0;a?o?i.requestAnimationFrame(function(){i.dispatchEvent(new Gn(Wo.READY),l,l)}):i.dispatchEvent(new Gn(Wo.READY),l,l):i.dispatchEvent(new Gn(Wo.RENDERER_CHANGED),l,l),i.readyPromise&&i.resolveReadyPromise(),a||i.getRoot().forEach(function(c){var u,d;(u=(d=c).dirty)===null||u===void 0||u.call(d,!0,!0)}),i.mountChildren(i.getRoot()),r.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(r){var i=this,a=r.getPlugins();a.forEach(function(o){o.context=i.context,o.init(Pt)})}},{key:"setRenderer",value:function(r){var i=this.getConfig();if(i.renderer!==r){var a=i.renderer;i.renderer=r,this.destroy(!1,!0),He(a?.getPlugins()||[]).reverse().forEach(function(o){o.destroy(Pt)}),this.initRenderer(r)}}},{key:"setCursor",value:function(r){var i=this.getConfig();i.cursor=r,this.getContextService().applyCursorStyle(r)}},{key:"unmountChildren",value:function(r){var i=this;if(r.childNodes.forEach(function(s){i.unmountChildren(s)}),this.inited){if(r.isMutationObserved)r.dispatchEvent(t_);else{var a,o=((a=this.getConfig().future)===null||a===void 0?void 0:a.experimentalCancelEventPropagation)===!0;t_.target=r,this.dispatchEvent(t_,!0,o)}r!==this.document.documentElement&&(r.ownerDocument=null),r.isConnected=!1}r.isCustomElement&&r.disconnectedCallback&&r.disconnectedCallback()}},{key:"mountChildren",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lw(r);if(this.inited){if(!r.isConnected&&(r.ownerDocument=this.document,r.isConnected=!0,!a))if(r.isMutationObserved)r.dispatchEvent(J2);else{var o,s=((o=this.getConfig().future)===null||o===void 0?void 0:o.experimentalCancelEventPropagation)===!0;J2.target=r,this.dispatchEvent(J2,!0,s)}}else console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",r.nodeName);r.childNodes.forEach(function(l){i.mountChildren(l,a)}),r.isCustomElement&&r.connectedCallback&&r.connectedCallback()}},{key:"mountFragment",value:function(r){this.mountChildren(r,!1)}},{key:"client2Viewport",value:function(r){return this.getEventService().client2Viewport(r)}},{key:"viewport2Client",value:function(r){return this.getEventService().viewport2Client(r)}},{key:"viewport2Canvas",value:function(r){return this.getEventService().viewport2Canvas(r)}},{key:"canvas2Viewport",value:function(r){return this.getEventService().canvas2Viewport(r)}},{key:"getPointByClient",value:function(r,i){return this.client2Viewport({x:r,y:i})}},{key:"getClientByPoint",value:function(r,i){return this.viewport2Client({x:r,y:i})}}])})(CB);/*!
 * @antv/g-camera-api
 * @description A simple implementation of Camera API.
 * @version 2.0.41
 * @date 7/30/2025, 1:34:37 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var unt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.landmarks=[],n}return Ce(e,t),jt(e,[{key:"rotate",value:function(r,i,a){if(this.relElevation=Fv(i),this.relAzimuth=Fv(r),this.relRoll=Fv(a),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===zn.EXPLORING){var o=Ku(hi(),[1,0,0],Hn((this.rotateWorld?1:-1)*this.relElevation)),s=Ku(hi(),[0,1,0],Hn((this.rotateWorld?1:-1)*this.relAzimuth)),l=Ku(hi(),[0,0,1],Hn(this.relRoll)),c=af(hi(),s,o);c=af(hi(),c,l);var u=OC(An(),c);zv(this.matrix,this.matrix,[0,0,-this.distance]),oa(this.matrix,this.matrix,u),zv(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===zn.ORBITING||this.type===zn.EXPLORING?this._getPosition():this.type===zn.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(r,i){var a=Ea(r,i,0),o=Ac(this.position);return rf(o,o,gw(Ye(),this.right,a[0])),rf(o,o,gw(Ye(),this.up,a[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(r){var i=this.forward,a=Ac(this.position),o=r*this.dollyingStep,s=this.distance+r*this.dollyingStep;return o=Math.max(Math.min(s,this.maxDistance),this.minDistance)-this.distance,a[0]+=o*i[0],a[1]+=o*i[1],a[2]+=o*i[2],this._setPosition(a),this.type===zn.ORBITING||this.type===zn.EXPLORING?this._getDistance():this.type===zn.TRACKING&&rf(this.focalPoint,a,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){this.landmarkAnimationID!==void 0&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(r){var i,a,o,s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=l.position,u=c===void 0?this.position:c,d=l.focalPoint,h=d===void 0?this.focalPoint:d,v=l.roll,g=l.zoom,b=new Pt.CameraContribution;b.setType(this.type,void 0),b.setPosition(u[0],(i=u[1])!==null&&i!==void 0?i:this.position[1],(a=u[2])!==null&&a!==void 0?a:this.position[2]),b.setFocalPoint(h[0],(o=h[1])!==null&&o!==void 0?o:this.focalPoint[1],(s=h[2])!==null&&s!==void 0?s:this.focalPoint[2]),b.setRoll(v??this.roll),b.setZoom(g??this.zoom);var x={name:r,matrix:wC(b.getWorldTransform()),right:Ac(b.right),up:Ac(b.up),forward:Ac(b.forward),position:Ac(b.getPosition()),focalPoint:Ac(b.getFocalPoint()),distanceVector:Ac(b.getDistanceVector()),distance:b.getDistance(),dollyingStep:b.getDollyingStep(),azimuth:b.getAzimuth(),elevation:b.getElevation(),roll:b.getRoll(),relAzimuth:b.relAzimuth,relElevation:b.relElevation,relRoll:b.relRoll,zoom:b.getZoom()};return this.landmarks.push(x),x}},{key:"gotoLandmark",value:function(r){var i=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=tr(r)?this.landmarks.find(function(D){return D.name===r}):r;if(o){var s=Kn(a)?{duration:a}:a,l=s.easing,c=l===void 0?"linear":l,u=s.duration,d=u===void 0?100:u,h=s.easingFunction,v=h===void 0?void 0:h,g=s.onfinish,b=g===void 0?void 0:g,x=s.onframe,_=x===void 0?void 0:x,w=.01;this.cancelLandmarkAnimation();var E=o.position,A=o.focalPoint,M=o.zoom,T=o.roll,C=v||Pt.EasingFunction(c),R,j=function(){i.setFocalPoint(A),i.setPosition(E),i.setRoll(T),i.setZoom(M),i.computeMatrix(),i.triggerUpdate(),b?.()};if(d===0)return j();var I=function(B){R===void 0&&(R=B);var $=B-R;if($>=d){j();return}var U=C($/d),G=Ye(),F=Ye(),H=1,Y=0;dT(G,i.focalPoint,A,U),dT(F,i.position,E,U),Y=i.roll*(1-U)+T*U,H=i.zoom*(1-U)+M*U,i.setFocalPoint(G),i.setPosition(F),i.setRoll(Y),i.setZoom(H);var W=qR(G,A)+qR(F,E);if(W<=w&&M===void 0&&T===void 0)return j();i.computeMatrix(),i.triggerUpdate(),$<d&&(_?.(U),i.landmarkAnimationID=i.canvas.requestAnimationFrame(I))};this.canvas.requestAnimationFrame(I)}}}])})(rB);Pt.CameraContribution=unt;/*!
 * @antv/g-web-animations-api
 * @description A simple implementation of Web Animations API.
 * @version 2.1.28
 * @date 7/30/2025, 1:36:24 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var UA=(function(t){function e(n,r,i,a){var o;return Lt(this,e),o=Re(this,e,[n]),o.currentTime=i,o.timelineTime=a,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=i,o.timelineTime=a,o}return Ce(e,t),jt(e)})(aS),fnt=0,dnt=(function(){function t(e,n){var r;Lt(this,t),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=n,this.id="".concat(fnt++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number((r=this.effect)===null||r===void 0?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return jt(t,[{key:"pending",get:function(){return this._startTime===null&&!this._paused&&this.playbackRate!==0||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var n=this;return this.readyPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(r,i){n.resolveReadyPromise=function(){r(n)},n.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var n=this;return this.finishedPromise||(this.timeline.animationsWithPromises.indexOf(this)===-1&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(r,i){n.resolveFinishedPromise=function(){r(n)},n.rejectFinishedPromise=function(){i(new Error)}}),this.playState==="finished"&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(n){if(n=Number(n),!isNaN(n)){if(this.timeline.restart(),!this._paused&&this._startTime!==null){var r;this._startTime=Number((r=this.timeline)===null||r===void 0?void 0:r.currentTime)-n/this.playbackRate}this.currentTimePending=!1,this._currentTime!==n&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(n,!0),this.timeline.applyDirtiedAnimation(this))}}},{key:"startTime",get:function(){return this._startTime},set:function(n){if(n!==null){if(this.updatePromises(),n=Number(n),isNaN(n)||this._paused||this._idle)return;this._startTime=n,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(n){if(n!==this._playbackRate){this.updatePromises();var r=this.currentTime;this._playbackRate=n,this.startTime=null,this.playState!=="paused"&&this.playState!=="idle"&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),r!==null&&(this.currentTime=r),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||this.playState==="running"||!this._finishedFlag}},{key:"updatePromises",value:function(){var n;if((n=this.effect.target)!==null&&n!==void 0&&n.destroyed)return this.readyPromise=void 0,this.finishedPromise=void 0,!1;var r=this.oldPlayState,i=this.pending?"pending":this.playState;return this.readyPromise&&i!==r&&(i==="idle"?(this.rejectReadyPromise(),this.readyPromise=void 0):r==="pending"?this.resolveReadyPromise():i==="pending"&&(this.readyPromise=void 0)),this.finishedPromise&&i!==r&&(i==="idle"?(this.rejectFinishedPromise(),this.finishedPromise=void 0):i==="finished"?this.resolveFinishedPromise():r==="finished"&&(this.finishedPromise=void 0)),this.oldPlayState=i,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),this.timeline.animations.indexOf(this)===-1&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),!this._isFinished&&!this._paused&&!this._idle?this.currentTimePending=!0:this._idle&&(this.rewind(),this._idle=!1),this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var n=this;if(this.updatePromises(),!!this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var r=new UA(null,this,this.currentTime,null);setTimeout(function(){n.oncancel(r)})}}},{key:"reverse",value:function(){this.updatePromises();var n=this.currentTime;this.playbackRate*=-1,this.play(),n!==null&&(this.currentTime=n),this.updatePromises()}},{key:"updatePlaybackRate",value:function(n){this.playbackRate=n}},{key:"targetAnimations",value:function(){var n,r=(n=this.effect)===null||n===void 0?void 0:n.target;return r.getAnimations()}},{key:"markTarget",value:function(){var n=this.targetAnimations();n.indexOf(this)===-1&&n.push(this)}},{key:"unmarkTarget",value:function(){var n=this.targetAnimations(),r=n.indexOf(this);r!==-1&&n.splice(r,1)}},{key:"tick",value:function(n,r){!this._idle&&!this._paused&&(this._startTime===null?r&&(this.startTime=n-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((n-this._startTime)*this.playbackRate)),r&&(this.currentTimePending=!1,this.fireEvents(n))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw new Error("Unable to rewind negative playback rate animation with infinite duration")}},{key:"persist",value:function(){throw new Error(Fn)}},{key:"addEventListener",value:function(n,r,i){throw new Error(Fn)}},{key:"removeEventListener",value:function(n,r,i){throw new Error(Fn)}},{key:"dispatchEvent",value:function(n){throw new Error(Fn)}},{key:"commitStyles",value:function(){throw new Error(Fn)}},{key:"ensureAlive",value:function(){if(this.playbackRate<0&&this.currentTime===0){var n;this._inEffect=!!((n=this.effect)!==null&&n!==void 0&&n.update(-1))}else{var r;this._inEffect=!!((r=this.effect)!==null&&r!==void 0&&r.update(this.currentTime))}!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(n,r){n!==this._currentTime&&(this._currentTime=n,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(n){var r=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new UA(null,this,this.currentTime,n);setTimeout(function(){r.onfinish&&r.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&this.playState==="running"){var a=new UA(null,this,this.currentTime,n);this.onframe(a)}this._finishedFlag=!1}}}])})(),hnt=4,pnt=.001,vnt=1e-7,gnt=10,hm=11,e_=1/(hm-1),ynt=typeof Float32Array=="function",IB=function(e,n){return 1-3*n+3*e},BB=function(e,n){return 3*n-6*e},$B=function(e){return 3*e},Nw=function(e,n,r){return((IB(n,r)*e+BB(n,r))*e+$B(n))*e},zB=function(e,n,r){return 3*IB(n,r)*e*e+2*BB(n,r)*e+$B(n)},mnt=function(e,n,r,i,a){var o,s,l=0;do s=n+(r-n)/2,o=Nw(s,i,a)-e,o>0?r=s:n=s;while(Math.abs(o)>vnt&&++l<gnt);return s},bnt=function(e,n,r,i){for(var a=0;a<hnt;++a){var o=zB(n,r,i);if(o===0)return n;var s=Nw(n,r,i)-e;n-=s/o}return n},c5=function(e,n,r,i){if(!(e>=0&&e<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&r===i)return function(l){return l};for(var a=ynt?new Float32Array(hm):new Array(hm),o=0;o<hm;++o)a[o]=Nw(o*e_,e,r);var s=function(c){for(var u=0,d=1,h=hm-1;d!==h&&a[d]<=c;++d)u+=e_;--d;var v=(c-a[d])/(a[d+1]-a[d]),g=u+v*e_,b=zB(g,e,r);return b>=pnt?bnt(c,g,e,r):b===0?g:mnt(c,u,u+e_,e,r)};return function(l){return l===0||l===1?l:Nw(s(l),n,i)}},xnt=function(e){return e=e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())}),e.charAt(0)==="-"?e.substring(1):e},n_=function(e){return Math.pow(e,2)},r_=function(e){return Math.pow(e,3)},i_=function(e){return Math.pow(e,4)},a_=function(e){return Math.pow(e,5)},o_=function(e){return Math.pow(e,6)},s_=function(e){return 1-Math.cos(e*Math.PI/2)},l_=function(e){return 1-Math.sqrt(1-e*e)},c_=function(e){return e*e*(3*e-2)},u_=function(e){for(var n,r=4;e<((n=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((n*3-2)/22-e,2)},f_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=we(n,2),i=r[0],a=i===void 0?1:i,o=r[1],s=o===void 0?.5:o,l=jr(Number(a),1,10),c=jr(Number(s),.1,2);return e===0||e===1?e:-l*Math.pow(2,10*(e-1))*Math.sin((e-1-c/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/c)},Zy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=we(n,4),a=i[0],o=a===void 0?1:a,s=i[1],l=s===void 0?100:s,c=i[2],u=c===void 0?10:c,d=i[3],h=d===void 0?0:d;o=jr(o,.1,1e3),l=jr(l,.1,1e3),u=jr(u,.1,1e3),h=jr(h,.1,1e3);var v=Math.sqrt(l/o),g=u/(2*Math.sqrt(l*o)),b=g<1?v*Math.sqrt(1-g*g):0,x=1,_=g<1?(g*v+-h)/b:-h+v,w=r?r*e/1e3:e;return g<1?w=Math.exp(-w*g*v)*(x*Math.cos(b*w)+_*Math.sin(b*w)):w=(x+_*w)*Math.exp(-w*v),e===0||e===1?e:1-w},HA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=n,i=we(r,2),a=i[0],o=a===void 0?10:a,s=i[1],l=s==="start"?Math.ceil:Math.floor;return l(jr(e,0,1)*o)/o},dj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=we(n,4),i=r[0],a=r[1],o=r[2],s=r[3];return c5(i,a,o,s)(e)},d_=c5(.42,0,1,1),No=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return 1-e(1-n,r,i)}},Do=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?e(n*2,r,i)/2:1-e(n*-2+2,r,i)/2}},Io=function(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return n<.5?(1-e(1-n*2,r,i))/2:(e(n*2-1,r,i)+1)/2}},hj={steps:HA,"step-start":function(e){return HA(e,[1,"start"])},"step-end":function(e){return HA(e,[1,"end"])},linear:function(e){return e},"cubic-bezier":dj,ease:function(e){return dj(e,[.25,.1,.25,1])},in:d_,out:No(d_),"in-out":Do(d_),"out-in":Io(d_),"in-quad":n_,"out-quad":No(n_),"in-out-quad":Do(n_),"out-in-quad":Io(n_),"in-cubic":r_,"out-cubic":No(r_),"in-out-cubic":Do(r_),"out-in-cubic":Io(r_),"in-quart":i_,"out-quart":No(i_),"in-out-quart":Do(i_),"out-in-quart":Io(i_),"in-quint":a_,"out-quint":No(a_),"in-out-quint":Do(a_),"out-in-quint":Io(a_),"in-expo":o_,"out-expo":No(o_),"in-out-expo":Do(o_),"out-in-expo":Io(o_),"in-sine":s_,"out-sine":No(s_),"in-out-sine":Do(s_),"out-in-sine":Io(s_),"in-circ":l_,"out-circ":No(l_),"in-out-circ":Do(l_),"out-in-circ":Io(l_),"in-back":c_,"out-back":No(c_),"in-out-back":Do(c_),"out-in-back":Io(c_),"in-bounce":u_,"out-bounce":No(u_),"in-out-bounce":Do(u_),"out-in-bounce":Io(u_),"in-elastic":f_,"out-elastic":No(f_),"in-out-elastic":Do(f_),"out-in-elastic":Io(f_),spring:Zy,"spring-in":Zy,"spring-out":No(Zy),"spring-in-out":Do(Zy),"spring-out-in":Io(Zy)},_nt=function(e){return xnt(e).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},wnt=function(e){return hj[_nt(e)]||hj.linear},Ont=function(e){return e},Snt=1,Ent=.5,pj=0;function vj(t,e){return function(n){if(n>=1)return 1;var r=1/t;return n+=e*r,n-n%r}}var h_="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",Ant=new RegExp("cubic-bezier\\(".concat(h_,",").concat(h_,",").concat(h_,",").concat(h_,"\\)")),Mnt=/steps\(\s*(\d+)\s*\)/,Tnt=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function u5(t){var e=Ant.exec(t);if(e)return c5.apply(void 0,He(e.slice(1).map(Number)));var n=Mnt.exec(t);if(n)return vj(Number(n[1]),pj);var r=Tnt.exec(t);return r?vj(Number(r[1]),{start:Snt,middle:Ent,end:pj}[r[2]]):wnt(t)}function knt(t){return Math.abs(Cnt(t)/(t.playbackRate||1))}function Cnt(t){var e;return t.duration===0||t.iterations===0?0:(t.duration==="auto"?0:Number(t.duration))*((e=t.iterations)!==null&&e!==void 0?e:1)}var FB=0,f5=1,cS=2,UB=3;function Rnt(t,e,n){if(e===null)return FB;var r=n.endTime;return e<Math.min(n.delay,r)?f5:e>=Math.min(n.delay+t+n.endDelay,r)?cS:UB}function Pnt(t,e,n,r,i){switch(r){case f5:return e==="backwards"||e==="both"?0:null;case UB:return n-i;case cS:return e==="forwards"||e==="both"?t:null;case FB:return null}}function jnt(t,e,n,r,i){var a=i;return t===0?e!==f5&&(a+=n):a+=r/t,a}function Lnt(t,e,n,r,i,a){var o=t===1/0?e%1:t%1;return o===0&&n===cS&&r!==0&&(i!==0||a===0)&&(o=1),o}function Nnt(t,e,n,r){return t===cS&&e===1/0?1/0:n===1?Math.floor(r)-1:Math.floor(r)}function Dnt(t,e,n){var r=t;if(t!=="normal"&&t!=="reverse"){var i=e;t==="alternate-reverse"&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return r==="normal"?n:1-n}function Int(t,e,n){var r=Rnt(t,e,n),i=Pnt(t,n.fill,e,r,n.delay);if(i===null)return null;var a=n.duration==="auto"?0:n.duration,o=jnt(a,r,n.iterations,i,n.iterationStart),s=Lnt(o,n.iterationStart,r,n.iterations,i,a),l=Nnt(r,n.iterations,s,o),c=Dnt(n.direction,l,s);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function Bnt(t,e,n){var r=$nt(t,e),i=znt(r,n);return function(a,o){if(o!==null)i.filter(function(l){return o>=l.applyFrom&&o<l.applyTo}).forEach(function(l){var c=o-l.startOffset,u=l.endOffset-l.startOffset,d=u===0?0:c/u;a.setAttribute(l.property,l.interpolation(d),!1,!1)});else for(var s in r)HB(s)&&a.setAttribute(s,null)}}function HB(t){return t!=="offset"&&t!=="easing"&&t!=="composite"&&t!=="computedOffset"}function $nt(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(HB(i)){var a={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:u5(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(a)}return n}function znt(t,e){var n=[];for(var r in t)for(var i=t[r],a=0;a<i.length-1;a++){var o=a,s=a+1,l=i[o].computedOffset,c=i[s].computedOffset,u=l,d=c;a===0&&(u=-1/0,c===0&&(s=o)),a===i.length-2&&(d=1/0,l===1&&(o=s)),n.push({applyFrom:u,applyTo:d,startOffset:i[o].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[o].easingFunction,property:r,interpolation:Fnt(r,i[o].value,i[s].value,e)})}return n.sort(function(h,v){return h.startOffset-v.startOffset}),n}var gj=function(e,n,r){return function(i){var a=GB(e,n,i);return Kn(a)?a:r(a)}};function Fnt(t,e,n,r){var i=xB[t];if(i&&i.syntax&&i.int){var a=Pt.styleValueRegistry.getPropertySyntax(i.syntax);if(a){var o=a.parser,s=o?o(e,r):e,l=o?o(n,r):n,c=a.mixer(s,l,r);if(c){var u=gj.apply(void 0,He(c));return function(d){return d===0?e:d===1?n:u(d)}}}}return gj(!1,!0,function(d){return d?n:e})}function GB(t,e,n){if(typeof t=="number"&&typeof e=="number")return t*(1-n)+e*n;if(typeof t=="boolean"&&typeof e=="boolean"||typeof t=="string"&&typeof e=="string")return n<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var r=t.length,i=e.length,a=Math.max(r,i),o=[],s=0;s<a;s++)o.push(GB(t[s<r?s:r-1],e[s<i?s:i-1],n));return o}throw new Error("Mismatched interpolation arguments ".concat(t,":").concat(e))}var Unt=(function(){function t(){Lt(this,t),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=Ont,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return jt(t,[{key:"easing",get:function(){return this._easing},set:function(n){this.easingFunction=u5(n),this._easing=n}}])})();function Hnt(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,a=0;a<i;a++){if(!e[a]){var o={};"offset"in t&&(o.offset=Number(t.offset)),"easing"in t&&(o.easing=t.easing),"composite"in t&&(o.composite=t.composite),e[a]=o}r[a]!==void 0&&r[a]!==null&&(e[a][n]=r[a])}}return e.sort(function(s,l){return(s.computedOffset||0)-(l.computedOffset||0)}),e}function yj(t,e){if(t===null)return[];Array.isArray(t)||(t=Hnt(t));for(var n=t.map(function(l){var c={};e!=null&&e.composite&&(c.composite="auto");for(var u in l){var d=l[u];if(u==="offset"){if(d!==null){if(d=Number(d),!isFinite(d))throw new Error("Keyframe offsets must be numbers.");if(d<0||d>1)throw new Error("Keyframe offsets must be between 0 and 1.");c.computedOffset=d}}else if(u==="composite"&&["replace","add","accumulate","auto"].indexOf(d)===-1)throw new Error("".concat(d," compositing is not supported"));c[u]=d}return c.offset===void 0&&(c.offset=null),c.easing===void 0&&(c.easing=e?.easing||"linear"),c.composite===void 0&&(c.composite="auto"),c}),r=!0,i=-1/0,a=0;a<n.length;a++){var o=n[a].offset;if(ue(o))r=!1;else{if(o<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=o}}n=n.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1});function s(){var l,c=n,u=c.length;if(n[u-1].computedOffset=Number((l=n[u-1].offset)!==null&&l!==void 0?l:1),u>1){var d;n[0].computedOffset=Number((d=n[0].offset)!==null&&d!==void 0?d:0)}for(var h=0,v=Number(n[0].computedOffset),g=1;g<u;g++){var b=n[g].computedOffset;if(!ue(b)&&!ue(v)){for(var x=1;x<g-h;x++)n[h+x].computedOffset=v+(Number(b)-v)*x/(g-h);h=g,v=Number(b)}}}return r||s(),n}var Gnt="backwards|forwards|both|none".split("|"),Ynt="reverse|alternate|alternate-reverse".split("|");function qnt(t,e){var n=new Unt;return typeof t=="number"&&!isNaN(t)?n.duration=t:t!==void 0&&Object.keys(t).forEach(function(r){if(t[r]!==void 0&&t[r]!==null&&t[r]!=="auto"){if((typeof n[r]=="number"||r==="duration")&&(typeof t[r]!="number"||isNaN(t[r]))||r==="fill"&&Gnt.indexOf(t[r])===-1||r==="direction"&&Ynt.indexOf(t[r])===-1)return;n[r]=t[r]}}),n}function Wnt(t,e){return t=Xnt(t??{duration:"auto"}),qnt(t)}function Xnt(t){return typeof t=="number"&&(isNaN(t)?t={duration:"auto"}:t={duration:t}),t}var Vnt=(function(){function t(e,n,r){var i=this;Lt(this,t),this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=Wnt(r),this.timing.effect=this,this.timing.activeDuration=knt(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=yj(n,this.timing),this.interpolations=Bnt(this.normalizedKeyframes,this.timing,this.target);var a=Pt.globalThis.Proxy;this.computedTiming=a?new a(this.timing,{get:function(s,l){return l==="duration"?s.duration==="auto"?0:s.duration:l==="fill"?s.fill==="auto"?"none":s.fill:l==="localTime"?i.animation&&i.animation.currentTime||null:l==="currentIteration"?!i.animation||i.animation.playState!=="running"?null:s.currentIteration||0:l==="progress"?!i.animation||i.animation.playState!=="running"?null:s.progress||0:s[l]},set:function(){return!0}}):this.timing}return jt(t,[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(n){return n===null?!1:(this.timeFraction=Int(this.timing.activeDuration,n,this.timing),this.timeFraction!==null)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(n){this.normalizedKeyframes=yj(n)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(n){var r=this;Object.keys(n||{}).forEach(function(i){r.timing[i]=n[i]})}}])})();function mj(t,e){return Number(t.id)-Number(e.id)}var Knt=(function(){function t(e){var n=this;Lt(this,t),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(r){n.currentTime=r,n.discardAnimations(),n.animations.length===0?n.timelineTicking=!1:n.requestAnimationFrame(n.webAnimationsNextTick)},this.processRafCallbacks=function(r){var i=n.rafCallbacks;n.rafCallbacks=[],r<Number(n.currentTime)&&(r=Number(n.currentTime)),n.animations.sort(mj),n.animations=n.tick(r,!0,n.animations)[0],i.forEach(function(a){a[1](r)}),n.applyPendingEffects()},this.document=e}return jt(t,[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(n,r,i){var a=new Vnt(n,r,i),o=new dnt(a,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(n){var r=this;if(!this.inTick){n.markTarget();var i=n.targetAnimations();i.sort(mj);var a=this.tick(Number(this.currentTime),!1,i.slice())[1];a.forEach(function(o){var s=r.animations.indexOf(o);s!==-1&&r.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(n){n?.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(n){return n.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(n){return n.playState!=="finished"&&n.playState!=="idle"})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(n){var r=this.rafId++;return this.rafCallbacks.length===0&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([r,n]),r}},{key:"requestAnimationFrame",value:function(n){var r=this;return this.rAF(function(i){r.updateAnimationsPromises(),n(i),r.updateAnimationsPromises()})}},{key:"tick",value:function(n,r,i){var a=this,o,s;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=n,this.ticking=!1;var l=[],c=[],u=[],d=[];return i.forEach(function(h){h.tick(n,r),h._inEffect?(c.push(h.effect),h.markTarget()):(l.push(h.effect),h.unmarkTarget()),h._needsTick&&(a.ticking=!0);var v=h._inEffect||h._needsTick;h._inTimeline=v,v?u.push(h):d.push(h)}),(o=this.pendingEffects).push.apply(o,l),(s=this.pendingEffects).push.apply(s,c),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[u,d]}}])})();Pt.EasingFunction=u5;Pt.AnimationTimeline=Knt;function se(t){return new Dw([t],null,t,t.ownerDocument)}let Dw=class ji{constructor(e=null,n=null,r=null,i=null,a=[null,null,null,null,null],o=[],s=[]){this._elements=Array.from(e),this._data=n,this._parent=r,this._document=i,this._enter=a[0],this._update=a[1],this._exit=a[2],this._merge=a[3],this._split=a[4],this._transitions=o,this._facetElements=s}selectAll(e){const n=typeof e=="string"?this._parent.querySelectorAll(e):e;return new ji(n,null,this._elements[0],this._document)}selectFacetAll(e){const n=typeof e=="string"?this._parent.querySelectorAll(e):e;return new ji(this._elements,null,this._parent,this._document,void 0,void 0,n)}select(e){const n=typeof e=="string"?this._parent.querySelectorAll(e)[0]||null:e;return new ji([n],null,n,this._document)}append(e){const n=typeof e=="function"?e:()=>this.createElement(e),r=[];if(this._data!==null){for(let i=0;i<this._data.length;i++){const a=this._data[i],[o,s]=Array.isArray(a)?a:[a,null],l=n(o,i);l.__data__=o,s!==null&&(l.__fromElements__=s),this._parent.appendChild(l),r.push(l)}return new ji(r,null,this._parent,this._document)}else{for(let i=0;i<this._elements.length;i++){const a=this._elements[i],o=a.__data__,s=n(o,i);a.appendChild(s),r.push(s)}return new ji(r,null,r[0],this._document)}}maybeAppend(e,n,r){const i=this._elements[0],a=i.getElementById(e);if(a)return new ji([a],null,this._parent,this._document);const o=typeof n=="string"?this.createElement(n):n();return o.id=e,r&&(o.className=r),i.appendChild(o),new ji([o],null,this._parent,this._document)}data(e,n=i=>i,r=()=>null){const i=[],a=[],o=new Set(this._elements),s=[],l=new Set,c=new Map(this._elements.map((v,g)=>[n(v.__data__,g),v])),u=new Map(this._facetElements.map((v,g)=>[n(v.__data__,g),v])),d=Vn(this._elements,v=>r(v.__data__));for(let v=0;v<e.length;v++){const g=e[v],b=n(g,v),x=r(g,v);if(c.has(b)){const _=c.get(b);_.__data__=g,_.__facet__=!1,a.push(_),o.delete(_),c.delete(b)}else if(u.has(b)){const _=u.get(b);_.__data__=g,_.__facet__=!0,a.push(_),u.delete(b)}else if(d.has(b)){const _=d.get(b);s.push([g,_]);for(const w of _)o.delete(w);d.delete(b)}else if(c.has(x)){const _=c.get(x);_.__toData__?_.__toData__.push(g):_.__toData__=[g],l.add(_),o.delete(_)}else i.push(g)}const h=[new ji([],i,this._parent,this._document),new ji(a,null,this._parent,this._document),new ji(o,null,this._parent,this._document),new ji([],s,this._parent,this._document),new ji(l,null,this._parent,this._document)];return new ji(this._elements,null,this._parent,this._document,h)}merge(e){const n=[...this._elements,...e._elements],r=[...this._transitions,...e._transitions];return new ji(n,null,this._parent,this._document,void 0,r)}createElement(e){if(this._document)return this._document.createElement(e,{});const n=ji.registry[e];return n?new n:ig(`Unknown node type: ${e}`)}join(e=o=>o,n=o=>o,r=o=>o.remove(),i=o=>o,a=o=>o.remove()){const o=e(this._enter),s=n(this._update),l=r(this._exit),c=i(this._merge),u=a(this._split);return s.merge(o).merge(l).merge(c).merge(u)}remove(){for(let e=0;e<this._elements.length;e++){const n=this._transitions[e];if(this._elements[e].__removed__=!0,n){const r=Array.isArray(n)?n:[n];Promise.all(r.map(i=>i.finished)).then(()=>{const i=this._elements[e];i.__removed__&&i.remove()})}else{const r=this._elements[e];r.__removed__&&r.remove()}}return new ji([],null,this._parent,this._document,void 0,this._transitions)}each(e){for(let n=0;n<this._elements.length;n++){const r=this._elements[n],i=r.__data__;e(i,n,r)}return this}attr(e,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o[e]=r(i,a,o))})}style(e,n){const r=typeof n!="function"?()=>n:n;return this.each(function(i,a,o){n!==void 0&&(o.style[e]=r(i,a,o))})}transition(e){const n=typeof e!="function"?()=>e:e,{_transitions:r}=this;return this.each(function(i,a,o){r[a]=n(i,a,o)})}on(e,n){return this.each(function(r,i,a){a.addEventListener(e,n)}),this}call(e,...n){return e(this,...n),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}};Dw.registry={g:mi,rect:xf,circle:Yl,path:Bi,text:es,ellipse:oS,image:sS,line:Nh,polygon:Dh,polyline:lS,html:Tg};function p_(t,e,n){return Math.max(e,Math.min(t,n))}function Iw(t,e=10){return typeof t!="number"||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(e))}function Qt(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function Znt(t,e){return e.forEach((n,r)=>r===0?t.moveTo(n[0],n[1]):t.lineTo(n[0],n[1])),t.closePath(),t}function Qnt(t,e,n){const{arrowSize:r}=n,i=typeof r=="string"?+parseFloat(r)/100*Sr(t,e):r,a=Math.PI/6,o=Math.atan2(e[1]-t[1],e[0]-t[0]),s=Math.PI/2-o-a,l=[e[0]-i*Math.sin(s),e[1]-i*Math.cos(s)],c=o-a,u=[e[0]-i*Math.cos(c),e[1]-i*Math.sin(c)];return[l,u]}function c1(t,e,n,r,i){const a=ts(Pr(r,e))+Math.PI,o=ts(Pr(r,n))+Math.PI;return t.arc(r[0],r[1],i,a,o,o-a<0),t}function YB(t,e,n,r="y",i="between",a=!1){const o=(x,_)=>x==="y"||x===!0?_?180:90:_?90:0,s=r==="y"||r===!0?n:e,l=o(r,a),c=Rh(s),[u,d]=jc(c,x=>s[x]),h=new Ic({domain:[u,d],range:[0,100]}),v=x=>Kn(s[x])&&!Number.isNaN(s[x])?h.map(s[x]):0,g={between:x=>`${t[x]} ${v(x)}%`,start:x=>x===0?`${t[x]} ${v(x)}%`:`${t[x-1]} ${v(x)}%, ${t[x]} ${v(x)}%`,end:x=>x===t.length-1?`${t[x]} ${v(x)}%`:`${t[x]} ${v(x)}%, ${t[x+1]} ${v(x)}%`},b=c.sort((x,_)=>v(x)-v(_)).map(g[i]||g.between).join(",");return`linear-gradient(${l}deg, ${b})`}function uS(t){const[e,n,r,i]=t;return[i,e,n,r]}function Ih(t,e,n){const[r,i,,a]=nr(t)?uS(e):e,[o,s]=n,l=t.getCenter(),c=og(Pr(r,l)),u=og(Pr(i,l)),d=u===c&&o!==s?u+Math.PI*2:u,h=1e-4;return{startAngle:c+h,endAngle:(d-c>=0?d:Math.PI*2+d)-h,innerRadius:Sr(a,l),outerRadius:Sr(r,l)}}function d5(t){const{colorAttribute:e,opacityAttribute:n=e}=t;return`${n}Opacity`}function qB(t,e){if(!Nn(t))return"";const n=t.getCenter(),{transform:r}=e;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function h5(t){if(t.length===1)return t[0];const[[e,n,r=0],[i,a,o=0]]=t;return[(e+i)/2,(n+a)/2,(r+o)/2]}var X_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function WB(t,e,n,r,i={}){const{inset:a=0,radius:o=0,insetLeft:s=a,insetTop:l=a,insetRight:c=a,insetBottom:u=a,radiusBottomLeft:d=o,radiusBottomRight:h=o,radiusTopLeft:v=o,radiusTopRight:g=o,minWidth:b=-1/0,maxWidth:x=1/0,minHeight:_=-1/0}=i,w=X_(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!Nn(r)&&!XI(r)){const R=!!nr(r),[j,,I]=R?uS(e):e,[D,B]=j,[$,U]=Pr(I,j),G=$>0?D:D+$,F=U>0?B:B+U,H=Math.abs($),Y=Math.abs(U),W=G+s,V=F+l,J=H-(s+c),tt=Y-(l+u),nt=R?p_(J,_,1/0):p_(J,b,x),lt=R?p_(tt,b,x):p_(tt,_,1/0),at=R?W:W-(nt-J)/2,ft=R?V-(lt-tt)/2:V-(lt-tt);return se(t.createElement("rect",{})).style("x",at).style("y",ft).style("width",nt).style("height",lt).style("radius",[v,g,h,d]).call(Qt,w).node()}const{y:E,y1:A}=n,M=r.getCenter(),T=Ih(r,e,[E,A]),C=VC().cornerRadius(o).padAngle(a*Math.PI/180);return se(t.createElement("path",{})).style("d",C(T)).style("transform",`translate(${M[0]}, ${M[1]})`).style("radius",o).style("inset",a).call(Qt,w).node()}const q1=(t,e)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:i=!0,last:a=!0}=t,o=X_(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=e;return(c,u,d)=>{const{color:h,radius:v=0}=d,g=X_(d,["color","radius"]),b=g.lineWidth||1,{stroke:x,radius:_=v,radiusTopLeft:w=_,radiusTopRight:E=_,radiusBottomRight:A=_,radiusBottomLeft:M=_,innerRadius:T=0,innerRadiusTopLeft:C=T,innerRadiusTopRight:R=T,innerRadiusBottomRight:j=T,innerRadiusBottomLeft:I=T,lineWidth:D=n==="stroke"||x?b:0,inset:B=0,insetLeft:$=B,insetRight:U=B,insetBottom:G=B,insetTop:F=B,minWidth:H,maxWidth:Y,minHeight:W}=o,V=X_(o,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:J=h,opacity:tt}=u,nt=[i?w:C,i?E:R,a?A:j,a?M:I],lt=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];nr(s)&&lt.push(lt.shift());const at=Object.assign(Object.assign({radius:_},Object.fromEntries(lt.map((ft,mt)=>[ft,nt[mt]]))),{inset:B,insetLeft:$,insetRight:U,insetBottom:G,insetTop:F,minWidth:H,maxWidth:Y,minHeight:W});return se(WB(l,c,u,s,at)).call(Qt,g).style("fill","transparent").style(n,J).style(d5(t),tt).style("lineWidth",D).style("stroke",x===void 0?J:x).call(Qt,V).node()}};q1.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Bh=(t,e)=>q1(Object.assign({colorAttribute:"fill"},t),e);Bh.props=Object.assign(Object.assign({},q1.props),{defaultMarker:"square"});const fS=(t,e)=>q1(Object.assign({colorAttribute:"stroke"},t),e);fS.props=Object.assign(Object.assign({},q1.props),{defaultMarker:"hollowSquare"});var bj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Jnt(t,e,n){const[r,i,a,o]=t;if(nr(n)){const c=[e?e[0][0]:i[0],i[1]],u=[e?e[3][0]:a[0],a[1]];return[r,c,u,o]}const s=[i[0],e?e[0][1]:i[1]],l=[a[0],e?e[3][1]:a[1]];return[r,s,l,o]}const p5=(t,e)=>{const{adjustPoints:n=Jnt}=t,r=bj(t,["adjustPoints"]),{coordinate:i,document:a}=e;return(o,s,l,c)=>{const{index:u}=s,{color:d}=l,h=bj(l,["color"]),v=c[u+1],g=n(o,v,i),b=!!nr(i),[x,_,w,E]=b?uS(g):g,{color:A=d,opacity:M}=s,T=jh().curve(JC)([x,_,w,E]);return se(a.createElement("path",{})).call(Qt,h).style("d",T).style("fill",A).style("fillOpacity",M).call(Qt,r).node()}};p5.props={defaultMarker:"square"};function trt(t,e,n){const[r,i,a,o]=t;if(nr(n)){const c=[e?e[0][0]:(i[0]+a[0])/2,i[1]],u=[e?e[3][0]:(i[0]+a[0])/2,a[1]];return[r,c,u,o]}const s=[i[0],e?e[0][1]:(i[1]+a[1])/2],l=[a[0],e?e[3][1]:(i[1]+a[1])/2];return[r,s,l,o]}const XB=(t,e)=>p5(Object.assign({adjustPoints:trt},t),e);XB.props={defaultMarker:"square"};function ug(t){const e=typeof t=="function"?t:t.render;return class extends Y1{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){e(this)}}}var xj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ert=ug(t=>{const{d1:e,d2:n,style1:r,style2:i}=t.attributes,a=t.ownerDocument;se(t).maybeAppend("line",()=>a.createElement("path",{})).style("d",e).call(Qt,r),se(t).maybeAppend("line1",()=>a.createElement("path",{})).style("d",n).call(Qt,i)});function nrt(t,e){const n=[],r=[];let i=!1,a=null;for(const o of t)!e(o[0])||!e(o[1])?i=!0:(n.push(o),i&&(i=!1,r.push([a,o])),a=o);return[n,r]}const as=(t,e)=>{const{curve:n,gradient:r=!1,gradientColor:i="between",defined:a=u=>!Number.isNaN(u)&&u!==void 0&&u!==null,connect:o=!1}=t,s=xj(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:c}=e;return(u,d,h)=>{const{color:v,lineWidth:g}=h,b=xj(h,["color","lineWidth"]),{color:x=v,size:_=g,seriesColor:w,seriesX:E,seriesY:A}=d,M=qB(l,d),T=nr(l),C=r&&w?YB(w,E,A,r,i,T):x,R=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},b),C&&{stroke:C}),_&&{lineWidth:_}),M&&{transform:M}),s);let j;if(Nn(l)){const G=l.getCenter();j=F=>eQ().angle((H,Y)=>og(Pr(F[Y],G))).radius((H,Y)=>Sr(F[Y],G)).defined(([H,Y])=>a(H)&&a(Y)).curve(n)(F)}else j=jh().x(G=>G[0]).y(G=>G[1]).defined(([G,F])=>a(G)&&a(F)).curve(n);const[I,D]=nrt(u,a),B=$t(R,"connect"),$=!!D.length;if(!$||o&&!Object.keys(B).length)return se(c.createElement("path",{})).style("d",j(I)||[]).call(Qt,R).node();if($&&!o)return se(c.createElement("path",{})).style("d",j(u)).call(Qt,R).node();const U=G=>G.map(j).join(",");return se(new ert).style("style1",Object.assign(Object.assign({},R),B)).style("style2",R).style("d1",U(D)).style("d2",j(u)).node()}};as.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const VB=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=Nn(n)?JC:U1;return as(Object.assign({curve:i},t),e)(...r)}};VB.props=Object.assign(Object.assign({},as.props),{defaultMarker:"line"});var rrt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const KB=(t,e)=>{const n=rrt(t,[]),{coordinate:r}=e;return(...i)=>{const a=Nn(r)?$I:nr(r)?GI:HI;return as(Object.assign({curve:a},n),e)(...i)}};KB.props=Object.assign(Object.assign({},as.props),{defaultMarker:"smooth"});const ZB=(t,e)=>as(Object.assign({curve:WI},t),e);ZB.props=Object.assign(Object.assign({},as.props),{defaultMarker:"hv"});const QB=(t,e)=>as(Object.assign({curve:qI},t),e);QB.props=Object.assign(Object.assign({},as.props),{defaultMarker:"vh"});const JB=(t,e)=>as(Object.assign({curve:YI},t),e);JB.props=Object.assign(Object.assign({},as.props),{defaultMarker:"hvh"});var irt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function art(t,e,n,r,i){const a=Pr(n,e),o=ts(a),s=o+Math.PI/2,l=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[i/2*Math.cos(s),i/2*Math.sin(s)],u=[i/2*Math.cos(o),i/2*Math.sin(o)],d=[r/2*Math.cos(o),r/2*Math.sin(o)],h=U2(e,l),v=U2(n,c),g=U2(v,u),b=U2(n,u),x=Pr(b,c),_=Pr(n,c),w=Pr(e,l),E=Pr(w,d),A=Pr(e,d),M=Pr(h,d);t.moveTo(...h),t.lineTo(...v),t.arcTo(...g,...b,i/2),t.arcTo(...x,..._,i/2),t.lineTo(...w),t.arcTo(...E,...A,r/2),t.arcTo(...M,...h,r/2),t.closePath()}const t$=(t,e)=>{const{document:n}=e;return(r,i,a)=>{const{seriesSize:o,color:s}=i,{color:l}=a,c=irt(a,["color"]),u=rs();for(let d=0;d<r.length-1;d++){const h=r[d],v=r[d+1],g=o[d],b=o[d+1];[...h,...v].every(qn)&&art(u,h,v,g,b)}return se(n.createElement("path",{})).call(Qt,c).style("fill",s||l).style("d",u.toString()).call(Qt,t).node()}};t$.props=Object.assign(Object.assign({},as.props),{defaultMarker:"line"});var ort=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const v5=(t,e,n)=>[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]];v5.style=["fill"];const e$=v5.bind(void 0);e$.style=["stroke","lineWidth"];const dS=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]];dS.style=["fill"];const n$=dS.bind(void 0);n$.style=["fill"];const r$=dS.bind(void 0);r$.style=["stroke","lineWidth"];const g5=(t,e,n)=>{const r=n*.618;return[["M",t-r,e],["L",t,e-n],["L",t+r,e],["L",t,e+n],["Z"]]};g5.style=["fill"];const i$=g5.bind(void 0);i$.style=["stroke","lineWidth"];const y5=(t,e,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]};y5.style=["fill"];const a$=y5.bind(void 0);a$.style=["stroke","lineWidth"];const m5=(t,e,n)=>{const r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]};m5.style=["fill"];const o$=m5.bind(void 0);o$.style=["stroke","lineWidth"];const b5=(t,e,n)=>{const r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]};b5.style=["fill"];const s$=b5.bind(void 0);s$.style=["stroke","lineWidth"];const x5=(t,e,n)=>{const r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]};x5.style=["fill"];const l$=x5.bind(void 0);l$.style=["stroke","lineWidth"];const c$=(t,e,n)=>[["M",t,e+n],["L",t,e-n]];c$.style=["stroke","lineWidth"];const u$=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]];u$.style=["stroke","lineWidth"];const f$=(t,e,n)=>[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]];f$.style=["stroke","lineWidth"];const d$=(t,e,n)=>[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]];d$.style=["stroke","lineWidth"];const h$=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];h$.style=["stroke","lineWidth"];const _5=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];_5.style=["stroke","lineWidth"];const p$=_5.bind(void 0);p$.style=["stroke","lineWidth"];const v$=(t,e,n)=>[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]];v$.style=["stroke","lineWidth"];const g$=(t,e,n)=>[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]];g$.style=["stroke","lineWidth"];const y$=(t,e,n)=>[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]];y$.style=["stroke","lineWidth"];const m$=(t,e,n)=>[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]];m$.style=["stroke","lineWidth"];const b$=(t,e,n)=>[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]];b$.style=["stroke","lineWidth"];const u1=new Map([["bowtie",x5],["cross",u$],["dash",p$],["diamond",g5],["dot",_5],["hexagon",b5],["hollowBowtie",l$],["hollowDiamond",i$],["hollowHexagon",s$],["hollowPoint",e$],["hollowSquare",r$],["hollowTriangle",a$],["hollowTriangleDown",o$],["hv",g$],["hvh",m$],["hyphen",h$],["line",c$],["plus",d$],["point",v5],["rect",n$],["smooth",v$],["square",dS],["tick",f$],["triangleDown",m5],["triangle",y5],["vh",y$],["vhv",b$]]);function srt(t,e){var{d:n,fill:r,lineWidth:i,path:a,stroke:o,color:s}=e,l=ort(e,["d","fill","lineWidth","path","stroke","color"]);const c=u1.get(t)||u1.get("point");return(...u)=>new Bi({style:Object.assign(Object.assign({},l),{d:c(...u),stroke:c.style.includes("stroke")?s||o:"",fill:c.style.includes("fill")?s||r:"",lineWidth:c.style.includes("lineWidth")?i||i||2:0})})}function lrt(t,e){u1.set(t,e)}function w5(t){return t.replace(/-(\w)/g,function(e,n){return n.toUpperCase()})}function crt(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}var urt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function x$(t,e,n,r){if(e.length===1)return;const{size:i}=n;if(t==="fixed")return i;if(t==="normal"||VI(r)){const[[a,o],[s,l]]=e,c=Math.abs((s-a)/2),u=Math.abs((l-o)/2);return Math.max(0,(c+u)/2)}return i}const Ve=(t,e)=>{const{colorAttribute:n,symbol:r,mode:i="auto"}=t,a=urt(t,["colorAttribute","symbol","mode"]),o=u1.get(w5(r))||u1.get("point"),{coordinate:s,document:l}=e;return(c,u,d)=>{const{lineWidth:h,color:v}=d,g=a.stroke?h||1:h,{color:b=v,transform:x,opacity:_}=u,[w,E]=h5(c),M=x$(i,c,u,s)||a.r||d.r;return se(l.createElement("path",{})).call(Qt,d).style("fill","transparent").style("d",o(w,E,M)).style("lineWidth",g).style("transform",x).style("transformOrigin",`${w-M} ${E-M}`).style("stroke",b).style(d5(t),_).style(n,b).call(Qt,a).node()}};Ve.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const _$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),e);_$.props=Object.assign({defaultMarker:"hollowBowtie"},Ve.props);const w$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),e);w$.props=Object.assign({defaultMarker:"hollowDiamond"},Ve.props);const O$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),e);O$.props=Object.assign({defaultMarker:"hollowHexagon"},Ve.props);const S$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"point"},t),e);S$.props=Object.assign({defaultMarker:"hollowPoint"},Ve.props);const E$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"square"},t),e);E$.props=Object.assign({defaultMarker:"hollowSquare"},Ve.props);const A$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),e);A$.props=Object.assign({defaultMarker:"hollowTriangle"},Ve.props);const M$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),e);M$.props=Object.assign({defaultMarker:"hollowTriangleDown"},Ve.props);var frt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const T$=(t,e)=>{const{colorAttribute:n,mode:r="auto"}=t,i=frt(t,["colorAttribute","mode"]),{coordinate:a,document:o}=e;return(s,l,c)=>{const{lineWidth:u,color:d}=c,h=i.stroke?u||1:u,{color:v=d,transform:g,opacity:b}=l,[x,_]=h5(s),E=x$(r,s,l,a)||i.r||c.r;return se(o.createElement("circle",{})).call(Qt,c).style("fill","transparent").style("cx",x).style("cy",_).style("r",E).style("lineWidth",h).style("transform",g).style("transformOrigin",`${x} ${_}`).style("stroke",v).style(d5(t),b).style(n,v).call(Qt,i).node()}},O5=(t,e)=>T$(Object.assign({colorAttribute:"fill"},t),e);O5.props={defaultMarker:"circle",defaultEnterAnimation:"fadeIn",defaultExitAnimation:"fadeOut"};const k$=(t,e)=>T$(Object.assign({colorAttribute:"stroke"},t),e);k$.props=Object.assign({defaultMarker:"hollowPoint"},O5.props);const C$=(t,e)=>Ve(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),e);C$.props=Object.assign({defaultMarker:"bowtie"},Ve.props);const R$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),e);R$.props=Object.assign({defaultMarker:"cross"},Ve.props);const P$=(t,e)=>Ve(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),e);P$.props=Object.assign({defaultMarker:"diamond"},Ve.props);const j$=(t,e)=>Ve(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),e);j$.props=Object.assign({defaultMarker:"hexagon"},Ve.props);const L$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),e);L$.props=Object.assign({defaultMarker:"hyphen"},Ve.props);const N$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"line"},t),e);N$.props=Object.assign({defaultMarker:"line"},Ve.props);const D$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),e);D$.props=Object.assign({defaultMarker:"plus"},Ve.props);const I$=(t,e)=>Ve(Object.assign({colorAttribute:"fill",symbol:"point"},t),e);I$.props=Object.assign({defaultMarker:"point"},Ve.props);const B$=(t,e)=>Ve(Object.assign({colorAttribute:"fill",symbol:"square"},t),e);B$.props=Object.assign({defaultMarker:"square"},Ve.props);const $$=(t,e)=>Ve(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),e);$$.props=Object.assign({defaultMarker:"tick"},Ve.props);const z$=(t,e)=>Ve(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),e);z$.props=Object.assign({defaultMarker:"triangle"},Ve.props);const F$=(t,e)=>Ve(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),e);F$.props=Object.assign({defaultMarker:"triangleDown"},Ve.props);var _j=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const S5=(t,e)=>{const{arrow:n=!0,arrowSize:r="40%"}=t,i=_j(t,["arrow","arrowSize"]),{document:a}=e;return(o,s,l)=>{const{defaultColor:c}=l,u=_j(l,["defaultColor"]),{color:d=c,transform:h}=s,[v,g]=o,b=rs();if(b.moveTo(...v),b.lineTo(...g),n){const[x,_]=Qnt(v,g,{arrowSize:r});b.moveTo(...x),b.lineTo(...g),b.lineTo(..._)}return se(a.createElement("path",{})).call(Qt,u).style("d",b.toString()).style("stroke",d).style("transform",h).call(Qt,i).node()}};S5.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function U$(t,e){e(t),t.children&&t.children.forEach(function(n){n&&U$(n,e)})}function W1(t){hS(t,!0)}function _f(t){hS(t,!1)}function hS(t,e){var n=e?"visible":"hidden";U$(t,function(r){r.attr("visibility",n)})}var drt=(function(t){yr(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,ee([],et(n),!1))||this;return i.isMutationObserved=!0,i.addEventListener(Ne.INSERTED,function(){_f(i)}),i}return e})(mi);function H$(t){var e=t.appendChild(new drt({class:"offscreen"}));return _f(e),e}function hrt(t){for(var e=t;e;){if(e.className==="offscreen")return!0;e=e.parent}return!1}var E5=(function(t){yr(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=vi(n,["style"]);return t.call(this,Dt({style:Dt({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},i))||this}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=H$(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},e})(es);function fg(t){return t*Math.PI/180}function G$(t){return Number((t*180/Math.PI).toPrecision(5))}var vr=(function(){function t(e,n,r,i){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=n,this.width=r,this.height=i}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t.prototype.isPointIn=function(e,n){return e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom},t})();function ro(t,e){return pi(t)?t.apply(void 0,ee([],et(e),!1)):t}var os=function(t,e){var n=function(i){return"".concat(e,"-").concat(i)},r=Object.fromEntries(Object.entries(t).map(function(i){var a=et(i,2),o=a[0],s=a[1],l=n(s);return[o,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(r,{prefix:n}),r},prt=5,Y$=function(t,e,n,r){n===void 0&&(n=0),r===void 0&&(r=prt),Object.entries(e).forEach(function(i){var a=et(i,2),o=a[0],s=a[1],l=t;Object.prototype.hasOwnProperty.call(e,o)&&(s?Dc(s)?(Dc(t[o])||(l[o]={}),n<r?Y$(t[o],s,n+1,r):l[o]=e[o]):$r(s)?(l[o]=[],l[o]=l[o].concat(s)):l[o]=s:l[o]=s)})},Is=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Y$(t,e[r]);return t},vrt=function(t){return t!==void 0&&t!=null&&!Number.isNaN(t)},v_,grt=AW(function(t,e){var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return v_||(v_=Pt.offscreenCanvasCreator.getOrCreateContext(void 0)),v_.font=[a,o,i,"".concat(n,"px"),r].join(" "),v_.measureText(t).width},function(t,e){return[t,Object.values(e||q$(t)).join()].join("")},4096),q$=function(t){var e=t.style.fontFamily||"sans-serif",n=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,a=t.style.fontSize;return a=typeof a=="object"?a.value:a,{fontSize:a,fontFamily:e,fontWeight:n,fontStyle:r,fontVariant:i}};function W$(t){return t.nodeName==="text"?t:t.nodeName==="g"&&t.children.length===1&&t.children[0].nodeName==="text"?t.children[0]:null}function X$(t,e){var n=W$(t);n&&n.attr(e)}function HT(t,e,n){n===void 0&&(n="..."),X$(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:n})}function yrt(t,e,n,r){n===void 0&&(n=2),r===void 0&&(r="top"),X$(t,{wordWrap:!0,wordWrapWidth:e,maxLines:n,textBaseline:r})}function Bw(t){var e=t.canvas,n=t.touches,r=t.offsetX,i=t.offsetY;if(e){var a=e.x,o=e.y;return[a,o]}if(n){var s=n[0],l=s.clientX,c=s.clientY;return[l,c]}return r&&i?[r,i]:[0,0]}function _h(t){return typeof t=="function"?t():tr(t)||Kn(t)?new E5({style:{text:String(t)}}):t}function mrt(t,e){return typeof t=="function"?t():tr(t)||Kn(t)?new Tg({style:Dt(Dt({},e),{innerHTML:String(t)})}):t}function brt(t,e){return t.reduce(function(n,r){return(n[r[e]]=n[r[e]]||[]).push(r),n},{})}function Ta(t,e,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=function(a){a.node().removeChildren()}),t?n(e):(r&&i(e),null)}function Li(t,e,n,r,i){return r===void 0&&(r=!0),i===void 0&&(i=!1),r&&t===e||i&&t===n?!0:t>e&&t<n}var xrt=function(t,e){return function(n){return t*(1-n)+e*n}};function _rt(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0;return function(i){var a=new Array(r),o=new Array(n),s=0;for(s=0;s<r;++s)a[s]=A5(t[s],e[s]);for(;s<n;++s)o[s]=e[s];for(s=0;s<r;++s)o[s]=a[s](i);return o}}function wrt(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={},r={};return Object.entries(e).forEach(function(i){var a=et(i,2),o=a[0],s=a[1];o in t?n[o]=A5(t[o],s):r[o]=s}),function(i){return Object.entries(n).forEach(function(a){var o=et(a,2),s=o[0],l=o[1];return r[s]=l(i)}),r}}function A5(t,e){return typeof t=="number"&&typeof e=="number"?xrt(t,e):Array.isArray(t)&&Array.isArray(e)?_rt(t,e):typeof t=="object"&&typeof e=="object"?wrt(t,e):(function(n){return t})}function Ort(t,e,n,r){if(!r)return t.attr("__keyframe_data__",n),null;var i=r.duration,a=i===void 0?0:i,o=A5(e,n),s=Math.ceil(+a/16),l=new Array(s).fill(0).map(function(c,u,d){return{__keyframe_data__:o(u/(d.length-1))}});return t.animate(l,Dt({fill:"both"},r))}function wj(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<t.length;a++){var o=t[a],s=o.x,l=o.y,c=o.width,u=o.height,d=et([s+c,l+u],2),h=d[0],v=d[1];s<e&&(e=s),l<n&&(n=l),h>r&&(r=h),v>i&&(i=v)}return new vr(e,n,r-e,i-n)}var Srt=function(t,e,n){var r=t.width,i=t.height,a=n.flexDirection,o=a===void 0?"row":a;n.flexWrap;var s=n.justifyContent,l=s===void 0?"flex-start":s;n.alignContent;var c=n.alignItems,u=c===void 0?"flex-start":c,d=o==="row",h=o==="row"||o==="column",v=d?h?[1,0]:[-1,0]:h?[0,1]:[0,-1],g=et([0,0],2),b=g[0],x=g[1],_=e.map(function(R){var j,I=R.width,D=R.height,B=et([b,x],2),$=B[0],U=B[1];return j=et([b+I*v[0],x+D*v[1]],2),b=j[0],x=j[1],new vr($,U,I,D)}),w=wj(_),E={"flex-start":0,"flex-end":d?r-w.width:i-w.height,center:d?(r-w.width)/2:(i-w.height)/2},A=_.map(function(R){var j=R.x,I=R.y,D=vr.fromRect(R);return D.x=d?j+E[l]:j,D.y=d?I:I+E[l],D});wj(A);var M=function(R){var j=et(d?["height",i]:["width",r],2),I=j[0],D=j[1];switch(u){case"flex-start":return 0;case"flex-end":return D-R[I];case"center":return D/2-R[I]/2;default:return 0}},T=A.map(function(R){var j=R.x,I=R.y,D=vr.fromRect(R);return D.x=d?j:j+M(D),D.y=d?I+M(D):I,D}),C=T.map(function(R){var j,I,D=vr.fromRect(R);return D.x+=(j=t.x)!==null&&j!==void 0?j:0,D.y+=(I=t.y)!==null&&I!==void 0?I:0,D});return C},Ert=function(t,e,n){return[]};const Art=(function(t,e,n){if(e.length===0)return[];var r={flex:Srt,grid:Ert},i=n.display in r?r[n.display]:null;return i?.call(null,t,e,n)||[]});function kc(t,e){return[t[0]*e,t[1]*e]}function pm(t,e){return[t[0]+e[0],t[1]+e[1]]}function GA(t,e){return[t[0]-e[0],t[1]-e[1]]}function Yd(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function qd(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function f1(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function V$(t){if(t[0]===0&&t[1]===0)return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function Mrt(t,e){return e?[t[1],-t[0]]:[-t[1],t[0]]}function GT(t,e){return+t.toPrecision(e)}function Oj(t,e){var n={},r=Array.isArray(e)?e:[e];for(var i in t)r.includes(i)||(n[i]=t[i]);return n}function Trt(t,e,n,r){var i,a=[],o=!!r,s,l,c=[1/0,1/0],u=[-1/0,-1/0],d,h,v;if(o){i=et(r,2),c=i[0],u=i[1];for(var g=0,b=t.length;g<b;g+=1){var x=t[g];c=Yd(c,x),u=qd(u,x)}}for(var g=0,_=t.length;g<_;g+=1){var x=t[g];if(g===0)v=x;else if(g===_-1)h=x,a.push(v),a.push(h);else{var w=[g?g-1:_-1,g-1][1];s=t[w],l=t[g+1];var E=[0,0];E=GA(l,s),E=kc(E,e);var A=f1(x,s),M=f1(x,l),T=A+M;T!==0&&(A/=T,M/=T);var C=kc(E,-A),R=kc(E,M);h=pm(x,C),d=pm(x,R),d=Yd(d,qd(l,x)),d=qd(d,Yd(l,x)),C=GA(d,x),C=kc(C,-A/M),h=pm(x,C),h=Yd(h,qd(s,x)),h=qd(h,Yd(s,x)),R=GA(x,h),R=kc(R,M/A),d=pm(x,R),o&&(h=qd(h,c),h=Yd(h,u),d=qd(d,c),d=Yd(d,u)),a.push(v),a.push(h),v=d}}return a}function krt(t,e,n){n===void 0&&(n=[[0,0],[1,1]]);for(var r=!1,i=[],a=0,o=t.length;a<o;a+=2)i.push([t[a],t[a+1]]);for(var s=Trt(i,.4,r,n),l=i.length,c=[],u,d,h,a=0;a<l-1;a+=1)u=s[a*2],d=s[a*2+1],h=i[a+1],c.push(["C",u[0],u[1],d[0],d[1],h[0],h[1]]);return c}var Crt=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function Rrt(t){return Crt.includes(t)}function Sj(t){var e={};for(var n in t)Rrt(n)&&(e[n]=t[n]);return e}function Prt(t,e){if(t.length<=e)return t;for(var n=Math.floor(t.length/e),r=[],i=0;i<t.length;i+=n)r.push(t[i]);return r}function M5(t,e,n){var r=t.getBBox(),i=r.width,a=r.height,o=e/Math.max(i,a);return t.style.transform="scale(".concat(o,")"),o}function jrt(t,e){var n=new Map;return t.forEach(function(r){var i=e(r);n.has(i)||n.set(i,[]),n.get(i).push(r)}),n}function Lrt(t){throw new Error(t)}var Nrt=(function(){function t(i,a,o,s,l,c,u){i===void 0&&(i=null),a===void 0&&(a=null),o===void 0&&(o=null),s===void 0&&(s=null),l===void 0&&(l=[null,null,null,null,null]),c===void 0&&(c=[]),u===void 0&&(u=[]),e.add(this),this._elements=Array.from(i),this._data=a,this._parent=o,this._document=s,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=c,this._facetElements=u}t.prototype.selectAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(a,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i):i;return new n(this._elements,null,this._parent,this._document,void 0,void 0,a)},t.prototype.select=function(i){var a=typeof i=="string"?this._parent.querySelectorAll(i)[0]||null:i;return new n([a],null,a,this._document)},t.prototype.append=function(i){var a=this,o=typeof i=="function"?i:function(){return a.createElement(i)},s=[];if(this._data!==null){for(var l=0;l<this._data.length;l++){var c=this._data[l],u=et(Array.isArray(c)?c:[c,null],2),d=u[0],h=u[1],v=o(d,l);v.__data__=d,h!==null&&(v.__fromElements__=h),this._parent.appendChild(v),s.push(v)}return new n(s,null,this._parent,this._document)}for(var l=0;l<this._elements.length;l++){var g=this._elements[l],d=g.__data__,v=o(d,l);g.appendChild(v),s.push(v)}return new n(s,null,s[0],this._document)},t.prototype.maybeAppend=function(i,a){var o=eA(this,e,"m",r).call(this,i[0]==="#"?i:"#".concat(i),a);return o.attr("id",i),o},t.prototype.maybeAppendByClassName=function(i,a){var o=i.toString(),s=eA(this,e,"m",r).call(this,o[0]==="."?o:".".concat(o),a);return s.attr("className",o),s},t.prototype.maybeAppendByName=function(i,a){var o=eA(this,e,"m",r).call(this,'[name="'.concat(i,'"]'),a);return o.attr("name",i),o},t.prototype.data=function(i,a,o){var s,l;a===void 0&&(a=function(I){return I}),o===void 0&&(o=function(){return null});for(var c=[],u=[],d=new Set(this._elements),h=[],v=new Set,g=new Map(this._elements.map(function(I,D){return[a(I.__data__,D),I]})),b=new Map(this._facetElements.map(function(I,D){return[a(I.__data__,D),I]})),x=jrt(this._elements,function(I){return o(I.__data__)}),_=0;_<i.length;_++){var w=i[_],E=a(w,_),A=o(w,_);if(g.has(E)){var M=g.get(E);M.__data__=w,M.__facet__=!1,u.push(M),d.delete(M),g.delete(E)}else if(b.has(E)){var M=b.get(E);M.__data__=w,M.__facet__=!0,u.push(M),b.delete(E)}else if(x.has(E)){var T=x.get(E);h.push([w,T]);try{for(var C=(s=void 0,P1(T)),R=C.next();!R.done;R=C.next()){var M=R.value;d.delete(M)}}catch(I){s={error:I}}finally{try{R&&!R.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}x.delete(E)}else if(g.has(A)){var M=g.get(A);M.__toData__?M.__toData__.push(w):M.__toData__=[w],v.add(M),d.delete(M)}else c.push(w)}var j=[new n([],c,this._parent,this._document),new n(u,null,this._parent,this._document),new n(d,null,this._parent,this._document),new n([],h,this._parent,this._document),new n(v,null,this._parent,this._document)];return new n(this._elements,null,this._parent,this._document,j)},t.prototype.merge=function(i){var a=ee(ee([],et(this._elements),!1),et(i._elements),!1),o=ee(ee([],et(this._transitions),!1),et(i._transitions),!1);return new n(a,null,this._parent,this._document,void 0,o)},t.prototype.createElement=function(i){if(this._document)return this._document.createElement(i,{});var a=n.registry[i];return a?new a:Lrt("Unknown node type: ".concat(i))},t.prototype.join=function(i,a,o,s,l){i===void 0&&(i=function(g){return g}),a===void 0&&(a=function(g){return g}),o===void 0&&(o=function(g){return g.remove()}),s===void 0&&(s=function(g){return g}),l===void 0&&(l=function(g){return g.remove()});var c=i(this._enter),u=a(this._update),d=o(this._exit),h=s(this._merge),v=l(this._split);return u.merge(c).merge(d).merge(h).merge(v)},t.prototype.remove=function(){for(var i=function(s){var l=a._elements[s],c=a._transitions[s];c?c.then(function(){return l.remove()}):l.remove()},a=this,o=0;o<this._elements.length;o++)i(o);return new n([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(i){for(var a=0;a<this._elements.length;a++){var o=this._elements[a],s=o.__data__;i.call(o,s,a)}return this},t.prototype.attr=function(i,a){var o=typeof a!="function"?function(){return a}:a;return this.each(function(s,l){a!==void 0&&(this[i]=o.call(this,s,l))})},t.prototype.style=function(i,a,o){o===void 0&&(o=!0);var s=typeof a!="function"||!o?function(){return a}:a;return this.each(function(l,c){a!==void 0&&(this.style[i]=s.call(this,l,c))})},t.prototype.styles=function(i,a){return i===void 0&&(i={}),a===void 0&&(a=!0),this.each(function(o,s){var l=this;Object.entries(i).forEach(function(c){var u=et(c,2),d=u[0],h=u[1],v=typeof h!="function"||!a?function(){return h}:h;h!==void 0&&l.attr(d,v.call(l,o,s))})})},t.prototype.update=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,l){i&&this.update&&this.update(o.call(this,s,l))})},t.prototype.maybeUpdate=function(i,a){a===void 0&&(a=!0);var o=typeof i!="function"||!a?function(){return i}:i;return this.each(function(s,l){i&&this.update&&this.update(o.call(this,s,l))})},t.prototype.transition=function(i){this._transitions;var a=new Array(this._elements.length);return this.each(function(o,s){a[s]=i.call(this,o,s)}),this._transitions=bW(a),this},t.prototype.on=function(i,a){return this.each(function(){this.addEventListener(i,a)}),this},t.prototype.call=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return i.call.apply(i,ee([this._parent,this],et(a),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter(function(i){return!!i})},t.prototype.parent=function(){return this._parent};var e,n,r;return n=t,e=new WeakSet,r=function(a,o){var s=this._elements[0],l=s.querySelector(a);if(l)return new n([l],null,this._parent,this._document);var c=typeof o=="string"?this.createElement(o):o();return s.appendChild(c),new n([c],null,this._parent,this._document)},t.registry={g:mi,rect:xf,circle:Yl,path:Bi,text:E5,ellipse:oS,image:sS,line:Nh,polygon:Dh,polyline:lS,html:Tg},t})();function be(t){return new Nrt([t],null,t,t.ownerDocument)}function Drt(t,e,n){return t.querySelector(e)?be(t).select(e):be(t).append(n)}function Ii(t){if(Kn(t))return[t,t,t,t];if($r(t)){var e=t.length;if(e===1)return[t[0],t[0],t[0],t[0]];if(e===2)return[t[0],t[1],t[0],t[1]];if(e===3)return[t[0],t[1],t[2],t[1]];if(e===4)return t}return[0,0,0,0]}function Ej(t){var e=t.getLocalBounds(),n=e.min,r=e.max,i=et([n,r],2),a=et(i[0],2),o=a[0],s=a[1],l=et(i[1],2),c=l[0],u=l[1];return{x:o,y:s,width:c-o,height:u-s,left:o,bottom:u,top:s,right:c}}function Irt(t,e){var n=et(t,2),r=n[0],i=n[1],a=et(e,2),o=a[0],s=a[1];return r!==o&&i===s}function Brt(t,e){var n,r,i=e.attributes;try{for(var a=P1(Object.entries(i)),o=a.next();!o.done;o=a.next()){var s=et(o.value,2),l=s[0],c=s[1];l!=="id"&&l!=="className"&&t.attr(l,c)}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function T5(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function $rt(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function zrt(t,e){return"".concat(e).concat(T5(t))}function Aj(t,e,n){var r;n===void 0&&(n=!0);var i=e||((r=t.match(/^([a-z][a-z0-9]+)/))===null||r===void 0?void 0:r[0])||"",a=t.replace(new RegExp("^(".concat(i,")")),"");return n?$rt(a):a}function Frt(t,e){Object.entries(e).forEach(function(n){var r=et(n,2),i=r[0],a=r[1];ee([t],et(t.querySelectorAll(i)),!1).filter(function(o){return o.matches(i)}).forEach(function(o){if(o){var s=o;s.style.cssText+=Object.entries(a).reduce(function(l,c){return"".concat(l).concat(c.join(":"),";")},"")}})})}var g_=function(t,e){if(!t?.startsWith(e))return!1;var n=t[e.length];return n>="A"&&n<="Z"};function $e(t,e,n){n===void 0&&(n=!1);var r={};return Object.entries(t).forEach(function(i){var a=et(i,2),o=a[0],s=a[1];if(!(o==="className"||o==="class")){if(g_(o,"show")&&g_(Aj(o,"show"),e)!==n)o===zrt(e,"show")?r[o]=s:r[o.replace(new RegExp(T5(e)),"")]=s;else if(!g_(o,"show")&&g_(o,e)!==n){var l=Aj(o,e);l==="filter"&&typeof s=="function"||(r[l]=s)}}}),r}function kl(t,e){return Object.entries(t).reduce(function(n,r){var i=et(r,2),a=i[0],o=i[1];return a.startsWith("show")?n["show".concat(e).concat(a.slice(4))]=o:n["".concat(e).concat(T5(a))]=o,n},{})}function $c(t,e){e===void 0&&(e=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach(function(a){var o=et(a,2),s=o[0],l=o[1];e.includes(s)||(n.indexOf(s)!==-1?i[s]=l:r[s]=l)}),[r,i]}function Urt(t,e,n){var r=t.getBBox(),i=r.width,a=r.height,o=et([e,n].map(function(c,u){var d;return c.includes("%")?parseFloat(((d=c.match(/[+-]?([0-9]*[.])?[0-9]+/))===null||d===void 0?void 0:d[0])||"0")/100*(u===0?i:a):c}),2),s=o[0],l=o[1];return[s,l]}function K$(t,e){if(e)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=e.replace(n,function(i,a,o){return"translate(".concat(Urt(t,a,o),")")});t.attr("transform",r)}catch{}}function Hrt(t){var e;return((e=t[0])===null||e===void 0?void 0:e.map(function(n,r){return t.map(function(i){return i[r]})}))||[]}var Mj=function(t,e){if(e==null){t.innerHTML="";return}t.replaceChildren?Array.isArray(e)?t.replaceChildren.apply(t,ee([],et(e),!1)):t.replaceChildren(e):(t.innerHTML="",Array.isArray(e)?e.forEach(function(n){return t.appendChild(n)}):t.appendChild(e))};function pS(t){return/\S+-\S+/g.test(t)?t.split("-").map(function(e){return e[0]}):t.length>2?[t[0]]:t.split("")}var Grt=function(t){var e=new DOMParser,n=e.parseFromString(t,"text/html"),r=n.body.firstElementChild;if(console.log(r?.getClientRects(),11),!r)return 0;var i=r.getAttribute("style")||"",a=Object.fromEntries(i.split(";").map(function(x){return x.trim()}).filter(function(x){return x.includes(":")}).map(function(x){var _=et(x.split(":").map(function(A){return A.trim()}),2),w=_[0],E=_[1];return[w.toLowerCase(),E]})),o=function(x){if(!x)return 0;var _=x.match(/([\d.]+)px/);return _?parseFloat(_[1]):0};if(a.height)return o(a.height);var s=o(a["font-size"])||16,l=a["line-height"],c;!l||l==="normal"?c=1.2*s:l.endsWith("px")?c=o(l):/^[\d.]+$/.test(l)?c=parseFloat(l)*s:c=s;var u=o(a["padding-top"]),d=o(a["padding-bottom"]);if(a.padding){var h=a.padding.split(/\s+/).map(o);h.length===1||h.length===2?(u=h[0],d=h[0]):(h.length===3||h.length===4)&&(u=h[0],d=h[2])}var v=o(a["border-top-width"]),g=o(a["border-bottom-width"]);if(a.border){var b=a.border.match(/([\d.]+)px/);b&&(v=parseFloat(b[1]),g=parseFloat(b[1]))}if(a["border-width"]){var h=a["border-width"].split(/\s+/).map(o);h.length===1||h.length===2?(v=h[0],g=h[0]):(h.length===3||h.length===4)&&(v=h[0],g=h[2])}return c+u+d+v+g};function Yrt(){hS(this,this.attributes.visibility!=="hidden")}var bi=(function(t){yr(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this,Is({},{style:r},n))||this;return i.initialized=!1,i._defaultOptions=r,i}return Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=H$(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var n;(n=this._offscreen)===null||n===void 0||n.destroy()},e.prototype.attributeChangedCallback=function(n){n==="visibility"&&Yrt.call(this)},e.prototype.update=function(n,r){var i;return this.attr(Is({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(n,r){},e.prototype.getSubShapeStyle=function(n){n.x,n.y,n.transform,n.transformOrigin,n.class,n.className,n.zIndex;var r=vi(n,["x","y","transform","transformOrigin","class","className","zIndex"]);return r},e})(Y1),Z$=function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]]},qrt=Z$,Wrt=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},Xrt=function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},Vrt=function(t,e,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},Krt=function(t,e,n){var r=n*Math.sin(.3333333333333333*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]},Zrt=function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},Qrt=function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},Q$=function(t,e,n){return[["M",t,e+n],["L",t,e-n]]},Jrt=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tit=function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},eit=function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},nit=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},J$=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},rit=J$,iit=function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},ait=function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},oit=function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},sit=function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]};function lit(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}var cit=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e],["L",t-n,e+n],["Z"]]},uit=function(t,e,n){var r=n,i=n*.2,a=n*.7;return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e],["Z"],["M",t-a,e],["L",t-i,e],["M",t+i,e],["L",t+a,e],["M",t,e-a],["L",t,e-i],["M",t,e+i],["L",t,e+a]]};function fit(t){var e="default";if(L1(t)&&t instanceof Image)e="image";else if(pi(t))e="symbol";else if(tr(t)){var n=new RegExp("data:(image|text)");t.match(n)?e="base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?e="url":e="symbol"}return e}function dit(t){var e=fit(t);return["base64","url","image"].includes(e)?"image":t&&e==="symbol"?"path":null}var fn=(function(t){yr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o,l=this.getSubShapeStyle(n),c=l.symbol,u=l.size,d=u===void 0?16:u,h=vi(l,["symbol","size"]),v=dit(c);Ta(!!v,be(r),function(g){g.maybeAppendByClassName("marker",v).attr("className","marker ".concat(v,"-marker")).call(function(b){if(v==="image"){var x=d*2;b.styles({img:c,width:x,height:x,x:a-d,y:s-d})}else{var x=d/2,_=pi(c)?c:e.getSymbol(c);b.styles(Dt({d:_?.(a,s,x)},h))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(n,r){e.MARKER_SYMBOL_MAP.set(n,r)},e.getSymbol=function(n){return e.MARKER_SYMBOL_MAP.get(n)},e.getSymbols=function(){return Array.from(e.MARKER_SYMBOL_MAP.keys())},e})(bi);fn.registerSymbol("cross",Jrt);fn.registerSymbol("hyphen",nit);fn.registerSymbol("line",Q$);fn.registerSymbol("plus",eit);fn.registerSymbol("tick",tit);fn.registerSymbol("circle",Z$);fn.registerSymbol("point",qrt);fn.registerSymbol("bowtie",Qrt);fn.registerSymbol("hexagon",Zrt);fn.registerSymbol("square",Wrt);fn.registerSymbol("diamond",Xrt);fn.registerSymbol("triangle",Vrt);fn.registerSymbol("triangle-down",Krt);fn.registerSymbol("line",Q$);fn.registerSymbol("dot",J$);fn.registerSymbol("dash",rit);fn.registerSymbol("smooth",iit);fn.registerSymbol("hv",ait);fn.registerSymbol("vh",oit);fn.registerSymbol("hvh",sit);fn.registerSymbol("vhv",lit);fn.registerSymbol("focus",uit);function $w(t,...e){return e.reduce((n,r)=>i=>n(r(i)),t)}function YT(t,e){return e-t?n=>(n-t)/(e-t):n=>.5}function hit(t,e){const n=e<t?e:t,r=t>e?t:e;return i=>Math.min(Math.max(n,i),r)}function pit(t,e,n,r,i){let a=n,o=r||t.length;const s=(l=>l);for(;a<o;){const l=Math.floor((a+o)/2);s(t[l])>e?o=l:a=l+1}return a}const Tj=Math.sqrt(50),kj=Math.sqrt(10),Cj=Math.sqrt(2);function V_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=Tj?10:a>=kj?5:a>=Cj?2:1)*10**i:-(10**-i)/(a>=Tj?10:a>=kj?5:a>=Cj?2:1)}const vit=(t,e,n=5)=>{const r=[t,e];let i=0,a=r.length-1,o=r[i],s=r[a],l;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),l=V_(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=V_(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=V_(o,s,n)),l>0?(r[i]=Math.floor(o/l)*l,r[a]=Math.ceil(s/l)*l):l<0&&(r[i]=Math.ceil(o*l)/l,r[a]=Math.floor(s*l)/l),r};function Rj(t){return!jn(t)&&!C6(t)&&!Number.isNaN(t)}function YA(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function git(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=YA(o,a,e+1/3),l=YA(o,a,e),c=YA(o,a,e-1/3);return[s*255,l*255,c*255,i]}function Pj(t){const e=DC.get(t);if(!e)return null;const{model:n,value:r}=e;return n==="rgb"?r:n==="hsl"?git(r):null}const zw=(t,e)=>n=>t*(1-n)+e*n,yit=(t,e)=>{const n=Pj(t),r=Pj(e);return n===null||r===null?n?()=>t:()=>e:i=>{const a=new Array(4);for(let u=0;u<4;u+=1){const d=n[u],h=r[u];a[u]=d*(1-i)+h*i}const[o,s,l,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}},mit=(t,e)=>typeof t=="number"&&typeof e=="number"?zw(t,e):typeof t=="string"&&typeof e=="string"?yit(t,e):()=>t,bit=(t,e)=>{const n=zw(t,e);return r=>Math.round(n(r))};function jj({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xit({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function _it({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wit(t){return typeof t=="object"?t.valueOf():t}let Lj=class extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=wit,e!==null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(jj({map:this.map,initKey:this.initKey},e))}has(e){return super.has(jj({map:this.map,initKey:this.initKey},e))}set(e,n){return super.set(xit({map:this.map,initKey:this.initKey},e),n)}delete(e){return super.delete(_it({map:this.map,initKey:this.initKey},e))}},tz=class{constructor(e){this.options=wt({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=wt({},this.options,e),this.rescale(e)}rescale(e){}};const k5=Symbol("defaultUnknown");function Nj(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function Dj(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(e);if(o===void 0){if(a!==k5)return a;o=n.push(e)-1,i.set(e,o)}return r[o%r.length]}function Ij(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}let Oit=class ez extends tz{getDefaultOptions(){return{domain:[],range:[],unknown:k5}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&Nj(this.domainIndexMap,this.getDomain(),this.domainKey),Dj({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&Nj(this.rangeIndexMap,this.getRange(),this.rangeKey),Dj({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=Ij(n),this.rangeKey=Ij(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new ez(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:n}=this.options;return this.sortedDomain=n?[...e].sort(n):e,this.sortedDomain}};function Sit(t){const e=Math.min(...t);return t.map(n=>n/e)}function Eit(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function Ait(t){return Math.round(t*1e12)/1e12}function Mit(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,l=e.length,c=Eit(a,l),[u,d]=n,h=d-u,v=2/l*r+1-1/l*i,g=h/v,b=g*i/l,x=g-l*b,_=Sit(c),w=_.reduce((B,$)=>B+$),E=x/w,A=new Lj(e.map((B,$)=>{const U=_[$]*E;return[B,o?Math.floor(U):U]})),M=new Lj(e.map((B,$)=>{const G=_[$]*E+b;return[B,o?Math.floor(G):G]})),T=Array.from(M.values()).reduce((B,$)=>B+$),R=(h-(T-T/l*i))*s,j=u+R;let I=o?Math.round(j):j;const D=new Array(l);for(let B=0;B<l;B+=1){D[B]=Ait(I);const $=e[B];I+=M.get($)}return{valueBandWidth:A,valueStep:M,adjustedRange:D}}function Tit(t){var e;const{domain:n}=t,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return Mit(t);const{range:a,paddingOuter:o,paddingInner:s,round:l,align:c}=t;let u,d,h=a[0];const g=a[1]-h,b=o*2,x=r-s;u=g/Math.max(1,b+x),l&&(u=Math.floor(u)),h+=(g-u*(r-s))*c,d=u*(1-s),l&&(h=Math.round(h),d=Math.round(d));const _=new Array(r).fill(0).map((w,E)=>h+E*u);return{valueStep:u,valueBandWidth:d,adjustedRange:_}}let kit=class nz extends Oit{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:k5,flex:[]}}constructor(e){super(e)}clone(){return new nz(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:n}=this.options;return e>0?e:n}getPaddingOuter(){const{padding:e,paddingOuter:n}=this.options;return e>0?e:n}rescale(){super.rescale();const{align:e,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=Tit({align:e,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}};const Cit=(t,e,n)=>{let r,i,a=t,o=e;if(a===o&&n>0)return[a];let s=V_(a,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)/s}return i},Rit=(t,e,n)=>{const[r,i]=t,[a,o]=e;let s,l;return r<i?(s=YT(r,i),l=n(a,o)):(s=YT(i,r),l=n(o,a)),$w(l,s)},Pit=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,l=o?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=YT(s[c],s[c+1]),a[c]=n(l[c],l[c+1]);return c=>{const u=pit(t,c,1,r)-1,d=i[u],h=a[u];return $w(h,d)(c)}},Bj=(t,e,n,r)=>(Math.min(t.length,e.length)>2?Pit:Rit)(t,e,r?bit:n);let jit=class extends tz{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:zw,tickCount:5}}map(e){return Rj(e)?this.output(e):this.options.unknown}invert(e){return Rj(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,n,r,...i)}getTicks(){const{tickMethod:e}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return e(n,r,i,...a)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}chooseNice(){return vit}rescale(){this.nice();const[e,n]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,n,this.chooseClamp(n))}chooseClamp(e){const{clamp:n,range:r}=this.options,i=this.options.domain.map(e),a=Math.min(i.length,r.length);return n?hit(i[0],i[a-1]):Ul}composeOutput(e,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=Bj(r.map(e),i,o,a);this.output=$w(s,n,e)}composeInput(e,n,r){const{domain:i,range:a}=this.options,o=Bj(a,i.map(e),zw);this.input=$w(n,r,o)}},Pm=class rz extends jit{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:mit,tickMethod:Cit,tickCount:5}}chooseTransforms(){return[Ul,Ul]}clone(){return new rz(this.options)}};var Lit=(function(t){yr(e,t);function e(n){var r=this,i=n.style,a=vi(n,["style"]);return r=t.call(this,wt({},{type:"column"},Dt({style:i},a)))||this,r.columnsGroup=new mi({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return e.prototype.render=function(){var n=this.attributes,r=n.columns,i=n.x,a=n.y;this.columnsGroup.style.transform="translate(".concat(i,", ").concat(a,")"),be(this.columnsGroup).selectAll(".column").data(r.flat()).join(function(o){return o.append("rect").attr("className","column").each(function(s){this.attr(s)})},function(o){return o.each(function(s){this.attr(s)})},function(o){return o.remove()})},e.prototype.update=function(n){this.attr(Is({},this.attributes,n)),this.render()},e.prototype.clear=function(){this.removeChildren()},e})(ir),Nit=(function(t){yr(e,t);function e(n){var r=this,i=n.style,a=vi(n,["style"]);return r=t.call(this,wt({},{type:"lines"},Dt({style:i},a)))||this,r.linesGroup=r.appendChild(new mi),r.areasGroup=r.appendChild(new mi),r.render(),r}return e.prototype.render=function(){var n=this.attributes,r=n.lines,i=n.areas,a=n.x,o=n.y;this.style.transform="translate(".concat(a,", ").concat(o,")"),r&&this.renderLines(r),i&&this.renderAreas(i)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(n){this.attr(Is({},this.attributes,n)),this.render()},e.prototype.renderLines=function(n){be(this.linesGroup).selectAll(".line").data(n).join(function(r){return r.append("path").attr("className","line").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.attr(i)})},function(r){return r.remove()})},e.prototype.renderAreas=function(n){be(this.linesGroup).selectAll(".area").data(n).join(function(r){return r.append("path").attr("className","area").each(function(i){this.attr(i)})},function(r){return r.each(function(i){this.style(i)})},function(r){return r.remove()})},e})(ir);function Dit(t,e){var n,r=e.x,i=e.y,a=et(i.getOptions().range||[0,0],2),o=a[0],s=a[1];return s>o&&(n=et([o,s],2),s=n[0],o=n[1]),t.map(function(l){var c=l.map(function(u,d){return[r.map(d),jr(i.map(u),s,o)]});return c})}function d1(t,e){e===void 0&&(e=!1);var n=e?t.length-1:0,r=t.map(function(i,a){return ee([a===n?"M":"L"],et(i),!1)});return e?r.reverse():r}function Fw(t,e){if(e===void 0&&(e=!1),t.length<=2)return d1(t);for(var n=[],r=t.length,i=0;i<r;i+=1){var a=e?t[r-i-1]:t[i];Vm(a,n.slice(-2))||n.push.apply(n,ee([],et(a),!1))}var o=krt(n);return e?o.unshift(ee(["M"],et(t[r-1]),!1)):o.unshift(ee(["M"],et(t[0]),!1)),o}function C5(t,e,n){var r=Xm(t);return r.push(["L",e,n],["L",0,n],["Z"]),r}function Iit(t,e,n,r){return t.map(function(i){return C5(e?Fw(i):d1(i),n,r)})}function Bit(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=d1(a),s=void 0;if(i===0)s=C5(o,e,n);else{var l=t[i-1],c=d1(l,!0);c[0][0]="L",s=ee(ee(ee([],et(o),!1),et(c),!1),[["Z"]],!1)}r.push(s)}return r}function $it(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var a=t[i],o=Fw(a),s=void 0;if(i===0)s=C5(o,e,n);else{var l=t[i-1],c=Fw(l,!0),u=a[0];c[0][0]="L",s=ee(ee(ee([],et(o),!1),et(c),!1),[ee(["M"],et(u),!1),["Z"]],!1)}r.push(s)}return r}function $j(t){return t.length===0?[0,0]:[hw(wW(t,function(e){return hw(e)||0})),dw(_W(t,function(e){return dw(e)||0}))]}function zj(t){for(var e=Xm(t),n=e[0].length,r=et([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],a=r[1],o=0;o<e.length;o+=1)for(var s=e[o],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=a[l],a[l]=s[l]);return e}var zit=(function(t){yr(e,t);function e(n){return t.call(this,n,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Object.defineProperty(e.prototype,"rawData",{get:function(){var n=this.attributes.data;if(!n||n?.length===0)return[[]];var r=Xm(n);return Kn(r[0])?[r]:r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?zj(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var n=this.scales.y,r=et(n.getOptions().domain||[0,0],2),i=r[0],a=r[1];return a<0?n.map(a):n.map(i<0?0:i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var n=this.attributes,r=n.width,i=n.height;return{width:r,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var n=this,r=this.attributes,i=r.type,a=r.isStack,o=r.smooth;if(i!=="line")throw new Error("linesStyle can only be used in line type");var s=$e(this.attributes,"area"),l=$e(this.attributes,"line"),c=this.containerShape.width,u=this.data;if(u[0].length===0)return{lines:[],areas:[]};var d=this.scales,h=d.x,v=d.y,g=Dit(u,{x:h,y:v}),b=[];if(s){var x=this.baseline;a?b=o?$it(g,c,x):Bit(g,c,x):b=Iit(g,o,c,x)}return{lines:g.map(function(_,w){return Dt({stroke:n.getColor(w),d:o?Fw(_):d1(_)},l)}),areas:b.map(function(_,w){return Dt({d:_,fill:n.getColor(w)},s)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var n=this,r=$e(this.attributes,"column"),i=this.attributes,a=i.isStack,o=i.type,s=i.scale;if(o!=="column")throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,c=this.rawData;if(!c)return{columns:[]};a&&(c=zj(c));var u=this.createScales(c),d=u.x,h=u.y,v=et($j(c),2),g=v[0],b=v[1],x=new Pm({domain:[0,b-(g>0?0:g)],range:[0,l*s]}),_=d.getBandWidth(),w=this.rawData;return{columns:c.map(function(E,A){return E.map(function(M,T){var C=_/c.length,R=function(){return{x:d.map(T)+C*A,y:M>=0?h.map(M):h.map(0),width:C,height:x.map(Math.abs(M))}},j=function(){return{x:d.map(T),y:h.map(M),width:_,height:x.map(w[A][T])}};return Dt(Dt({fill:n.getColor(A)},r),a?j():R())})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){Drt(r,".container","rect").attr("className","container").node();var i=n.type,a=n.x,o=n.y,s="spark".concat(i),l=Dt({x:a,y:o},i==="line"?this.linesStyle:this.columnsStyle);be(r).selectAll(".spark").data([i]).join(function(c){return c.append(function(u){return u==="line"?new Nit({className:s,style:l}):new Lit({className:s,style:l})}).attr("className","spark ".concat(s))},function(c){return c.update(l)},function(c){return c.remove()})},e.prototype.getColor=function(n){var r=this.attributes.color;return $r(r)?r[n%r.length]:pi(r)?r.call(null,n):r},e.prototype.createScales=function(n){var r,i,a=this.attributes,o=a.type,s=a.scale,l=a.range,c=l===void 0?[]:l,u=a.spacing,d=this.containerShape,h=d.width,v=d.height,g=et($j(n),2),b=g[0],x=g[1],_=new Pm({domain:[(r=c[0])!==null&&r!==void 0?r:b,(i=c[1])!==null&&i!==void 0?i:x],range:[v,v*(1-s)]});return o==="line"?{type:o,x:new Pm({domain:[0,n[0].length-1],range:[0,h]}),y:_}:{type:o,x:new kit({domain:n[0].map(function(w,E){return E}),range:[0,h],paddingInner:u,paddingOuter:u/2,align:.5}),y:_}},e.tag="sparkline",e})(bi);function Fit(t){return typeof t=="boolean"?!1:"enter"in t&&"update"in t&&"exit"in t}function Fj(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],n=Object.fromEntries(Object.entries(t).filter(function(r){var i=et(r,1),a=i[0];return!e.includes(a)}));return Object.fromEntries(e.map(function(r){return Fit(t)?t[r]===!1?[r,!1]:[r,Dt(Dt({},t[r]),n)]:[r,n]}))}function kg(t,e){t?t.finished.then(e):e()}function Uit(t,e){t.length===0?e():Promise.all(t.map(function(n){return n?.finished})).then(e)}function iz(t,e){"update"in t?t.update(e):t.attr(e)}function az(t,e,n){if(e.length===0)return null;if(!n){var r=e.slice(-1)[0];return iz(t,{style:r}),null}return t.animate(e,n)}function Hit(t,e){return!(t.nodeName!=="text"||e.nodeName!=="text"||t.attributes.text!==e.attributes.text)}function Git(t,e,n,r){if(r===void 0&&(r="destroy"),Hit(t,e))return t.remove(),[null];var i=function(){r==="destroy"?t.destroy():r==="hide"&&_f(t),e.isVisible()&&W1(e)};if(!n)return i(),[null];var a=n.duration,o=a===void 0?0:a,s=n.delay,l=s===void 0?0:s,c=Math.ceil(+o/2),u=+o/4,d=et(t.getGeometryBounds().center,2),h=d[0],v=d[1],g=et(e.getGeometryBounds().center,2),b=g[0],x=g[1],_=et([(h+b)/2-h,(v+x)/2-v],2),w=_[0],E=_[1],A=t.style.opacity,M=A===void 0?1:A,T=e.style.opacity,C=T===void 0?1:T,R=t.style.transform||"",j=e.style.transform||"",I=t.animate([{opacity:M,transform:"translate(0, 0) ".concat(R)},{opacity:0,transform:"translate(".concat(w,", ").concat(E,") ").concat(R)}],Dt(Dt({fill:"both"},n),{duration:l+c+u})),D=e.animate([{opacity:0,transform:"translate(".concat(-w,", ").concat(-E,") ").concat(j),offset:.01},{opacity:C,transform:"translate(0, 0) ".concat(j)}],Dt(Dt({fill:"both"},n),{duration:c+u,delay:l+c-u}));return kg(D,i),[I,D]}function Ds(t,e,n){var r={},i={};return Object.entries(e).forEach(function(a){var o=et(a,2),s=o[0],l=o[1];if(!ue(l)){var c=t.style[s]||t.parsedStyle[s]||0;c!==l&&(r[s]=c,i[s]=l)}}),n?az(t,[r,i],Dt({fill:"both"},n)):(iz(t,i),null)}function vS(t,e){return t.style.opacity||(t.style.opacity=1),Ds(t,{opacity:0},e)}var oz={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},sz={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},lz={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},Ol=os({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),Xu=os({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Yit=(function(t){yr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){var i=n.x,a=n.y,o=n.size,s=o===void 0?10:o,l=n.radius,c=l===void 0?s/4:l,u=n.orientation,d=vi(n,["x","y","size","radius","orientation"]),h=s,v=h*2.4,g=be(r).maybeAppendByClassName(Xu.iconRect,"rect").styles(Dt(Dt({},d),{width:h,height:v,radius:c,x:i-h/2,y:a-v/2,transformOrigin:"center"})),b=i+1/3*h-h/2,x=i+2/3*h-h/2,_=a+1/4*v-v/2,w=a+3/4*v-v/2;g.maybeAppendByClassName("".concat(Xu.iconLine,"-1"),"line").styles(Dt({x1:b,x2:b,y1:_,y2:w},d)),g.maybeAppendByClassName("".concat(Xu.iconLine,"-2"),"line").styles(Dt({x1:x,x2:x,y1:_,y2:w},d)),u==="vertical"&&(g.node().style.transform="rotate(90)")},e})(bi),cz=(function(t){yr(e,t);function e(n){return t.call(this,n,lz)||this}return e.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.showLabel,l=$e(this.attributes,"label"),c=l.x,u=c===void 0?0:c,d=l.y,h=d===void 0?0:d,v=l.transform,g=l.transformOrigin,b=vi(l,["x","y","transform","transformOrigin"]),x=et($c(b,[]),2),_=x[0],w=x[1],E=be(n).maybeAppendByClassName(Xu.labelGroup,"g").styles(w),A=Dt(Dt({},sz),_),M=A.text,T=vi(A,["text"]);Ta(!!s,E,function(C){r.label=C.maybeAppendByClassName(Xu.label,"text").styles(Dt(Dt({},T),{x:a+u,y:o+h,transform:v,transformOrigin:g,text:"".concat(M)})),r.label.on("mousedown",function(R){R.stopPropagation()}),r.label.on("touchstart",function(R){R.stopPropagation()})})},e.prototype.renderIcon=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.type,l=Dt(Dt({x:i,y:a,orientation:o},oz),$e(this.attributes,"icon")),c=this.attributes.iconShape,u=c===void 0?function(){return new Yit({style:l})}:c,d=be(n).maybeAppendByClassName(Xu.iconGroup,"g");d.selectAll(Xu.icon.class).data([u]).join(function(h){return h.append(typeof u=="string"?u:function(){return u(s)}).attr("className",Xu.icon.name)},function(h){return h.update(l)},function(h){return h.remove()})},e.prototype.render=function(n,r){this.renderIcon(r),this.renderLabel(r)},e})(bi),uz=(function(t){yr(e,t);function e(n){var r=t.call(this,n,Dt(Dt(Dt({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(i){return i.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},kl(lz,"handle")),kl(oz,"handleIcon")),kl(sz,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(i){return function(a){a.stopPropagation(),r.target=i,r.prevPos=r.getOrientVal(Bw(a));var o=r.availableSpace,s=o.x,l=o.y,c=r.getBBox(),u=c.x,d=c.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([s,l])-r.getOrientVal([+u,+d])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(i){var a=r.attributes,o=a.slidable,s=a.brushable,l=a.type;i.stopPropagation();var c=r.getOrientVal(Bw(i)),u=c-r.prevPos;if(u){var d=r.getRatio(u);switch(r.target){case"start":o&&r.setValuesOffset(d);break;case"end":o&&r.setValuesOffset(0,d);break;case"selection":o&&r.setValuesOffset(d,d);break;case"track":if(!s)return;r.selectionWidth+=d,l==="range"?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0);break}r.prevPos=c}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(i){var a=r.attributes,o=a.onChange,s=a.type,l=s==="range"?i:i[1],c=s==="range"?r.getValues():r.getValues()[1],u=new Gn("valuechange",{detail:{oldValue:l,value:c}});r.dispatchEvent(u),o?.(c)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(n){this.attributes.values=this.clampValues(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){var n=this.attributes.orientation;if(n!=="horizontal")return null;var r=$e(this.attributes,"sparkline");return Dt(Dt({zIndex:0},this.availableSpace),r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var n=this.attributes,r=n.trackLength,i=n.trackSize,a=et(this.getOrientVal([[r,i],[i,r]]),2),o=a[0],s=a[1];return{width:o,height:s}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes;n.x,n.y;var r=n.padding,i=et(Ii(r),4),a=i[0],o=i[1],s=i[2],l=i[3],c=this.shape,u=c.width,d=c.height;return{x:l,y:a,width:u-(l+o),height:d-(a+s)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1),this.attributes.values=n;var i=r===!1?!1:this.attributes.animate;this.updateSelectionArea(i),this.updateHandlesPosition(i)},e.prototype.updateSelectionArea=function(n){var r=this.calcSelectionArea();this.foregroundGroup.selectAll(Ol.selection.class).each(function(i,a){Ds(this,r[a],n)})},e.prototype.updateHandlesPosition=function(n){this.attributes.showHandle&&(this.startHandle&&Ds(this.startHandle,this.getHandleStyle("start"),n),this.endHandle&&Ds(this.endHandle,this.getHandleStyle("end"),n))},e.prototype.innerSetValues=function(n,r){n===void 0&&(n=[0,0]),r===void 0&&(r=!1);var i=this.values,a=this.clampValues(n);this.attributes.values=a,this.setValues(a),r&&this.onValueChange(i)},e.prototype.renderTrack=function(n){var r=this.attributes,i=r.x,a=r.y,o=$e(this.attributes,"track");this.trackShape=be(n).maybeAppendByClassName(Ol.track,"rect").styles(Dt(Dt({x:i,y:a},this.shape),o))},e.prototype.renderBrushArea=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.brushable;this.brushArea=be(n).maybeAppendByClassName(Ol.brushArea,"rect").styles(Dt({x:i,y:a,fill:"transparent",cursor:o?"crosshair":"default"},this.shape))},e.prototype.renderSparkline=function(n){var r=this,i=this.attributes,a=i.x,o=i.y,s=i.orientation,l=be(n).maybeAppendByClassName(Ol.sparklineGroup,"g");Ta(s==="horizontal",l,function(c){var u=Dt(Dt({},r.sparklineStyle),{x:a,y:o});c.maybeAppendByClassName(Ol.sparkline,function(){return new zit({style:u})}).update(u)})},e.prototype.renderHandles=function(){var n=this,r,i=this.attributes,a=i.showHandle,o=i.type,s=o==="range"?["start","end"]:["end"],l=a?s:[],c=this;(r=this.foregroundGroup)===null||r===void 0||r.selectAll(Ol.handle.class).data(l.map(function(u){return{type:u}}),function(u){return u.type}).join(function(u){return u.append(function(d){var h=d.type;return new cz({style:n.getHandleStyle(h)})}).each(function(d){var h=d.type;this.attr("class","".concat(Ol.handle.name," ").concat(h,"-handle"));var v="".concat(h,"Handle");c[v]=this,this.addEventListener("pointerdown",c.onDragStart(h))})},function(u){return u.each(function(d){var h=d.type;this.update(c.getHandleStyle(h))})},function(u){return u.each(function(d){var h=d.type,v="".concat(h,"Handle");c[v]=void 0}).remove()})},e.prototype.renderSelection=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.type,s=r.selectionType;this.foregroundGroup=be(n).maybeAppendByClassName(Ol.foreground,"g");var l=$e(this.attributes,"selection"),c=function(d){return d.style("visibility",function(h){return h.show?"visible":"hidden"}).style("cursor",function(h){return s==="select"?"grab":s==="invert"?"crosshair":"default"}).styles(Dt(Dt({},l),{transform:"translate(".concat(i,", ").concat(a,")")}))},u=this;this.foregroundGroup.selectAll(Ol.selection.class).data(o==="value"?[]:this.calcSelectionArea().map(function(d,h){return{style:Dt({},d),index:h,show:s==="select"?h===1:h!==1}}),function(d){return d.index}).join(function(d){return d.append("rect").attr("className",Ol.selection.name).call(c).each(function(h,v){var g=this;v===1?(u.selectionShape=be(this),this.on("pointerdown",function(b){g.attr("cursor","grabbing"),u.onDragStart("selection")(b)}),u.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),u.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),u.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){g.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){g.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){g.attr("cursor","pointer")})):this.on("pointerdown",u.onDragStart("track"))})},function(d){return d.call(c)},function(d){return d.remove()}),this.updateSelectionArea(!1),this.renderHandles()},e.prototype.render=function(n,r){this.renderTrack(r),this.renderSparkline(r),this.renderBrushArea(r),this.renderSelection(r)},e.prototype.clampValues=function(n,r){var i;r===void 0&&(r=4);var a=et(this.range,2),o=a[0],s=a[1],l=et(this.getValues().map(function(x){return GT(x,r)}),2),c=l[0],u=l[1],d=Array.isArray(n)?n:[c,n??u],h=et((d||[c,u]).map(function(x){return GT(x,r)}),2),v=h[0],g=h[1];if(this.attributes.type==="value")return[0,jr(g,o,s)];v>g&&(i=et([g,v],2),v=i[0],g=i[1]);var b=g-v;return b>s-o?[o,s]:v<o?c===o&&u===g?[o,g]:[o,b+o]:g>s?u===s&&c===v?[v,s]:[s-b,s]:[v,g]},e.prototype.calcSelectionArea=function(n){var r=et(this.clampValues(n),2),i=r[0],a=r[1],o=this.availableSpace,s=o.x,l=o.y,c=o.width,u=o.height;return this.getOrientVal([[{y:l,height:u,x:s,width:i*c},{y:l,height:u,x:i*c+s,width:(a-i)*c},{y:l,height:u,x:a*c,width:(1-a)*c}],[{x:s,width:c,y:l,height:i*u},{x:s,width:c,y:i*u+l,height:(a-i)*u},{x:s,width:c,y:a*u,height:(1-a)*u}]])},e.prototype.calcHandlePosition=function(n){var r=this.attributes.handleIconOffset,i=this.availableSpace,a=i.x,o=i.y,s=i.width,l=i.height,c=et(this.clampValues(),2),u=c[0],d=c[1],h=n==="start"?-r:r,v=(n==="start"?u:d)*this.getOrientVal([s,l])+h;return{x:a+this.getOrientVal([v,s/2]),y:o+this.getOrientVal([l/2,v])}},e.prototype.inferTextStyle=function(n){var r=this.attributes.orientation;return r==="horizontal"?{}:n==="start"?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:n==="end"?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(n){var r,i=this.attributes,a=i.type,o=i.orientation,s=i.formatter,l=i.autoFitLabel,c=$e(this.attributes,"handle"),u=$e(c,"label"),d=c.spacing,h=this.getHandleSize(),v=this.clampValues(),g=n==="start"?v[0]:v[1],b=s(g),x=new E5({style:Dt(Dt(Dt({},u),this.inferTextStyle(n)),{text:b})}),_=x.getBBox(),w=_.width,E=_.height;if(x.destroy(),!l){if(a==="value")return{text:b,x:0,y:-E-d};var A=d+h+(o==="horizontal"?w/2:0);return r={text:b},r[o==="horizontal"?"x":"y"]=n==="start"?-A:A,r}var M=0,T=0,C=this.availableSpace,R=C.width,j=C.height,I=this.calcSelectionArea()[1],D=I.x,B=I.y,$=I.width,U=I.height,G=d+h;if(o==="horizontal"){var F=G+w/2;if(n==="start"){var H=D-G-w;M=H>0?-F:F}else{var Y=R-D-$-G>w;M=Y?F:-F}}else{var W=G,V=E+G;n==="start"?T=B-h>E?-V:W:T=j-(B+U)-h>E?V:-W}return{x:M,y:T,text:b}},e.prototype.getHandleLabelStyle=function(n){var r=$e(this.attributes,"handleLabel");return Dt(Dt(Dt({},r),this.calcHandleText(n)),this.inferTextStyle(n))},e.prototype.getHandleIconStyle=function(){var n=this.attributes.handleIconShape,r=$e(this.attributes,"handleIcon"),i=this.getOrientVal(["ew-resize","ns-resize"]),a=this.getHandleSize();return Dt({cursor:i,shape:n,size:a},r)},e.prototype.getHandleStyle=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.showLabel,s=r.showLabelOnInteraction,l=r.orientation,c=this.calcHandlePosition(n),u=c.x,d=c.y,h=this.calcHandleText(n),v=o;return!o&&s&&(this.target?v=!0:v=!1),Dt(Dt(Dt({},kl(this.getHandleIconStyle(),"icon")),kl(Dt(Dt({},this.getHandleLabelStyle(n)),h),"label")),{transform:"translate(".concat(u+i,", ").concat(d+a,")"),orientation:l,showLabel:v,type:n,zIndex:3})},e.prototype.getHandleSize=function(){var n=this.attributes,r=n.handleIconSize,i=n.width,a=n.height;return r||Math.floor((this.getOrientVal([+a,+i])+4)/2.4)},e.prototype.getOrientVal=function(n){var r=et(n,2),i=r[0],a=r[1],o=this.attributes.orientation;return o==="horizontal"?i:a},e.prototype.setValuesOffset=function(n,r){r===void 0&&(r=0);var i=this.attributes.type,a=et(this.getValues(),2),o=a[0],s=a[1],l=i==="range"?n:0,c=[o+l,s+r].sort();this.innerSetValues(c,!0)},e.prototype.getRatio=function(n){var r=this.availableSpace,i=r.width,a=r.height;return n/this.getOrientVal([i,a])},e.prototype.dispatchCustomEvent=function(n,r,i){var a=this;n.on(r,function(o){o.stopPropagation(),a.dispatchEvent(new Gn(i,{detail:o}))})},e.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var n=this.brushArea;this.dispatchCustomEvent(n,"click","trackClick"),this.dispatchCustomEvent(n,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(n,"pointerleave","trackMouseleave"),n.on("pointerdown",this.onDragStart("track"))},e.prototype.onScroll=function(n){var r=this.attributes.scrollable;if(r){var i=n.deltaX,a=n.deltaY,o=a||i,s=this.getRatio(o);this.setValuesOffset(s,s)}},e.tag="slider",e})(bi),qit=(function(t){yr(e,t);function e(n){var r=t.call(this,n,{x:0,y:0,isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(i){var a=r.attributes.value;if(i!==a){var o={detail:{oldValue:i,value:a}};r.dispatchEvent(new Gn("scroll",o)),r.dispatchEvent(new Gn("valuechange",o))}},r.onTrackClick=function(i){var a=r.attributes.slidable;if(a){var o=et(r.getLocalPosition(),2),s=o[0],l=o[1],c=et(r.padding,4),u=c[0],d=c[3],h=r.getOrientVal([s+d,l+u]),v=r.getOrientVal(Bw(i)),g=(v-h)/r.trackLength;r.setValue(g,!0)}},r.onThumbMouseenter=function(i){r.dispatchEvent(new Gn("thumbMouseenter",{detail:i.detail}))},r.onTrackMouseenter=function(i){r.dispatchEvent(new Gn("trackMouseenter",{detail:i.detail}))},r.onThumbMouseleave=function(i){r.dispatchEvent(new Gn("thumbMouseleave",{detail:i.detail}))},r.onTrackMouseleave=function(i){r.dispatchEvent(new Gn("trackMouseleave",{detail:i.detail}))},r}return Object.defineProperty(e.prototype,"padding",{get:function(){var n=this.attributes.padding;return Ii(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var n=this.attributes.value,r=et(this.range,2),i=r[0],a=r[1];return jr(n,i,a)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLength",{get:function(){var n=this.attributes,r=n.viewportLength,i=n.trackLength,a=i===void 0?r:i;return a},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes.trackSize,r=this.trackLength,i=et(this.padding,4),a=i[0],o=i[1],s=i[2],l=i[3],c=et(this.getOrientVal([[r,n],[n,r]]),2),u=c[0],d=c[1];return{x:l,y:a,width:+u-(l+o),height:+d-(a+s)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.trackSize;return r?i/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbRadius",{get:function(){var n=this.attributes,r=n.isRound,i=n.thumbRadius;if(!r)return 0;var a=this.availableSpace,o=a.width,s=a.height;return i||this.getOrientVal([s,o])/2},enumerable:!1,configurable:!0}),e.prototype.getValues=function(n){n===void 0&&(n=this.value);var r=this.attributes,i=r.viewportLength,a=r.contentLength,o=i/a,s=et(this.range,2),l=s[0],c=s[1],u=n*(c-l-o);return[u,u+o]},e.prototype.getValue=function(){return this.value},e.prototype.renderSlider=function(n){var r=this.attributes,i=r.x,a=r.y,o=r.orientation,s=r.trackSize,l=r.padding,c=r.slidable,u=$e(this.attributes,"track"),d=$e(this.attributes,"thumb"),h=Dt(Dt({x:i,y:a,brushable:!1,orientation:o,padding:l,selectionRadius:this.thumbRadius,showHandle:!1,slidable:c,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:s,values:this.getValues()},kl(u,"track")),kl(d,"selection"));this.slider=be(n).maybeAppendByClassName("scrollbar",function(){return new uz({style:h})}).update(h).node()},e.prototype.render=function(n,r){this.renderSlider(r)},e.prototype.setValue=function(n,r){r===void 0&&(r=!1);var i=this.attributes.value,a=et(this.range,2),o=a[0],s=a[1];this.slider.setValues(this.getValues(jr(n,o,s)),r),this.onValueChange(i)},e.prototype.bindEvents=function(){var n=this;this.slider.addEventListener("trackClick",function(r){r.stopPropagation(),n.onTrackClick(r.detail)}),this.onHover()},e.prototype.getOrientVal=function(n){var r=this.attributes.orientation;return r==="horizontal"?n[0]:n[1]},e.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},e.tag="scrollbar",e})(bi),R5={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Bi({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};wt({},R5,{style:{type:"arc"}});wt({},R5,{style:{}});var Ln=os({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),dg=os({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function fz(t){return t.reduce(function(e,n,r){return e.push(ee([r===0?"M":"L"],et(n),!1)),e},[])}function Wit(t,e,n){var r=e.connect,i=r===void 0?"line":r,a=e.center;if(i==="line")return fz(t);if(!a)return[];var o=f1(t[0],a),s=n?0:1;return t.reduce(function(l,c,u){return u===0?l.push(ee(["M"],et(c),!1)):l.push(ee(["A",o,o,0,0,s],et(c),!1)),l},[])}function qT(t,e,n){return e.type==="surround"?Wit(t,e,n):fz(t)}function Xit(t,e,n){var r=n.type,i=n.connect,a=n.center,o=n.closed,s=o?[["Z"]]:[],l=et([qT(t,n),qT(e.slice().reverse(),n,!0)],2),c=l[0],u=l[1],d=et([t[0],e.slice(-1)[0]],2),h=d[0],v=d[1],g=function(w,E){return[c,w,u,E,s].flat()};if(i==="line"||r==="surround")return g([ee(["L"],et(v),!1)],[ee(["L"],et(h),!1)]);if(!a)throw new Error("Arc grid need to specified center");var b=et([f1(v,a),f1(h,a)],2),x=b[0],_=b[1];return g([ee(["A",x,x,0,0,1],et(v),!1),ee(["L"],et(v),!1)],[ee(["A",_,_,0,0,0],et(h),!1),ee(["L"],et(h),!1)])}function Vit(t,e,n,r){var i=n.animate,a=n.isBillboard,o=e.map(function(s,l){return{id:s.id||"grid-line-".concat(l),d:qT(s.points,n)}});return t.selectAll(dg.line.class).data(o,function(s){return s.id}).join(function(s){return s.append("path").each(function(l,c){var u=ro(Sj(Dt({d:l.d},r)),[l,c,o]);this.attr(Dt({class:dg.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:a},u))})},function(s){return s.transition(function(l,c){var u=ro(Sj(Dt({d:l.d},r)),[l,c,o]);return Ds(this,u,i.update)})},function(s){return s.transition(function(){var l=this,c=vS(this,i.exit);return kg(c,function(){return l.remove()}),c})}).transitions()}function Kit(t,e,n){var r=n.animate,i=n.connect,a=n.areaFill;if(e.length<2||!a||!i)return[];for(var o=Array.isArray(a)?a:[a,"transparent"],s=function(g){return o[g%o.length]},l=[],c=0;c<e.length-1;c++){var u=et([e[c].points,e[c+1].points],2),d=u[0],h=u[1],v=Xit(d,h,n);l.push({d:v,fill:s(c)})}return t.selectAll(dg.region.class).data(l,function(g,b){return b}).join(function(g){return g.append("path").each(function(b,x){var _=ro(b,[b,x,l]);this.attr(_)}).attr("className",dg.region.name)},function(g){return g.transition(function(b,x){var _=ro(b,[b,x,l]);return Ds(this,_,r.update)})},function(g){return g.transition(function(){var b=this,x=vS(this,r.exit);return kg(x,function(){return b.remove()}),x})}).transitions()}function Zit(t){var e=t.data,n=e===void 0?[]:e,r=t.closed;return r?n.map(function(i){var a=i.points,o=et(a,1),s=o[0];return Dt(Dt({},i),{points:ee(ee([],et(a),!1),[s],!1)})}):n}var Qit=(function(t){yr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r){n.type,n.center,n.areaFill,n.closed;var i=vi(n,["type","center","areaFill","closed"]),a=Zit(n),o=be(r).maybeAppendByClassName(dg.lineGroup,"g"),s=be(r).maybeAppendByClassName(dg.regionGroup,"g"),l=Vit(o,a,n,i),c=Kit(s,a,n);return ee(ee([],et(l),!1),et(c),!1)},e})(bi);function dz(t,e){return Object.fromEntries(Object.entries(t).map(function(n){var r=et(n,2),i=r[0],a=r[1];return[i,ro(a,e)]}))}function P5(t,e){return e&&pi(e)?t.filter(e):t}function hz(t,e){var n=e.startAngle,r=e.endAngle;return(r-n)*t+n}function gS(t,e){if(e.type==="linear"){var n=et(e.startPos,2),r=n[0],i=n[1],a=et(e.endPos,2),o=a[0],s=a[1],l=et([o-r,s-i],2),c=l[0],u=l[1];return V$([c,u])}var d=fg(hz(t,e));return[-Math.sin(d),Math.cos(d)]}function j5(t,e,n){var r=gS(t,n);return Mrt(r,e!=="positive")}function Cg(t,e){return j5(t,e.labelDirection,e)}function Jit(t,e){var n=et(e.startPos,2),r=n[0],i=n[1],a=et(e.endPos,2),o=a[0],s=a[1],l=et([o-r,s-i],2),c=l[0],u=l[1];return[r+c*t,i+u*t]}function tat(t,e){var n=e.radius,r=et(e.center,2),i=r[0],a=r[1],o=fg(hz(t,e));return[i+n*Math.cos(o),a+n*Math.sin(o)]}function yS(t,e){return e.type==="linear"?Jit(t,e):tat(t,e)}function L5(t){return gS(0,t)[1]===0}function pz(t){return gS(0,t)[0]===0}function vz(t,e){return e-t===360}function Uj(t,e,n,r,i){var a=e-t,o=et([i,i],2),s=o[0],l=o[1],c=et([fg(t),fg(e)],2),u=c[0],d=c[1],h=function(j){return[n+i*Math.cos(j),r+i*Math.sin(j)]},v=et(h(u),2),g=v[0],b=v[1],x=et(h(d),2),_=x[0],w=x[1];if(vz(t,e)){var E=(d+u)/2,A=et(h(E),2),M=A[0],T=A[1];return[["M",g,b],["A",s,l,0,1,0,M,T],["A",s,l,0,1,0,_,w]]}var C=a>180?1:0,R=t>e?0:1;return"M".concat(g,",").concat(b,",A").concat(s,",").concat(l,",0,").concat(C,",").concat(R,",").concat(_,",").concat(w)}function eat(t){var e=t.attributes,n=e.startAngle,r=e.endAngle,i=e.center,a=e.radius;return ee(ee([n,r],et(i),!1),[a],!1)}function nat(t,e,n,r){var i=e.startAngle,a=e.endAngle,o=e.center,s=e.radius;return t.selectAll(Ln.line.class).data([{d:Uj.apply(void 0,ee(ee([i,a],et(o),!1),[s],!1))}],function(l,c){return c}).join(function(l){return l.append("path").attr("className",Ln.line.name).styles(e).styles({d:function(c){return c.d}})},function(l){return l.transition(function(){var c=this,u=Ort(this,eat(this),ee(ee([i,a],et(o),!1),[s],!1),r.update);if(u){var d=function(){var h=_e(c.attributes,"__keyframe_data__");c.style.d=Uj.apply(void 0,ee([],et(h),!1))};u.onframe=d,u.onfinish=d}return u}).styles(e)},function(l){return l.remove()}).styles(n).transitions()}function rat(t,e){e.truncRange,e.truncShape,e.lineExtension}function iat(t,e,n){n===void 0&&(n=[0,0]);var r=et([t,e,n],3),i=et(r[0],2),a=i[0],o=i[1],s=et(r[1],2),l=s[0],c=s[1],u=et(r[2],2),d=u[0],h=u[1],v=et([l-a,c-o],2),g=v[0],b=v[1],x=Math.sqrt(Math.pow(g,2)+Math.pow(b,2)),_=et([-d/x,h/x],2),w=_[0],E=_[1];return[w*g,w*b,E*g,E*b]}function Hj(t){var e=et(t,2),n=et(e[0],2),r=n[0],i=n[1],a=et(e[1],2),o=a[0],s=a[1];return{x1:r,y1:i,x2:o,y2:s}}function aat(t,e,n,r){var i=e.showTrunc,a=e.startPos,o=e.endPos,s=e.truncRange,l=e.lineExtension,c=et([a,o],2),u=et(c[0],2),d=u[0],h=u[1],v=et(c[1],2),g=v[0],b=v[1],x=et(l?iat(a,o,l):new Array(4).fill(0),4),_=x[0],w=x[1],E=x[2],A=x[3],M=function(Y){return t.selectAll(Ln.line.class).data(Y,function(W,V){return V}).join(function(W){return W.append("line").attr("className",function(V){return"".concat(Ln.line.name," ").concat(V.className)}).styles(n).transition(function(V){return Ds(this,Hj(V.line),!1)})},function(W){return W.styles(n).transition(function(V){var J=V.line;return Ds(this,Hj(J),r.update)})},function(W){return W.remove()}).transitions()};if(!i||!s)return M([{line:[[d+_,h+w],[g+E,b+A]],className:Ln.line.name}]);var T=et(s,2),C=T[0],R=T[1],j=g-d,I=b-h,D=et([d+j*C,h+I*C],2),B=D[0],$=D[1],U=et([d+j*R,h+I*R],2),G=U[0],F=U[1],H=M([{line:[[d+_,h+w],[B,$]],className:Ln.lineFirst.name},{line:[[G,F],[g+E,b+A]],className:Ln.lineSecond.name}]);return rat(t,e),H}function oat(t,e,n,r){var i=n.showArrow,a=n.showTrunc,o=n.lineArrow,s=n.lineArrowOffset,l=n.lineArrowSize,c;if(e==="arc"?c=t.select(Ln.line.class):a?c=t.select(Ln.lineSecond.class):c=t.select(Ln.line.class),!i||!o||n.type==="arc"&&vz(n.startAngle,n.endAngle)){var u=c.node();u&&(u.style.markerEnd=void 0);return}var d=_h(o);d.attr(r),M5(d,l),c.style("markerEnd",d).style("markerEndOffset",-s)}function sat(t,e,n){var r=e.type,i,a=$e(e,"line");return r==="linear"?i=aat(t,e,Oj(a,"arrow"),n):i=nat(t,e,Oj(a,"arrow"),n),oat(t,r,e,a),i}function lat(t,e){return j5(t,e.gridDirection,e)}function gz(t){var e=t.type,n=t.gridCenter;return e==="linear"?n:n||t.center}function cat(t,e){var n=e.gridLength;return t.map(function(r,i){var a=r.value,o=et(yS(a,e),2),s=o[0],l=o[1],c=et(kc(lat(a,e),n),2),u=c[0],d=c[1];return{id:i,points:[[s,l],[s+u,l+d]]}})}function uat(t,e){var n=e.gridControlAngles,r=gz(e);if(!r)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||n.length===0)throw new Error("Invalid gridControlAngles");var i=et(r,2),a=i[0],o=i[1];return t.map(function(s,l){var c=s.value,u=et(yS(c,e),2),d=u[0],h=u[1],v=et([d-a,h-o],2),g=v[0],b=v[1],x=[];return n.forEach(function(_){var w=fg(_),E=et([Math.cos(w),Math.sin(w)],2),A=E[0],M=E[1],T=g*A-b*M+a,C=g*M+b*A+o;x.push([T,C])}),{points:x,id:l}})}function fat(t,e,n,r){var i=$e(n,"grid"),a=i.type,o=i.areaFill,s=gz(n),l=P5(e,n.gridFilter),c=a==="segment"?cat(l,n):uat(l,n),u=Dt(Dt({},i),{center:s,areaFill:pi(o)?l.map(function(d,h){return ro(o,[d,h,l])}):o,animate:r,data:c});return t.selectAll(Ln.grid.class).data([1]).join(function(d){return d.append(function(){return new Qit({style:u})}).attr("className",Ln.grid.name)},function(d){return d.transition(function(){return this.update(u)})},function(d){return d.remove()}).transitions()}var WT=(function(){function t(e,n,r,i){this.set(e,n,r,i)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(e,n,r){var i=this,a=i.x1,o=i.y1,s=i.x2,l=i.y2,c=Math.cos(e),u=Math.sin(e),d=n-n*c+r*u,h=r-n*u-r*c,v=[[c*a-u*l+d,u*a+c*l+h],[c*s-u*l+d,u*s+c*l+h],[c*a-u*o+d,u*a+c*o+h],[c*s-u*o+d,u*s+c*o+h]];return v},t.prototype.set=function(e,n,r,i){return r<e?(this.x2=e,this.x1=r):(this.x1=e,this.x2=r),i<n?(this.y2=n,this.y1=i):(this.y1=n,this.y2=i),this},t.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},t})();function XT(t,e){var n=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getBounds(),i=et(r.min,2),a=i[0],o=i[1],s=et(r.max,2),l=s[0],c=s[1],u=t.getBBox(),d=u.width,h=u.height,v=h,g=0,b=0,x=a,_=o,w=W$(t);if(w){v-=1.5;var E=w.style.textAlign,A=w.style.textBaseline;E==="center"?x=(a+l)/2:(E==="right"||E==="end")&&(x=l),A==="middle"?_=(o+c)/2:A==="bottom"&&(_=c)}var M=et(Ii(e),4),T=M[0],C=T===void 0?0:T,R=M[1],j=R===void 0?0:R,I=M[2],D=I===void 0?C:I,B=M[3],$=B===void 0?j:B,U=new WT((g+=a)-$,(b+=o)-C,g+d+j,b+v+D);return t.setEulerAngles(n),U.rotatedPoints(fg(n),x,_)}function vm(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function gm(t,e,n){var r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return r===0?0:r<0?2:1}function dat(t,e){var n=gm(t[0],t[1],e[0]),r=gm(t[0],t[1],e[1]),i=gm(e[0],e[1],t[0]),a=gm(e[0],e[1],t[1]);return!!(n!==r&&i!==a||n===0&&vm(t,e[0])||r===0&&vm(t,e[1])||i===0&&vm(e,t[0])||a===0&&vm(e,t[1]))}function hat(t,e){var n=t.length;if(n<3)return!1;var r=[e,[9999,e[1]]],i=0,a=0;do{var o=[t[a],t[(a+1)%n]];if(dat(o,r)){if(gm(o[0],e,o[1])===0)return vm(o,e);i++}a=(a+1)%n}while(a!==0);return!!(i&1)}function pat(t,e){return e.every(function(n){return hat(t,n)})}function vat(t,e,n){var r=t.x1,i=t.x2,a=t.y1,o=t.y2,s=[[r,a],[i,a],[i,o],[r,o]],l=XT(e,n);return pat(s,l)}function gat(t,e){var n=et(t,4),r=n[0],i=n[1],a=n[2],o=n[3],s=et(e,4),l=s[0],c=s[1],u=s[2],d=s[3],h=a-r,v=o-i,g=u-l,b=d-c,x=h*b-g*v;if(x===0)return!1;var _=x>0,w=r-l,E=i-c,A=h*E-v*w;if(A<0===_)return!1;var M=g*E-b*w;return!(M<0===_||A>x===_||M>x===_)}function yat(t,e){var n=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return n.some(function(r){return gat(e,r)})}function mat(t,e,n){var r,i,a=XT(t,n).flat(1),o=XT(e,n).flat(1),s=[[a[0],a[1],a[2],a[3]],[a[0],a[1],a[4],a[5]],[a[4],a[5],a[6],a[7]],[a[2],a[3],a[6],a[7]]];try{for(var l=P1(s),c=l.next();!c.done;c=l.next()){var u=c.value;if(yat(o,u))return!0}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}function bat(t,e){var n=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if(n==="arc"){var a=t.center,o=t.radius,s=et(a,2),l=s[0],c=s[1],u=r==="negative"?0:i,d=-o-u,h=o+u,v=et(Ii(e),4),g=v[0],b=v[1],x=v[2],_=v[3];return new WT(l+d-_,c+d-g,l+h+b,c+h+x)}var w=et(t.startPos,2),E=w[0],A=w[1],M=et(t.endPos,2),T=M[0],C=M[1],R=et(pz(t)?[-e,0,e,0]:[0,e,0,-e],4),j=R[0],I=R[1],D=R[2],B=R[3],$=Cg(0,t),U=kc($,i),G=new WT(E,A,T,C);return G.x1+=B,G.y1+=j,G.x2+=I+U[0],G.y2+=D+U[1],G}function mS(t,e,n){var r,i,a=e.crossPadding,o=new Set,s=null,l=bat(e,a),c=function(g){return l?vat(l,g):!0},u=function(g,b){return!g||!g.firstChild?!0:!mat(g.firstChild,b.firstChild,Ii(n))};try{for(var d=P1(t),h=d.next();!h.done;h=d.next()){var v=h.value;c(v)?!s||u(s,v)?s=v:(o.add(s),o.add(v)):o.add(v)}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return Array.from(o)}function qA(t,e){return e===void 0&&(e={}),ue(t)?0:typeof t=="number"?t:Math.floor(grt(t,e))}function xat(t,e,n,r){if(!(t.length<=0)){var i=e.suffix,a=i===void 0?"...":i,o=e.minLength,s=e.maxLength,l=s===void 0?1/0:s,c=e.step,u=c===void 0?" ":c,d=e.margin,h=d===void 0?[0,0,0,0]:d,v=q$(r.getTextShape(t[0])),g=qA(u,v),b=o?qA(o,v):g,x=qA(l,v);(ue(x)||x===1/0)&&(x=Math.max.apply(null,t.map(function(T){return T.getBBox().width})));var _=t.slice(),w=et(h,4);w[0],w[1],w[2],w[3];for(var E=function(T){if(_.forEach(function(C){r.ellipsis(r.getTextShape(C),T,a)}),_=mS(t,n,h),_.length<1)return{value:void 0}},A=x;A>b+g;A-=g){var M=E(A);if(typeof M=="object")return M.value}}}var _at={parity:function(t,e){var n=e.seq,r=n===void 0?2:n;return t.filter(function(i,a){return a%r?(_f(i),!1):!0})}},wat=function(t){return t.filter(vrt)};function Oat(t,e,n,r){var i=t.length,a=e.keepHeader,o=e.keepTail;if(!(i<=1||i===2&&a&&o)){var s=_at.parity,l=function(E){return E.forEach(r.show),E},c=2,u=t.slice(),d=t.slice(),h=Math.min.apply(Math,ee([1],et(t.map(function(E){return E.getBBox().width})),!1));if(n.type==="linear"&&(L5(n)||pz(n))){var v=Ej(t[0]).left,g=Ej(t[i-1]).right,b=Math.abs(g-v)||1;c=Math.max(Math.floor(i*h/b),c)}var x,_;for(a&&(x=u.splice(0,1)[0]),o&&(_=u.splice(-1,1)[0],u.reverse()),l(u);c<t.length&&mS(wat(_?ee(ee([_],et(d),!1),[x],!1):ee([x],et(d),!1)),n,e?.margin).length;){if(_&&!x&&c%2===0){var w=u.splice(0,1);w.forEach(r.hide)}else if(_&&x){var w=u.splice(0,1);w.forEach(r.hide)}d=s(l(u),{seq:c}),c++}}}function Sat(t,e,n,r){var i,a,o=e.optionalAngles,s=o===void 0?[0,45,90]:o,l=e.margin,c=e.recoverWhenFailed,u=c===void 0?!0:c,d=t.map(function(_){return _.getLocalEulerAngles()}),h=function(){return mS(t,n,l).length<1},v=function(_){return t.forEach(function(w,E){var A=Array.isArray(_)?_[E]:_;r.rotate(w,+A)})};try{for(var g=P1(s),b=g.next();!b.done;b=g.next()){var x=b.value;if(v(x),h())return}}catch(_){i={error:_}}finally{try{b&&!b.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}u&&v(d)}function Eat(t){var e=t.type,n=t.labelDirection;return e==="linear"&&L5(t)?n==="negative"?"bottom":"top":"middle"}function Aat(t,e,n,r,i){var a,o=e.maxLines,s=o===void 0?3:o,l=e.recoverWhenFailed,c=l===void 0?!0:l,u=e.margin,d=u===void 0?[0,0,0,0]:u,h=ro((a=e.wordWrapWidth)!==null&&a!==void 0?a:50,[i]),v=t.map(function(E){return E.attr("maxLines")||1}),g=Math.min.apply(Math,ee([],et(v),!1)),b=function(){return mS(t,n,d).length<1},x=Eat(n),_=function(E){return t.forEach(function(A,M){var T=Array.isArray(E)?E[M]:E;r.wrap(A,h,T,x)})};if(!(g>s)){if(n.type==="linear"&&L5(n)){if(_(s),b())return}else for(var w=g;w<=s;w++)if(_(w),b())return;c&&_(v)}}var Mat=new Map([["hide",Oat],["rotate",Sat],["ellipsis",xat],["wrap",Aat]]);function Tat(t,e,n){return e.labelOverlap.length<1?!1:n==="hide"?!hrt(t[0]):n==="rotate"?!t.some(function(r){var i;return!!(!((i=r.attr("transform"))===null||i===void 0)&&i.includes("rotate"))}):n==="ellipsis"||n==="wrap"?t.filter(function(r){return r.querySelector("text")}).length>=1:!0}function kat(t,e,n,r){var i=e.labelOverlap,a=i===void 0?[]:i;a.length&&a.forEach(function(o){var s=o.type,l=Mat.get(s);Tat(t,e,s)&&l?.(t,o,e,r,n)})}function Cat(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r==="positive"?-1:1};return t.reduce(function(r,i){return r*n(i)},1)}function Gj(t){for(var e=t;e<0;)e+=360;return Math.round(e%360)}function VT(t,e){var n=et(t,2),r=n[0],i=n[1],a=et(e,2),o=a[0],s=a[1],l=et([r*o+i*s,r*s-i*o],2),c=l[0],u=l[1];return Math.atan2(u,c)}function Rat(t){var e=(t+360)%180;return Li(e,-90,90)||(e+=180),e}function Pat(t,e,n){var r,i=n.labelAlign,a=(r=e.style.transform)===null||r===void 0?void 0:r.includes("rotate");if(a)return e.getLocalEulerAngles();var o=0,s=Cg(t.value,n),l=gS(t.value,n);return i==="horizontal"?0:(i==="perpendicular"?o=VT([1,0],s):o=VT([l[0]<0?-1:1,0],l),Rat(G$(o)))}function yz(t,e,n){var r=n.type,i=n.labelAlign,a=Cg(t,n),o=Gj(e),s=Gj(G$(VT([1,0],a))),l="center",c="middle";return r==="linear"?[90,270].includes(s)&&o===0?(l="center",c=a[1]===1?"top":"bottom"):!(s%180)&&[90,270].includes(o)?l="center":s===0?(Li(o,0,90,!1,!0)||Li(o,0,90)||Li(o,270,360))&&(l="start"):s===90?Li(o,0,90,!1,!0)?l="start":(Li(o,90,180)||Li(o,270,360))&&(l="end"):s===270?Li(o,0,90,!1,!0)?l="end":(Li(o,90,180)||Li(o,270,360))&&(l="start"):s===180&&(o===90?l="start":(Li(o,0,90)||Li(o,270,360))&&(l="end")):i==="parallel"?Li(s,0,180,!0)?c="top":c="bottom":i==="horizontal"?Li(s,90,270,!1)?l="end":(Li(s,270,360,!1)||Li(s,0,90))&&(l="start"):i==="perpendicular"&&(Li(s,90,270)?l="end":l="start"),{textAlign:l,textBaseline:c}}function jat(t,e,n){e.setLocalEulerAngles(t);var r=e.__data__.value,i=yz(r,t,n),a=e.querySelector(Ln.labelItem.class);a&&mz(a,i)}function Yj(t,e,n){var r=n.showTick,i=n.tickLength,a=n.tickDirection,o=n.labelDirection,s=n.labelSpacing,l=e.indexOf(t),c=ro(s,[t,l,e]),u=et([Cg(t.value,n),Cat(o,a)],2),d=u[0],h=u[1],v=h===1?ro(r?i:0,[t,l,e]):0,g=et(pm(kc(d,c+v),yS(t.value,n)),2),b=g[0],x=g[1];return{x:b,y:x}}function Lat(t,e,n,r){var i=r.labelFormatter,a=pi(i)?function(){return _h(ro(i,[t,e,n,Cg(t.value,r)]))}:function(){return _h(t.label||"")};return a}function Nat(t,e,n,r){var i=r.labelRender,a=(_e(r,"endPos.0",400)-_e(r,"startPos.0",0))/n.length,o=pi(i)?ro(i,[t,e,n,Cg(t.value,r)]):t.label||"",s=Grt(o)||30;return function(){return mrt(o,{width:a,height:s})}}function mz(t,e){["text","html"].includes(t.nodeName)&&t.attr(e)}function Dat(t,e){kat(this.node().childNodes,t,e,{hide:_f,show:W1,rotate:function(n,r){jat(+r,n,t)},ellipsis:function(n,r,i){n&&HT(n,r||1/0,i)},wrap:function(n,r,i){n&&yrt(n,r,i)},getTextShape:function(n){return n.querySelector("text")}})}function qj(t,e,n,r,i){var a=n.indexOf(e),o=i.labelRender,s=be(t).append(o?Nat(e,a,n,i):Lat(e,a,n,i)).attr("className",Ln.labelItem.name).node(),l=et($c(dz(r,[e,a,n])),2),c=l[0],u=l[1],d=u.transform,h=vi(u,["transform"]);K$(s,d);var v=Pat(e,s,i);return s.getLocalEulerAngles()||s.setLocalEulerAngles(v),mz(s,Dt(Dt({},yz(e.value,v,i)),c)),t.attr(h),s}function Iat(t,e,n,r,i){var a=P5(e,n.labelFilter),o=$e(n,"label"),s,l=t.selectAll(Ln.label.class).data(a,function(c,u){return u}).join(function(c){return c.append("g").attr("className",Ln.label.name).transition(function(u){qj(this,u,e,o,n);var d=Yj(u,e,n),h=d.x,v=d.y;return this.style.transform="translate(".concat(h,", ").concat(v,")"),null})},function(c){return c.transition(function(u){var d=this.querySelector(Ln.labelItem.class),h=qj(this,u,e,o,n),v=Git(d,h,r.update),g=Yj(u,e,n),b=g.x,x=g.y,_=Ds(this,{transform:"translate(".concat(b,", ").concat(x,")")},r.update);return ee(ee([],et(v),!1),[_],!1)})},function(c){return s=c,c.transition(function(){var u=this,d=vS(this.childNodes[0],r.exit);return kg(d,function(){return be(u).remove()}),d}),s}).transitions();return Uit(l,function(){Dat.call(t,n,i)}),l}function bz(t,e){return j5(t,e.tickDirection,e)}function Bat(t,e){var n=et(t,2),r=n[0],i=n[1];return[[0,0],[r*e,i*e]]}function $at(t,e,n,r,i){var a=i.tickLength,o=et(Bat(r,ro(a,[t,e,n])),2),s=et(o[0],2),l=s[0],c=s[1],u=et(o[1],2),d=u[0],h=u[1];return{x1:l,x2:d,y1:c,y2:h}}function zat(t,e,n,r,i){var a=i.tickFormatter,o=bz(e.value,i),s="line";return pi(a)&&(s=function(){return ro(a,[e,n,r,o])}),t.append(s).attr("className",Ln.tickItem.name)}function Fat(t,e,n,r,i,a,o){var s=bz(t.value,a),l=$at(t,e,n,s,a),c=l.x1,u=l.x2,d=l.y1,h=l.y2,v=et($c(dz(o,[t,e,n,s])),2),g=v[0],b=v[1];r.node().nodeName==="line"&&r.styles(Dt({x1:c,x2:u,y1:d,y2:h},g)),i.attr(b),r.styles(g)}function Wj(t,e,n,r,i,a){var o=zat(be(this),t,e,n,r);Fat(t,e,n,o,this,r,i);var s=et(yS(t.value,r),2),l=s[0],c=s[1];return Ds(this,{transform:"translate(".concat(l,", ").concat(c,")")},a)}function Uat(t,e,n,r){var i=P5(e,n.tickFilter),a=$e(n,"tick");return t.selectAll(Ln.tick.class).data(i,function(o){return o.id||o.label}).join(function(o){return o.append("g").attr("className",Ln.tick.name).transition(function(s,l){return Wj.call(this,s,l,i,n,a,!1)})},function(o){return o.transition(function(s,l){return this.removeChildren(),Wj.call(this,s,l,i,n,a,r.update)})},function(o){return o.transition(function(){var s=this,l=vS(this.childNodes[0],r.exit);return kg(l,function(){return s.remove()}),l})}).transitions()}function Hat(t,e,n){var r=n.titlePosition,i=r===void 0?"lb":r,a=n.titleSpacing,o=pS(i),s=t.node().getLocalBounds(),l=et(s.min,2),c=l[0],u=l[1],d=et(s.halfExtents,2),h=d[0],v=d[1],g=et(e.node().getLocalBounds().halfExtents,2),b=g[0],x=g[1],_=et([c+h,u+v],2),w=_[0],E=_[1],A=et(Ii(a),4),M=A[0],T=A[1],C=A[2],R=A[3];if(["start","end"].includes(i)&&n.type==="linear"){var j=n.startPos,I=n.endPos,D=et(i==="start"?[j,I]:[I,j],2),B=D[0],$=D[1],U=V$([-$[0]+B[0],-$[1]+B[1]]),G=et(kc(U,M),2),F=G[0],H=G[1];return{x:B[0]+F,y:B[1]+H}}return o.includes("t")&&(E-=v+x+M),o.includes("r")&&(w+=h+b+T),o.includes("l")&&(w-=h+b+R),o.includes("b")&&(E+=v+x+C),{x:w,y:E}}function Gat(t,e,n){var r=t.getGeometryBounds().halfExtents,i=r[1]*2;if(e==="vertical"){if(n==="left")return"rotate(-90) translate(0, ".concat(i/2,")");if(n==="right")return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function Xj(t,e,n,r,i){var a=$e(r,"title"),o=et($c(a),2),s=o[0],l=o[1],c=l.transform,u=l.transformOrigin,d=vi(l,["transform","transformOrigin"]);e.styles(d);var h=c||Gat(t.node(),s.direction,s.position);t.styles(Dt(Dt({},s),{transformOrigin:u})),K$(t.node(),h);var v=Hat(be(n._offscreen||n.querySelector(Ln.mainGroup.class)),e,r),g=v.x,b=v.y,x=Ds(e.node(),{transform:"translate(".concat(g,", ").concat(b,")")},i);return x}function Yat(t,e,n,r){var i=n.titleText;return t.selectAll(Ln.title.class).data([{title:i}].filter(function(a){return!!a.title}),function(a,o){return a.title}).join(function(a){return a.append(function(){return _h(i)}).attr("className",Ln.title.name).transition(function(){return Xj(be(this),t,e,n,r.enter)})},function(a){return a.transition(function(){return Xj(be(this),t,e,n,r.update)})},function(a){return a.remove()}).transitions()}function Vj(t,e,n,r){var i=t.showLine,a=t.showTick,o=t.showLabel,s=e.maybeAppendByClassName(Ln.lineGroup,"g"),l=Ta(i,s,function(v){return sat(v,t,r)})||[],c=e.maybeAppendByClassName(Ln.tickGroup,"g"),u=Ta(a,c,function(v){return Uat(v,n,t,r)})||[],d=e.maybeAppendByClassName(Ln.labelGroup,"g"),h=Ta(o,d,function(v){return Iat(v,n,t,r,e.node())})||[];return ee(ee(ee([],et(l),!1),et(u),!1),et(h),!1).filter(function(v){return!!v})}var N5=(function(t){yr(e,t);function e(n){return t.call(this,n,R5)||this}return e.prototype.render=function(n,r,i){var a=this,o=n.titleText,s=n.data,l=n.animate,c=n.showTitle,u=n.showGrid,d=n.dataThreshold,h=n.truncRange,v=Prt(s,d).filter(function(M){var T=M.value;return!(h&&T>h[0]&&T<h[1])}),g=Fj(i===void 0?l:i),b=be(r).maybeAppendByClassName(Ln.gridGroup,"g"),x=Ta(u,b,function(M){return fat(M,v,n,g)})||[],_=be(r).maybeAppendByClassName(Ln.mainGroup,"g");o&&(!this.initialized&&g.enter||this.initialized&&g.update)&&Vj(n,be(this.offscreenGroup),v,Fj(!1));var w=Vj(n,be(_.node()),v,g),E=be(r).maybeAppendByClassName(Ln.titleGroup,"g"),A=Ta(c,E,function(M){return Yat(M,a,n,g)})||[];return ee(ee(ee([],et(x),!1),et(w),!1),et(A),!1).flat().filter(function(M){return!!M})},e})(bi),Kj=os({text:"text"},"title");function qat(t,e){var n=t.attributes,r=n.position,i=n.spacing,a=n.inset,o=n.text,s=t.getBBox(),l=e.getBBox(),c=pS(r),u=et(Ii(o?i:0),4),d=u[0],h=u[1],v=u[2],g=u[3],b=et(Ii(a),4),x=b[0],_=b[1],w=b[2],E=b[3],A=et([g+h,d+v],2),M=A[0],T=A[1],C=et([E+_,x+w],2),R=C[0],j=C[1];if(c[0]==="l")return new vr(s.x,s.y,l.width+s.width+M+R,Math.max(l.height+j,s.height));if(c[0]==="t")return new vr(s.x,s.y,Math.max(l.width+R,s.width),l.height+s.height+T+j);var I=et([e.attributes.width||l.width,e.attributes.height||l.height],2),D=I[0],B=I[1];return new vr(l.x,l.y,D+s.width+M+R,B+s.height+T+j)}function Wat(t,e){var n=Object.entries(e).reduce(function(r,i){var a=et(i,2),o=a[0],s=a[1],l=t.node().attr(o);return l||(r[o]=s),r},{});t.styles(n)}function Xat(t){var e,n,r,i,a=t,o=a.width,s=a.height,l=a.position,c=et([+o/2,+s/2],2),u=c[0],d=c[1],h=et([+u,+d,"center","middle"],4),v=h[0],g=h[1],b=h[2],x=h[3],_=pS(l);return _.includes("l")&&(e=et([0,"start"],2),v=e[0],b=e[1]),_.includes("r")&&(n=et([+o,"end"],2),v=n[0],b=n[1]),_.includes("t")&&(r=et([0,"top"],2),g=r[0],x=r[1]),_.includes("b")&&(i=et([+s,"bottom"],2),g=i[0],x=i[1]),{x:v,y:g,textAlign:b,textBaseline:x}}var xz=(function(t){yr(e,t);function e(n){return t.call(this,n,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return e.prototype.getAvailableSpace=function(){var n=this,r=this.attributes,i=r.width,a=r.height,o=r.position,s=r.spacing,l=r.inset,c=n.querySelector(Kj.text.class);if(!c)return new vr(0,0,+i,+a);var u=c.getBBox(),d=u.width,h=u.height,v=et(Ii(s),4),g=v[0],b=v[1],x=v[2],_=v[3],w=et([0,0,+i,+a],4),E=w[0],A=w[1],M=w[2],T=w[3],C=pS(o);if(C.includes("i"))return new vr(E,A,M,T);C.forEach(function(F,H){var Y,W,V,J;F==="t"&&(Y=et(H===0?[h+x,+a-h-x]:[0,+a],2),A=Y[0],T=Y[1]),F==="r"&&(W=et([+i-d-_],1),M=W[0]),F==="b"&&(V=et([+a-h-g],1),T=V[0]),F==="l"&&(J=et(H===0?[d+b,+i-d-b]:[0,+i],2),E=J[0],M=J[1])});var R=et(Ii(l),4),j=R[0],I=R[1],D=R[2],B=R[3],$=et([B+I,j+D],2),U=$[0],G=$[1];return new vr(E+B,A+j,M-U,T-G)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new vr(0,0,0,0)},e.prototype.render=function(n,r){var i=this;n.width,n.height,n.position,n.spacing;var a=vi(n,["width","height","position","spacing"]),o=et($c(a),1),s=o[0],l=Xat(n),c=l.x,u=l.y,d=l.textAlign,h=l.textBaseline;Ta(!!a.text,be(r),function(v){i.title=v.maybeAppendByClassName(Kj.text,"text").styles(s).call(Wat,{x:c,y:u,textAlign:d,textBaseline:h}).node()})},e})(bi),Bo=os({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),Vat=(function(t){yr(e,t);function e(n){var r=t.call(this,n,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:cit(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(i,a){return"".concat(i,"/").concat(a)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new mi({class:Bo.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new mi({class:Bo.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return Object.defineProperty(e.prototype,"defaultPage",{get:function(){var n=this.attributes.defaultPage;return jr(n,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var n=this.pageViews,r=et(Hrt(n.map(function(d){var h=d.getBBox(),v=h.width,g=h.height;return[v,g]})).map(function(d){return Math.max.apply(Math,ee([],et(d),!1))}),2),i=r[0],a=r[1],o=this.attributes,s=o.pageWidth,l=s===void 0?i:s,c=o.pageHeight,u=c===void 0?a:c;return{pageWidth:l,pageHeight:u}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=t.prototype.getBBox.call(this),r=n.x,i=n.y,a=this.controllerShape,o=this.pageShape,s=o.pageWidth,l=o.pageHeight;return new vr(r,i,s+a.width,l)},e.prototype.goTo=function(n){var r=this,i=this.attributes.animate,a=this,o=a.currPage,s=a.playState,l=a.playWindow,c=a.pageViews;if(s!=="idle"||n<0||c.length<=0||n>=c.length)return null;c[o].setLocalPosition(0,0),this.prepareFollowingPage(n);var u=et(this.getFollowingPageDiff(n),2),d=u[0],h=u[1];this.playState="running";var v=az(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-d,", ").concat(-h,")")}],i);return kg(v,function(){r.innerCurrPage=n,r.playState="idle",r.setVisiblePages([n]),r.updatePageInfo()}),v},e.prototype.prev=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i<=0)return null;var a=n?(i-1+r)%r:jr(i-1,0,r);return this.goTo(a)},e.prototype.next=function(){var n=this.attributes.loop,r=this.pageViews.length,i=this.currPage;if(!n&&i>=r-1)return null;var a=n?(i+1)%r:jr(i+1,0,r);return this.goTo(a)},e.prototype.renderClipPath=function(n){var r=this.pageShape,i=r.pageWidth,a=r.pageHeight;if(!i||!a){this.contentGroup.style.clipPath=void 0;return}this.clipPath=n.maybeAppendByClassName(Bo.clipPath,"rect").styles({width:i,height:a}),this.contentGroup.attr("clipPath",this.clipPath.node())},e.prototype.setVisiblePages=function(n){this.playWindow.children.forEach(function(r,i){n.includes(i)?W1(r):_f(r)})},e.prototype.adjustControllerLayout=function(){var n=this,r=n.prevBtnGroup,i=n.nextBtnGroup,a=n.pageInfoGroup,o=this.attributes,s=o.orientation,l=o.controllerPadding,c=a.getBBox(),u=c.width;c.height;var d=et(s==="horizontal"?[-180,0]:[-90,90],2),h=d[0],v=d[1];r.setLocalEulerAngles(h),i.setLocalEulerAngles(v);var g=r.getBBox(),b=g.width,x=g.height,_=i.getBBox(),w=_.width,E=_.height,A=Math.max(b,u,w),M=s==="horizontal"?{offset:[[0,0],[b/2+l,0],[b+u+l*2,0]],textAlign:"start"}:{offset:[[A/2,-x-l],[A/2,0],[A/2,E+l]],textAlign:"center"},T=et(M.offset,3),C=et(T[0],2),R=C[0],j=C[1],I=et(T[1],2),D=I[0],B=I[1],$=et(T[2],2),U=$[0],G=$[1],F=M.textAlign,H=a.querySelector("text");H&&(H.style.textAlign=F),r.setLocalPosition(R,j),a.setLocalPosition(D,B),i.setLocalPosition(U,G)},e.prototype.updatePageInfo=function(){var n,r=this,i=r.currPage,a=r.pageViews,o=r.attributes.formatter;a.length<2||((n=this.pageInfoGroup.querySelector(Bo.pageInfo.class))===null||n===void 0||n.attr("text",o(i+1,a.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(n){var r=this.currPage;if(r===n)return[0,0];var i=this.attributes.orientation,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,l=n<r?-1:1;return i==="horizontal"?[l*o,0]:[0,l*s]},e.prototype.prepareFollowingPage=function(n){var r=this,i=r.currPage,a=r.pageViews;if(this.setVisiblePages([n,i]),n!==i){var o=et(this.getFollowingPageDiff(n),2),s=o[0],l=o[1];a[n].setLocalPosition(s,l)}},e.prototype.renderController=function(n){var r=this,i=this.attributes.controllerSpacing,a=this.pageShape,o=a.pageWidth,s=a.pageHeight,l=this.pageViews.length>=2,c=n.maybeAppendByClassName(Bo.controller,"g");if(hS(c.node(),l),!!l){var u=$e(this.attributes,"button"),d=$e(this.attributes,"pageNum"),h=et($c(u),2),v=h[0],g=h[1],b=v.size,x=vi(v,["size"]),_=!c.select(Bo.prevBtnGroup.class).node(),w=c.maybeAppendByClassName(Bo.prevBtnGroup,"g").styles(g);this.prevBtnGroup=w.node();var E=w.maybeAppendByClassName(Bo.prevBtn,"path"),A=c.maybeAppendByClassName(Bo.nextBtnGroup,"g").styles(g);this.nextBtnGroup=A.node();var M=A.maybeAppendByClassName(Bo.nextBtn,"path");[E,M].forEach(function(C){C.styles(Dt(Dt({},x),{transformOrigin:"center"})),M5(C.node(),b)});var T=c.maybeAppendByClassName(Bo.pageInfoGroup,"g");this.pageInfoGroup=T.node(),T.maybeAppendByClassName(Bo.pageInfo,"text").styles(d),this.updatePageInfo(),c.node().setLocalPosition(o+i,s/2),_&&(this.prevBtnGroup.addEventListener("click",function(){r.prev()}),this.nextBtnGroup.addEventListener("click",function(){r.next()}))}},e.prototype.render=function(n,r){var i=n.x,a=i===void 0?0:i,o=n.y,s=o===void 0?0:o;this.attr("transform","translate(".concat(a,", ").concat(s,")"));var l=be(r);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var n=this,r=P6(function(){return n.render(n.attributes,n)},50);this.playWindow.addEventListener(Ne.INSERTED,r),this.playWindow.addEventListener(Ne.REMOVED,r)},e})(bi);function Kat(t,e,n){var r=Math.round((t-n)/e);return n+r*e}function Zat(t,e,n){var r=1.4,i=r*n;return[["M",t-n,e-i],["L",t+n,e-i],["L",t+n,e+i],["L",t-n,e+i],["Z"]]}var _z=1.4,wz=.4;function Qat(t,e,n){var r=n,i=r*_z,a=r/2,o=r/6,s=t+i*wz;return[["M",t,e],["L",s,e+a],["L",t+i,e+a],["L",t+i,e-a],["L",s,e-a],["Z"],["M",s,e+o],["L",t+i-2,e+o],["M",s,e-o],["L",t+i-2,e-o]]}function Jat(t,e,n){var r=n,i=r*_z,a=r/2,o=r/6,s=e+i*wz;return[["M",t,e],["L",t-a,s],["L",t-a,e+i],["L",t+a,e+i],["L",t+a,s],["Z"],["M",t-o,s],["L",t-o,e+i-2],["M",t+o,s],["L",t+o,e+i-2]]}fn.registerSymbol("hiddenHandle",Zat);fn.registerSymbol("verticalHandle",Qat);fn.registerSymbol("horizontalHandle",Jat);function tot(t,e,n,r){var i,a=et(t,2),o=a[0],s=a[1],l=et(e,2),c=l[0],u=l[1],d=et(n,2),h=d[0],v=d[1],g=et([c,u],2),b=g[0],x=g[1],_=x-b;return b>x&&(i=et([x,b],2),b=i[0],x=i[1]),_>s-o?[o,s]:b<o?h===o&&v===x?[o,x]:[o,_+o]:x>s?v===s&&h===b?[b,s]:[s-_,s]:[b,x]}function Dl(t,e,n){return t===void 0&&(t="horizontal"),t==="horizontal"?e:n}var Be,eot="component-poptip",Ae={CONTAINER:"component-poptip",ARROW:"component-poptip-arrow",TEXT:"component-poptip-text"},Zj=(Be={},Be[".".concat(Ae.CONTAINER)]={visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"},Be[".".concat(Ae.TEXT)]={"text-align":"center"},Be[".".concat(Ae.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, -100%)"},Be[".".concat(Ae.CONTAINER,"[data-position='left']")]={transform:"translate(-100%, -50%)"},Be[".".concat(Ae.CONTAINER,"[data-position='right']")]={transform:"translate(0, -50%)"},Be[".".concat(Ae.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 0)"},Be[".".concat(Ae.CONTAINER,"[data-position='top-left']")]={transform:"translate(0,-100%)"},Be[".".concat(Ae.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%,-100%)"},Be[".".concat(Ae.CONTAINER,"[data-position='left-top']")]={transform:"translate(-100%, 0)"},Be[".".concat(Ae.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(-100%, -100%)"},Be[".".concat(Ae.CONTAINER,"[data-position='right-top']")]={transform:"translate(0, 0)"},Be[".".concat(Ae.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(0, -100%)"},Be[".".concat(Ae.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 0)"},Be[".".concat(Ae.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 0)"},Be[".".concat(Ae.ARROW)]={width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1},Be[".".concat(Ae.CONTAINER,"[data-position='top']")]={transform:"translate(-50%, calc(-100% - 5px))"},Be["[data-position='top'] .".concat(Ae.ARROW)]={bottom:"-2px"},Be[".".concat(Ae.CONTAINER,"[data-position='left']")]={transform:"translate(calc(-100% - 5px), -50%)"},Be["[data-position='left'] .".concat(Ae.ARROW)]={right:"-2px"},Be[".".concat(Ae.CONTAINER,"[data-position='right']")]={transform:"translate(5px, -50%)"},Be["[data-position='right'] .".concat(Ae.ARROW)]={left:"-2px"},Be[".".concat(Ae.CONTAINER,"[data-position='bottom']")]={transform:"translate(-50%, 5px)"},Be["[data-position='bottom'] .".concat(Ae.ARROW)]={top:"-2px"},Be[".".concat(Ae.CONTAINER,"[data-position='top-left']")]={transform:"translate(0, calc(-100% - 5px))"},Be["[data-position='top-left'] .".concat(Ae.ARROW)]={left:"10px",bottom:"-2px"},Be[".".concat(Ae.CONTAINER,"[data-position='top-right']")]={transform:"translate(-100%, calc(-100% - 5px))"},Be["[data-position='top-right'] .".concat(Ae.ARROW)]={right:"10px",bottom:"-2px"},Be[".".concat(Ae.CONTAINER,"[data-position='left-top']")]={transform:"translate(calc(-100% - 5px), 0)"},Be["[data-position='left-top'] .".concat(Ae.ARROW)]={right:"-2px",top:"8px"},Be[".".concat(Ae.CONTAINER,"[data-position='left-bottom']")]={transform:"translate(calc(-100% - 5px), -100%)"},Be["[data-position='left-bottom'] .".concat(Ae.ARROW)]={right:"-2px",bottom:"8px"},Be[".".concat(Ae.CONTAINER,"[data-position='right-top']")]={transform:"translate(5px, 0)"},Be["[data-position='right-top'] .".concat(Ae.ARROW)]={left:"-2px",top:"8px"},Be[".".concat(Ae.CONTAINER,"[data-position='right-bottom']")]={transform:"translate(5px, -100%)"},Be["[data-position='right-bottom'] .".concat(Ae.ARROW)]={left:"-2px",bottom:"8px"},Be[".".concat(Ae.CONTAINER,"[data-position='bottom-left']")]={transform:"translate(0, 5px)"},Be["[data-position='bottom-left'] .".concat(Ae.ARROW)]={top:"-2px",left:"8px"},Be[".".concat(Ae.CONTAINER,"[data-position='bottom-right']")]={transform:"translate(-100%, 5px)"},Be["[data-position='bottom-right'] .".concat(Ae.ARROW)]={top:"-2px",right:"8px"},Be),not=void 0;function rot(t,e,n,r,i,a){if(i===void 0&&(i=!1),a===void 0&&(a=!1),a)return[t,e];var o=n.getBoundingClientRect(),s=o.x,l=o.y,c=o.width,u=o.height;switch(r){case"top":return i?[s+c/2,l]:[t,l];case"left":return i?[s,l+u/2]:[s,e];case"bottom":return i?[s+c/2,l+u]:[t,l+u];case"right":return i?[s+c,l+u/2]:[s+c,e];case"top-right":case"right-top":return[s+c,l];case"left-bottom":case"bottom-left":return[s,l+u];case"right-bottom":case"bottom-right":return[s+c,l+u];case"top-left":case"left-top":default:return[s,l]}}var iot=function(t){var e;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e||(e=t.apply(not,n)),e}};function aot(t){var e=t&&document.getElementById(t);return e||(e=document.createElement("div"),e.setAttribute("id",t),document.body.appendChild(e)),e}function oot(t){var e=iot(aot)(t);return e}var sot=(function(t){yr(e,t);function e(n){var r=t.call(this,wt({style:{id:eot}},e.defaultOptions,n))||this;return r.visibility="visible",r.map=new Map,r.domStyles="",r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(e.prototype,"visible",{get:function(){return this.visibility==="visible"},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){this.visibility=this.style.visibility,this.updatePoptipElement()},e.prototype.update=function(n){this.attr(wt({},this.style,n)),this.render(this.attributes,this)},e.prototype.bind=function(n,r){var i=this;if(n){var a=this.style.text,o=function(l){var c=n,u=i.style,d=a;if(r){var h=typeof r=="function"?r.call(null,l):r,v=h.html,g=h.target,b=vi(h,["html","target"]);u=R6({},i.style,b),(g||g===!1)&&(c=g),typeof v=="string"&&(d=v)}var x=u.position,_=u.arrowPointAtCenter,w=u.follow,E=u.offset;if(c){var A=l,M=A.clientX,T=A.clientY,C=et(rot(M,T,c,x,_,w),2),R=C[0],j=C[1];i.showTip(R,j,{text:d,position:x,offset:E})}else i.hideTip()},s=function(){i.hideTip()};n.addEventListener("mousemove",o),n.addEventListener("mouseleave",s),this.map.set(n,[o,s])}},e.prototype.unbind=function(n){if(this.map.has(n)){var r=et(this.map.get(n)||[],2),i=r[0],a=r[1];i&&n.removeEventListener("mousemove",i),a&&n.removeEventListener("mouseleave",a),this.map.delete(n)}},e.prototype.clear=function(){this.container.innerHTML=""},e.prototype.destroy=function(){var n=this,r;ee([],et(this.map.keys()),!1).forEach(function(i){return n.unbind(i)}),(r=this.container)===null||r===void 0||r.remove(),t.prototype.destroy.call(this)},e.prototype.showTip=function(n,r,i){var a=_e(i,"text");if(!(a&&typeof a!="string")&&(this.applyStyles(),n&&r&&i)){var o=i.offset,s=i.position;if(s&&this.container.setAttribute("data-position",s),this.setOffsetPosition(n,r,o),typeof a=="string"){var l=this.container.querySelector(".".concat(Ae.TEXT));l&&(l.innerHTML=a)}this.visibility="visible",this.container.style.visibility="visible"}},e.prototype.hideTip=function(){this.visibility="hidden",this.container.style.visibility="hidden"},e.prototype.getContainer=function(){return this.container},e.prototype.getClassName=function(){var n=this.style.containerClassName;return"".concat(Ae.CONTAINER).concat(n?" ".concat(n):"")},e.prototype.initShape=function(){var n=this,r=this.style.id;this.container=oot(r),this.container.className=this.getClassName(),this.container.addEventListener("mousemove",function(){return n.showTip()}),this.container.addEventListener("mouseleave",function(){return n.hideTip()})},e.prototype.updatePoptipElement=function(){var n=this.container;this.clear();var r=this.style,i=r.id,a=r.template,o=r.text;this.container.setAttribute("id",i),this.container.className=this.getClassName();var s='<span class="'.concat(Ae.ARROW,'"></span>');n.innerHTML=s,tr(a)?n.innerHTML+=a:a&&SW(a)&&n.appendChild(a),o&&(n.getElementsByClassName(Ae.TEXT)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility},e.prototype.applyStyles=function(){var n=Is({},Zj,this.style.domStyles),r=Object.entries(n).reduce(function(a,o){var s=et(o,2),l=s[0],c=s[1],u=Object.entries(c).reduce(function(d,h){var v=et(h,2),g=v[0],b=v[1];return"".concat(d).concat(g,": ").concat(b,";")},"");return"".concat(a).concat(l,"{").concat(u,"}")},"");if(this.domStyles!==r){this.domStyles=r;var i=this.container.querySelector("style");i&&this.container.removeChild(i),i=document.createElement("style"),i.innerHTML=r,this.container.appendChild(i)}},e.prototype.setOffsetPosition=function(n,r,i){i===void 0&&(i=this.style.offset);var a=et(i,2),o=a[0],s=o===void 0?0:o,l=a[1],c=l===void 0?0:l;this.container.style.left="".concat(n+s,"px"),this.container.style.top="".concat(r+c,"px")},e.tag="poptip",e.defaultOptions={style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:Zj,template:'<div class="'.concat(Ae.TEXT,'"></div>')}},e})(bi),ta=os({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",focusGroup:"focus-group",focus:"focus",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),lot={offset:[0,20],domStyles:{".component-poptip":{opacity:"1",padding:"8px 12px",background:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)"},".component-poptip-arrow":{display:"none"},".component-poptip-text":{color:"#000",lineHeight:"20px"}}};function cot(t){var e=t.querySelector(ta.marker.class);return e?e.style:{}}var uot=(function(t){yr(e,t);function e(n){return t.call(this,n,{span:[1,1],marker:function(){return new Yl({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Object.defineProperty(e.prototype,"showValue",{get:function(){var n=this.attributes.valueText;return n?typeof n=="string"||typeof n=="number"?n!=="":typeof n=="function"?!0:n.attr("text")!=="":!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var n=this.labelGroup,r=this.valueGroup,i=this.attributes,a=i.markerSize,o=i.focus,s=i.focusMarkerSize,l=n.node().getBBox(),c=l.width,u=l.height,d=r.node().getBBox(),h=d.width,v=d.height,g=o?s??12:0;return{markerWidth:a,labelWidth:c,valueWidth:h,focusWidth:g,height:Math.max(a,u,v)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var n=this.attributes.span;if(!n)return[1,1];var r=et(Ii(n),2),i=r[0],a=r[1],o=this.showValue?a:0,s=i+o;return[i/s,o/s]},enumerable:!1,configurable:!0}),e.prototype.setAttribute=function(n,r){t.prototype.setAttribute.call(this,n,r)},Object.defineProperty(e.prototype,"shape",{get:function(){var n,r=this.attributes,i=r.markerSize,a=r.width,o=this.actualSpace,s=o.markerWidth,l=o.focusWidth,c=o.height,u=this.actualSpace,d=u.labelWidth,h=u.valueWidth,v=et(this.spacing,3),g=v[0],b=v[1],x=v[2];if(a){var _=a-i-g-b-l-x,w=et(this.span,2),E=w[0],A=w[1];n=et([E*_,A*_],2),d=n[0],h=n[1]}var M=s+d+h+g+b+l+x;return{width:M,height:c,markerWidth:s,labelWidth:d,valueWidth:h,focusWidth:l}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var n=this.attributes,r=n.spacing,i=n.focus;if(!r)return[0,0,0];var a=et(Ii(r),3),o=a[0],s=a[1],l=a[2];return[o,this.showValue?s:0,i?l:0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var n=this.shape,r=n.markerWidth,i=n.labelWidth,a=n.valueWidth,o=n.focusWidth,s=n.width,l=n.height,c=et(this.spacing,3),u=c[0],d=c[1],h=c[2];return{height:l,width:s,markerWidth:r,labelWidth:i,valueWidth:a,focusWidth:o,position:[r/2,r+u,r+i+u+d,r+i+a+u+d+h+o/2]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var n=cot(this.markerGroup.node()),r=this.attributes,i=r.markerSize,a=r.markerStrokeWidth,o=a===void 0?n.strokeWidth:a,s=r.markerLineWidth,l=s===void 0?n.lineWidth:s,c=r.markerStroke,u=c===void 0?n.stroke:c,d=+(o||l||(u?1:0))*Math.sqrt(2),h=this.markerGroup.node().getBBox(),v=h.width,g=h.height;return(1-d/Math.max(v,g))*i},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(n){var r=this,i=this.attributes.marker,a=$e(this.attributes,"marker");this.markerGroup=n.maybeAppendByClassName(ta.markerGroup,"g").style("zIndex",0),Ta(!!i,this.markerGroup,function(){var o,s=r.markerGroup.node(),l=(o=s.childNodes)===null||o===void 0?void 0:o[0],c=typeof i=="string"?new fn({style:{symbol:i},className:ta.marker.name}):i();l?c.nodeName===l.nodeName?l instanceof fn?l.update(Dt(Dt({},a),{symbol:i})):(Brt(l,c),be(l).styles(a)):(l.remove(),be(c).attr("className",ta.marker.name).styles(a),s.appendChild(c)):(c instanceof fn||be(c).attr("className",ta.marker.name).styles(a),s.appendChild(c)),r.markerGroup.node().scale(1/r.markerGroup.node().getScale()[0]);var u=M5(r.markerGroup.node(),r.scaleSize);r.markerGroup.node().style._transform="scale(".concat(u,")")})},e.prototype.renderLabel=function(n){var r=$e(this.attributes,"label"),i=r.text,a=vi(r,["text"]);this.labelGroup=n.maybeAppendByClassName(ta.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(ta.label,function(){return _h(i)}).styles(a)},e.prototype.renderValue=function(n){var r=this,i=$e(this.attributes,"value"),a=i.text,o=vi(i,["text"]);this.valueGroup=n.maybeAppendByClassName(ta.valueGroup,"g").style("zIndex",0),Ta(this.showValue,this.valueGroup,function(){r.valueGroup.maybeAppendByClassName(ta.value,function(){return _h(a)}).styles(o)})},e.prototype.createPoptip=function(){var n=this.attributes.poptip,r=n||{};r.render;var i=vi(r,["render"]),a=new sot({style:Is(lot,i)});return this.poptipGroup=a,a},e.prototype.bindPoptip=function(n){var r=this,i=this.attributes.poptip;if(i){var a=this.poptipGroup||this.createPoptip();a.bind(n,function(){var o=r.attributes,s=o.labelText,l=o.valueText,c=o.markerFill,u=typeof s=="string"?s:s?.attr("text"),d=typeof l=="string"?l:l?.attr("text");if(typeof i.render=="function")return{html:i.render({label:u,value:d,color:c})};var h="";return(typeof u=="string"||typeof u=="number")&&(h+='<div class="component-poptip-label">'.concat(u,"</div>")),(typeof d=="string"||typeof d=="number")&&(h+='<div class="component-poptip-value">'.concat(d,"</div>")),{html:h}})}},e.prototype.renderFocus=function(n){var r=this,i=this.attributes,a=i.focus,o=i.focusMarkerSize,s={x:0,y:0,size:o,opacity:.6,symbol:"focus",stroke:"#aaaaaa",lineWidth:1};jn(a)||(this.focusGroup=n.maybeAppendByClassName(ta.focusGroup,"g").style("zIndex",0),Ta(a,this.focusGroup,function(){var l=new fn({style:Dt(Dt({},s),{symbol:"focus"})}),c=new Yl({style:{r:s.size/2,fill:"transparent"}}),u=r.focusGroup.node();u.appendChild(c),u.appendChild(l),l.update({opacity:0}),n.node().addEventListener("pointerenter",function(){l.update({opacity:1})}),n.node().addEventListener("pointerleave",function(){l.update({opacity:0})})}))},e.prototype.renderPoptip=function(n){var r=this,i=this.attributes.poptip;if(i){var a=n.maybeAppendByClassName(ta.value,"g").node(),o=n.maybeAppendByClassName(ta.label,"g").node();[a,o].forEach(function(s){s&&r.bindPoptip(s)})}},e.prototype.renderBackground=function(n){var r=this.shape,i=r.width,a=r.height,o=$e(this.attributes,"background");this.background=n.maybeAppendByClassName(ta.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(ta.background,"rect").styles(Dt({width:i,height:a},o))},e.prototype.adjustLayout=function(){var n=this.layout,r=n.labelWidth,i=n.valueWidth,a=n.height,o=et(n.position,4),s=o[0],l=o[1],c=o[2],u=o[3],d=a/2;this.markerGroup.styles({transform:"translate(".concat(s,", ").concat(d,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(d,")")}),this.focusGroup&&this.focusGroup.styles({transform:"translate(".concat(u,", ").concat(d,")")}),HT(this.labelGroup.select(ta.label.class).node(),Math.ceil(r)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(c,", ").concat(d,")")}),HT(this.valueGroup.select(ta.value.class).node(),Math.ceil(i)))},e.prototype.render=function(n,r){var i=be(r),a=n.x,o=a===void 0?0:a,s=n.y,l=s===void 0?0:s;i.styles({transform:"translate(".concat(o,", ").concat(l,")")}),this.renderMarker(i),this.renderLabel(i),this.renderValue(i),this.renderBackground(i),this.renderPoptip(i),this.renderFocus(i),this.adjustLayout()},e})(bi),Wd=os({page:"item-page",navigator:"navigator",item:"item"},"items"),Qj=function(t,e,n){return n===void 0&&(n=!0),t?e(t):n},fot=(function(t){yr(e,t);function e(n){var r=t.call(this,n,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:vA,mouseenter:vA,mouseleave:vA})||this;return r.navigatorShape=[0,0],r}return Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var n=this.attributes,r=n.gridRow,i=n.gridCol,a=n.data;if(!r&&!i)throw new Error("gridRow and gridCol can not be set null at the same time");return r&&i?[r,i]:r?[r,a.length]:[a.length,i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var n=this.attributes,r=n.data,i=n.layout,a=n.poptip,o=n.focus,s=n.focusMarkerSize,l=$e(this.attributes,"item"),c=r.map(function(u,d){var h=u.id,v=h===void 0?d:h,g=u.label,b=u.value;return{id:"".concat(v),index:d,style:Dt({layout:i,labelText:g,valueText:b,poptip:a,focus:o,focusMarkerSize:s},Object.fromEntries(Object.entries(l).map(function(x){var _=et(x,2),w=_[0],E=_[1];return[w,ro(E,[u,d,r])]})))}});return c},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var n=this,r=this.attributes,i=r.orientation,a=r.width,o=r.rowPadding,s=r.colPadding,l=et(this.navigatorShape,1),c=l[0],u=et(this.grid,2),d=u[0],h=u[1],v=h*d,g=0;return this.pageViews.children.map(function(b,x){var _,w,E=Math.floor(x/v),A=x%v,M=n.ifHorizontal(h,d),T=[Math.floor(A/M),A%M];i==="vertical"&&T.reverse();var C=et(T,2),R=C[0],j=C[1],I=(a-c-(h-1)*s)/h,D=b.getBBox().height,B=et([0,0],2),$=B[0],U=B[1];return i==="horizontal"?(_=et([g,R*(D+o)],2),$=_[0],U=_[1],g=j===h-1?0:g+I+s):(w=et([j*(I+s),g],2),$=w[0],U=w[1],g=R===d-1?0:g+D+o),{page:E,index:x,row:R,col:j,pageIndex:A,width:I,height:D,x:$,y:U}})},e.prototype.getFlexLayout=function(){var n=this.attributes,r=n.width,i=n.height,a=n.rowPadding,o=n.colPadding,s=et(this.navigatorShape,1),l=s[0],c=et(this.grid,2),u=c[0],d=c[1],h=et([r-l,i],2),v=h[0],g=h[1],b=et([0,0,0,0,0,0,0,0],8),x=b[0],_=b[1],w=b[2],E=b[3],A=b[4],M=b[5],T=b[6],C=b[7];return this.pageViews.children.map(function(R,j){var I,D,B,$,U=R.getBBox(),G=U.width,F=U.height,H=T===0?0:o,Y=T+H+G;if(Y<=v&&Qj(A,function(V){return V<d}))return I=et([T+H,C,Y],3),x=I[0],_=I[1],T=I[2],{width:G,height:F,x,y:_,page:w,index:j,pageIndex:E++,row:M,col:A++};D=et([M+1,0,0,C+F+a],4),M=D[0],A=D[1],T=D[2],C=D[3];var W=C+F;return W<=g&&Qj(M,function(V){return V<u})?(B=et([T,C,G],3),x=B[0],_=B[1],T=B[2],{width:G,height:F,x,y:_,page:w,index:j,pageIndex:E++,row:M,col:A++}):($=et([0,0,G,0,w+1,0,0,0],8),x=$[0],_=$[1],T=$[2],C=$[3],w=$[4],E=$[5],M=$[6],A=$[7],{width:G,height:F,x,y:_,page:w,index:j,pageIndex:E++,row:M,col:A++})})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var n=this.attributes.layout==="grid"?this.getGridLayout:this.getFlexLayout,r=n.call(this);return r.slice(-1)[0].page>0?(this.navigatorShape=[55,0],n.call(this)):r},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(n,r){var i=this.attributes.orientation;return Dl(i,n,r)},e.prototype.flattenPage=function(n){n.querySelectorAll(Wd.item.class).forEach(function(r){n.appendChild(r)}),n.querySelectorAll(Wd.page.class).forEach(function(r){var i=n.removeChild(r);i.destroy()})},e.prototype.renderItems=function(n){var r=this.attributes,i=r.click,a=r.mouseenter,o=r.mouseleave;this.flattenPage(n);var s=this.dispatchCustomEvent.bind(this);be(n).selectAll(Wd.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(c){var u=c.style;return new uot({style:u})}).attr("className",Wd.item.name).on("click",function(){i?.(this),s("itemClick",{item:this})}).on("pointerenter",function(){a?.(this),s("itemMouseenter",{item:this})}).on("pointerleave",function(){o?.(this),s("itemMouseleave",{item:this})})},function(l){return l.each(function(c){var u=c.style;this.update(u)})},function(l){return l.remove()})},e.prototype.relayoutNavigator=function(){var n,r=this.attributes,i=r.layout,a=r.width,o=((n=this.pageViews.children[0])===null||n===void 0?void 0:n.getBBox().height)||0,s=et(this.navigatorShape,2),l=s[0],c=s[1];this.navigator.update(i==="grid"?{pageWidth:a-l,pageHeight:o-c}:{})},e.prototype.adjustLayout=function(){var n=this,r=Object.entries(brt(this.itemsLayout,"page")).map(function(a){var o=et(a,2),s=o[0],l=o[1];return{page:s,layouts:l}}),i=ee([],et(this.navigator.getContainer().children),!1);r.forEach(function(a){var o=a.layouts,s=n.pageViews.appendChild(new mi({className:Wd.page.name}));o.forEach(function(l){var c=l.x,u=l.y,d=l.index,h=l.width,v=l.height,g=i[d];s.appendChild(g),bC(g,"__layout__",l),g.update({x:c,y:u,width:h,height:v})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(n){var r=this.attributes.orientation,i=$e(this.attributes,"nav"),a=Is({orientation:r},i),o=this;return n.selectAll(Wd.navigator.class).data(["nav"]).join(function(s){return s.append(function(){return new Vat({style:a})}).attr("className",Wd.navigator.name).each(function(){o.navigator=this})},function(s){return s.each(function(){this.update(a)})},function(s){return s.remove()}),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(n,r){var i=this.attributes.data;if(!(!i||i.length===0)){var a=this.renderNavigator(be(r));this.renderItems(a.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(n,r){var i=new Gn(n,{detail:r});this.dispatchEvent(i)},e})(bi),Qy=os({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),Oz={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},dot=(function(t){yr(e,t);function e(n){return t.call(this,n,Oz)||this}return e.prototype.render=function(n,r){var i=be(r).maybeAppendByClassName(Qy.markerGroup,"g");this.renderMarker(i);var a=be(r).maybeAppendByClassName(Qy.labelGroup,"g");this.renderLabel(a)},e.prototype.renderMarker=function(n){var r=this,i=this.attributes,a=i.orientation,o=i.markerSymbol,s=o===void 0?Dl(a,"horizontalHandle","verticalHandle"):o;Ta(!!s,n,function(l){var c=$e(r.attributes,"marker"),u=Dt({symbol:s},c);r.marker=l.maybeAppendByClassName(Qy.marker,function(){return new fn({style:u})}).update(u)})},e.prototype.renderLabel=function(n){var r=this,i=this.attributes,a=i.showLabel,o=i.orientation,s=i.spacing,l=s===void 0?0:s,c=i.formatter;Ta(a,n,function(u){var d,h=$e(r.attributes,"label"),v=h.text,g=vi(h,["text"]),b=((d=u.select(Qy.marker.class))===null||d===void 0?void 0:d.node().getBBox())||{},x=b.width,_=x===void 0?0:x,w=b.height,E=w===void 0?0:w,A=et(Dl(o,[0,E+l,"center","top"],[_+l,0,"start","middle"]),4),M=A[0],T=A[1],C=A[2],R=A[3];u.maybeAppendByClassName(Qy.label,"text").styles(Dt(Dt({},g),{x:M,y:T,text:c(v).toString(),textAlign:C,textBaseline:R}))})},e})(bi),Sz={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},hot=Is({},Sz,{}),pot=Is({},Sz,kl(Oz,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),vot=.01,Ni=os({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),got=(function(t){yr(e,t);function e(n){return t.call(this,n,hot)||this}return e.prototype.renderTitle=function(n,r,i){var a=this.attributes,o=a.showTitle,s=a.titleText,l=$e(this.attributes,"title"),c=et($c(l),2),u=c[0],d=c[1];this.titleGroup=n.maybeAppendByClassName(Ni.titleGroup,"g").styles(d);var h=Dt(Dt({width:r,height:i},u),{text:o?s:""});this.title=this.titleGroup.maybeAppendByClassName(Ni.title,function(){return new xz({style:h})}).update(h)},e.prototype.renderItems=function(n,r){var i=r.x,a=r.y,o=r.width,s=r.height,l=$e(this.attributes,"title",!0),c=et($c(l),2),u=c[0],d=c[1],h=Dt(Dt({},u),{width:o,height:s,x:0,y:0});this.itemsGroup=n.maybeAppendByClassName(Ni.itemsGroup,"g").styles(Dt(Dt({},d),{transform:"translate(".concat(i,", ").concat(a,")")}));var v=this;this.itemsGroup.selectAll(Ni.items.class).data(["items"]).join(function(g){return g.append(function(){return new fot({style:h})}).attr("className",Ni.items.name).each(function(){v.items=be(this)})},function(g){return g.update(h)},function(g){return g.remove()})},e.prototype.adjustLayout=function(){var n=this.attributes.showTitle;if(n){var r=this.title.node().getAvailableSpace(),i=r.x,a=r.y;this.itemsGroup.node().style.transform="translate(".concat(i,", ").concat(a,")")}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var n=this.attributes,r=n.showTitle,i=n.width,a=n.height;return r?this.title.node().getAvailableSpace():new vr(0,0,i,a)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n,r,i=(n=this.title)===null||n===void 0?void 0:n.node(),a=(r=this.items)===null||r===void 0?void 0:r.node();return!i||!a?t.prototype.getBBox.call(this):qat(i,a)},e.prototype.render=function(n,r){var i=this.attributes,a=i.width,o=i.height,s=i.x,l=s===void 0?0:s,c=i.y,u=c===void 0?0:c,d=be(r);r.style.transform="translate(".concat(l,", ").concat(u,")"),this.renderTitle(d,a,o),this.renderItems(d,this.availableSpace),this.adjustLayout()},e})(bi),yot={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},WA=os({background:"background",labelGroup:"label-group",label:"label"},"indicator"),mot=(function(t){yr(e,t);function e(n){var r=t.call(this,n,yot)||this;return r.point=[0,0],r.group=r.appendChild(new mi({})),r.isMutationObserved=!0,r}return e.prototype.renderBackground=function(){if(this.label){var n=this.attributes,r=n.position,i=n.padding,a=et(Ii(i),4),o=a[0],s=a[1],l=a[2],c=a[3],u=this.label.node().getLocalBounds(),d=u.min,h=u.max,v=new vr(d[0]-c,d[1]-o,h[0]+s-d[0]+c,h[1]+l-d[1]+o),g=this.getPath(r,v),b=$e(this.attributes,"background");this.background=be(this.group).maybeAppendByClassName(WA.background,"path").styles(Dt(Dt({},b),{d:g})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var n=this.attributes,r=n.formatter,i=n.labelText,a=$e(this.attributes,"label"),o=et($c(a),2),s=o[0],l=o[1];s.text;var c=vi(s,["text"]);if(this.label=be(this.group).maybeAppendByClassName(WA.labelGroup,"g").styles(l),!!i){var u=this.label.maybeAppendByClassName(WA.label,function(){return _h(r(i))}).style("text",r(i).toString());u.selectAll("text").styles(c)}},e.prototype.adjustLayout=function(){var n=et(this.point,2),r=n[0],i=n[1],a=this.attributes,o=a.x,s=a.y;this.group.attr("transform","translate(".concat(o-r,", ").concat(s-i,")"))},e.prototype.getPath=function(n,r){var i=this.attributes.radius,a=r.x,o=r.y,s=r.width,l=r.height,c=[["M",a+i,o],["L",a+s-i,o],["A",i,i,0,0,1,a+s,o+i],["L",a+s,o+l-i],["A",i,i,0,0,1,a+s-i,o+l],["L",a+i,o+l],["A",i,i,0,0,1,a,o+l-i],["L",a,o+i],["A",i,i,0,0,1,a+i,o],["Z"]],u={top:4,right:6,bottom:0,left:2},d=u[n],h=this.createCorner([c[d].slice(-2),c[d+1].slice(-2)]);return c.splice.apply(c,ee([d+1,1],et(h),!1)),c[0][0]="M",c},e.prototype.createCorner=function(n,r){r===void 0&&(r=10);var i=.8,a=Irt.apply(void 0,ee([],et(n),!1)),o=et(n,2),s=et(o[0],2),l=s[0],c=s[1],u=et(o[1],2),d=u[0],h=u[1],v=et(a?[d-l,[l,d]]:[h-c,[c,h]],2),g=v[0],b=et(v[1],2),x=b[0],_=b[1],w=g/2,E=g/Math.abs(g),A=r*E,M=A/2,T=A*Math.sqrt(3)/2*i,C=et([x,x+w-M,x+w,x+w+M,_],5),R=C[0],j=C[1],I=C[2],D=C[3],B=C[4];return a?(this.point=[I,c-T],[["L",R,c],["L",j,c],["L",I,c-T],["L",D,c],["L",B,c]]):(this.point=[l+T,I],[["L",l,R],["L",l,j],["L",l+T,I],["L",l,D],["L",l,B]])},e.prototype.applyVisibility=function(){var n=this.attributes.visibility;n==="hidden"?_f(this):W1(this)},e.prototype.bindEvents=function(){this.label.on(Ne.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},e})(bi);function bot(t,e){for(var n=1;n<t.length;n+=1){var r=t[n-1],i=t[n];if(e>=r&&e<=i)return[r,i]}return[e,e]}function xot(t,e,n){var r=Array.from(e),i=t.length;return new Array(i).fill(0).reduce(function(a,o,s){var l=r[s%r.length];return a+=" ".concat(t[s],":").concat(l).concat(s<i-1?" ".concat(t[s+1],":").concat(l):"")},"l(".concat(n==="horizontal"?"0":"270",")"))}function Jj(t,e){var n=et(bot(t,e),2),r=n[0],i=n[1];return{tick:e>(r+i)/2?i:r,range:[r,i]}}var h1=os({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function Ez(t){var e=t.orientation,n=t.size,r=t.length;return Dl(e,[r,n],[n,r])}function Az(t){var e=t.type,n=et(Ez(t),2),r=n[0],i=n[1];return e==="size"?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function _ot(t){return Az(t)}function wot(t){var e=t.orientation,n=t.color,r=t.block,i=t.partition,a;if(pi(n)){var o=20;a=new Array(o).fill(0).map(function(c,u,d){return n(u/(d.length-1))})}else a=n;var s=a.length,l=a.map(function(c){return sf(c).toString()});return s?s===1?l[0]:r?xot(i,l,e):l.reduce(function(c,u,d){return c+=" ".concat(d/(s-1),":").concat(u)},"l(".concat(Dl(e,"0","270"),")")):""}function Oot(t){var e=t.orientation,n=t.range;if(!n)return[];var r=et(Ez(t),2),i=r[0],a=r[1],o=et(n,2),s=o[0],l=o[1],c=Dl(e,s*i,0),u=Dl(e,0,s*a),d=Dl(e,l*i,i),h=Dl(e,a,l*a);return[["M",c,u],["L",c,h],["L",d,h],["L",d,u],["Z"]]}function Sot(t,e){var n=$e(e,"track");t.maybeAppendByClassName(h1.track,"path").styles(Dt({d:Az(e)},n))}function Eot(t,e){var n=$e(e,"selection"),r=wot(e),i=t.maybeAppendByClassName(h1.selection,"path").styles(Dt({d:_ot(e),fill:r},n)),a=i.maybeAppendByClassName(h1.clipPath,"path").styles({d:Oot(e)}).node();i.style("clipPath",a)}var Aot=(function(t){yr(e,t);function e(n){return t.call(this,n,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return e.prototype.render=function(n,r){var i=be(r).maybeAppendByClassName(h1.trackGroup,"g");Sot(i,n);var a=be(r).maybeAppendByClassName(h1.selectionGroup,"g");Eot(a,n)},e})(bi);function Mot(t){return{min:Math.min.apply(Math,ee([],et(t.map(function(e){return e.value})),!1)),max:Math.max.apply(Math,ee([],et(t.map(function(e){return e.value})),!1))}}var Tot=(function(t){yr(e,t);function e(n){var r=t.call(this,n,pot)||this;return r.eventToOffsetScale=new Pm({}),r.innerRibbonScale=new Pm({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(i){var a=r.attributes,o=a.data,s=a.block;i.stopPropagation();var l=r.getValueByCanvasPoint(i);if(s){var c=Jj(o.map(function(h){var v=h.value;return v}),l).range,u=r.getRealSelection(c);r.showIndicator((c[0]+c[1])/2,"".concat(u[0],"-").concat(u[1])),r.dispatchIndicated(l,c)}else{var d=r.getTickValue(l);r.showIndicator(d,"".concat(r.getRealValue(d))),r.dispatchIndicated(d)}},r.onDragStart=function(i){return function(a){a.stopPropagation(),r.attributes.slidable&&(r.target=i,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(a)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(i){var a=r.target;r.updateMouse();var o=et(r.selection,2),s=o[0],l=o[1],c=r.getTickValue(r.getValueByCanvasPoint(i)),u=c-r.prevValue;a==="start"?s!==c&&r.updateSelection(c,l):a==="end"?l!==c&&r.updateSelection(s,c):a==="ribbon"&&u!==0&&(r.prevValue=c,r.updateSelection(u,u,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return Object.defineProperty(e.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=this.attributes,r=n.width,i=n.height;return new vr(0,0,r,i)},e.prototype.render=function(n,r){var i=this,a=n.showLabel;this.renderTitle(be(r));var o=this.availableSpace,s=o.x,l=o.y,c=be(r).maybeAppendByClassName(Ni.contentGroup,"g").styles({transform:"translate(".concat(s,", ").concat(l,")")}),u=c.maybeAppendByClassName(Ni.labelGroup,"g").styles({zIndex:1});Ta(!!a,u,function(h){i.renderLabel(h)});var d=c.maybeAppendByClassName(Ni.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=c.maybeAppendByClassName(Ni.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(d),this.renderIndicator(c),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(e.prototype,"range",{get:function(){var n=this.attributes,r=n.data,i=n.domain;return i?{min:i[0],max:i[1]}:Mot(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonScale",{get:function(){var n=this.range,r=n.min,i=n.max;return this.innerRibbonScale.update({domain:[r,i],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonRange",{get:function(){var n=et(this.selection,2),r=n[0],i=n[1],a=this.ribbonScale;return[a.map(r),a.map(i)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var n=this.range,r=n.min,i=n.max,a=this.attributes.defaultValue,o=a===void 0?[r,i]:a,s=et(o,2),l=s[0],c=s[1];return[l,c]},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(n,r){return Dl(this.attributes.orientation,typeof n=="function"?n():n,typeof r=="function"?r():r)},e.prototype.renderTitle=function(n){var r=this.attributes,i=r.showTitle,a=r.titleText,o=r.width,s=r.height,l=$e(this.attributes,"title"),c=Dt(Dt({},l),{width:o,height:s,text:a}),u=this;n.selectAll(Ni.title.class).data(i?[a]:[]).join(function(d){return d.append(function(){return new xz({style:c})}).attr("className",Ni.title.name).each(function(){u.title=this})},function(d){return d.update(c)},function(d){return d.each(function(){u.title=void 0}).remove()})},Object.defineProperty(e.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var n=this.attributes,r=n.width,i=n.height;return new vr(0,0,r,i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelFixedSpacing",{get:function(){var n=this.attributes.showTick;return n?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){var n=this.attributes,r=n.orientation,i=n.labelDirection,a={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return a[r][i]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBBox",{get:function(){var n,r=this.attributes.showLabel;if(!r)return new vr(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var i=((n=this.label.querySelector(Ln.labelGroup.class))===null||n===void 0?void 0:n.children.slice(-1)[0]).getBBox(),a=i.width,o=i.height;return this.cacheLabelBBox=new vr(0,0,a,o),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelShape",{get:function(){var n=this.attributes,r=n.showLabel,i=n.labelSpacing,a=i===void 0?0:i;if(!r)return{width:0,height:0,size:0,length:0};var o=this.labelBBox,s=o.width,l=o.height,c=this.ifHorizontal(l,s)+a+this.labelFixedSpacing,u=this.ifHorizontal(s,l);return{width:s,height:l,size:c,length:u}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonBBox",{get:function(){var n=this.attributes,r=n.showHandle,i=n.ribbonSize,a=this.availableSpace,o=a.width,s=a.height,l=this.labelShape,c=l.size,u=l.length,d=et(this.ifHorizontal([s,o],[o,s]),2),h=d[0],v=d[1],g=r?this.handleShape:{size:0,length:0},b=g.size,x=g.length,_=this.handleOffsetRatio,w=0,E=this.labelPosition;i?w=i:["bottom","right"].includes(E)?w=Math.min(h-c,(h-b)/_):h*(1-_)>b?w=Math.max(h-c,0):w=Math.max((h-c-b)/_,0);var A=Math.max(x,u),M=v-A,T=et(this.ifHorizontal([M,w],[w,M]),2),C=T[0],R=T[1],j=["top","left"].includes(E)?c:0,I=et(this.ifHorizontal([A/2,j],[j,A/2]),2),D=I[0],B=I[1];return new vr(D,B,C,R)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonShape",{get:function(){var n=this.ribbonBBox,r=n.width,i=n.height;return this.ifHorizontal({size:i,length:r},{size:r,length:i})},enumerable:!1,configurable:!0}),e.prototype.renderRibbon=function(n){var r=this.attributes,i=r.data,a=r.type,o=r.orientation,s=r.color,l=r.block,c=$e(this.attributes,"ribbon"),u=this.range,d=u.min,h=u.max,v=this.ribbonBBox,g=v.x,b=v.y,x=this.ribbonShape,_=x.length,w=x.size,E=Is({transform:"translate(".concat(g,", ").concat(b,")"),length:_,size:w,type:a,orientation:o,color:s,block:l,partition:i.map(function(A){return(A.value-d)/(h-d)}),range:this.ribbonRange},c);this.ribbon=n.maybeAppendByClassName(Ni.ribbon,function(){return new Aot({style:E})}).update(E)},e.prototype.getHandleClassName=function(n){return"".concat(Ni.prefix("".concat(n,"-handle")))},e.prototype.renderHandles=function(){var n=this.attributes,r=n.showHandle,i=n.orientation,a=$e(this.attributes,"handle"),o=et(this.selection,2),s=o[0],l=o[1],c=Dt(Dt({},a),{orientation:i}),u=a.shape,d=u===void 0?"slider":u,h=d==="basic"?dot:cz,v=this;this.handlesGroup.selectAll(Ni.handle.class).data(r?[{value:s,type:"start"},{value:l,type:"end"}]:[],function(g){return g.type}).join(function(g){return g.append(function(){return new h({style:c})}).attr("className",function(b){var x=b.type;return"".concat(Ni.handle," ").concat(v.getHandleClassName(x))}).each(function(b){var x=b.type,_=b.value;this.update({labelText:_});var w="".concat(x,"Handle");v[w]=this,this.addEventListener("pointerdown",v.onDragStart(x))})},function(g){return g.update(c).each(function(b){var x=b.value;this.update({labelText:x})})},function(g){return g.each(function(b){var x=b.type,_="".concat(x,"Handle");v[_]=void 0}).remove()})},e.prototype.adjustHandles=function(){var n=et(this.selection,2),r=n[0],i=n[1];this.setHandlePosition("start",r),this.setHandlePosition("end",i)},Object.defineProperty(e.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new vr(0,0,0,0);var n=this.startHandle.getBBox(),r=n.width,i=n.height,a=this.endHandle.getBBox(),o=a.width,s=a.height,l=et([Math.max(r,o),Math.max(i,s)],2),c=l[0],u=l[1];return this.cacheHandleBBox=new vr(0,0,c,u),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleShape",{get:function(){var n=this.handleBBox,r=n.width,i=n.height,a=et(this.ifHorizontal([i,r],[r,i]),2),o=a[0],s=a[1];return{width:r,height:i,size:o,length:s}},enumerable:!1,configurable:!0}),e.prototype.setHandlePosition=function(n,r){var i=this.attributes.handleFormatter,a=this.ribbonBBox,o=a.x,s=a.y,l=this.ribbonShape.size,c=this.getOffset(r),u=et(this.ifHorizontal([o+c,s+l*this.handleOffsetRatio],[o+l*this.handleOffsetRatio,s+c]),2),d=u[0],h=u[1],v=this.handlesGroup.select(".".concat(this.getHandleClassName(n))).node();v?.update({transform:"translate(".concat(d,", ").concat(h,")"),formatter:i})},e.prototype.renderIndicator=function(n){var r=$e(this.attributes,"indicator");this.indicator=n.maybeAppendByClassName(Ni.indicator,function(){return new mot({})}).update(r)},Object.defineProperty(e.prototype,"labelData",{get:function(){var n=this,r=this.attributes.data;return r.reduce(function(i,a,o,s){var l,c,u=(l=a?.id)!==null&&l!==void 0?l:o.toString();if(i.push(Dt(Dt({},a),{id:u,index:o,type:"value",label:(c=a?.label)!==null&&c!==void 0?c:a.value.toString(),value:n.ribbonScale.map(a.value)})),o<s.length-1){var d=s[o+1],h=et([a.value,d.value],2),v=h[0],g=h[1],b=(v+g)/2;i.push(Dt(Dt({},a),{id:u,index:o,type:"range",range:[v,g],label:[v,g].join("~"),value:n.ribbonScale.map(b)}))}return i},[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelStyle",{get:function(){var n=et(["center","middle"],2),r=n[0],i=n[1],a=this.labelPosition;return a==="top"?i="bottom":a==="bottom"?i="top":a==="left"?r="end":a==="right"&&(r="start"),{labelTextAlign:r,labelTextBaseline:i}},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(n){var r=this.attributes,i=r.showTick,a=i===void 0?!1:i,o=r.labelFilter,s=r.labelFormatter,l=$e(this.attributes,"tick"),c=$e(this.attributes,"label"),u=c.align,d=Is(Dt({showLine:!1,showGrid:!1,showTick:a,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),kl(l,"tick"),kl(c,"label"),{data:this.labelData}),h={tickFilter:function(g,b,x){return g?.type!=="value"?!1:o?o(g,g.index,x.filter(function(_){return _.type!=="value"})):!0},labelFilter:function(g,b,x){return g?.type!==u?!1:o?o(g,g.index,x.filter(function(_){return _.type===u})):!0},labelFormatter:s},v=Dt(Dt(Dt({},d),h),{labelOverlap:[{type:"hide"}]});this.label=n.maybeAppendByClassName(Ni.label,function(){return new N5({style:v})}).node(),this.label.update(v,!1)},Object.defineProperty(e.prototype,"labelAxisStyle",{get:function(){var n=this.attributes,r=n.showTick,i=n.labelDirection,a=n.labelSpacing,o=n.tickLength,s=this.ribbonShape.size,l=this.labelPosition,c=this.labelFixedSpacing,u=et([0,0,0],3),d=u[0],h=u[1],v=u[2],g=o??s;return r?(v=g,h=c,i==="positive"?l==="right"?(d=g,v=g):l==="bottom"&&(d=v):i==="negative"&&(l==="top"||l==="left")&&(d=s)):i==="positive"?l==="right"?h=g:l==="bottom"&&(d=s+c,h=a):i==="negative"&&(l==="left"||l==="top")&&(h=a),{offset:d,spacing:h,tickLength:v}},enumerable:!1,configurable:!0}),e.prototype.adjustLabel=function(){var n=this.attributes.showLabel;if(n){var r=this.ribbonBBox,i=r.x,a=r.y,o=r.width,s=r.height,l=this.labelAxisStyle,c=l.offset,u=l.spacing,d=l.tickLength,h=et(this.ifHorizontal([[i,a+c],[i+o,a+c]],[[i+c,a+s],[i+c,a]]),2),v=h[0],g=h[1];this.label.update({startPos:v,endPos:g,tickLength:d,labelSpacing:u},!1)}},e.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},e.prototype.showIndicator=function(n,r){r===void 0&&(r="".concat(n));var i=this.attributes.showIndicator;if(!i||typeof n!="number"){this.hideIndicator();return}var a=this.range,o=a.min,s=a.max,l=this.ribbonBBox,c=l.x,u=l.y,d=jr(n,o,s),h=this.getOffset(d),v=this.ifHorizontal([h+c,u],[c,h+u]);this.indicator.update({x:v[0],y:v[1],position:this.ifHorizontal("top","left"),labelText:r}),W1(this.indicator.node())},e.prototype.hideIndicator=function(){_f(this.indicator.node())},e.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},e.prototype.setSelection=function(n,r){this.updateSelection(n,r)},e.prototype.updateSelection=function(n,r,i){var a;i===void 0&&(i=!1);var o=et(this.selection,2),s=o[0],l=o[1],c=et([n,r],2),u=c[0],d=c[1];i&&(u+=s,d+=l);var h=this.range,v=h.min,g=h.max;a=et(tot([v,g],[u,d],this.selection),2),u=a[0],d=a[1],this.update({defaultValue:[u,d]}),this.dispatchSelection()},Object.defineProperty(e.prototype,"step",{get:function(){var n=this.attributes.step,r=n===void 0?1:n,i=this.range,a=i.min,o=i.max;return jn(r)?GT((o-a)*vot,0):r},enumerable:!1,configurable:!0}),e.prototype.getTickValue=function(n){var r=this.attributes,i=r.data,a=r.block,o=this.range.min;return a?Jj(i.map(function(s){var l=s.value;return l}),n).tick:Kat(n,this.step,o)},e.prototype.getValueByCanvasPoint=function(n){var r=this.range,i=r.min,a=r.max,o=et(this.ribbon.node().getPosition(),2),s=o[0],l=o[1],c=this.ifHorizontal(s,l),u=this.ifHorizontal.apply(this,ee([],et(Bw(n)),!1)),d=u-c,h=jr(this.getOffset(d,!0),i,a);return h},e.prototype.getOffset=function(n,r){r===void 0&&(r=!1);var i=this.range,a=i.min,o=i.max,s=this.ribbonShape.length,l=this.eventToOffsetScale;return l.update({domain:[a,o],range:[0,s]}),r?l.invert(n):l.map(n)},e.prototype.getRealSelection=function(n){var r=this.range.max,i=et(n,2),a=i[0],o=i[1];return this.ifHorizontal([a,o],[r-o,r-a])},e.prototype.getRealValue=function(n){var r=this.range.max;return this.ifHorizontal(n,r-n)},e.prototype.dispatchSelection=function(){var n=this.getRealSelection(this.selection),r=new Gn("valuechange",{detail:{value:n}});this.dispatchEvent(r)},e.prototype.dispatchIndicated=function(n,r){var i=this,a=this.range.max,o=this.ifHorizontal(function(){return{value:n,range:r}},function(){return{value:a-n,range:r?i.getRealSelection(r):void 0}}),s=new Gn("indicate",{detail:o});this.dispatchEvent(s)},e})(bi);function KT(t){return t===void 0&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var tL={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function kot(t){var e;t===void 0&&(t="");var n=KT(t);return e={},e[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(n.NAME_LABEL)]=Dt({flex:1},tL),e[".".concat(n.VALUE)]=Dt({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},tL),e[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var Cot=(function(t){yr(e,t);function e(n){var r=this,i,a,o=(a=(i=n.style)===null||i===void 0?void 0:i.template)===null||a===void 0?void 0:a.prefixCls,s=KT(o);return r=t.call(this,n,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(s.CONTAINER,'"></div>'),title:'<div class="'.concat(s.TITLE,'"></div>'),item:'<li class="'.concat(s.LIST_ITEM,`" data-index={index}>
        <span class="`).concat(s.NAME,`">
          <span class="`).concat(s.MARKER,`" style="background:{color}"></span>
          <span class="`).concat(s.NAME_LABEL,`" title="{name}">{name}</span>
        </span>
        <span class="`).concat(s.VALUE,`" title="{value}">{value}</span>
      </li>`)},style:kot(o)})||this,r.timestamp=-1,r.prevCustomContentKey=r.attributes.contentKey,r.initShape(),r.render(r.attributes,r),r}return Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"elementSize",{get:function(){var n=this.element.offsetWidth,r=this.element.offsetHeight;return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var n=this.attributes,r=n.data,i=n.template;return r.map(function(a,o){var s=a.name,l=s===void 0?"":s,c=a.color,u=c===void 0?"black":c,d=a.index,h=vi(a,["name","color","index"]),v=Dt({name:l,color:u,index:d??o},h);return tP(OW(i.item,v))})},enumerable:!1,configurable:!0}),e.prototype.render=function(n,r){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var n;(n=this.element)===null||n===void 0||n.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(n,r){var i=this;if(n!==void 0&&r!==void 0){var a=this.element.style.visibility==="hidden",o=function(){i.attributes.x=n??i.attributes.x,i.attributes.y=r??i.attributes.y,i.updatePosition()};a?this.closeTransition(o):o()}this.element.style.visibility="visible"},e.prototype.hide=function(n,r){n===void 0&&(n=0),r===void 0&&(r=0);var i=this.attributes.enterable;i&&this.isCursorEntered(n,r)||(this.element.style.visibility="hidden")},e.prototype.initShape=function(){var n=this.attributes.template;this.element=tP(n.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(!(this.prevCustomContentKey!==void 0&&this.prevCustomContentKey===this.attributes.contentKey)){this.prevCustomContentKey=this.attributes.contentKey;var n=this.attributes.content;n&&(typeof n=="string"?this.element.innerHTML=n:Mj(this.element,n))}},e.prototype.renderHTMLTooltipElement=function(){var n,r,i=this.attributes,a=i.template,o=i.title,s=i.enterable,l=i.style,c=i.content,u=KT(a.prefixCls),d=this.element;if(this.element.style.pointerEvents=s?"auto":"none",c)this.renderCustomContent();else{o?(d.innerHTML=a.title,d.getElementsByClassName(u.TITLE)[0].innerHTML=o):(r=(n=d.getElementsByClassName(u.TITLE))===null||n===void 0?void 0:n[0])===null||r===void 0||r.remove();var h=this.HTMLTooltipItemsElements,v=document.createElement("ul");v.className=u.LIST,Mj(v,h);var g=this.element.querySelector(".".concat(u.LIST));g?g.replaceWith(v):d.appendChild(v)}Frt(d,l)},e.prototype.getRelativeOffsetFromCursor=function(n){var r=this.attributes,i=r.position,a=r.offset,o=n||i,s=o.split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},c=this.elementSize,u=c.width,d=c.height,h=[-u/2,-d/2];return s.forEach(function(v){var g=et(h,2),b=g[0],x=g[1],_=et(l[v],2),w=_[0],E=_[1];h=[b+(u/2+a[0])*w,x+(d/2+a[1])*E]}),h},e.prototype.setOffsetPosition=function(n){var r=et(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,l=s===void 0?0:s,c=o.y,u=c===void 0?0:c,d=o.container,h=d.x,v=d.y;this.element.style.left="".concat(+l+h+i,"px"),this.element.style.top="".concat(+u+v+a,"px")},e.prototype.updatePosition=function(){var n=this.attributes.showDelay,r=n===void 0?60:n,i=Date.now();this.timestamp>0&&i-this.timestamp<r||(this.timestamp=i,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},e.prototype.autoPosition=function(n){var r=et(n,2),i=r[0],a=r[1],o=this.attributes,s=o.x,l=o.y,c=o.bounding,u=o.position;if(!c)return[i,a];var d=this.element,h=d.offsetWidth,v=d.offsetHeight,g=et([+s+i,+l+a],2),b=g[0],x=g[1],_={left:"right",right:"left",top:"bottom",bottom:"top"},w=c.x,E=c.y,A=c.width,M=c.height,T={left:b<w,right:b+h>w+A,top:x<E,bottom:x+v>E+M},C=[];u.split("-").forEach(function(j){T[j]?C.push(_[j]):C.push(j)});var R=C.join("-");return this.getRelativeOffsetFromCursor(R)},e.prototype.isCursorEntered=function(n,r){if(this.element){var i=this.element.getBoundingClientRect(),a=i.x,o=i.y,s=i.width,l=i.height;return new vr(a,o,s,l).isPointIn(n,r)}return!1},e.prototype.closeTransition=function(n){var r=this,i=this.element.style.transition;this.element.style.transition="none",n(),setTimeout(function(){r.element.style.transition=i},10)},e.tag="tooltip",e})(bi),Rot=(function(t){yr(e,t);function e(n){var r=t.call(this,n)||this;r.layoutEvents=[Ne.BOUNDS_CHANGED,Ne.INSERTED,Ne.REMOVED],r.$margin=Ii(0),r.$padding=Ii(0);var i=n.style||{},a=i.margin,o=a===void 0?0:a,s=i.padding,l=s===void 0?0:s;return r.margin=o,r.padding=l,r.isMutationObserved=!0,r.bindEvents(),r}return Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(n){this.$margin=Ii(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(n){this.$padding=Ii(n)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var n=this.attributes,r=n.x,i=r===void 0?0:r,a=n.y,o=a===void 0?0:a,s=n.width,l=n.height,c=et(this.$margin,4),u=c[0],d=c[1],h=c[2],v=c[3];return new vr(i-v,o-u,s+v+d,l+u+h)},e.prototype.appendChild=function(n,r){return n.isMutationObserved=!0,t.prototype.appendChild.call(this,n,r),n},e.prototype.getAvailableSpace=function(){var n=this.attributes,r=n.width,i=n.height,a=et(this.$padding,4),o=a[0],s=a[1],l=a[2],c=a[3],u=et(this.$margin,4),d=u[0],h=u[3];return new vr(c+h,o+d,r-c-s,i-o-l)},e.prototype.layout=function(){if(!(!this.attributes.display||!this.isConnected)&&!this.children.some(function(o){return!o.isConnected}))try{var n=this.attributes,r=n.x,i=n.y;this.style.transform="translate(".concat(r,", ").concat(i,")");var a=Art(this.getAvailableSpace(),this.children.map(function(o){return o.getBBox()}),this.attributes);this.children.forEach(function(o,s){var l=a[s],c=l.x,u=l.y;o.style.transform="translate(".concat(c,", ").concat(u,")")})}catch{}},e.prototype.bindEvents=function(){var n=this;this.layoutEvents.forEach(function(r){n.addEventListener(r,function(i){i.target&&(i.target.isMutationObserved=!0,n.layout())})})},e.prototype.attributeChangedCallback=function(n,r,i){n==="margin"?this.margin=i:n==="padding"&&(this.padding=i),this.layout()},e})(mi),XA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Pot(t){const{min:[e,n],max:[r,i]}=t.getLocalBounds();let a=0,o=0;return e>0&&(a=e),r<0&&(a=r),n>0&&(o=n),i<0&&(o=i),[a,o]}function jot(t,e=[]){const[n=0,r=0,i=n,a=r]=e,o=t.parentNode,s=o.getEulerAngles();o.setEulerAngles(0);const{min:l,halfExtents:c}=t.getLocalBounds(),[u,d]=l,[h,v]=c;return o.setEulerAngles(s),{x:u-a,y:d-n,width:h*2+a+r,height:v*2+n+i}}function Lot(t,e,n,r,i=!0,a=!0){const o=d=>jh()(d);if(!e[0]&&!e[1])return o([Pot(t),e]);if(!n.length)return o([[0,0],e]);const[s,l]=n,c=[...l],u=[...s];if(l[0]!==s[0]){const d=i?-4:4;c[1]=l[1],a&&!i&&(c[0]=Math.max(s[0],l[0]-d),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-d))),!a&&!i&&(c[0]=Math.max(s[0],l[0]-d),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.max(u[0],c[0]-d))),!a&&i&&(c[0]=Math.min(s[0],l[0]-d),l[1]>s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-d))),a&&i&&(c[0]=Math.min(s[0],l[0]-d),l[1]<s[1]?u[1]=c[1]:(u[1]=s[1],u[0]=Math.min(u[0],c[0]-d)))}return o([l,c,u,s,e])}const Mz=ug(t=>{const e=t.attributes,{className:n,class:r,transform:i,rotate:a,labelTransform:o,labelTransformOrigin:s,x:l,y:c,x0:u=l,y0:d=c,text:h,background:v,connector:g,startMarker:b,endMarker:x,coordCenter:_,innerHTML:w}=e,E=XA(e,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if(t.style.transform=`translate(${l}, ${c})`,[l,c,u,d].some(Y=>!Kn(Y))){t.children.forEach(Y=>Y.remove());return}const A=$t(E,"background"),{padding:M}=A,T=XA(A,["padding"]),C=$t(E,"connector"),{points:R=[]}=C,j=XA(C,["points"]);let I;w?I=se(t).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",w).call(Qt,Object.assign({transform:o,transformOrigin:s},E)).node():I=se(t).maybeAppend("text","text").style("zIndex",0).style("text",h).call(Qt,Object.assign({textBaseline:"middle",transform:o,transformOrigin:s},E)).node();const D=se(t).maybeAppend("background","rect").style("zIndex",-1).call(Qt,jot(I,M)).call(Qt,v?T:{}).node(),B=+u<_[0],$=+d<_[1],U=[+u-+l,+d-+c],G=Lot(D,U,R,_,B,$),F=b&&new fn({id:"startMarker",style:Object.assign({x:0,y:0},$t(E,"startMarker"))}),H=x&&new fn({id:"endMarker",style:Object.assign({x:0,y:0},$t(E,"endMarker"))});se(t).maybeAppend("connector","path").style("zIndex",0).style("d",G).style("markerStart",F).style("markerEnd",H).call(Qt,g?j:{})}),Tz=(t,e)=>{const{coordinate:n}=e;return(r,i,a)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=i,d={text:String(s),stroke:o,fill:o,fontSize:l},[[h,v]]=r;return se(new Mz).style("x",h).style("y",v).call(Qt,a).style("transform",`${u}rotate(${+c})`).style("coordCenter",n.getCenter()).call(Qt,d).call(Qt,t).node()}};Tz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ZT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Not(t){const e=t/Math.sqrt(2),n=t*Math.sqrt(2),[r,i]=[-e,e-n],[a,o]=[0,0],[s,l]=[e,e-n];return[["M",r,i],["A",t,t,0,1,1,s,l],["L",a,o],["Z"]]}function Dot(t){const{min:e,max:n}=t.getLocalBounds();return[(e[0]+n[0])*.5,(e[1]+n[1])*.5]}const Iot=ug(t=>{const e=t.attributes,{class:n,x:r,y:i,transform:a}=e,o=ZT(e,["class","x","y","transform"]),s=$t(o,"marker"),{size:l=24}=s,c=()=>Not(l/2),u=se(t).maybeAppend("marker",()=>new fn({})).call(v=>v.node().update(Object.assign({symbol:c},s))).node(),[d,h]=Dot(u);se(t).maybeAppend("text","text").style("x",d).style("y",h).call(Qt,o)}),kz=(t,e)=>{const n=ZT(t,[]);return(r,i,a)=>{const{color:o}=a,s=ZT(a,["color"]),{color:l=o,text:c=""}=i,u={text:String(c),stroke:l,fill:l},[[d,h]]=r;return se(new Iot).call(Qt,s).style("transform",`translate(${d},${h})`).call(Qt,u).call(Qt,n).node()}};kz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Cz=(t,e)=>{const{coordinate:n}=e;return(r,i,a)=>{const{color:o,text:s="",fontSize:l,rotate:c=0,transform:u=""}=i,d={text:String(s),stroke:o,fill:o,fontSize:l,textAlign:"center",textBaseline:"middle"},[[h,v]]=r;return se(new es).style("x",h).style("y",v).call(Qt,a).style("transformOrigin","center center").style("transform",`${u}rotate(${c}deg)`).style("coordCenter",n.getCenter()).call(Qt,d).call(Qt,t).node()}};Cz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Bot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function $ot(t,e){const n=[],r=[],i=[];let a=!1,o=null;const s=t.length/2;for(let l=0;l<s;l++){const c=t[l],u=t[l+s];if([...c,...u].some(d=>!e(d)))a=!0;else{if(n.push(c),r.push(u),a&&o){a=!1;const[d,h]=o;i.push([d,c,h,u])}o=[c,u]}}return[n.concat(r),i]}const eL=ug(t=>{const{areaPath:e,connectPath:n,areaStyle:r,connectStyle:i}=t.attributes,a=t.ownerDocument;se(t).maybeAppend("connect-path",()=>a.createElement("path",{})).style("d",n).call(Qt,i),se(t).maybeAppend("area-path",()=>a.createElement("path",{})).style("d",e).call(Qt,r)}),zs=(t,e)=>{const{curve:n,gradient:r=!1,defined:i=c=>!Number.isNaN(c)&&c!==void 0&&c!==null,connect:a=!1}=t,o=Bot(t,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=e;return(c,u,d)=>{const{color:h}=d,{color:v=h,seriesColor:g,seriesX:b,seriesY:x}=u,_=nr(s),w=qB(s,u),E=r&&g?YB(g,b,x,r,void 0,_):v,A=Object.assign(Object.assign(Object.assign(Object.assign({},d),{stroke:E,fill:E}),w&&{transform:w}),o),[M,T]=$ot(c,i),C=$t(A,"connect"),R=!!T.length,j=I=>se(l.createElement("path",{})).style("d",I||"").call(Qt,A).node();if(Nn(s)){const I=D=>{const B=s.getCenter(),$=D.slice(0,D.length/2),U=D.slice(D.length/2);return nQ().angle((G,F)=>og(Pr($[F],B))).outerRadius((G,F)=>Sr($[F],B)).innerRadius((G,F)=>Sr(U[F],B)).defined((G,F)=>[...$[F],...U[F]].every(i)).curve(n)(U)};return!R||a&&!Object.keys(C).length?j(I(M)):R&&!a?j(I(c)):se(new eL).style("areaStyle",A).style("connectStyle",Object.assign(Object.assign({},C),o)).style("areaPath",I(c)).style("connectPath",T.map(I).join("")).node()}else{const I=D=>{const B=D.slice(0,D.length/2),$=D.slice(D.length/2);return _?ET().y((U,G)=>B[G][1]).x1((U,G)=>B[G][0]).x0((U,G)=>$[G][0]).defined((U,G)=>[...B[G],...$[G]].every(i)).curve(n)(B):ET().x((U,G)=>B[G][0]).y1((U,G)=>B[G][1]).y0((U,G)=>$[G][1]).defined((U,G)=>[...B[G],...$[G]].every(i)).curve(n)(B)};return!R||a&&!Object.keys(C).length?j(I(M)):R&&!a?j(I(c)):se(new eL).style("areaStyle",A).style("connectStyle",Object.assign(Object.assign({},C),o)).style("areaPath",I(c)).style("connectPath",T.map(I).join("")).node()}}};zs.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Rz=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=Nn(n)?JC:U1;return zs(Object.assign({curve:i},t),e)(...r)}};Rz.props=Object.assign(Object.assign({},zs.props),{defaultMarker:"square"});var zot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Pz=(t,e)=>{const n=zot(t,[]),{coordinate:r}=e;return(...i)=>{const a=Nn(r)?$I:nr(r)?GI:HI;return zs(Object.assign({curve:a},n),e)(...i)}};Pz.props=Object.assign(Object.assign({},zs.props),{defaultMarker:"smooth"});const jz=(t,e)=>(...n)=>zs(Object.assign({curve:YI},t),e)(...n);jz.props=Object.assign(Object.assign({},zs.props),{defaultMarker:"hvh"});const Lz=(t,e)=>(...n)=>zs(Object.assign({curve:qI},t),e)(...n);Lz.props=Object.assign(Object.assign({},zs.props),{defaultMarker:"vh"});const Nz=(t,e)=>(...n)=>zs(Object.assign({curve:WI},t),e)(...n);Nz.props=Object.assign(Object.assign({},zs.props),{defaultMarker:"hv"});const Dz=(t,e)=>{const{arrow:n=!1}=t;return(...r)=>S5(Object.assign(Object.assign({},t),{arrow:n}),e)(...r)};Dz.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var nL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Iz=(t,e)=>{const n=nL(t,[]),{document:r}=e;return(i,a,o)=>{const{color:s}=o,l=nL(o,["color"]),{color:c=s,transform:u}=a,[d,h]=i,v=rs();return v.moveTo(d[0],d[1]),v.bezierCurveTo(d[0]/2+h[0]/2,d[1],d[0]/2+h[0]/2,h[1],h[0],h[1]),se(r.createElement("path",{})).call(Qt,l).style("d",v.toString()).style("stroke",c).style("transform",u).call(Qt,n).node()}};Iz.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var rL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Fot(t,e,n,r){const i=rs();if(Nn(n)){const a=n.getCenter(),o=Sr(t,a),l=(Sr(e,a)-o)*r+o;return i.moveTo(t[0],t[1]),c1(i,t,e,a,l),i.lineTo(e[0],e[1]),i}return nr(n)?(i.moveTo(t[0],t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,e[1]),i.lineTo(e[0],e[1]),i):(i.moveTo(t[0],t[1]),i.lineTo(t[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],e[1]),i)}const Bz=(t,e)=>{const{cornerRatio:n=1/3}=t,r=rL(t,["cornerRatio"]),{coordinate:i,document:a}=e;return(o,s,l)=>{const{defaultColor:c}=l,u=rL(l,["defaultColor"]),{color:d=c,transform:h}=s,[v,g]=o,b=Fot(v,g,i,n);return se(a.createElement("path",{})).call(Qt,u).style("d",b.toString()).style("stroke",d).style("transform",h).call(Qt,r).node()}};Bz.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var iL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $z=(t,e)=>{const n=iL(t,[]),{coordinate:r,document:i}=e;return(a,o,s)=>{const{color:l}=s,c=iL(s,["color"]),{color:u=l,transform:d}=o,[h,v]=a,g=rs();if(g.moveTo(h[0],h[1]),Nn(r)){const b=r.getCenter();g.quadraticCurveTo(b[0],b[1],v[0],v[1])}else{const b=SI(h,v),x=Sr(h,v)/2;c1(g,h,v,b,x)}return se(i.createElement("path",{})).call(Qt,c).style("d",g.toString()).style("stroke",u).style("transform",d).call(Qt,n).node()}};$z.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function zz(t={}){const{shapes:e}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:e},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Ca(t={}){return[...zz(t),{name:"title",scale:"identity"}]}function wf(){return[{type:qO,channel:"color"},{type:XO,channel:["x","y"]}]}function Rg(){return[{type:qO,channel:"x"},{type:XO,channel:["y"]}]}function Uot(){return[{type:qO,channel:"color"},{type:XO,channel:["position"]}]}function Pg(t={}){return zz(t)}function zr(){return[{type:Z8}]}function Jr(){return[]}function VA(t,e){return t.getBandWidth(t.invert(e))}function $h(t,e,n={}){const{x:r,y:i,series:a}=e,{x:o,y:s,series:l}=t,{style:{bandOffset:c=l?0:.5,bandOffsetX:u=c,bandOffsetY:d=c}={}}=n,h=!!o?.getBandWidth,v=!!s?.getBandWidth,g=!!l?.getBandWidth;return!h&&!v?b=>b:(b,x)=>{const _=h?VA(o,r[x]):0,w=v?VA(s,i[x]):0,A=g&&a?(VA(l,a[x])/2+ +a[x])*_:0,[M,T]=b;return[M+u*_+A,T+d*w]}}function Uw(t){return parseFloat(t)/100}function D5(t,e,n,r){const{x:i,y:a}=n,{innerWidth:o,innerHeight:s}=r.getOptions(),l=Array.from(t,c=>{const u=i[c],d=a[c],h=typeof u=="string"?Uw(u)*o:+u,v=typeof d=="string"?Uw(d)*s:+d;return[[h,v]]});return[t,l]}function $l(t){return typeof t=="function"?t:e=>e[t]}function KA(t,e){return Array.from(t,$l(e))}function Hot(t){return Array.isArray(t)?{links:t}:t&&typeof t=="object"?{links:t.links||[],nodes:t.nodes}:{links:[]}}function I5(t,e){const n=Hot(t),{source:r=d=>d.source,target:i=d=>d.target,value:a=d=>d.value}=e,{links:o,nodes:s}=n;if(!o.length)return{links:[],nodes:s||[]};const l=KA(o,r),c=KA(o,i),u=KA(o,a);return{links:o.map((d,h)=>({target:c[h],source:l[h],value:u[h]})),nodes:s||Array.from(new Set([...l,...c]),d=>({key:d}))}}var Got=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Fz=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s}=o,l=Got(o,["color"]),{color:c=s,src:u="",size:d=32,transform:h=""}=a;let{width:v=d,height:g=d}=t;const[[b,x]]=i,[_,w]=n.getSize();v=typeof v=="string"?Uw(v)*_:v,g=typeof g=="string"?Uw(g)*w:g;const E=b-Number(v)/2,A=x-Number(g)/2;return se(r.createElement("image",{})).call(Qt,l).style("x",E).style("y",A).style("src",u).style("stroke",c).style("transform",h).call(Qt,t).style("width",v).style("height",g).node()}};Fz.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Yot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qot(t,e){const n=rs();if(Nn(e)){const r=e.getCenter(),i=[...t,t[0]],a=i.map(o=>Sr(o,r));return i.forEach((o,s)=>{if(s===0){n.moveTo(o[0],o[1]);return}const l=a[s],c=t[s-1],u=a[s-1];u!==void 0&&Math.abs(l-u)<1e-10?c1(n,c,o,r,l):n.lineTo(o[0],o[1])}),n.closePath(),n}return Znt(n,t)}const Uz=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s}=o,l=Yot(o,["color"]),{color:c=s,transform:u}=a,d=qot(i,n);return se(r.createElement("path",{})).call(Qt,l).style("d",d.toString()).style("stroke",c).style("fill",c).style("transform",u).call(Qt,t).node()}};Uz.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var aL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Wot(t,e){const[n,r,i,a]=t,o=rs();if(Nn(e)){const s=e.getCenter(),l=Sr(s,n);return o.moveTo(n[0],n[1]),o.quadraticCurveTo(s[0],s[1],i[0],i[1]),c1(o,i,a,s,l),o.quadraticCurveTo(s[0],s[1],r[0],r[1]),c1(o,r,n,s,l),o.closePath(),o}return o.moveTo(n[0],n[1]),o.bezierCurveTo(n[0]/2+i[0]/2,n[1],n[0]/2+i[0]/2,i[1],i[0],i[1]),o.lineTo(a[0],a[1]),o.bezierCurveTo(a[0]/2+r[0]/2,a[1],a[0]/2+r[0]/2,r[1],r[0],r[1]),o.lineTo(n[0],n[1]),o.closePath(),o}const Hz=(t,e)=>{const n=aL(t,[]),{coordinate:r,document:i}=e;return(a,o,s)=>{const{color:l}=s,c=aL(s,["color"]),{color:u=l,transform:d}=o,h=Wot(a,r);return se(i.createElement("path",{})).call(Qt,c).style("d",h.toString()).style("fill",u||l).style("stroke",u||l).style("transform",d).call(Qt,n).node()}};Hz.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Xot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Vot(t,e){const n=rs();if(!Nn(e))n.moveTo(...t[0]),n.lineTo(...t[1]),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.lineTo(...t[5]),n.lineTo(...t[6]),n.lineTo(...t[7]),n.closePath(),n.moveTo(...t[8]),n.lineTo(...t[9]),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.lineTo(...t[13]);else{const r=e.getCenter(),[i,a]=r,o=ts(Pr(t[0],r)),s=ts(Pr(t[1],r)),l=Sr(r,t[2]),c=Sr(r,t[3]),u=Sr(r,t[8]),d=Sr(r,t[10]),h=Sr(r,t[11]);n.moveTo(...t[0]),n.arc(i,a,l,o,s),n.arc(i,a,l,s,o,!0),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.arc(i,a,c,o,s),n.lineTo(...t[6]),n.arc(i,a,d,s,o,!0),n.closePath(),n.moveTo(...t[8]),n.arc(i,a,u,o,s),n.arc(i,a,u,s,o,!0),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.arc(i,a,h,o,s),n.arc(i,a,h,s,o,!0)}return n}const Gz=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s,transform:l}=a,{color:c,fill:u=c,stroke:d=c}=o,h=Xot(o,["color","fill","stroke"]),v=Vot(i,n);return se(r.createElement("path",{})).call(Qt,h).style("d",v.toString()).style("stroke",d).style("fill",s||u).style("transform",l).call(Qt,t).node()}};Gz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Kot=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Zot(t,e,n=4){const r=rs();if(!Nn(e))return r.moveTo(...t[2]),r.lineTo(...t[3]),r.lineTo(t[3][0]-n,t[3][1]),r.lineTo(t[10][0]-n,t[10][1]),r.lineTo(t[10][0]+n,t[10][1]),r.lineTo(t[3][0]+n,t[3][1]),r.lineTo(...t[3]),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(t[3][0]+n/2,t[8][1]),r.arc(t[3][0],t[8][1],n/2,0,Math.PI*2),r.closePath(),r;const i=e.getCenter(),[a,o]=i,s=Sr(i,t[3]),l=Sr(i,t[8]),c=Sr(i,t[10]),u=ts(Pr(t[2],i)),d=Math.asin(n/l),h=u-d,v=u+d;r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(Math.cos(h)*s+a,Math.sin(h)*s+o),r.arc(a,o,s,h,v),r.lineTo(Math.cos(v)*c+a,Math.sin(v)*c+o),r.arc(a,o,c,v,h,!0),r.lineTo(Math.cos(h)*s+a,Math.sin(h)*s+o),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]);const g=(h+v)/2;return r.moveTo(Math.cos(g)*(l+n/2)+a,Math.sin(g)*(l+n/2)+o),r.arc(Math.cos(g)*l+a,Math.sin(g)*l+o,n/2,g,Math.PI*2+g),r.closePath(),r}const Yz=(t,e)=>{const{coordinate:n,document:r}=e;return(i,a,o)=>{const{color:s,transform:l}=a,c=4,{color:u,fill:d=u,stroke:h=u}=o,v=Kot(o,["color","fill","stroke"]),g=Zot(i,n,c);return se(r.createElement("path",{})).call(Qt,v).style("d",g.toString()).style("stroke",h).style("fill",s||d).style("transform",l).call(Qt,t).node()}};Yz.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var oL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Qot(t,e,n){return t.createElement("path",{style:Object.assign({d:`M ${e},${e} L -${e},0 L ${e},-${e} L 0,0 Z`,transformOrigin:"center"},n)})}function Jot(t,e){if(!Nn(e))return jh().x(r=>r[0]).y(r=>r[1])(t);const n=e.getCenter();return VC()({startAngle:0,endAngle:Math.PI*2,outerRadius:Sr(t[0],n),innerRadius:Sr(t[1],n)})}function tst(t,e){if(!Nn(t))return e;const[n,r]=t.getCenter();return`translate(${n}, ${r}) ${e||""}`}const B5=(t,e)=>{const{arrow:n,arrowSize:r=4}=t,i=oL(t,["arrow","arrowSize"]),{coordinate:a,document:o}=e;return(s,l,c)=>{const{color:u,lineWidth:d}=c,h=oL(c,["color","lineWidth"]),{color:v=u,size:g=d}=l,b=n?Qot(o,r,Object.assign({fill:i.stroke||v,stroke:i.stroke||v},$t(i,"arrow"))):null,x=Jot(s,a),_=tst(a,l.transform);return se(o.createElement("path",{})).call(Qt,h).style("d",x).style("stroke",v).style("lineWidth",g).style("transform",_).style("markerEnd",b).call(Qt,i).node()}};B5.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var sL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function est(t,e,n){return[["M",t,e],["L",t+2*n,e-n],["L",t+2*n,e+n],["Z"]]}function nst(t){return jh().x(e=>e[0]).y(e=>e[1])(t)}function rst(t,e,n,r,i,a,o=0){const[[s,l],[c,u]]=e;if(nr(t)){const x=s+n,_=c+r,w=x+o,E=l+i,A=u+a;return[[x,E],[w,E],[w,A],[_,A]]}const d=l-n,h=u-r,v=d-o,g=s-i,b=c-a;return[[g,d],[g,v],[b,v],[b,h]]}const qz=(t,e)=>{const{offsetX:n=0,sourceOffsetX:r=n,targetOffsetX:i=n,offsetY:a=0,sourceOffsetY:o=a,targetOffsetY:s=a,connectLength1:l,endMarker:c=!0}=t,u=sL(t,["offsetX","sourceOffsetX","targetOffsetX","offsetY","sourceOffsetY","targetOffsetY","connectLength1","endMarker"]),{coordinate:d}=e;return(h,v,g)=>{const{color:b,connectLength1:x}=g,_=sL(g,["color","connectLength1"]),{color:w,transform:E}=v,A=rst(d,h,o,s,r,i,l??x),M=$t(Object.assign(Object.assign({},u),g),"endMarker");return se(new Bi).call(Qt,_).style("d",nst(A)).style("stroke",w||b).style("transform",E).style("markerEnd",c?new fn({className:"marker",style:Object.assign(Object.assign({},M),{symbol:est})}):null).call(Qt,u).node()}};qz.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function ist(t,e,n,r){const i=e.length/2,a=e.slice(0,i),o=e.slice(i);let s=Ag(a,(v,g)=>Math.abs(v[1]-o[g][1]));s=Math.max(Math.min(s,i-2),1);const l=v=>[a[v][0],(a[v][1]+o[v][1])/2],c=l(s),u=l(s-1),d=l(s+1),h=ts(Pr(d,u))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${h})`,textAlign:"center",textBaseline:"middle"}}function Wz(t,e,n,r){const{bounds:i}=n,[[a,o],[s,l]]=i,c=s-a,u=l-o,d=h=>{const{x:v,y:g}=h,b=gP(n.x,c),x=gP(n.y,u);return Object.assign(Object.assign({},h),{x:(b||v)+a,y:(x||g)+o})};return d(t==="left"?{x:0,y:u/2,textAlign:"start",textBaseline:"middle"}:t==="right"?{x:c,y:u/2,textAlign:"end",textBaseline:"middle"}:t==="top"?{x:c/2,y:0,textAlign:"center",textBaseline:"top"}:t==="bottom"?{x:c/2,y:u,textAlign:"center",textBaseline:"bottom"}:t==="top-left"?{x:0,y:0,textAlign:"start",textBaseline:"top"}:t==="top-right"?{x:c,y:0,textAlign:"end",textBaseline:"top"}:t==="bottom-left"?{x:0,y:u,textAlign:"start",textBaseline:"bottom"}:t==="bottom-right"?{x:c,y:u,textAlign:"end",textBaseline:"bottom"}:{x:c/2,y:u/2,textAlign:"center",textBaseline:"middle"})}function Xz(t,e,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s}=n,l=r.getCenter(),c=Ih(r,e,[i,a]),{innerRadius:u,outerRadius:d,startAngle:h,endAngle:v}=c,g=t==="inside"?(h+v)/2:v,b=$5(g,o,s),x=(()=>{const[_,w]=e,E=u+(d-u)*.5,[A,M]=t==="inside"?p1(l,g,E):SI(_,w);return{x:A,y:M}})();return Object.assign(Object.assign({},x),{textAlign:t==="inside"?"center":"start",textBaseline:"middle",rotate:b})}function p1(t,e,n){return[t[0]+Math.sin(e)*n,t[1]-Math.cos(e)*n]}function $5(t,e,n){if(!e)return 0;const r=n?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+r}function ast(t,e,n,r){const{y:i,y1:a,autoRotate:o,rotateToAlignArc:s,radius:l=.5,offset:c=0}=n,u=Ih(r,e,[i,a]),{startAngle:d,endAngle:h}=u,v=r.getCenter(),g=(d+h)/2,x={textAlign:"center",textBaseline:"middle",rotate:$5(g,o,s)},{innerRadius:_,outerRadius:w}=u,A=_+(w-_)*l+c,[M,T]=p1(v,g,A);return Object.assign({x:M,y:T},x)}function lL(t){return t===void 0?null:t}function Vz(t,e,n,r){const{bounds:i}=n,[a]=i;return{x:lL(a[0]),y:lL(a[1])}}function Oc(t,e,n,r){const{bounds:i}=n;return i.length===1?Vz(t,e,n):(tS(r)?Xz:Mg(r)?ast:Wz)(t,e,n,r)}function ost(t,e,n,r,i){const[a,o]=p1(t,e,n),[s,l]=p1(t,e,r),c=Math.sin(e)>0?1:-1;return[[a,o],[s,l],[s+c*i,l]]}function Kz(t,e,n){const r=Ih(n,t,[e.y,e.y1]),{innerRadius:i,outerRadius:a}=r;return i+(a-i)}function Zz(t,e,n){const r=Ih(n,t,[e.y,e.y1]),{startAngle:i,endAngle:a}=r;return(i+a)/2}function z5(t,e,n,r){const{autoRotate:i,rotateToAlignArc:a,offset:o=0,connector:s=!0,connectorLength:l=o,connectorLength2:c=0,connectorDistance:u=0}=n,d=r.getCenter(),h=Zz(e,n,r),v=Math.sin(h)>0?1:-1,g=$5(h,i,a),b={textAlign:v>0||tS(r)?"start":"end",textBaseline:"middle",rotate:g},x=Kz(e,n,r),_=x+(s?l:o),[[w,E],[A,M],[T,C]]=ost(d,h,x,_,s?c:0),R=s?+u*v:0,j=T+R,I=C,D={connector:s,connectorPoints:[[A-j,M-I],[T-j,C-I]]};return Object.assign(Object.assign({x0:w,y0:E,x:T+R,y:C},b),D)}function sst(t,e,n,r){const{bounds:i}=n;return i.length===1?Vz(t,e,n):(tS(r)?Xz:Mg(r)?z5:Wz)(t,e,n,r)}function cL(t,e={}){const{labelHeight:n=14,height:r}=e,i=Ns(t,c=>c.y),a=i.length,o=new Array(a);for(let c=0;c<a;c++){const u=i[c],{y:d}=u;o[c]={y:d,y1:d+n,labels:[d]}}let s=!0;for(;s;){s=!1;for(let c=o.length-1;c>0;c--){const u=o[c],d=o[c-1];if(d.y1>u.y){s=!0,d.labels.push(...u.labels),o.splice(c,1),d.y1+=u.y1-u.y;const h=d.y1-d.y;d.y1=Math.max(Math.min(d.y1,r),h),d.y=d.y1-h}}}let l=0;for(const c of o){const{y:u,labels:d}=c;let h=u-n;for(const v of d){const g=i[l++],x=h+n-v;g.connectorPoints[0][1]-=x,g.y=h+n,h+=n}}}function uL(t,e){const n=Ns(t,s=>s.y),{height:r,labelHeight:i=14}=e,a=Math.ceil(r/i);if(n.length<=a)return cL(n,e);const o=[];for(let s=0;s<n.length;s++)s<n.length-a?(n[s].opacity=0,n[s].connector=!1):o.push(n[s]);cL(o,e)}var lst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const y_=new WeakMap;function cst(t,e,n){const{connectorLength:r,connectorLength2:i,connectorDistance:a}=e,o=lst(z5("outside",t,e,n),[]),s=n.getCenter(),l=Kz(t,e,n),c=Zz(t,e,n),u=l+r+i,d=Math.sin(c)>0?1:-1,h=s[0]+(u+ +a)*d,{x:v}=o,g=h-v;return o.x+=g,o.connectorPoints[0][0]-=g,o}function ust(t,e,n,r,i,a){if(!Mg(r))return{};if(y_.has(e))return y_.get(e);const o=a.map(h=>cst(h,n,r)),{width:s,height:l}=r.getOptions(),c=o.filter(h=>h.x<s/2),u=o.filter(h=>h.x>=s/2),d=Object.assign(Object.assign({},i),{height:l});return uL(c,d),uL(u,d),o.forEach((h,v)=>y_.set(a[v],h)),y_.get(e)}var fst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dst(t,e,n,r){if(!Mg(r))return{};const{connectorLength:i,connectorLength2:a,connectorDistance:o}=n,s=fst(z5("outside",e,n,r),[]),{x0:l,y0:c}=s,u=r.getCenter(),h=aQ(r)+i,v=og([l-u[0],c-u[1]]),g=Math.sin(v)>0?1:-1,[b,x]=p1(u,v,h);return s.x=b+(a+o)*g,s.y=x,s}const hst=Object.freeze(Object.defineProperty({__proto__:null,area:ist,bottom:Oc,bottomLeft:Oc,bottomRight:Oc,inside:Oc,left:Oc,outside:sst,right:Oc,spider:ust,surround:dst,top:Oc,topLeft:Oc,topRight:Oc},Symbol.toStringTag,{value:"Module"}));var fL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pst(t,e){return t!==void 0?t:Mg(e)?"inside":nr(e)?"right":"top"}function vst(t,e,n,r,i,a){const{position:o}=e,{render:s}=i,l=pst(o,n),u=r[s?"htmlLabel":l==="inside"?"innerLabel":"label"],d=Object.assign({},u,e),h=hst[w5(l)];if(!h)throw new Error(`Unknown position: ${l}`);return Object.assign(Object.assign({},u),h(l,t,d,n,i,a))}const Qz=(t,e)=>{const{coordinate:n,theme:r}=e,{render:i}=t;return(a,o,s,l)=>{const{text:c,x:u,y:d,transform:h="",transformOrigin:v,className:g=""}=o,b=fL(o,["text","x","y","transform","transformOrigin","className"]),x=vst(a,o,n,r,t,l),{rotate:_=0,transform:w=""}=x,E=fL(x,["rotate","transform"]);return se(new Mz).call(Qt,E).style("text",`${c}`).style("className",`${g} g2-label`).style("innerHTML",i?i(c,o.datum,o.index):void 0).style("labelTransform",`${w} rotate(${+_}) ${h}`.trim()).style("labelTransformOrigin",v).style("coordCenter",n.getCenter()).call(Qt,b).node()}};Qz.props={defaultMarker:"point"};var dL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const F5=(t,e)=>{const{arrow:n,colorAttribute:r}=t,i=dL(t,["arrow","colorAttribute"]),{coordinate:a,document:o}=e;return(s,l,c)=>{const{color:u,stroke:d}=c,h=dL(c,["color","stroke"]),{d:v,color:g=u}=l,[b,x]=a.getSize();return se(o.createElement("path",{})).call(Qt,h).style("d",typeof v=="function"?v({width:b,height:x}):v).style(r,g).call(Qt,i).node()}};F5.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const Jz=(t,e)=>F5(Object.assign({colorAttribute:"fill"},t),e);Jz.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const t9=(t,e)=>F5(Object.assign({fill:"none",colorAttribute:"stroke"},t),e);t9.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var gst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const e9=(t,e)=>{const{document:n}=e;return(r,i,a)=>{const{transform:o}=i,{color:s}=a,l=gst(a,["color"]),{color:c=s}=i,[u,...d]=r,h=rs();return h.moveTo(...u),d.forEach(([v,g])=>{h.lineTo(v,g)}),h.closePath(),se(n.createElement("path",{})).call(Qt,l).style("d",h.toString()).style("stroke",c||s).style("fill",c||s).style("fillOpacity",.4).style("transform",o).call(Qt,t).node()}};e9.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};function n9(t){var e,n,r,i=t||1;function a(s,l){++e>i&&(r=n,o(1),++e),n[s]=l}function o(s){e=0,n=Object.create(null),s||(r=Object.create(null))}return o(),{clear:o,has:function(s){return n[s]!==void 0||r[s]!==void 0},get:function(s){var l=n[s];if(l!==void 0)return l;if((l=r[s])!==void 0)return a(s,l),l},set:function(s,l){n[s]!==void 0?n[s]=l:a(s,l)}}}n9(3);function r9(t,e=(...r)=>`${r[0]}`,n=16){const r=n9(n);return(...i)=>{const a=e(...i);let o=r.get(a);return r.has(a)?r.get(a):(o=t(...i),r.set(a,o),o)}}function yst(t){return typeof t=="string"?t.split(" ").map(e=>{const[n,r]=e.split(":");return[+n,r]}):t}function Hw(t,e,n){const r=t?t():document.createElement("canvas");return r.width=e,r.height=n,r}const mst=r9((t,e,n)=>{const r=Hw(n,t*2,t*2),i=r.getContext("2d"),a=t,o=t;if(e===1)i.beginPath(),i.arc(a,o,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const s=i.createRadialGradient(a,o,t*e,a,o,t);s.addColorStop(0,"rgba(0,0,0,1)"),s.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=s,i.fillRect(0,0,2*t,2*t)}return r},t=>`${t}`);function bst(t,e){const r=Hw(e,256,1).getContext("2d"),i=r.createLinearGradient(0,0,256,1);return yst(t).forEach(([a,o])=>{i.addColorStop(a,o)}),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function xst(t,e,n,r,i,a){const{blur:o}=i;let s=r.length;for(;s--;){const{x:l,y:c,value:u,radius:d}=r[s],h=Math.min(u,n),v=l-d,g=c-d,b=mst(d,1-o,a),x=(h-e)/(n-e);t.globalAlpha=Math.max(x,.001),t.drawImage(b,v,g)}return t}function _st(t,e,n,r,i){const{minOpacity:a,opacity:o,maxOpacity:s,useGradientOpacity:l}=i,c=0,u=0,d=e,h=n,v=t.getImageData(c,u,d,h),g=v.data,b=g.length;for(let x=3;x<b;x+=4){const _=g[x],w=_*4;if(!w)continue;const E=o||Math.max(0,Math.min(s,Math.max(a,_)));g[x-3]=r[w],g[x-2]=r[w+1],g[x-1]=r[w+2],g[x]=l?r[w+3]:E}return v}function wst(t,e,n,r,i,a,o){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},a);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const c=Hw(o,t,e).getContext("2d"),u=bst(s.gradient,o);c.clearRect(0,0,t,e),xst(c,n,r,i,s,o);const d=_st(c,t,e,u,s),v=Hw(o,t,e).getContext("2d");return v.putImageData(d,0,0),v}var Ost=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Sst(t,e){return Object.keys(t).reduce((n,r)=>{const i=t[r];return e(i,r)||(n[r]=i),n},{})}const i9=(t,e)=>{const{gradient:n,opacity:r,maxOpacity:i,minOpacity:a,blur:o,useGradientOpacity:s}=t,l=Ost(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:u,document:d}=e;return(h,v,g)=>{const{transform:b}=v,[x,_]=c.getSize(),w=h.map(C=>({x:C[0],y:C[1],value:C[2],radius:C[3]})),E=xo(h,C=>C[2]),A=Mn(h,C=>C[2]),T=x&&_?wst(x,_,E,A,w,Sst({gradient:n,opacity:r,minOpacity:a,maxOpacity:i,blur:o,useGradientOpacity:s},C=>C===void 0),u):{canvas:null};return se(d.createElement("image",{})).call(Qt,g).style("x",0).style("y",0).style("width",x).style("height",_).style("src",T.canvas.toDataURL()).style("transform",b).call(Qt,l).node()}};i9.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var Est=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const a9=(t,e)=>{const{render:n}=t,r=Est(t,["render"]);return i=>{const[[a,o]]=i;return n(Object.assign(Object.assign({},r),{x:a,y:o}),e)}};a9.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const hL=5e3;function pL(t,e,n){return t+(e-t)*n}function Ast(t,e,n,r){return e===0?[[t+1/2*n/Math.PI/2,r/2],[t+1/2*n/Math.PI,r],[t+n/4,r]]:e===1?[[t+1/2*n/Math.PI/2*(Math.PI-2),r],[t+1/2*n/Math.PI/2*(Math.PI-1),r/2],[t+n/4,0]]:e===2?[[t+1/2*n/Math.PI/2,-r/2],[t+1/2*n/Math.PI,-r],[t+n/4,-r]]:[[t+1/2*n/Math.PI/2*(Math.PI-2),-r],[t+1/2*n/Math.PI/2*(Math.PI-1),-r/2],[t+n/4,0]]}function Mst(t,e,n,r,i,a,o){const s=Math.ceil(2*t/n*4)*4,l=[];let c=r;for(;c<-Math.PI*2;)c+=Math.PI*2;for(;c>0;)c-=Math.PI*2;c=c/Math.PI/2*n;const u=a-t+c-t*2;l.push(["M",u,e]);let d=0;for(let h=0;h<s;++h){const v=h%4,g=Ast(h*n/4,v,n,i);l.push(["C",g[0][0]+u,-g[0][1]+e,g[1][0]+u,-g[1][1]+e,g[2][0]+u,-g[2][1]+e]),h===s-1&&(d=g[2][0])}return l.push(["L",d+u,o+t]),l.push(["L",u,o+t]),l.push(["Z"]),l}function Tst(t,e,n,r,i,a,o,s,l,c,u){const{fill:d,fillOpacity:h,opacity:v}=i;for(let g=0;g<r;g++){const b=r<=1?1:g/(r-1),x=Mst(s,o+s*n,l,0,s/40,t,e),_=u.createElement("path",{style:{d:x,fill:d,opacity:pL(.2,.9,b)*Number(v||h)}});a.appendChild(_);try{const w=[{transform:"translate(0, 0)"},{transform:`translate(${l*2}, 0)`}];_.animate(w,{duration:pL(.5*hL,hL,b)*2,iterations:1/0})}catch{console.warn("off-screen group animate error!")}}}function kst(t,e,n){return`
      M ${t} ${e-n} 
      a ${n} ${n} 0 1 0 0 ${n*2}
      a ${n} ${n} 0 1 0 0 ${-n*2}
      Z
    `}function Cst(t,e,n){const i=n*.618;return`
      M ${t-i} ${e-n}
      L ${t+i} ${e-n}
      L ${t+i} ${e+n}
      L ${t-i} ${e+n}
      Z
    `}function Rst(t,e,n){return`
      M ${t} ${e-n}
      L ${t+n} ${e}
      L ${t} ${e+n}
      L ${t-n} ${e}
      Z
    `}function Pst(t,e,n){return`
      M ${t} ${e-n}
      L ${t+n} ${e+n}
      L ${t-n} ${e+n}
      Z
    `}function jst(t,e,n){const r=n*4/3,i=Math.max(r,n*2),a=r/2,o=t,s=a+e-i/2,l=Math.asin(a/((i-a)*.85)),c=Math.sin(l)*a,u=Math.cos(l)*a,d=o-u,h=s+c,v=t,g=s+a/Math.sin(l);return`
      M ${d} ${h}
      A ${a} ${a} 0 1 1 ${d+u*2} ${h}
      Q ${v} ${g} ${t} ${e+i/2}
      Q ${v} ${g} ${d} ${h}
      Z 
    `}const vL={pin:jst,rect:Cst,circle:kst,diamond:Rst,triangle:Pst};var gL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Lst=(t="circle")=>vL[t]||vL.circle,o9=(t,e)=>{if(!e)return;const{coordinate:n}=e,{liquidOptions:r,styleOptions:i}=t,{liquidShape:a,percent:o}=r,{background:s,outline:l={},wave:c={}}=i,u=gL(i,["background","outline","wave"]),{border:d=2,distance:h=0}=l,v=gL(l,["border","distance"]),{length:g=192,count:b=3}=c;return(x,_,w)=>{const{document:E}=e.canvas,{color:A,fillOpacity:M}=w,T=Object.assign(Object.assign({fill:A},w),u),C=E.createElement("g",{}),[R,j]=n.getCenter(),I=n.getSize(),D=Math.min(...I)/2,B=pi(a)?a:Lst(a),$=B(R,j,D,...I),U=B(R,j,D+d/2,...I);if(Object.keys(s).length){const H=E.createElement("path",{style:Object.assign({d:$,fill:"#fff"},s)});C.appendChild(H)}if(o>0){const H=E.createElement("path",{style:{d:U}});C.appendChild(H),C.style.clipPath=H,Tst(R,j,1-o,b,T,C,H.getBBox().y,D*2,g,!0,E)}const G=E.createElement("path",{style:{d:$,fill:"transparent",lineWidth:d+2*h,stroke:"#fff"}}),F=E.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:$,stroke:A,strokeOpacity:M,lineWidth:d},T),v),{fill:"transparent"})});return C.appendChild(G),C.appendChild(F),C}};o9.props={};const yL=(t,e)=>Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))/2,Nst=(t,e,n)=>{const r=Math.atan2(t[1]-n[1],t[0]-n[0]);let a=Math.atan2(e[1]-n[1],e[0]-n[0])-r;return a<0&&(a+=Math.PI*2),a},Dst=(t,e)=>{if(!e)return;const{coordinate:n}=e;if(!n?.getCenter)return;const r=n.getCenter();return(i,a,o)=>{const{document:s}=e.canvas,{color:l,index:c}=a,u=s.createElement("g",{}),d=yL(i[0],i[1]),h=yL(i[0],r)*2,v=Nst(i[3],i[0],r)>Math.PI,g=s.createElement("path",{style:Object.assign(Object.assign(Object.assign({d:[["M",...i[0]],["A",d,d,0,1,0,...i[1]],["A",h+d*2,h+d*2,0,v?1:0,0,...i[2]],["A",d,d,0,1,c===0?0:1,...i[3]],["A",h,h,0,v?1:0,1,...i[0]],["Z"]]},o),_C(t,["shape","last","first"])),{fill:l||o.color})});return u.appendChild(g),u}},mL="main-layer",QT="label-layer",Tl="element",Gw="view",wh="plot",bL="component",JT="label",xL="area",ZA="axis-breaks",s9="axis-breaks-group";var Ist=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Bst=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $st=.03,zst={fill:"#fff",stroke:"#aaa",lineDash:"4 3",lineWidth:.5,fillOpacity:1,strokeOpacity:1},Xd=0,Fst=(t,e,n,r,i,a)=>{const o=[],s=[],l=r-1;for(let c=1;c<l;c++){const u=c/l*e,d=t+(c%2===0?n:-n);o.push(`${u},${d}`),s.push(`${u},${i?d-a:d+a}`)}return o.push(`${e},${t}`),s.push(`${e+a},${t}`),[o,s]},Ust=(t,e)=>{const n=_e(t,"scale.y"),r=_e(n,"options",{}),{breaks:i}=r,a=i.filter(o=>o.start!==e[0]&&o.end!==e[1]);n.update(Object.assign(Object.assign({},r),{breaks:a}))},l9=(t,e)=>{const{context:n,selection:r,view:i}=e,a=r.select(`.${wh}`).node(),{document:o}=n.canvas,{externals:s}=n,{scale:l}=i;return c=>{const{key:u,start:d,end:h,gap:v=$st,vertices:g=50,lineWidth:b=.5,verticeOffset:x=3}=c,_=Bst(c,["key","start","end","gap","vertices","lineWidth","verticeOffset"]),w=o.createElement("g",{id:`break-group-${u}`,className:s9}),E=_e(l,"x.sortedDomain",[]),A=l.y.getOptions(),{range:M,domain:T}=A,C=T.indexOf(d),R=T.indexOf(h),{width:j,height:I}=a.getBBox();if(C===-1||R===-1||!E.length)return w;const D=M[0]>M[1],B=M[C]*I,$=M[R]*I;let U="",G="";for(const[H,{y:Y,isLower:W}]of[{y:$,isLower:!1},{y:B,isLower:!0}].entries()){const V=D?b:-b,[J,tt]=Fst(Y,j-Xd,x,g,W,V);H===0?(U=`M ${Xd},${Y} L ${J.join(" L ")} `,G=`M ${Xd-b},${Y+V} L ${tt.join(" L ")} `):(U+=`L ${j-Xd},${Y} L ${[...J].reverse().join(" L ")} L ${Xd},${Y} Z`,G+=`L ${j-Xd+b+2},${Y-V} L ${[...tt].reverse().join(" L ")} L ${Xd-b},${Y-V} Z`)}const F=Object.assign(Object.assign({},zst),_);try{const H=new Bi({style:Object.assign(Object.assign({},F),{d:U})}),Y=new Bi({style:Object.assign(Object.assign({},F),{d:G,lineWidth:0})});Y.addEventListener("click",W=>Ist(void 0,void 0,void 0,function*(){if(W.detail===2){Ust(i,[d,h]);const{update:V,setState:J}=n.externals;J("options",tt=>{console.log(tt);const{marks:nt}=tt;if(!nt||!nt.length)return tt;const lt=nt.map(at=>{const ft=_e(at,"scale.y.breaks",[]),mt=ft.filter(ct=>ct.start!==d&&ct.end!==h&&!ct.used);return ft.forEach(ct=>{ct.start===d&&ct.end===h&&(ct.used=!0)}),wt({},at,{scale:{y:{breaks:mt}}})});return Object.assign(Object.assign({},tt),{marks:lt})}),yield V()}})),w.appendChild(H),w.appendChild(Y),a.appendChild(w)}catch(H){console.error("Failed to create break path:",H)}return w}};l9.props={};function _L(t,e){return t.getBandWidth(t.invert(e))}const wL={rect:Bh,hollow:fS,funnel:p5,pyramid:XB},c9=()=>(t,e,n,r)=>{const{x:i,y1:a,series:o,size:s}=n;let{y:l}=n;l=l.map(b=>b!==void 0?b:1);const c=e.x,u=e.series,[d]=r.getSize(),h=s?s.map(b=>+b/d):null,v=s?(b,x,_)=>{const w=b+x/2,E=h[_];return[w-E/2,w+E/2]}:(b,x,_)=>[b,b+x],g=Array.from(t,b=>{const x=_L(c,i[b]),_=u?_L(u,o?.[b]):1,w=x*_,E=(+o?.[b]||0)*x,A=+i[b]+E,[M,T]=v(A,w,b),C=+l[b],R=+a[b];return[[M,C],[T,C],[T,R],[M,R]].map($=>r.map($))});return[t,g]};c9.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:wL,channels:[...Ca({shapes:Object.keys(wL)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...zr(),{type:D1},{type:Ph}],postInference:[...Jr(),...Rg()],interaction:{shareTooltip:!0}};const OL={rect:Bh,hollow:fS},u9=()=>(t,e,n,r)=>{const{x:i,x1:a,y:o,y1:s}=n,l=Array.from(t,c=>{const u=[+i[c],+o[c]],d=[+a[c],+o[c]],h=[+a[c],+s[c]],v=[+i[c],+s[c]];return[u,d,h,v].map(g=>r.map(g))});return[t,l]};u9.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:OL,channels:[...Ca({shapes:Object.keys(OL)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr(),{type:D1}],postInference:[...Jr(),...Rg()],interaction:{shareTooltip:!0}};const SL={line:VB,smooth:KB,hv:ZB,vh:QB,hvh:JB,trail:t$},Hst=(t,e,n,r)=>{var i,a;const{series:o,x:s,y:l}=n,{x:c,y:u}=e;if(s===void 0||l===void 0)throw new Error("Missing encode for x or y channel.");const d=o?Array.from(Vn(t,x=>o[x]).values()):[t],h=d.map(x=>x[0]).filter(x=>x!==void 0),v=(((i=c?.getBandWidth)===null||i===void 0?void 0:i.call(c))||0)/2,g=(((a=u?.getBandWidth)===null||a===void 0?void 0:a.call(u))||0)/2,b=Array.from(d,x=>x.map(_=>r.map([+s[_]+v,+l[_]+g])));return[h,b,d]},Gst=(t,e,n,r)=>{const i=Object.entries(n).filter(([o])=>o.startsWith("position")).map(([,o])=>o);if(i.length===0)throw new Error("Missing encode for position channel.");Nn(r)&&i.push(i[0]);const a=Array.from(t,o=>{const s=i.map(u=>+u[o]),l=r.map(s),c=[];for(let u=0;u<l.length;u+=2)c.push([l[u],l[u+1]]);return c});return[t,a]},f9=()=>(t,e,n,r)=>(eS(r)?Gst:Hst)(t,e,n,r);f9.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:SL,channels:[...Ca({shapes:Object.keys(SL)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...zr(),{type:aI},{type:UC}],postInference:[...Jr(),...Rg(),...Uot()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const EL={hollow:S$,hollowDiamond:w$,hollowHexagon:O$,hollowSquare:E$,hollowTriangleDown:M$,hollowTriangle:A$,hollowBowtie:_$,hollowCircle:k$,point:I$,plus:D$,diamond:P$,square:B$,triangle:z$,hexagon:j$,cross:R$,bowtie:C$,hyphen:L$,line:N$,tick:$$,triangleDown:F$,circle:O5},d9=t=>(e,n,r,i)=>{const{x:a,y:o,x1:s,y1:l,size:c,dx:u,dy:d}=r,[h,v]=i.getSize(),g=$h(n,r,t),b=_=>{const w=+(u?.[_]||0),E=+(d?.[_]||0),A=s?(+a[_]+ +s[_])/2:+a[_],M=l?(+o[_]+ +l[_])/2:+o[_],T=A+w,C=M+E;return[T,C]},x=c?Array.from(e,_=>{const[w,E]=b(_),A=+c[_],M=A/h,T=A/v,C=[w-M,E-T],R=[w+M,E+T];return[i.map(g(C,_)),i.map(g(R,_))]}):Array.from(e,_=>[i.map(g(b(_),_))]);return[e,x]};d9.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:EL,channels:[...Ca({shapes:Object.keys(EL)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...zr(),{type:Ph},{type:WO}],postInference:[...Jr(),{type:K8},...wf()]};const AL={text:Tz,badge:kz,tag:Cz},h9=t=>{const{cartesian:e=!1}=t;return e?D5:((n,r,i,a)=>{const{x:o,y:s}=i,l=$h(r,i,t),c=Array.from(n,u=>{const d=[+o[u],+s[u]];return[a.map(l(d,u))]});return[n,c]})};h9.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:AL,channels:[...Ca({shapes:Object.keys(AL)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize",scale:"identity"},{name:"rotate",scale:"identity"}],preInference:[...zr(),{type:KO},{type:VO}],postInference:[...Jr(),...wf()]};const ML={cell:Bh,hollow:fS},p9=()=>(t,e,n,r)=>{const{x:i,y:a}=n,o=e.x,s=e.y,l=Array.from(t,c=>{const u=o.getBandWidth(o.invert(+i[c])),d=s.getBandWidth(s.invert(+a[c])),h=+i[c],v=+a[c],g=[h,v],b=[h+u,v],x=[h+u,v+d],_=[h,v+d];return[g,b,x,_].map(w=>r.map(w))});return[t,l]};p9.props={defaultShape:"cell",defaultLabelShape:"label",shape:ML,composite:!1,channels:[...Ca({shapes:Object.keys(ML)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...zr(),{type:Ph},{type:WO},{type:HC}],postInference:[...Jr(),...wf()]};const TL={area:Rz,smooth:Pz,hvh:jz,vh:Lz,hv:Nz},v9=()=>(t,e,n,r)=>{var i,a;const{x:o,y:s,y1:l,series:c}=n,{x:u,y:d}=e,h=c?Array.from(Vn(t,_=>c[_]).values()):[t],v=h.map(_=>_[0]).filter(_=>_!==void 0),g=(((i=u?.getBandWidth)===null||i===void 0?void 0:i.call(u))||0)/2,b=(((a=d?.getBandWidth)===null||a===void 0?void 0:a.call(d))||0)/2,x=Array.from(h,_=>{const w=_.length,E=new Array(w*2);for(let A=0;A<_.length;A++){const M=_[A];E[A]=r.map([+o[M]+g,+s[M]+b]),E[w+A]=r.map([+o[M]+g,+l[M]+b])}return E});return[v,x,h]};v9.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:TL,channels:[...Ca({shapes:Object.keys(TL)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...zr(),{type:UC},{type:D1},{type:HC}],postInference:[...Jr(),...Rg()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const kL={link:Dz,arc:$z,smooth:Iz,vhv:Bz},U5=t=>(e,n,r,i)=>{const{x:a,y:o,x1:s=a,y1:l=o}=r,c=$h(n,r,t),u=e.map(d=>[i.map(c([+a[d],+o[d]],d)),i.map(c([+s[d],+l[d]],d))]);return[e,u]};U5.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:kL,channels:[...Ca({shapes:Object.keys(kL)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr(),{type:tI},{type:eI}],postInference:[...Jr(),...wf()]};const CL={image:Fz},g9=t=>{const{cartesian:e}=t;return e?D5:(n,r,i,a)=>{const{x:o,y:s}=i,l=$h(r,i,t),c=Array.from(n,u=>{const d=[+o[u],+s[u]];return[a.map(l(d,u))]});return[n,c]}};g9.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:CL,channels:[...Ca({shapes:Object.keys(CL)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...zr(),{type:KO},{type:VO}],postInference:[...Jr(),...wf()]};const RL={polygon:Uz,ribbon:Hz},y9=()=>(t,e,n,r)=>{const i=Object.entries(n).filter(([s])=>s.startsWith("x")).map(([,s])=>s),a=Object.entries(n).filter(([s])=>s.startsWith("y")).map(([,s])=>s),o=t.map(s=>{const l=[];for(let c=0;c<i.length;c++){const u=i[c][s];if(u===void 0)break;const d=a[c][s];l.push(r.map([+u,+d]))}return l});return[t,o]};y9.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:RL,channels:[...Ca({shapes:Object.keys(RL)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr()],postInference:[...Jr(),...wf()]};const PL={box:Gz,violin:Yz},m9=()=>(t,e,n,r)=>{const{x:i,y:a,y1:o,y2:s,y3:l,y4:c,series:u}=n,d=e.x,h=e.series,v=Array.from(t,g=>{const b=d.getBandWidth(d.invert(+i[g])),x=h?h.getBandWidth(h.invert(+u?.[g])):1,_=b*x,w=(+u?.[g]||0)*b,E=+i[g]+w+_/2,[A,M,T,C,R]=[+a[g],+o[g],+s[g],+l[g],+c[g]];return[[E-_/2,R],[E+_/2,R],[E,R],[E,C],[E-_/2,C],[E+_/2,C],[E+_/2,M],[E-_/2,M],[E-_/2,T],[E+_/2,T],[E,M],[E,A],[E-_/2,A],[E+_/2,A]].map(I=>r.map(I))});return[t,v]};m9.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:PL,channels:[...Ca({shapes:Object.keys(PL)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...zr(),{type:Ph}],postInference:[...Jr(),...Rg()],interaction:{shareTooltip:!0}};const jL={vector:S5},b9=()=>(t,e,n,r)=>{const{x:i,y:a,size:o,rotate:s}=n,[l,c]=r.getSize(),u=t.map(d=>{const h=+s[d]/180*Math.PI,v=+o[d],g=v/l,b=v/c,x=g*Math.cos(h),_=-b*Math.sin(h);return[r.map([+i[d]-x/2,+a[d]-_/2]),r.map([+i[d]+x/2,+a[d]+_/2])]});return[t,u]};b9.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:jL,channels:[...Ca({shapes:Object.keys(jL)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...zr()],postInference:[...Jr(),...wf()]};const LL={line:B5},x9=t=>(e,n,r,i)=>{const{y:a}=r,o=$h(n,r,wt({style:{bandOffset:0}},t)),s=Array.from(e,l=>{const c=[0,a[l]],u=[1,a[l]];return[c,u].map(d=>i.map(o(d,l)))});return[e,s]};x9.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:LL,channels:[...Pg({shapes:Object.keys(LL)}),{name:"y",required:!0}],preInference:[...zr(),{type:Q8}],postInference:[...Jr()]};const NL={line:B5},_9=t=>(e,n,r,i)=>{const{x:a}=r,o=$h(n,r,wt({style:{bandOffset:0}},t)),s=Array.from(e,l=>{const c=[a[l],1],u=[a[l],0];return[c,u].map(d=>i.map(o(d,l)))});return[e,s]};_9.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:NL,channels:[...Pg({shapes:Object.keys(NL)}),{name:"x",required:!0}],preInference:[...zr(),{type:J8}],postInference:[...Jr()]};const DL={connector:qz},w9=(...t)=>U5(...t);w9.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:DL,channels:[...Pg({shapes:Object.keys(DL)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr()],postInference:[...Jr()]};function IL(t,e,n,r){if(e)return()=>[0,1];const{[t]:i,[`${t}1`]:a}=n;return o=>{var s;const l=((s=r.getBandWidth)===null||s===void 0?void 0:s.call(r,r.invert(+a[o])))||0;return[i[o],a[o]+l]}}function H5(t={}){const{extendX:e=!1,extendY:n=!1}=t;return(r,i,a,o)=>{const s=IL("x",e,a,i.x),l=IL("y",n,a,i.y),c=Array.from(r,u=>{const[d,h]=s(u),[v,g]=l(u);return[[d,v],[h,v],[h,g],[d,g]].map(E=>o.map(E))});return[r,c]}}const BL={range:Bh},O9=()=>H5();O9.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:BL,channels:[...Pg({shapes:Object.keys(BL)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr()],postInference:[...Jr()]};const $L={range:Bh},S9=()=>H5({extendY:!0});S9.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:$L,channels:[...Pg({shapes:Object.keys($L)}),{name:"x",required:!0}],preInference:[...zr(),{type:nI}],postInference:[...Jr()]};const zL={range:Bh},E9=()=>H5({extendX:!0});E9.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:zL,channels:[...Pg({shapes:Object.keys(zL)}),{name:"y",required:!0}],preInference:[...zr(),{type:rI}],postInference:[...Jr()]};function Yst(t){return t.target.depth}function qst(t){return t.depth}function Wst(t,e){return e-1-t.height}function Yw(t,e){return t.sourceLinks.length?t.depth:e-1}function Xst(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?xo(t.sourceLinks,Yst)-1:0}function m_(t){return function(){return t}}function FL(t,e){return qw(t.source,e.source)||t.index-e.index}function UL(t,e){return qw(t.target,e.target)||t.index-e.index}function qw(t,e){return t.y0-e.y0}function QA(t){return t.value}function Vst(t){return t.index}function Kst(t){return t.nodes}function Zst(t){return t.links}function HL(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function GL({nodes:t}){for(const e of t){let n=e.y0,r=n;for(const i of e.sourceLinks)i.y0=n+i.width/2,n+=i.width;for(const i of e.targetLinks)i.y1=r+i.width/2,r+=i.width}}function Qst(){let t=0,e=0,n=1,r=1,i=24,a=8,o,s=Vst,l=Yw,c,u,d,h=Kst,v=Zst,g=6;function b(F){const H={nodes:h(F),links:v(F)};return x(H),_(H),w(H),E(H),T(H),GL(H),H}b.update=function(F){return GL(F),F},b.nodeId=function(F){return arguments.length?(s=typeof F=="function"?F:m_(F),b):s},b.nodeAlign=function(F){return arguments.length?(l=typeof F=="function"?F:m_(F),b):l},b.nodeDepth=function(F){return arguments.length?(c=F,b):c},b.nodeSort=function(F){return arguments.length?(u=F,b):u},b.nodeWidth=function(F){return arguments.length?(i=+F,b):i},b.nodePadding=function(F){return arguments.length?(a=o=+F,b):a},b.nodes=function(F){return arguments.length?(h=typeof F=="function"?F:m_(F),b):h},b.links=function(F){return arguments.length?(v=typeof F=="function"?F:m_(F),b):v},b.linkSort=function(F){return arguments.length?(d=F,b):d},b.size=function(F){return arguments.length?(t=e=0,n=+F[0],r=+F[1],b):[n-t,r-e]},b.extent=function(F){return arguments.length?(t=+F[0][0],n=+F[1][0],e=+F[0][1],r=+F[1][1],b):[[t,e],[n,r]]},b.iterations=function(F){return arguments.length?(g=+F,b):g};function x({nodes:F,links:H}){F.forEach((W,V)=>{W.index=V,W.sourceLinks=[],W.targetLinks=[]});const Y=new Map(F.map(W=>[s(W),W]));if(H.forEach((W,V)=>{W.index=V;let{source:J,target:tt}=W;typeof J!="object"&&(J=W.source=HL(Y,J)),typeof tt!="object"&&(tt=W.target=HL(Y,tt)),J.sourceLinks.push(W),tt.targetLinks.push(W)}),d!=null)for(const{sourceLinks:W,targetLinks:V}of F)W.sort(d),V.sort(d)}function _({nodes:F}){for(const H of F)H.value=H.fixedValue===void 0?Math.max(Qo(H.sourceLinks,QA),Qo(H.targetLinks,QA)):H.fixedValue}function w({nodes:F}){const H=F.length;let Y=new Set(F),W=new Set,V=0;for(;Y.size;){if(Y.forEach(J=>{J.depth=V;for(const{target:tt}of J.sourceLinks)W.add(tt)}),++V>H)throw new Error("circular link");Y=W,W=new Set}if(c){const J=Math.max(Mn(F,nt=>nt.depth)+1,0);let tt;for(let nt=0;nt<F.length;nt++)tt=F[nt],tt.depth=c.call(null,tt,J)}}function E({nodes:F}){const H=F.length;let Y=new Set(F),W=new Set,V=0;for(;Y.size;){if(Y.forEach(J=>{J.height=V;for(const{source:tt}of J.targetLinks)W.add(tt)}),++V>H)throw new Error("circular link");Y=W,W=new Set}}function A({nodes:F}){const H=Math.max(Mn(F,V=>V.depth)+1,0),Y=(n-t-i)/(H-1),W=new Array(H).fill(0).map(()=>[]);for(const V of F){const J=Math.max(0,Math.min(H-1,Math.floor(l.call(null,V,H))));V.layer=J,V.x0=t+J*Y,V.x1=V.x0+i,W[J]?W[J].push(V):W[J]=[V]}if(u)for(const V of W)V.sort(u);return W}function M(F){const H=xo(F,Y=>(r-e-(Y.length-1)*o)/Qo(Y,QA));for(const Y of F){let W=e;for(const V of Y){V.y0=W,V.y1=W+V.value*H,W=V.y1+o;for(const J of V.sourceLinks)J.width=J.value*H}W=(r-W+o)/(Y.length+1);for(let V=0;V<Y.length;++V){const J=Y[V];J.y0+=W*(V+1),J.y1+=W*(V+1)}$(Y)}}function T(F){const H=A(F);o=Math.min(a,(r-e)/(Mn(H,Y=>Y.length)-1)),M(H);for(let Y=0;Y<g;++Y){const W=Math.pow(.99,Y),V=Math.max(1-W,(Y+1)/g);R(H,W,V),C(H,W,V)}}function C(F,H,Y){for(let W=1,V=F.length;W<V;++W){const J=F[W];for(const tt of J){let nt=0,lt=0;for(const{source:ft,value:mt}of tt.targetLinks){const ct=mt*(tt.layer-ft.layer);nt+=U(ft,tt)*ct,lt+=ct}if(!(lt>0))continue;const at=(nt/lt-tt.y0)*H;tt.y0+=at,tt.y1+=at,B(tt)}u===void 0&&J.sort(qw),J.length&&j(J,Y)}}function R(F,H,Y){for(let W=F.length,V=W-2;V>=0;--V){const J=F[V];for(const tt of J){let nt=0,lt=0;for(const{target:ft,value:mt}of tt.sourceLinks){const ct=mt*(ft.layer-tt.layer);nt+=G(tt,ft)*ct,lt+=ct}if(!(lt>0))continue;const at=(nt/lt-tt.y0)*H;tt.y0+=at,tt.y1+=at,B(tt)}u===void 0&&J.sort(qw),J.length&&j(J,Y)}}function j(F,H){const Y=F.length>>1,W=F[Y];D(F,W.y0-o,Y-1,H),I(F,W.y1+o,Y+1,H),D(F,r,F.length-1,H),I(F,e,0,H)}function I(F,H,Y,W){for(;Y<F.length;++Y){const V=F[Y],J=(H-V.y0)*W;J>1e-6&&(V.y0+=J,V.y1+=J),H=V.y1+o}}function D(F,H,Y,W){for(;Y>=0;--Y){const V=F[Y],J=(V.y1-H)*W;J>1e-6&&(V.y0-=J,V.y1-=J),H=V.y0-o}}function B({sourceLinks:F,targetLinks:H}){if(d===void 0){for(const{source:{sourceLinks:Y}}of H)Y.sort(UL);for(const{target:{targetLinks:Y}}of F)Y.sort(FL)}}function $(F){if(d===void 0)for(const{sourceLinks:H,targetLinks:Y}of F)H.sort(UL),Y.sort(FL)}function U(F,H){let Y=F.y0-(F.sourceLinks.length-1)*o/2;for(const{target:W,width:V}of F.sourceLinks){if(W===H)break;Y+=V+o}for(const{source:W,width:V}of H.targetLinks){if(W===F)break;Y-=V}return Y}function G(F,H){let Y=H.y0-(H.targetLinks.length-1)*o/2;for(const{source:W,width:V}of H.targetLinks){if(W===F)break;Y+=V+o}for(const{target:W,width:V}of F.sourceLinks){if(W===H)break;Y-=V}return Y}return b}const Jst={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},tlt={left:qst,right:Wst,center:Xst,justify:Yw};function elt(t){const e=typeof t;return e==="string"?tlt[t]||Yw:e==="function"?t:Yw}const A9=t=>e=>{const{nodeId:n,nodeSort:r,nodeAlign:i,nodeWidth:a,nodePadding:o,nodeDepth:s,nodes:l,links:c,linkSort:u,iterations:d}=Object.assign({},Jst,t),h=Qst().nodeSort(r).linkSort(u).links(c).nodes(l).nodeWidth(a).nodePadding(o).nodeDepth(s).nodeAlign(elt(i)).iterations(d).extent([[0,0],[1,1]]);typeof n=="function"&&h.nodeId(n);const v=h(e),{nodes:g,links:b}=v,x=g.map(w=>{const{x0:E,x1:A,y0:M,y1:T}=w;return Object.assign(Object.assign({},w),{x:[E,A,A,E],y:[M,M,T,T]})}),_=b.map(w=>{const{source:E,target:A}=w,M=E.x1,T=A.x0,C=w.width/2;return Object.assign(Object.assign({},w),{x:[M,M,T,T],y:[w.y0+C,w.y0-C,w.y1+C,w.y1-C]})});return{nodes:x,links:_}};A9.props={};function ql(t,e,n={},r=!1){if(Bc(t)||Array.isArray(t)&&r)return t;const i=$t(t,e);return wt(n,i)}function Ww(t,e={}){return Bc(t)||Array.isArray(t)||!M9(t)?t:wt(e,t)}function M9(t){if(Object.keys(t).length===0)return!0;const{title:e,items:n}=t;return e!==void 0||n!==void 0}function Wl(t,e){return typeof t=="object"?$t(t,e):t}var nlt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const rlt={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},YL={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},qL={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},ilt={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},T9=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={},interaction:u,state:d={}}=t,{links:h,nodes:v}=I5(e,n);if(!h||h.length===0)return[wt({},YL,{data:[],encode:{},scale:r,style:$t(i,"node"),labels:[],tooltip:!1,animate:!1,axis:!1,interaction:u,state:{}}),wt({},qL,{data:[],encode:{},labels:[],style:$t(i,"link"),tooltip:!1,animate:!1,interaction:u,state:{}})];const g=$t(n,"node"),b=$t(n,"link"),{key:x=$=>$.key,color:_=x}=g,{links:w,nodes:E}=A9(Object.assign(Object.assign(Object.assign({},rlt),{nodeId:$l(x)}),a))({links:h,nodes:v}),A=$t(i,"label"),{text:M=x,spacing:T=5}=A,C=nlt(A,["text","spacing"]),R=$l(x),j=ql(c,"node",{title:R,items:[{field:"value"}]},!0),I=ql(c,"link",{title:"",items:[$=>({name:"source",value:R($.source)}),$=>({name:"target",value:R($.target)})]}),[D,B]=Object.entries(d).reduce(($,[U,G])=>{const F=q_(G,"node","link"),H=$t(G,"node");$[0][U]=Object.assign(Object.assign({},F),H);const Y=$t(G,"link");return $[1][U]=Object.assign(Object.assign({},F),Y),$},[{},{}]);return[wt({},YL,{data:E,encode:Object.assign(Object.assign({},g),{color:_}),scale:r,style:$t(i,"node"),labels:[Object.assign(Object.assign(Object.assign({},ilt),{text:M,dx:$=>$.x[0]<.5?T:-T}),C),...o],tooltip:j,animate:Wl(l,"node"),axis:!1,interaction:u,state:D}),wt({},qL,{data:w,encode:b,labels:s,style:Object.assign({fill:b.color?void 0:"#aaa",lineWidth:0},$t(i,"link")),tooltip:I,animate:Wl(l,"link"),interaction:u,state:B})]};T9.props={};function alt(t,e){return e.value-t.value}function olt(t,e){return e.frequency-t.frequency}function slt(t,e){return`${t.id}`.localeCompare(`${e.id}`)}function llt(t,e){return`${t.name}`.localeCompare(`${e.name}`)}const clt=Object.freeze(Object.defineProperty({__proto__:null,frequency:olt,id:slt,name:llt,weight:alt},Symbol.toStringTag,{value:"Module"})),ult={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function flt(t){const{y:e,thickness:n,weight:r,marginRatio:i,id:a,source:o,target:s,sourceWeight:l,targetWeight:c,sortBy:u}=Object.assign(Object.assign({},ult),t);function d(x){const _=x.nodes.map(E=>Object.assign({},E)),w=x.edges.map(E=>Object.assign({},E));return h(_,w),v(_),g(_,w),b(_,w),{nodes:_,edges:w}}function h(x,_){_.forEach(A=>{A.source=o(A),A.target=s(A),A.sourceWeight=l(A),A.targetWeight=c(A)});const w=Vn(_,A=>A.source),E=Vn(_,A=>A.target);return x.forEach(A=>{A.id=a(A);const M=w.has(A.id)?w.get(A.id):[],T=E.has(A.id)?E.get(A.id):[];A.frequency=M.length+T.length,A.value=Qo(M,C=>C.sourceWeight)+Qo(T,C=>C.targetWeight)}),{nodes:x,edges:_}}function v(x,_){const w=typeof u=="function"?u:clt[u];w&&x.sort(w)}function g(x,_){const w=x.length;if(!w)throw ig("Invalid nodes: it's empty!");if(!r){const M=1/w;return x.forEach((T,C)=>{T.x=(C+.5)*M,T.y=e}),{nodes:x,edges:_}}const E=i/(2*w),A=x.reduce((M,T)=>M+=T.value,0);return x.reduce((M,T)=>{T.weight=T.value/A,T.width=T.weight*(1-i),T.height=n;const C=E+M,R=C+T.width,j=e-n/2,I=j+n;return T.x=[C,R,R,C],T.y=[j,j,I,I],M+T.width+2*E},0),{nodes:x,edges:_}}function b(x,_){const w=new Map(x.map(M=>[M.id,M]));if(!r)return _.forEach(M=>{const T=o(M),C=s(M),R=w.get(T),j=w.get(C);R&&j&&(M.x=[R.x,j.x],M.y=[R.y,j.y])}),{nodes:x,edges:_};_.forEach(M=>{M.x=[0,0,0,0],M.y=[e,e,e,e]});const E=Vn(_,M=>M.source),A=Vn(_,M=>M.target);x.forEach(M=>{const{edges:T,width:C,x:R,y:j,value:I,id:D}=M,B=E.get(D)||[],$=A.get(D)||[];let U=0;B.map(G=>{const F=G.sourceWeight/I*C;G.x[0]=R[0]+U,G.x[1]=R[0]+U+F,U+=F}),$.forEach(G=>{const F=G.targetWeight/I*C;G.x[3]=R[0]+U,G.x[2]=R[0]+U+F,U+=F})})}return d}const G5=t=>e=>flt(t)(e);G5.props={};var WL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const JA={y:0,thickness:.05,marginRatio:.1,id:t=>t.key,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null},dlt={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},hlt={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1}},plt={position:"outside",fontSize:10},k9=(t,e)=>{const{data:n,encode:r={},scale:i,style:a={},layout:o={},nodeLabels:s=[],linkLabels:l=[],animate:c={},tooltip:u={}}=t,{nodes:d,links:h}=I5(n,r),v=$t(r,"node"),g=$t(r,"link"),{key:b=G=>G.key,color:x=b}=v,{linkEncodeColor:_=G=>G.source}=g,{nodeWidthRatio:w=JA.thickness,nodePaddingRatio:E=JA.marginRatio}=o,A=WL(o,["nodeWidthRatio","nodePaddingRatio"]),{nodes:M,edges:T}=G5(Object.assign(Object.assign(Object.assign(Object.assign({},JA),{id:$l(b),thickness:w,marginRatio:E}),A),{weight:!0}))({nodes:d,edges:h}),C=$t(a,"label"),{text:R=b}=C,j=WL(C,["text"]),I=ql(u,"node",{title:"",items:[G=>({name:G.key,value:G.value})]},!0),D=ql(u,"link",{title:"",items:[G=>({name:`${G.source} -> ${G.target}`,value:G.value})]}),{height:B,width:$}=e,U=Math.min(B,$);return[wt({},hlt,{data:T,encode:Object.assign(Object.assign({},g),{color:_}),labels:l,style:Object.assign({fill:_?void 0:"#aaa"},$t(a,"link")),tooltip:D,animate:Wl(c,"link")}),wt({},dlt,{data:M,encode:Object.assign(Object.assign({},v),{color:x}),scale:i,style:$t(a,"node"),coordinate:{type:"polar",outerRadius:(U-20)/U,startAngle:-Math.PI*2,endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},plt),{text:R}),j),...s],tooltip:I,animate:Wl(c,"node"),axis:!1})]};k9.props={};const XL={path:Jz,hollow:t9},C9=t=>(e,n,r,i)=>[e,e.map(()=>[[0,0]])];C9.props={defaultShape:"path",defaultLabelShape:"label",shape:XL,composite:!1,channels:[...Ca({shapes:Object.keys(XL)}),{name:"d",scale:"identity"}],preInference:[...zr()],postInference:[...Jr()]};function vlt(t,e){return t.parent===e.parent?1:2}function glt(t){return t.reduce(ylt,0)/t.length}function ylt(t,e){return t+e.x}function mlt(t){return 1+t.reduce(blt,0)}function blt(t,e){return Math.max(t,e.y)}function xlt(t){for(var e;e=t.children;)t=e[0];return t}function _lt(t){for(var e;e=t.children;)t=e[e.length-1];return t}function wlt(){var t=vlt,e=1,n=1,r=!1;function i(a){var o,s=0;a.eachAfter(function(h){var v=h.children;v?(h.x=glt(v),h.y=mlt(v)):(h.x=o?s+=t(h,o):0,h.y=0,o=h)});var l=xlt(a),c=_lt(a),u=l.x-t(l,c)/2,d=c.x+t(c,l)/2;return a.eachAfter(r?function(h){h.x=(h.x-a.x)*e,h.y=(a.y-h.y)*n}:function(h){h.x=(h.x-u)/(d-u)*e,h.y=(1-(a.y?h.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function Olt(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Slt(){return this.eachAfter(Olt)}function Elt(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Alt(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Mlt(t,e){for(var n=this,r=[n],i=[],a,o,s,l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function Tlt(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function klt(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Clt(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Rlt(t){for(var e=this,n=Plt(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Plt(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function jlt(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Llt(){return Array.from(this)}function Nlt(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Dlt(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Ilt(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function jg(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=zlt)):e===void 0&&(e=$lt);for(var n=new hg(t),r,i=[n],a,o,s,l;r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new hg(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(R9)}function Blt(){return jg(this).eachBefore(Flt)}function $lt(t){return t.children}function zlt(t){return Array.isArray(t)?t[1]:null}function Flt(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function R9(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function hg(t){this.data=t,this.depth=this.height=0,this.parent=null}hg.prototype=jg.prototype={constructor:hg,count:Slt,each:Elt,eachAfter:Mlt,eachBefore:Alt,find:Tlt,sum:klt,sort:Clt,path:Rlt,ancestors:jlt,descendants:Llt,leaves:Nlt,links:Dlt,copy:Blt,[Symbol.iterator]:Ilt};function K_(t){return t==null?null:P9(t)}function P9(t){if(typeof t!="function")throw new Error;return t}function Qd(){return 0}function kv(t){return function(){return t}}const Ult=1664525,Hlt=1013904223,VL=4294967296;function Glt(){let t=1;return()=>(t=(Ult*t+Hlt)%VL)/VL}function Ylt(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qlt(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function Wlt(t,e){for(var n=0,r=(t=qlt(Array.from(t),e)).length,i=[],a,o;n<r;)a=t[n],o&&j9(o,a)?++n:(o=Vlt(i=Xlt(i,a)),n=0);return o}function Xlt(t,e){var n,r;if(tM(e,t))return[e];for(n=0;n<t.length;++n)if(b_(e,t[n])&&tM(ym(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(b_(ym(t[n],t[r]),e)&&b_(ym(t[n],e),t[r])&&b_(ym(t[r],e),t[n])&&tM(L9(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function b_(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function j9(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function tM(t,e){for(var n=0;n<e.length;++n)if(!j9(t,e[n]))return!1;return!0}function Vlt(t){switch(t.length){case 1:return Klt(t[0]);case 2:return ym(t[0],t[1]);case 3:return L9(t[0],t[1],t[2])}}function Klt(t){return{x:t.x,y:t.y,r:t.r}}function ym(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,c=o-r,u=s-i,d=Math.sqrt(l*l+c*c);return{x:(n+a+l/d*u)/2,y:(r+o+c/d*u)/2,r:(d+i+s)/2}}function L9(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,c=n.x,u=n.y,d=n.r,h=r-o,v=r-c,g=i-s,b=i-u,x=l-a,_=d-a,w=r*r+i*i-a*a,E=w-o*o-s*s+l*l,A=w-c*c-u*u+d*d,M=v*g-h*b,T=(g*A-b*E)/(M*2)-r,C=(b*x-g*_)/M,R=(v*E-h*A)/(M*2)-i,j=(h*_-v*x)/M,I=C*C+j*j-1,D=2*(a+T*C+R*j),B=T*T+R*R-a*a,$=-(Math.abs(I)>1e-6?(D+Math.sqrt(D*D-4*I*B))/(2*I):B/D);return{x:r+T+C*$,y:i+R+j*$,r:$}}function KL(t,e,n){var r=t.x-e.x,i,a,o=t.y-e.y,s,l,c=r*r+o*o;c?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(i=(c+l-a)/(2*c),s=Math.sqrt(Math.max(0,l/c-i*i)),n.x=t.x-i*r-s*o,n.y=t.y-i*o+s*r):(i=(c+a-l)/(2*c),s=Math.sqrt(Math.max(0,a/c-i*i)),n.x=e.x+i*r-s*o,n.y=e.y+i*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function ZL(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function QL(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function x_(t){this._=t,this.next=null,this.previous=null}function Zlt(t,e){if(!(a=(t=Ylt(t)).length))return 0;var n,r,i,a,o,s,l,c,u,d,h;if(n=t[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;KL(r,n,i=t[2]),n=new x_(n),r=new x_(r),i=new x_(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<a;++l){KL(n._,r._,i=t[l]),i=new x_(i),c=r.next,u=n.previous,d=r._.r,h=n._.r;do if(d<=h){if(ZL(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue t}d+=c._.r,c=c.next}else{if(ZL(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue t}h+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=QL(n);(i=i.next)!==r;)(s=QL(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Wlt(n,e),l=0;l<a;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function Qlt(t){return Math.sqrt(t.value)}function Jlt(){var t=null,e=1,n=1,r=Qd;function i(a){const o=Glt();return a.x=e/2,a.y=n/2,t?a.eachBefore(JL(t)).eachAfter(eM(r,.5,o)).eachBefore(tN(1)):a.eachBefore(JL(Qlt)).eachAfter(eM(Qd,1,o)).eachAfter(eM(r,a.r/Math.min(e,n),o)).eachBefore(tN(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=K_(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:kv(+a),i):r},i}function JL(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function eM(t,e,n){return function(r){if(i=r.children){var i,a,o=i.length,s=t(r)*e||0,l;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=Zlt(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function tN(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function N9(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function X1(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,c=t.value&&(r-e)/t.value;++s<l;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function tct(){var t=1,e=1,n=0,r=!1;function i(o){var s=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/s,o.eachBefore(a(e,s)),r&&o.eachBefore(N9),o}function a(o,s){return function(l){l.children&&X1(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var c=l.x0,u=l.y0,d=l.x1-n,h=l.y1-n;d<c&&(c=d=(c+d)/2),h<u&&(u=h=(u+h)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=h}}return i.round=function(o){return arguments.length?(r=!!o,i):r},i.size=function(o){return arguments.length?(t=+o[0],e=+o[1],i):[t,e]},i.padding=function(o){return arguments.length?(n=+o,i):n},i}var ect={depth:-1},eN={},nM={};function nct(t){return t.id}function rct(t){return t.parentId}function tk(){var t=nct,e=rct,n;function r(i){var a=Array.from(i),o=t,s=e,l,c,u,d,h,v,g,b,x=new Map;if(n!=null){const _=a.map((A,M)=>ict(n(A,M,i))),w=_.map(nN),E=new Set(_).add("");for(const A of w)E.has(A)||(E.add(A),_.push(A),w.push(nN(A)),a.push(nM));o=(A,M)=>_[M],s=(A,M)=>w[M]}for(u=0,l=a.length;u<l;++u)c=a[u],v=a[u]=new hg(c),(g=o(c,u,i))!=null&&(g+="")&&(b=v.id=g,x.set(b,x.has(b)?eN:v)),(g=s(c,u,i))!=null&&(g+="")&&(v.parent=g);for(u=0;u<l;++u)if(v=a[u],g=v.parent){if(h=x.get(g),!h)throw new Error("missing: "+g);if(h===eN)throw new Error("ambiguous: "+g);h.children?h.children.push(v):h.children=[v],v.parent=h}else{if(d)throw new Error("multiple roots");d=v}if(!d)throw new Error("no root");if(n!=null){for(;d.data===nM&&d.children.length===1;)d=d.children[0],--l;for(let _=a.length-1;_>=0&&(v=a[_],v.data===nM);--_)v.data=null}if(d.parent=ect,d.eachBefore(function(_){_.depth=_.parent.depth+1,--l}).eachBefore(R9),d.parent=null,l>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(t=K_(i),r):t},r.parentId=function(i){return arguments.length?(e=K_(i),r):e},r.path=function(i){return arguments.length?(n=K_(i),r):n},r}function ict(t){t=`${t}`;let e=t.length;return ek(t,e-1)&&!ek(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function nN(t){let e=t.length;if(e<2)return"";for(;--e>1&&!ek(t,e););return t.slice(0,e)}function ek(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if((n&1)===0)return!0}return!1}function act(t,e){return t.parent===e.parent?1:2}function rM(t){var e=t.children;return e?e[0]:t.t}function iM(t){var e=t.children;return e?e[e.length-1]:t.t}function oct(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function sct(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function lct(t,e,n){return t.a.parent===e.parent?t.a:n}function Z_(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Z_.prototype=Object.create(hg.prototype);function cct(t){for(var e=new Z_(t,0),n,r=[e],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new Z_(a[o],o)),i.parent=n;return(e.parent=new Z_(null,0)).children=[e],e}function uct(){var t=act,e=1,n=1,r=null;function i(c){var u=cct(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)c.eachBefore(l);else{var d=c,h=c,v=c;c.eachBefore(function(w){w.x<d.x&&(d=w),w.x>h.x&&(h=w),w.depth>v.depth&&(v=w)});var g=d===h?1:t(d,h)/2,b=g-d.x,x=e/(h.x+g+b),_=n/(v.depth||1);c.eachBefore(function(w){w.x=(w.x+b)*x,w.y=w.depth*_})}return c}function a(c){var u=c.children,d=c.parent.children,h=c.i?d[c.i-1]:null;if(u){sct(c);var v=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+t(c._,h._),c.m=c.z-v):c.z=v}else h&&(c.z=h.z+t(c._,h._));c.parent.A=s(c,h,c.parent.A||d[0])}function o(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function s(c,u,d){if(u){for(var h=c,v=c,g=u,b=h.parent.children[0],x=h.m,_=v.m,w=g.m,E=b.m,A;g=iM(g),h=rM(h),g&&h;)b=rM(b),v=iM(v),v.a=c,A=g.z+w-h.z-x+t(g._,h._),A>0&&(oct(lct(g,c,d),c,A),x+=A,_+=A),w+=g.m,x+=h.m,E+=b.m,_+=v.m;g&&!iM(v)&&(v.t=g,v.m+=w-_),h&&!rM(b)&&(b.t=h,b.m+=x-E,d=c)}return d}function l(c){c.x*=e,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,e=+c[0],n=+c[1],i):r?null:[e,n]},i.nodeSize=function(c){return arguments.length?(r=!0,e=+c[0],n=+c[1],i):r?[e,n]:null},i}function bS(t,e,n,r,i){for(var a=t.children,o,s=-1,l=a.length,c=t.value&&(i-n)/t.value;++s<l;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}var D9=(1+Math.sqrt(5))/2;function I9(t,e,n,r,i,a){for(var o=[],s=e.children,l,c,u=0,d=0,h=s.length,v,g,b=e.value,x,_,w,E,A,M,T;u<h;){v=i-n,g=a-r;do x=s[d++].value;while(!x&&d<h);for(_=w=x,M=Math.max(g/v,v/g)/(b*t),T=x*x*M,A=Math.max(w/T,T/_);d<h;++d){if(x+=c=s[d].value,c<_&&(_=c),c>w&&(w=c),T=x*x*M,E=Math.max(w/T,T/_),E>A){x-=c;break}A=E}o.push(l={value:x,dice:v<g,children:s.slice(u,d)}),l.dice?X1(l,n,r,i,b?r+=g*x/b:a):bS(l,n,r,b?n+=v*x/b:i,a),b-=x,u=d}return o}const B9=(function t(e){function n(r,i,a,o,s){I9(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(D9);function fct(){var t=B9,e=!1,n=1,r=1,i=[0],a=Qd,o=Qd,s=Qd,l=Qd,c=Qd;function u(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(d),i=[0],e&&h.eachBefore(N9),h}function d(h){var v=i[h.depth],g=h.x0+v,b=h.y0+v,x=h.x1-v,_=h.y1-v;x<g&&(g=x=(g+x)/2),_<b&&(b=_=(b+_)/2),h.x0=g,h.y0=b,h.x1=x,h.y1=_,h.children&&(v=i[h.depth+1]=a(h)/2,g+=c(h)-v,b+=o(h)-v,x-=s(h)-v,_-=l(h)-v,x<g&&(g=x=(g+x)/2),_<b&&(b=_=(b+_)/2),t(h,g,b,x,_))}return u.round=function(h){return arguments.length?(e=!!h,u):e},u.size=function(h){return arguments.length?(n=+h[0],r=+h[1],u):[n,r]},u.tile=function(h){return arguments.length?(t=P9(h),u):t},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(a=typeof h=="function"?h:kv(+h),u):a},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:kv(+h),u):o},u.paddingRight=function(h){return arguments.length?(s=typeof h=="function"?h:kv(+h),u):s},u.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:kv(+h),u):l},u.paddingLeft=function(h){return arguments.length?(c=typeof h=="function"?h:kv(+h),u):c},u}function dct(t,e,n,r,i){var a=t.children,o,s=a.length,l,c=new Array(s+1);for(c[0]=l=o=0;o<s;++o)c[o+1]=l+=a[o].value;u(0,s,t.value,e,n,r,i);function u(d,h,v,g,b,x,_){if(d>=h-1){var w=a[d];w.x0=g,w.y0=b,w.x1=x,w.y1=_;return}for(var E=c[d],A=v/2+E,M=d+1,T=h-1;M<T;){var C=M+T>>>1;c[C]<A?M=C+1:T=C}A-c[M-1]<c[M]-A&&d+1<M&&--M;var R=c[M]-E,j=v-R;if(x-g>_-b){var I=v?(g*j+x*R)/v:x;u(d,M,R,g,b,I,_),u(M,h,j,I,b,x,_)}else{var D=v?(b*j+_*R)/v:_;u(d,M,R,g,b,x,D),u(M,h,j,g,D,x,_)}}}function hct(t,e,n,r,i){(t.depth&1?bS:X1)(t,e,n,r,i)}const pct=(function t(e){function n(r,i,a,o,s){if((l=r._squarify)&&l.ratio===e)for(var l,c,u,d,h=-1,v,g=l.length,b=r.value;++h<g;){for(c=l[h],u=c.children,d=c.value=0,v=u.length;d<v;++d)c.value+=u[d].value;c.dice?X1(c,i,a,o,b?a+=(s-a)*c.value/b:s):bS(c,i,a,b?i+=(o-i)*c.value/b:o,s),b-=c.value}else r._squarify=l=I9(e,r,i,a,o,s),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(D9);function vct(t,e){return Array.isArray(t)?typeof e=="function"?tk().path(e)(t):tk()(t):jg(t)}function $9(t,e=[t.data.name]){t.id=t.id||t.data.name,t.path=e,t.children&&t.children.forEach(n=>{n.id=`${t.id}/${n.data.name}`,n.path=[...e,n.data.name],$9(n,n.path)})}function z9(t){const e=_e(t,["data","name"]);e.replaceAll&&(t.path=e.replaceAll(".","/").split("/")),t.children&&t.children.forEach(n=>{z9(n)})}function gct(t,e){const n={treemapBinary:dct,treemapDice:X1,treemapSlice:bS,treemapSliceDice:hct,treemapSquarify:B9,treemapResquarify:pct},r=t==="treemapSquarify"?n[t].ratio(e):n[t];if(!r)throw new TypeError("Invalid tile method!");return r}function F9(t,e,n){const{value:r}=n,i=gct(e.tile,e.ratio),a=vct(t,e.path);$r(t)?z9(a):$9(a),r?a.sum(l=>e.ignoreParentValue&&l.children?0:$l(r)(l)).sort(e.sort):a.count(),fct().tile(i).size(e.size).round(e.round).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(a);const o=a.descendants().map(l=>Object.assign(l,{id:l.id.replace(/^\//,""),x:[l.x0,l.x1],y:[l.y0,l.y1]}));return[o.filter(typeof e.layer=="function"?e.layer:l=>l.height===e.layer),o]}var yct=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const mct=(t,e)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,e],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(n,r)=>r.value-n.value,layer:0}),bct=(t,e)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",key:"id",color:n=>n.path[1]},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]}},style:{stroke:"#fff"},state:{active:{opacity:.6},inactive:{opacity:1}}}),xct={fontSize:10,text:t=>qo(t.path),position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0,isTreemapLabel:!0},_ct={title:t=>{var e,n;return(n=(e=t.path)===null||e===void 0?void 0:e.join)===null||n===void 0?void 0:n.call(e,".")},items:[{field:"value"}]},wct={title:t=>qo(t.path),items:[{field:"value"}]},U9=(t,e)=>{const{width:n,height:r,options:i}=e,{data:a,encode:o={},scale:s,style:l={},layout:c={},labels:u=[],tooltip:d={}}=t,h=yct(t,["data","encode","scale","style","layout","labels","tooltip"]),v=_e(i,["interaction","treemapDrillDown"])||_e(i,["marks",0,"interaction","treemapDrillDown"]),g=wt({},mct(n,r),c,{layer:v?w=>w.depth===1:c.layer}),[b,x]=F9(a,g,o),_=$t(l,"label");return wt({},bct(n,r),Object.assign(Object.assign({data:b,scale:s,style:l,labels:[Object.assign(Object.assign(Object.assign({},xct),_),v&&{cursor:"pointer"}),...u]},h),{encode:o,tooltip:Ww(d,_ct),axis:!1}),v?{interaction:Object.assign(Object.assign({},h.interaction),{treemapDrillDown:v?Object.assign(Object.assign({},v),{originData:x,layout:g}):void 0}),encode:Object.assign({color:w=>qo(w.path)},o),tooltip:Ww(d,wct)}:{})};U9.props={};var Oct=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sct=(t,e)=>({size:[t,e],padding:0,sort:(n,r)=>r.value-n.value}),Ect=(t,e,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,e]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:r=>r.height===0?"#ddd":"#fff",stroke:n.color?void 0:r=>r.height===0?"":"#000"}}),Act={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.r*2},Mct={title:t=>t.data.name,items:[{field:"value"}]},Tct=(t,e,n)=>{const{value:r}=n,i=$r(t)?tk().path(e.path)(t):jg(t);return r?i.sum(a=>$l(r)(a)).sort(e.sort):i.count(),Jlt().size(e.size).padding(e.padding)(i),i.descendants()},H9=(t,e)=>{const{width:n,height:r}=e,{data:i,encode:a={},scale:o={},style:s={},layout:l={},labels:c=[],tooltip:u={}}=t,d=Oct(t,["data","encode","scale","style","layout","labels","tooltip"]),h=Ect(n,r,a),v=Tct(i,wt({},Sct(n,r),l),wt({},h.encode,a)),g=$t(s,"label");return wt({},h,Object.assign(Object.assign({data:v,encode:a,scale:o,style:s,labels:[Object.assign(Object.assign({},Act),g),...c]},d),{tooltip:Ww(u,Mct),axis:!1}))};H9.props={};var rN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function kct(t,e){return xo(t,n=>e[n])}function Cct(t,e){return Mn(t,n=>e[n])}function G9(t,e){const n=Y5(t,e)*2.5-q5(t,e)*1.5;return xo(t,r=>e[r]>=n?e[r]:NaN)}function Y5(t,e){return zO(t,.25,n=>e[n])}function Rct(t,e){return zO(t,.5,n=>e[n])}function q5(t,e){return zO(t,.75,n=>e[n])}function Y9(t,e){const n=q5(t,e)*2.5-Y5(t,e)*1.5;return Mn(t,r=>e[r]<=n?e[r]:NaN)}function Pct(){return(t,e)=>{const{encode:n}=e,{y:r,x:i}=n,{value:a}=r,{value:o}=i;return[Array.from(Vn(t,c=>o[+c]).values()).flatMap(c=>{const u=G9(c,a),d=Y9(c,a);return c.filter(h=>a[h]<u||a[h]>d)}),e]}}const q9=t=>{const{data:e,encode:n,style:r={},tooltip:i={},transform:a,animate:o}=t,s=rN(t,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,c=rN(r,["point"]),{y:u}=n,d={y:u,y1:u,y2:u,y3:u,y4:u},h={y1:Y5,y2:Rct,y3:q5},v=ql(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),g=ql(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:kct},h),{y4:Cct})],encode:Object.assign(Object.assign({},n),d),style:c,tooltip:v},s);const b=$t(c,"box"),x=$t(c,"point");return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:G9},h),{y4:Y9})],encode:Object.assign(Object.assign({},n),d),style:b,tooltip:v,animate:Wl(o,"box")},s),{type:"point",data:e,transform:[{type:Pct}],encode:n,style:Object.assign({},x),tooltip:g,animate:Wl(o,"point")}]};q9.props={};const jct={shape:a9},W9=t=>{const{cartesian:e}=t;return e?D5:(n,r,i,a)=>{const{x:o,y:s}=i,l=$h(r,i,t),c=Array.from(n,u=>{const d=[+o[u],+s[u]];return[a.map(l(d,u))]});return[n,c]}};W9.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:jct,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...zr(),{type:KO},{type:VO},{type:iI}]};function Lct(t,e){var n,r=1;t==null&&(t=0),e==null&&(e=0);function i(){var a,o=n.length,s,l=0,c=0;for(a=0;a<o;++a)s=n[a],l+=s.x,c+=s.y;for(l=(l/o-t)*r,c=(c/o-e)*r,a=0;a<o;++a)s=n[a],s.x-=l,s.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(t=+a,i):t},i.y=function(a){return arguments.length?(e=+a,i):e},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function Nct(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return X9(this.cover(e,n),e,n,t)}function X9(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,o={data:r},s=t._x0,l=t._y0,c=t._x1,u=t._y1,d,h,v,g,b,x,_,w;if(!a)return t._root=o,t;for(;a.length;)if((b=e>=(d=(s+c)/2))?s=d:c=d,(x=n>=(h=(l+u)/2))?l=h:u=h,i=a,!(a=a[_=x<<1|b]))return i[_]=o,t;if(v=+t._x.call(null,a.data),g=+t._y.call(null,a.data),e===v&&n===g)return o.next=a,i?i[_]=o:t._root=o,t;do i=i?i[_]=new Array(4):t._root=new Array(4),(b=e>=(d=(s+c)/2))?s=d:c=d,(x=n>=(h=(l+u)/2))?l=h:u=h;while((_=x<<1|b)===(w=(g>=h)<<1|v>=d));return i[w]=a,i[_]=o,t}function Dct(t){var e,n,r=t.length,i,a,o=new Array(r),s=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=i,s[n]=a,i<l&&(l=i),i>u&&(u=i),a<c&&(c=a),a>d&&(d=a));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)X9(this,o[n],s[n],t[n]);return this}function Ict(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o=i-n||1,s=this._root,l,c;n>t||t>=i||r>e||e>=a;)switch(c=(e<r)<<1|t<n,l=new Array(4),l[c]=s,s=l,o*=2,c){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function Bct(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function $ct(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Aa(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function zct(t,e,n){var r,i=this._x0,a=this._y0,o,s,l,c,u=this._x1,d=this._y1,h=[],v=this._root,g,b;for(v&&h.push(new Aa(v,i,a,u,d)),n==null?n=1/0:(i=t-n,a=e-n,u=t+n,d=e+n,n*=n);g=h.pop();)if(!(!(v=g.node)||(o=g.x0)>u||(s=g.y0)>d||(l=g.x1)<i||(c=g.y1)<a))if(v.length){var x=(o+l)/2,_=(s+c)/2;h.push(new Aa(v[3],x,_,l,c),new Aa(v[2],o,_,x,c),new Aa(v[1],x,s,l,_),new Aa(v[0],o,s,x,_)),(b=(e>=_)<<1|t>=x)&&(g=h[h.length-1],h[h.length-1]=h[h.length-1-b],h[h.length-1-b]=g)}else{var w=t-+this._x.call(null,v.data),E=e-+this._y.call(null,v.data),A=w*w+E*E;if(A<n){var M=Math.sqrt(n=A);i=t-M,a=e-M,u=t+M,d=e+M,r=v.data}}return r}function Fct(t){if(isNaN(u=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,o=this._x0,s=this._y0,l=this._x1,c=this._y1,u,d,h,v,g,b,x,_;if(!n)return this;if(n.length)for(;;){if((g=u>=(h=(o+l)/2))?o=h:l=h,(b=d>=(v=(s+c)/2))?s=v:c=v,e=n,!(n=n[x=b<<1|g]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,_=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[x]=a:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=a,this)}function Uct(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Hct(){return this._root}function Gct(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Yct(t){var e=[],n,r=this._root,i,a,o,s,l;for(r&&e.push(new Aa(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,o=n.y0,s=n.x1,l=n.y1)&&r.length){var c=(a+s)/2,u=(o+l)/2;(i=r[3])&&e.push(new Aa(i,c,u,s,l)),(i=r[2])&&e.push(new Aa(i,a,u,c,l)),(i=r[1])&&e.push(new Aa(i,c,o,s,u)),(i=r[0])&&e.push(new Aa(i,a,o,c,u))}return this}function qct(t){var e=[],n=[],r;for(this._root&&e.push(new Aa(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,l=r.x1,c=r.y1,u=(o+l)/2,d=(s+c)/2;(a=i[0])&&e.push(new Aa(a,o,s,u,d)),(a=i[1])&&e.push(new Aa(a,u,s,l,d)),(a=i[2])&&e.push(new Aa(a,o,d,u,c)),(a=i[3])&&e.push(new Aa(a,u,d,l,c))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Wct(t){return t[0]}function Xct(t){return arguments.length?(this._x=t,this):this._x}function Vct(t){return t[1]}function Kct(t){return arguments.length?(this._y=t,this):this._y}function V9(t,e,n){var r=new W5(e??Wct,n??Vct,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function W5(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function iN(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ra=V9.prototype=W5.prototype;Ra.copy=function(){var t=new W5(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=iN(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=iN(r));return t};Ra.add=Nct;Ra.addAll=Dct;Ra.cover=Ict;Ra.data=Bct;Ra.extent=$ct;Ra.find=zct;Ra.remove=Fct;Ra.removeAll=Uct;Ra.root=Hct;Ra.size=Gct;Ra.visit=Yct;Ra.visitAfter=qct;Ra.x=Xct;Ra.y=Kct;function bo(t){return function(){return t}}function Lv(t){return(t()-.5)*1e-6}function Zct(t){return t.index}function aN(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Qct(t){var e=Zct,n=d,r,i=bo(30),a,o,s,l,c,u=1;t==null&&(t=[]);function d(x){return 1/Math.min(s[x.source.index],s[x.target.index])}function h(x){for(var _=0,w=t.length;_<u;++_)for(var E=0,A,M,T,C,R,j,I;E<w;++E)A=t[E],M=A.source,T=A.target,C=T.x+T.vx-M.x-M.vx||Lv(c),R=T.y+T.vy-M.y-M.vy||Lv(c),j=Math.sqrt(C*C+R*R),j=(j-a[E])/j*x*r[E],C*=j,R*=j,T.vx-=C*(I=l[E]),T.vy-=R*I,M.vx+=C*(I=1-I),M.vy+=R*I}function v(){if(o){var x,_=o.length,w=t.length,E=new Map(o.map((M,T)=>[e(M,T,o),M])),A;for(x=0,s=new Array(_);x<w;++x)A=t[x],A.index=x,typeof A.source!="object"&&(A.source=aN(E,A.source)),typeof A.target!="object"&&(A.target=aN(E,A.target)),s[A.source.index]=(s[A.source.index]||0)+1,s[A.target.index]=(s[A.target.index]||0)+1;for(x=0,l=new Array(w);x<w;++x)A=t[x],l[x]=s[A.source.index]/(s[A.source.index]+s[A.target.index]);r=new Array(w),g(),a=new Array(w),b()}}function g(){if(o)for(var x=0,_=t.length;x<_;++x)r[x]=+n(t[x],x,t)}function b(){if(o)for(var x=0,_=t.length;x<_;++x)a[x]=+i(t[x],x,t)}return h.initialize=function(x,_){o=x,c=_,v()},h.links=function(x){return arguments.length?(t=x,v(),h):t},h.id=function(x){return arguments.length?(e=x,h):e},h.iterations=function(x){return arguments.length?(u=+x,h):u},h.strength=function(x){return arguments.length?(n=typeof x=="function"?x:bo(+x),g(),h):n},h.distance=function(x){return arguments.length?(i=typeof x=="function"?x:bo(+x),b(),h):i},h}var Jct={value:()=>{}};function K9(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Q_(n)}function Q_(t){this._=t}function tut(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Q_.prototype=K9.prototype={constructor:Q_,on:function(t,e){var n=this._,r=tut(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=eut(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=oN(n[i],t.name,e);else if(e==null)for(i in n)n[i]=oN(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Q_(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function eut(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function oN(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Jct,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var pg=0,mm=0,Jy=0,Z9=1e3,Xw,bm,Vw=0,Oh=0,xS=0,v1=typeof performance=="object"&&performance.now?performance:Date,Q9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function J9(){return Oh||(Q9(nut),Oh=v1.now()+xS)}function nut(){Oh=0}function nk(){this._call=this._time=this._next=null}nk.prototype=t7.prototype={constructor:nk,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?J9():+n)+(e==null?0:+e),!this._next&&bm!==this&&(bm?bm._next=this:Xw=this,bm=this),this._call=t,this._time=n,rk()},stop:function(){this._call&&(this._call=null,this._time=1/0,rk())}};function t7(t,e,n){var r=new nk;return r.restart(t,e,n),r}function rut(){J9(),++pg;for(var t=Xw,e;t;)(e=Oh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--pg}function sN(){Oh=(Vw=v1.now())+xS,pg=mm=0;try{rut()}finally{pg=0,aut(),Oh=0}}function iut(){var t=v1.now(),e=t-Vw;e>Z9&&(xS-=e,Vw=t)}function aut(){for(var t,e=Xw,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Xw=n);bm=t,rk(r)}function rk(t){if(!pg){mm&&(mm=clearTimeout(mm));var e=t-Oh;e>24?(t<1/0&&(mm=setTimeout(sN,t-v1.now()-xS)),Jy&&(Jy=clearInterval(Jy))):(Jy||(Vw=v1.now(),Jy=setInterval(iut,Z9)),pg=1,Q9(sN))}}const out=1664525,sut=1013904223,lN=4294967296;function lut(){let t=1;return()=>(t=(out*t+sut)%lN)/lN}function cut(t){return t.x}function uut(t){return t.y}var fut=10,dut=Math.PI*(3-Math.sqrt(5));function hut(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=t7(d),c=K9("tick","end"),u=lut();t==null&&(t=[]);function d(){h(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function h(b){var x,_=t.length,w;b===void 0&&(b=1);for(var E=0;E<b;++E)for(n+=(a-n)*i,s.forEach(function(A){A(n)}),x=0;x<_;++x)w=t[x],w.fx==null?w.x+=w.vx*=o:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=o:(w.y=w.fy,w.vy=0);return e}function v(){for(var b=0,x=t.length,_;b<x;++b){if(_=t[b],_.index=b,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var w=fut*Math.sqrt(.5+b),E=b*dut;_.x=w*Math.cos(E),_.y=w*Math.sin(E)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function g(b){return b.initialize&&b.initialize(t,u),b}return v(),e={tick:h,restart:function(){return l.restart(d),e},stop:function(){return l.stop(),e},nodes:function(b){return arguments.length?(t=b,v(),s.forEach(g),e):t},alpha:function(b){return arguments.length?(n=+b,e):n},alphaMin:function(b){return arguments.length?(r=+b,e):r},alphaDecay:function(b){return arguments.length?(i=+b,e):+i},alphaTarget:function(b){return arguments.length?(a=+b,e):a},velocityDecay:function(b){return arguments.length?(o=1-b,e):1-o},randomSource:function(b){return arguments.length?(u=b,s.forEach(g),e):u},force:function(b,x){return arguments.length>1?(x==null?s.delete(b):s.set(b,g(x)),e):s.get(b)},find:function(b,x,_){var w=0,E=t.length,A,M,T,C,R;for(_==null?_=1/0:_*=_,w=0;w<E;++w)C=t[w],A=b-C.x,M=x-C.y,T=A*A+M*M,T<_&&(R=C,_=T);return R},on:function(b,x){return arguments.length>1?(c.on(b,x),e):c.on(b)}}}function put(){var t,e,n,r,i=bo(-30),a,o=1,s=1/0,l=.81;function c(v){var g,b=t.length,x=V9(t,cut,uut).visitAfter(d);for(r=v,g=0;g<b;++g)e=t[g],x.visit(h)}function u(){if(t){var v,g=t.length,b;for(a=new Array(g),v=0;v<g;++v)b=t[v],a[b.index]=+i(b,v,t)}}function d(v){var g=0,b,x,_=0,w,E,A;if(v.length){for(w=E=A=0;A<4;++A)(b=v[A])&&(x=Math.abs(b.value))&&(g+=b.value,_+=x,w+=x*b.x,E+=x*b.y);v.x=w/_,v.y=E/_}else{b=v,b.x=b.data.x,b.y=b.data.y;do g+=a[b.data.index];while(b=b.next)}v.value=g}function h(v,g,b,x){if(!v.value)return!0;var _=v.x-e.x,w=v.y-e.y,E=x-g,A=_*_+w*w;if(E*E/l<A)return A<s&&(_===0&&(_=Lv(n),A+=_*_),w===0&&(w=Lv(n),A+=w*w),A<o&&(A=Math.sqrt(o*A)),e.vx+=_*v.value*r/A,e.vy+=w*v.value*r/A),!0;if(v.length||A>=s)return;(v.data!==e||v.next)&&(_===0&&(_=Lv(n),A+=_*_),w===0&&(w=Lv(n),A+=w*w),A<o&&(A=Math.sqrt(o*A)));do v.data!==e&&(E=a[v.data.index]*r/A,e.vx+=_*E,e.vy+=w*E);while(v=v.next)}return c.initialize=function(v,g){t=v,n=g,u()},c.strength=function(v){return arguments.length?(i=typeof v=="function"?v:bo(+v),u(),c):i},c.distanceMin=function(v){return arguments.length?(o=v*v,c):Math.sqrt(o)},c.distanceMax=function(v){return arguments.length?(s=v*v,c):Math.sqrt(s)},c.theta=function(v){return arguments.length?(l=v*v,c):Math.sqrt(l)},c}function vut(t){var e=bo(.1),n,r,i;typeof t!="function"&&(t=bo(t==null?0:+t));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:bo(+s),o(),a):e},a.x=function(s){return arguments.length?(t=typeof s=="function"?s:bo(+s),o(),a):t},a}function gut(t){var e=bo(.1),n,r,i;typeof t!="function"&&(t=bo(t==null?0:+t));function a(s){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*s}function o(){if(n){var s,l=n.length;for(r=new Array(l),i=new Array(l),s=0;s<l;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return a.initialize=function(s){n=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:bo(+s),o(),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:bo(+s),o(),a):t},a}var yut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const mut={joint:!0},but={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},xut={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},_ut={text:""};function wut(t,e,n){const{nodes:r,links:i}=t,{joint:a,nodeStrength:o,linkStrength:s}=e,{nodeKey:l=g=>g.id,linkKey:c=g=>g.id}=n,u=put(),d=Qct(i).id($l(c));typeof o=="function"&&u.strength(o),typeof s=="function"&&d.strength(s);const h=hut(r).force("link",d).force("charge",u);a?h.force("center",Lct()):h.force("x",vut()).force("y",gut()),h.stop();const v=Math.ceil(Math.log(h.alphaMin())/Math.log(1-h.alphaDecay()));for(let g=0;g<v;g++)h.tick();return{nodesData:r,linksData:i}}const e7=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,{nodeKey:u=T=>T.id,linkKey:d=T=>T.id}=n,h=yut(n,["nodeKey","linkKey"]),v=Object.assign({nodeKey:u,linkKey:d},h),g=$t(v,"node"),b=$t(v,"link"),{links:x,nodes:_}=I5(e,v),{nodesData:w,linksData:E}=wut({links:x,nodes:_},wt({},mut,a),v),A=ql(c,"link",{items:[T=>({name:"source",value:$l(d)(T.source)}),T=>({name:"target",value:$l(d)(T.target)})]}),M=ql(c,"node",{items:[T=>({name:"key",value:$l(u)(T)})]},!0);return[wt({},but,{data:E,encode:b,labels:s,style:$t(i,"link"),tooltip:A,animate:Wl(l,"link")}),wt({},xut,{data:w,encode:Object.assign({},g),scale:r,style:$t(i,"node"),tooltip:M,labels:[Object.assign(Object.assign({},_ut),$t(i,"label")),...o],animate:Wl(l,"link")})]};e7.props={};const n7=t=>e=>n=>{const{field:r="value",nodeSize:i,separation:a,sortBy:o,as:s=["x","y"]}=e,[l,c]=s,u=jg(n,g=>g.children).sum(g=>g[r]).sort(o),d=t();d.size([1,1]),i&&d.nodeSize(i),a&&d.separation(a),d(u);const h=[];u.each(g=>{g[l]=g.x,g[c]=g.y,g.name=g.data.name,h.push(g)});const v=u.links();return v.forEach(g=>{g[l]=[g.source[l],g.target[l]],g[c]=[g.source[c],g.target[c]]}),{nodes:h,edges:v}},r7=t=>n7(wlt)(t);r7.props={};const i7=t=>n7(uct)(t);i7.props={};const Out={sortBy:(t,e)=>e.value-t.value},Sut={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},Eut={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},Aut={text:"",fontSize:10},a7=t=>{const{data:e,encode:n={},scale:r={},style:i={},layout:a={},nodeLabels:o=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,u=n?.value,{nodes:d,edges:h}=i7(Object.assign(Object.assign(Object.assign({},Out),a),{field:u}))(e),v=ql(c,"node",{title:"name",items:["value"]},!0),g=ql(c,"link",{title:"",items:[b=>({name:"source",value:b.source.name}),b=>({name:"target",value:b.target.name})]});return[wt({},Eut,{data:h,encode:$t(n,"link"),scale:$t(r,"link"),labels:s,style:Object.assign({stroke:"#999"},$t(i,"link")),tooltip:g,animate:Wl(l,"link")}),wt({},Sut,{data:d,scale:$t(r,"node"),encode:$t(n,"node"),labels:[Object.assign(Object.assign({},Aut),$t(i,"label")),...o],style:Object.assign({},$t(i,"node")),tooltip:v,animate:Wl(l,"node")})]};a7.props={};var Mut=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Tut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function kut(t,e){const{text:n="text",value:r="value"}=e;return t.map(i=>Object.assign(Object.assign({},i),{text:i[n],value:i[r]}))}const Cut=()=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size",shape:"tag"},scale:{x:{range:[0,1]},y:{range:[0,1]}},style:{fontFamily:t=>t.fontFamily},tooltip:{items:[t=>({name:t.text,value:t.value})]}}),X5=(t,e)=>Mut(void 0,void 0,void 0,function*(){const{width:n,height:r}=e,{data:i,encode:a={},scale:o,style:s={},layout:l={}}=t,c=Tut(t,["data","encode","scale","style","layout"]),u=kut(i,a);return wt({},Cut(),Object.assign(Object.assign({data:{value:u,transform:[Object.assign({type:"wordCloud",size:[n,r]},l)]},encode:a,scale:o,style:s},c),{axis:!1}))});X5.props={};var jm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Rut=(t,e)=>{const{shape:n,radius:r}=t,i=jm(t,["shape","radius"]),a=$t(i,"pointer"),o=$t(i,"pin"),{shape:s}=a,l=jm(a,["shape"]),{shape:c}=o,u=jm(o,["shape"]),{coordinate:d,theme:h}=e;return(v,g)=>{const b=v.map(U=>d.invert(U)),[x,_,w]=oQ(d,"polar"),E=d.clone(),{color:A}=g,M=vC({startAngle:x,endAngle:_,innerRadius:w,outerRadius:r});M.push(["cartesian"]),E.update({transformations:M});const T=b.map(U=>E.map(U)),[C,R]=h5(T),[j,I]=d.getCenter(),D=Object.assign(Object.assign({x1:C,y1:R,x2:j,y2:I,stroke:A},l),i),B=Object.assign(Object.assign({cx:j,cy:I,stroke:A},u),i),$=se(new mi);return Bc(s)||(typeof s=="function"?$.append(()=>s(T,g,E,h)):$.append("line").call(Qt,D).node()),Bc(c)||(typeof c=="function"?$.append(()=>c(T,g,E,h)):$.append("circle").call(Qt,B).node()),$.node()}},cN={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-11/10*Math.PI,endAngle:1/10*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},Put={style:{shape:Rut,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},jut={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},tooltip:!1};function Lut(t){if(Kn(t)){const e=Math.max(0,Math.min(t,1));return{percent:e,target:e,total:1}}return t}function Nut(t,e){const{name:n="score",target:r,total:i,percent:a,thresholds:o=[]}=Lut(t),s=a||r,l=a?1:i,c=Object.assign({y:{domain:[0,l]}},e);return o.length?{targetData:[{x:n,y:s,color:"target"}],totalData:o.map((u,d)=>({x:n,y:d>=1?u-o[d-1]:u,color:d})),target:s,total:l,scale:c}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:l-s,color:"total"}],target:s,total:l,scale:c}}function Dut(t,{target:e,total:n}){const{content:r}=t;return r?r(e,n):e.toString()}const o7=t=>{const{data:e={},scale:n={},style:r={},animate:i={},transform:a=[]}=t,o=jm(t,["data","scale","style","animate","transform"]),{targetData:s,totalData:l,target:c,total:u,scale:d}=Nut(e,n),h=$t(r,"text"),{tooltip:v}=h,g=jm(h,["tooltip"]),b=QK(r,["pointer","pin"]),x=$t(r,"arc"),_=x.shape;return[wt({},cN,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:d,style:_==="round"?Object.assign(Object.assign({},x),{shape:Dst}):x,animate:typeof i=="object"?$t(i,"arc"):i},o)),wt({},cN,Put,Object.assign({type:"point",data:s,scale:d,style:b,animate:typeof i=="object"?$t(i,"indicator"):i},o)),wt({},jut,{style:Object.assign({text:Dut(g,{target:c,total:u})},g),tooltip:v,animate:typeof i=="object"?$t(i,"text"):i})]};o7.props={};const uN={density:e9},s7=()=>(t,e,n,r)=>{const{x:i,series:a}=n,o=Object.entries(n).filter(([d])=>d.startsWith("y")).map(([,d])=>d),s=Object.entries(n).filter(([d])=>d.startsWith("size")).map(([,d])=>d);if(i===void 0||o===void 0||s===void 0)throw new Error("Missing encode for x or y or size channel.");const l=e.x,c=e.series,u=Array.from(t,d=>{const h=l.getBandWidth(l.invert(+i[d])),v=c?c.getBandWidth(c.invert(+a?.[d])):1,g=h*v,b=(+a?.[d]||0)*h,x=+i[d]+b+g/2;return[...o.map((w,E)=>[x+ +s[E][d]/t.length,+o[E][d]]),...o.map((w,E)=>[x-+s[E][d]/t.length,+o[E][d]]).reverse()].map(w=>r.map(w))});return[t,u]};s7.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:uN,channels:[...Ca({shapes:Object.keys(uN)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...zr(),{type:D1},{type:Ph}],postInference:[...Jr(),...Rg()],interaction:{shareTooltip:!0}};const fN={heatmap:i9},l7=t=>(e,n,r,i)=>{const{x:a,y:o,size:s,color:l}=r,c=Array.from(e,u=>{const d=s?+s[u]:40;return[...i.map([+a[u],+o[u]]),l[u],d]});return[[0],[c]]};l7.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:fN,channels:[...Ca({shapes:Object.keys(fN)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...zr(),{type:Ph},{type:WO}],postInference:[...Jr(),...wf()]};var Iut=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const But={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:o9},animate:{enter:{type:"fadeIn"}}},$ut={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},c7=t=>{const{data:e={},style:n={},animate:r}=t,i=Iut(t,["data","style","animate"]),a=Math.max(0,Kn(e)?e:e?.percent),o=[{percent:a,type:"liquid"}],s=Object.assign(Object.assign({},$t(n,"text")),$t(n,"content")),l=$t(n,"outline"),c=$t(n,"wave"),u=$t(n,"background");return[wt({},But,Object.assign({type:"interval",data:o,style:{liquidOptions:{percent:a,liquidShape:n?.shape},styleOptions:Object.assign(Object.assign({},n),{outline:l,wave:c,background:u})},animate:r},i)),wt({},$ut,{style:Object.assign({text:`${Iw(a*100)} %`},s),animate:r})]};c7.props={};const u7=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];u7.props={};const f7=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];f7.props={};const d7=t=>new i1(t);d7.props={};const h7=t=>new Ic(t);h7.props={};const p7=t=>new x8(t);p7.props={};const v7=t=>new S8(t);v7.props={};const g7=t=>new OK(t);g7.props={};const y7=t=>new UK(t);y7.props={};const m7=t=>new kK(t);m7.props={};const b7=t=>new T8(t);b7.props={};const x7=t=>new HO(t);x7.props={};const _7=t=>new N8(t);_7.props={};const w7=t=>new j8(t);w7.props={};const O7=t=>new MK(t);O7.props={};const S7=t=>new wT(t);S7.props={};const E7=t=>new IC(t);E7.props={};function V5({colorDefault:t,colorBlack:e,colorWhite:n,colorStroke:r,colorBackground:i,padding1:a,padding2:o,padding3:s,alpha90:l,alpha65:c,alpha45:u,alpha25:d,alpha10:h,category10:v,category20:g,sizeDefault:b=1,padding:x="auto",margin:_=16}){return{padding:x,margin:_,size:b,color:t,category10:v,category20:g,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:e,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,lineWidth:0,connectorStroke:r,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:r,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,lineWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:r,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:r,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:r,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:r,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:r,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:r,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:e,gridStrokeOpacity:h,labelAlign:"horizontal",labelFill:e,labelOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:a,line:!1,lineLineWidth:.5,lineStroke:e,lineStrokeOpacity:u,tickLength:4,tickLineWidth:1,tickStroke:e,tickOpacity:u,titleFill:e,titleOpacity:l,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom",titleTransform:"translate(0, 8)"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransform:"rotate(-90) translate(0, -8)",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:e,itemLabelFillOpacity:l,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,focusMarkerSize:12,itemSpacing:[a,a,a/2],itemValueFill:e,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:e,navButtonFillOpacity:.65,navPageNumFill:e,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:e,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:e,tickStrokeOpacity:.25,rowPadding:a,colPadding:o,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:e,handleLabelFillOpacity:u,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:e,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:e,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:e,labelFillOpacity:u,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:l,tickStroke:e,tickStrokeOpacity:u},label:{fill:e,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:e,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:n,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:e,fontWeight:"normal"},slider:{trackSize:16,trackFill:r,trackFillOpacity:1,selectionFill:t,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:e,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:e,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:e,titleFillOpacity:l,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:e,subtitleFillOpacity:c,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"},tooltip:{css:{".g2-tooltip":{"font-family":"sans-serif"}}}}}const zut={colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},Fut=V5(zut),K5=t=>wt({},Fut,t);K5.props={};const A7=t=>wt({},K5(),{category10:"category10",category20:"category20"},t);A7.props={};const Uut={colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25},Hut=V5(Uut),M7=t=>wt({},Hut,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},t),T7=t=>Object.assign({},M7(),{category10:"category10",category20:"category20"},t);T7.props={};const Gut={colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1},Yut=V5(Gut),k7=t=>wt({},Yut,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(e,n)=>n!==0},axisRight:{gridFilter:(e,n)=>n!==0},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},t);k7.props={};function qut(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wut(t){return t=Kw(Math.abs(t)),t?t[1]:NaN}function Xut(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Vut(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kut=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ik(t){if(!(e=Kut.exec(t)))throw new Error("invalid format: "+t);var e;return new Z5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ik.prototype=Z5.prototype;function Z5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Z5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zut(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var C7;function Qut(t,e){var n=Kw(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(C7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Kw(t,Math.max(0,e+a-1))[0]}function dN(t,e){var n=Kw(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:qut,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dN(t*100,e),r:dN,s:Qut,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pN(t){return t}var vN=Array.prototype.map,gN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jut(t){var e=t.grouping===void 0||t.thousands===void 0?pN:Xut(vN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?pN:Vut(vN.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=ik(d);var h=d.fill,v=d.align,g=d.sign,b=d.symbol,x=d.zero,_=d.width,w=d.comma,E=d.precision,A=d.trim,M=d.type;M==="n"?(w=!0,M="g"):hN[M]||(E===void 0&&(E=12),A=!0,M="g"),(x||h==="0"&&v==="=")&&(x=!0,h="0",v="=");var T=b==="$"?n:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",C=b==="$"?r:/[%p]/.test(M)?o:"",R=hN[M],j=/[defgprs%]/.test(M);E=E===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(D){var B=T,$=C,U,G,F;if(M==="c")$=R(D)+$,D="";else{D=+D;var H=D<0||1/D<0;if(D=isNaN(D)?l:R(Math.abs(D),E),A&&(D=Zut(D)),H&&+D==0&&g!=="+"&&(H=!1),B=(H?g==="("?g:s:g==="-"||g==="("?"":g)+B,$=(M==="s"?gN[8+C7/3]:"")+$+(H&&g==="("?")":""),j){for(U=-1,G=D.length;++U<G;)if(F=D.charCodeAt(U),48>F||F>57){$=(F===46?i+D.slice(U+1):D.slice(U))+$,D=D.slice(0,U);break}}}w&&!x&&(D=e(D,1/0));var Y=B.length+D.length+$.length,W=Y<_?new Array(_-Y+1).join(h):"";switch(w&&x&&(D=e(W+D,W.length?_-$.length:1/0),W=""),v){case"<":D=B+D+$+W;break;case"=":D=B+W+D+$;break;case"^":D=W.slice(0,Y=W.length>>1)+B+D+$+W.slice(Y);break;default:D=W+B+D+$;break}return a(D)}return I.toString=function(){return d+""},I}function u(d,h){var v=c((d=ik(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Wut(h)/3)))*3,b=Math.pow(10,-g),x=gN[8+g/3];return function(_){return v(b*_)+x}}return{format:c,formatPrefix:u}}var __,Of;tft({thousands:",",grouping:[3],currency:["$",""]});function tft(t){return __=Jut(t),Of=__.format,__.formatPrefix,__}var eft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function nft(t){return class extends Y1{constructor(e){super(e),this.descriptor=t}connectedCallback(){var e,n;(n=(e=this.descriptor).render)===null||n===void 0||n.call(e,this.attributes,this)}update(e={}){var n,r;this.attr(wt({},this.attributes,e)),(r=(n=this.descriptor).render)===null||r===void 0||r.call(n,this.attributes,this)}}}function yN(t,e,n){return t.querySelector(e)?se(t).select(e):se(t).append(n)}function _S(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function R7(t,e){const n={flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:a}=n;const o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return t in o&&([r,i,a]=o[t]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:a},e)}class P7 extends Rot{get child(){var e;return(e=this.children)===null||e===void 0?void 0:e[0]}update(e){var n;this.attr(e);const{subOptions:r}=e;(n=this.child)===null||n===void 0||n.update(r)}}class rft extends P7{update(e){var n;const{subOptions:r}=e;this.attr(e),(n=this.child)===null||n===void 0||n.update(r)}}function zl(t,e){var n;return(n=t.filter(r=>r.getOptions().name===e))===null||n===void 0?void 0:n[0]}function ift(t){return t==="horizontal"||t===0}function aft(t){return t==="vertical"||t===-Math.PI/2}function j7(t,e,n){const{bbox:r}=t,{position:i="top",size:a,length:o}=e,s=["top","bottom","center"].includes(i),[l,c]=s?[r.height,r.width]:[r.width,r.height],{defaultSize:u,defaultLength:d}=n.props,h=a||u||l,v=o||d||c,g=s?"horizontal":"vertical",[b,x]=s?[v,h]:[h,v];return{orientation:g,width:b,height:x,size:h,length:v}}function oft(t){return t.find(e=>e.getOptions().domain.length>0).getOptions().domain}function wS(t){const e=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=t,r=eft(t,["style"]),i={};return Object.entries(r).forEach(([a,o])=>{e.includes(a)?i[`show${gf(a)}`]=o:i[a]=o}),Object.assign(Object.assign({},i),n)}var L7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function N7(t,e){const{eulerAngles:n,origin:r}=e;r&&t.setOrigin(r),n&&t.rotate(n[0],n[1],n[2])}function D7(t){const{innerWidth:e,innerHeight:n,depth:r}=t.getOptions();return[e,n,r]}function sft(t,e){const{width:n,height:r}=e.getOptions();return i=>{if(!VI(e))return i;const a=t==="bottom"?[i,1]:[0,i],o=e.map(a);if(t==="bottom"){const s=o[0];return new Ic({domain:[0,n],range:[0,1]}).map(s)}else if(t==="left"){const s=o[1];return new Ic({domain:[0,r],range:[0,1]}).map(s)}return i}}function lft(t,e,n){if(t.getTicks)return t.getTicks();if(!n)return e;const[r,i]=jc(e,o=>+o),{tickCount:a}=t.getOptions();return n(r,i,a)}function cft(t,e){if(Nn(e))return v=>v;const n=e.getOptions(),{innerWidth:r,innerHeight:i,insetTop:a,insetBottom:o,insetLeft:s,insetRight:l}=n,[c,u,d]=t==="left"||t==="right"?[a,o,i]:[s,l,r],h=new Ic({domain:[0,1],range:[c/d,1-u/d]});return v=>h.map(v)}function I7(t,e,n,r,i,a,o,s){var l;(n!==void 0||a!==void 0)&&t.update(Object.assign(Object.assign({},n&&{tickCount:n}),a&&{tickMethod:a}));const c=lft(t,e,a),u=i?c.filter(i):c,d=_=>_ instanceof Date?String(_):typeof _=="object"&&_?_:String(_),h=r||((l=t.getFormatter)===null||l===void 0?void 0:l.call(t))||d,v=cft(o,s),g=sft(o,s),b=_=>["top","bottom","center","outer"].includes(_),x=_=>["left","right"].includes(_);return Nn(s)||nr(s)?u.map((_,w,E)=>{var A,M;const T=((A=t.getBandWidth)===null||A===void 0?void 0:A.call(t,_))/2||0,C=v(t.map(_)+T);return{value:tS(s)&&o==="center"||nr(s)&&((M=t.getTicks)===null||M===void 0?void 0:M.call(t))&&b(o)||nr(s)&&x(o)?1-C:C,label:d(h(Iw(_),w,E)),id:String(w)}}):u.map((_,w,E)=>{var A;const M=((A=t.getBandWidth)===null||A===void 0?void 0:A.call(t,_))/2||0,T=g(v(t.map(_)+M));return{value:x(o)?1-T:T,label:d(h(Iw(_),w,E)),id:String(w)}})}function uft(t,e,n="xy"){const[r,i,a]=D7(e);return n==="xy"?t.includes("bottom")||t.includes("top")?i:r:n==="xz"?t.includes("bottom")||t.includes("top")?a:r:t.includes("bottom")||t.includes("top")?i:a}function fft(t=[],e){if(t.length>0)return t;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:a}=e,o=[],s=(l,c)=>{c&&o.push(Object.assign(Object.assign({},l),c))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},a),o}function dft(t,e,n,r,i){const{x:a,y:o,width:s,height:l}=e,c=[a+s/2,o+l/2],u=Math.min(s,l)/2,[d,h]=t5(i),[v,g]=D7(i),b=Math.min(v,g)/2,x={center:c,radius:u,startAngle:d,endAngle:h,gridLength:(r-n)*b};if(t==="inner"){const{insetLeft:_,insetTop:w}=i.getOptions();return Object.assign(Object.assign({},x),{center:[c[0]-_,c[1]-w],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},x),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function hft(t,e,n){return iQ(e)||eS(e)?!1:t===void 0?!!n.getTicks:t}function pft(t){const{depth:e}=t.getOptions();return e?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}function vft(t,e,n,r,i){const{x:a,y:o,width:s,height:l}=n;if(t==="bottom")return{startPos:[a,o],endPos:[a+s,o]};if(t==="left")return{startPos:[a+s,o+l],endPos:[a+s,o]};if(t==="right")return{startPos:[a,o+l],endPos:[a,o]};if(t==="top")return{startPos:[a,o+l],endPos:[a+s,o+l]};if(t==="center"){if(e==="vertical")return{startPos:[a,o],endPos:[a,o+l]};if(e==="horizontal")return{startPos:[a,o],endPos:[a+s,o]};if(typeof e=="number"){const[c,u]=r.getCenter(),[d,h]=nS(r),[v,g]=t5(r),b=Math.min(s,l)/2,{insetLeft:x,insetTop:_}=r.getOptions(),w=d*b,E=h*b,[A,M]=[c+a-x,u+o-_],[T,C]=[Math.cos(e),Math.sin(e)],R=[A+E*T,M+E*C],j=[A+w*T,M+w*C],I=()=>{const{domain:B}=i.getOptions();return B.length},D=Nn(r)&&i?I():3;return{startPos:R,endPos:j,gridClosed:Math.abs(g-v-360)<1e-6,gridCenter:[A,M],gridControlAngles:new Array(D).fill(0).map((B,$,U)=>(g-v)/D*$)}}}return{}}const gft=t=>{const{order:e,size:n,position:r,orientation:i,labelFormatter:a,tickFilter:o,tickCount:s,tickMethod:l,tickLength:c,important:u={},style:d={},indexBBox:h,title:v,grid:g=!1}=t,b=L7(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","tickLength","important","style","indexBBox","title","grid"]);return({scales:[x],value:_,coordinate:w,theme:E})=>{const{bbox:A}=_,{domain:M}=x.getOptions(),T=I7(x,M,s,a,o,l,r,w),C=h?T.map((U,G)=>{const F=h.get(G);return!F||F[0]!==U.label?U:Object.assign(Object.assign({},U),{bbox:F[1]})}):T,[R,j]=nS(w),I=dft(r,A,R,j,w),{axis:D,axisArc:B={}}=E,$=wS(wt({},D,B,I,Object.assign(Object.assign(Object.assign({type:"arc",data:C,titleText:_S(v),grid:g},c!==void 0?{tickLength:c}:null),b),u)));return new N5({style:_C($,["transform"])})}};function yft(t,e,n,r,i,a){const o=n.axis,s=["top","right","bottom","left"].includes(i)?n[`axis${FC(i)}`]:n.axisLinear,l=t.getOptions().name,c=n[`axis${gf(l)}`]||{};return Object.assign({},o,s,c)}function mft(t,e,n,r,i,a){const o=yft(t,e,n,r,i);return i==="center"?Object.assign(Object.assign(Object.assign(Object.assign({},o),{labelDirection:r==="right"?"negative":"positive"}),r==="center"?{labelTransform:"translate(50%,0)"}:null),{tickDirection:r==="right"?"negative":"positive",labelSpacing:r==="center"?0:4,titleSpacing:aft(a)?10:0,tick:r==="center"?!1:void 0}):o}const bft=t=>{const{direction:e="left",important:n={},labelFormatter:r,order:i,orientation:a,actualPosition:o,position:s,size:l,style:c={},title:u,tickCount:d,tickFilter:h,tickMethod:v,tickLength:g,transform:b,indexBBox:x}=t,_=L7(t,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","tickLength","transform","indexBBox"]);return({scales:w,value:E,coordinate:A,theme:M})=>{const{bbox:T}=E,[C]=w,{domain:R,xScale:j}=C.getOptions(),I=mft(C,A,M,e,s,a),D=Object.assign(Object.assign(Object.assign({},I),c),_),B=uft(o||s,A,t.plane),$=vft(s,a,T,A,j),U=pft(A),G=I7(C,R,d,r,h,v,s,A),F=x?G.map((W,V)=>{const J=x.get(V);return!J||J[0]!==W.label?W:Object.assign(Object.assign({},W),{bbox:J[1]})}):G,H=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},D),{type:"linear",data:F,crossSize:l,titleText:_S(u),labelOverlap:fft(b,D),grid:hft(D.grid,A,C),gridLength:B,line:!0,indexBBox:x}),g!==void 0?{tickLength:g}:null),D.line?null:{lineOpacity:0}),$),U),n);return H.labelOverlap.find(W=>W.type==="hide")&&(H.crossSize=!1),new N5({className:"axis",style:wS(H)})}},B7=t=>e=>{const{labelFormatter:n,labelFilter:r=()=>!0}=e;return i=>{var a;const{scales:[o]}=i,s=((a=o.getTicks)===null||a===void 0?void 0:a.call(o))||o.getOptions().domain,l=typeof n=="string"?Of(n):n,c=(d,h,v)=>r(s[h],h,s),u=Object.assign(Object.assign({},e),{labelFormatter:l,labelFilter:c,scale:o});return t(u)(i)}},Sf=B7(bft),$7=B7(gft);Sf.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};$7.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const z7=t=>(...e)=>{const n=Sf(Object.assign({},{crossPadding:50},t))(...e);return N7(n,t),n};z7.props=Object.assign(Object.assign({},Sf.props),{defaultPosition:"bottom"});const F7=t=>(...e)=>{const n=Sf(Object.assign({},{crossPadding:10},t))(...e);return N7(n,t),n};F7.props=Object.assign(Object.assign({},Sf.props),{defaultPosition:"left"});var xft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _ft(t){const e=t%(Math.PI*2);return e===Math.PI/2?{titleTransform:"translate(0, 50%)"}:e>-Math.PI/2&&e<Math.PI/2?{titleTransform:"translate(50%, 0)"}:e>Math.PI/2&&e<Math.PI*3/2?{titleTransform:"translate(-50%, 0)"}:{}}function wft(t,e,n,r){const{radar:i}=t,[a]=r,o=a.getOptions().name,[s,l]=t5(n),{axisRadar:c={}}=e;return Object.assign(Object.assign({},c),{grid:o==="position",gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map((u,d)=>(l-s)/i.count*d)})}const U7=t=>{const{important:e={}}=t,n=xft(t,["important"]);return r=>{const{theme:i,coordinate:a,scales:o}=r;return Sf(Object.assign(Object.assign(Object.assign({},n),_ft(t.orientation)),{important:Object.assign(Object.assign({},wft(t,i,a,o)),e)}))(r)}};U7.props=Object.assign(Object.assign({},Sf.props),{defaultPosition:"center"});var Oft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function H7(t,e){const n=zl(t,"shape"),r=zl(t,"color"),i=n?n.clone():null,a=[];for(const[s,l]of e){const c=s.type,d=(r?.getOptions().domain.length>0?r?.getOptions().domain:l.data).map((h,v)=>{var g;return i?i.map(h||"point"):((g=s?.style)===null||g===void 0?void 0:g.shape)||l.defaultShape||"point"});typeof c=="string"&&a.push([c,d])}if(a.length===0)return["point",["point"]];if(a.length===1||!n)return a[0];const{range:o}=n.getOptions();return a.map(([s,l])=>{let c=0;for(let u=0;u<a.length;u++){const d=o[u%o.length];l[u]===d&&c++}return[c/l.length,[s,l]]}).sort((s,l)=>l[0]-s[0])[0][1]}function Sft(t,e){const{scales:n,library:r,markState:i}=e,[a,o]=H7(n,i),{itemMarker:s,itemMarkerSize:l}=t,c=(h,v)=>{var g,b,x;const _=((x=(b=(g=r[`mark.${a}`])===null||g===void 0?void 0:g.props)===null||b===void 0?void 0:b.shape[h])===null||x===void 0?void 0:x.props.defaultMarker)||qo(h.split(".")),w=typeof l=="function"?l(v):l;return()=>srt(_,{color:v.color})(0,0,w)},u=h=>`${o[h]}`;return zl(n,"shape")&&!s?(h,v)=>c(u(v),h):typeof s=="function"?(h,v)=>{const g=s(h.id,v);return typeof g=="string"?c(g,h):g}:(h,v)=>c(s||u(v),h)}function Eft(t){const e=zl(t,"opacity");if(e){const{range:n}=e.getOptions();return(r,i)=>n[i]}}function Aft(t,e){const n=zl(t,"size");return n instanceof S8?n.map(NaN)*2:e}function Mft(t,e){const{scales:n,markState:r}=e,[i,a]=H7(n,r),{itemMarker:o,itemMarkerLineWidth:s}=t;if(s!==void 0)return s;const l=["line","hyphen","dash","smooth","hv","hvh","vh","vhv"];if(typeof o=="string"&&l.includes(o))return 4;if(typeof o=="function")return(d,h)=>{const v=o(d.id,h);if(typeof v=="string"&&l.includes(v))return 4};if((Array.isArray(a)?a:[a]).some(d=>l.includes(d)))return 4}function Tft(t,e){const{labelFormatter:n=h=>`${h}`}=t,{scales:r,theme:i}=e,a=i.legendCategory.itemMarkerSize,o=Aft(r,a),s={itemMarker:Sft(Object.assign(Object.assign({},t),{itemMarkerSize:o}),e),itemMarkerSize:o,itemMarkerOpacity:Eft(r),itemMarkerLineWidth:Mft(t,e)},l=typeof n=="string"?Of(n):n,c=zl(r,"color"),u=oft(r),d=c?h=>c.map(h):()=>e.theme.color;return Object.assign(Object.assign({},s),{data:u.map(h=>({id:h,label:l(h),color:d(h)}))})}function kft(t,e,n){const{position:r}=e;if(r==="center"){const{bbox:o}=t,{width:s,height:l}=o;return{width:s,height:l}}const{width:i,height:a}=j7(t,e,n);return{width:i,height:a}}function Cft(t){return Object.assign(Object.assign({},t),{data:t?.data.filter(e=>e.id!=="")||[]})}const Q5=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:a,size:o,title:s,cols:l,itemMarker:c}=t,u=Oft(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:d}=u;return h=>{const{value:v,theme:g}=h,{bbox:b}=v,{width:x,height:_}=kft(v,t,Q5),w=R7(a,n),E=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(a)?"vertical":"horizontal",width:x,height:_,layout:l!==void 0?"grid":"flex"},l!==void 0&&{gridCol:l}),d!==void 0&&{gridRow:d}),{titleText:_S(s)}),Tft(t,h)),{legendCategory:A={}}=g,M=wS(Object.assign({},A,Cft(E),u)),T=new rft({style:Object.assign(Object.assign({x:b.x,y:b.y,width:b.width,height:b.height},w),{subOptions:M})});return T.appendChild(new got({className:"legend-category",style:M})),T}};Q5.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var Rft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Pft(t,e,n){return t.size=e,ift(n)?t.height=e:t.width=e,t}function jft(t,e,n){const{size:r}=e,i=j7(t,e,n);return Pft(i,r,i.orientation)}function Lft(t){return e=>({value:e/t,label:String(e)})}function Nft(t,e,n,r,i){const a=e.thresholds,o=Lft(r);return Object.assign(Object.assign({},t),{color:i,data:[n,...a,r].map(o)})}function Dft(t,e,n){const i=[-1/0,...e.thresholds,1/0].map((a,o)=>({value:o,label:a}));return Object.assign(Object.assign({},t),{data:i,color:n,labelFilter:(a,o)=>o>0&&o<i.length-1})}function ak(t){const{domain:e}=t.getOptions(),[n,r]=[e[0],H8(e)];return[n,r]}function Ift(t,e){const n=t.getOptions(),r=t.clone();return r.update(Object.assign(Object.assign({},n),{range:[sf(e).toString()]})),r}function Bft(t,e,n,r,i,a){const{length:o}=t,s=n||r,l=i.color?a.legendContinuous.ribbonFill||"black":a.color,c=e||Ift(s,l),[u,d]=ak(c),[h,v]=ak([e,n,r].filter(g=>g!==void 0).find(g=>!(g instanceof IC)));return Object.assign(Object.assign({},t),{domain:[h,v],data:c.getTicks().map(g=>({value:g})),color:new Array(Math.floor(o)).fill(0).map((g,b)=>{const x=(d-u)/(o-1)*b+u,_=c.map(x)||l,w=r?r.map(x):1;return _.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(E,A,M,T)=>`rgba(${A}, ${M}, ${T}, ${w})`)})})}function $ft(t,e,n,r,i,a){const o=zl(t,"color"),s=jft(n,r,i);if(o instanceof HO){const{range:u}=o.getOptions(),[d,h]=ak(o);return o instanceof j8||o instanceof N8?Nft(s,o,d,h,u):Dft(s,o,u)}const l=zl(t,"size"),c=zl(t,"opacity");return Bft(s,o,l,c,e,a)}const Ef=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:a,size:o,title:s,style:l,crossPadding:c,padding:u}=t,d=Rft(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:h,value:v,theme:g,scale:b})=>{const{bbox:x}=v,{x:_,y:w,width:E,height:A}=x,M=R7(a,n),{legendContinuous:T={}}=g,C=wS(Object.assign({},T,Object.assign(Object.assign({titleText:_S(s),labelAlign:"value",labelFormatter:typeof e=="string"?j=>Of(e)(j.label):e},$ft(h,b,v,t,Ef,g)),l),d)),R=new P7({style:Object.assign(Object.assign({x:_,y:w,width:E,height:A},M),{subOptions:C})});return R.appendChild(new Tot({className:"legend-continuous",style:C})),R}};Ef.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};const G7=t=>(...e)=>Ef(Object.assign({},{block:!0},t))(...e);G7.props=Object.assign(Object.assign({},Ef.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const J5=t=>e=>{const{scales:n}=e,r=zl(n,"size");return Ef(Object.assign({},{type:"size",data:r.getTicks().map((i,a)=>({value:i,label:String(i)}))},t))(e)};J5.props=Object.assign(Object.assign({},Ef.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const Y7=t=>J5(Object.assign({},{block:!0},t));Y7.props=Object.assign(Object.assign({},Ef.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var zft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function mN(t,e,n,r){switch(r){case"center":return{x:t+n/2,y:e,textAlign:"middle"};case"right":return{x:t+n,y:e,textAlign:"right"};default:return{x:t,y:e,textAlign:"left"}}}const Fft=nft({render(t,e){const{width:n,title:r,subtitle:i,spacing:a=2,align:o="left",x:s,y:l}=t,c=zft(t,["width","title","subtitle","spacing","align","x","y"]);e.style.transform=`translate(${s}, ${l})`;const u=$t(c,"title"),d=$t(c,"subtitle"),v=yN(e,".title","text").attr("className","title").call(Qt,Object.assign(Object.assign(Object.assign({},mN(0,0,n,o)),{fontSize:14,textBaseline:"top",text:r}),u)).node().getLocalBounds();yN(e,".sub-title","text").attr("className","sub-title").call(g=>{if(!i)return g.node().remove();g.node().attr(Object.assign(Object.assign(Object.assign({},mN(0,v.max[1]+a,n,o)),{fontSize:12,textBaseline:"top",text:i}),d))})}}),q7=t=>({value:e,theme:n})=>{const{x:r,y:i,width:a,height:o}=e.bbox;return new Fft({style:wt({},n.title,Object.assign({x:r,y:i,width:a,height:o},t))})};q7.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};function Uft(t,e,n){return Math.min(n,Math.max(e,t))}function Lm(t){return!!t.getBandWidth}function vg(t,e,n){if(!Lm(t))return t.invert(e);const{adjustedRange:r}=t;if(r.includes(e))return t.invert(e);const{domain:i}=t.getOptions(),a=n?-1:0,o=t.getStep(),s=n?r:r.map(u=>u+o),l=iV(s,e),c=Uft(l+a,0,i.length-1);return i[c]}function Qu(t,e,n){if(!e)return t.getOptions().domain;if(!Lm(t)){const l=Ns(e);if(!n)return l;const[c]=l,{range:u}=t.getOptions(),[d,h]=u,v=d>h?-1:1,g=t.invert(t.map(c)+v*n);return[c,g]}const{domain:r}=t.getOptions(),i=e[0],a=r.indexOf(i);if(n){const l=a+Math.round(r.length*n);return r.slice(a,l)}const o=e[e.length-1],s=r.indexOf(o);return r.slice(a,s+1)}function J_(t,e,n,r,i,a){const{x:o,y:s}=i,l=(v,g)=>{const[b,x]=a.invert(v);return[vg(o,b,g),vg(s,x,g)]},c=l([t,e],!0),u=l([n,r],!1),d=Qu(o,[c[0],u[0]]),h=Qu(s,[c[1],u[1]]);return[d,h]}function bN(t,e){const[n,r]=t,i=a=>a.getStep?a.getStep():0;return[e.map(n),e.map(r)+i(e)]}const xN=(t,e)=>{var n,r;const[i,a]=t,o=((r=(n=e.getOptions)===null||n===void 0?void 0:n.call(e))===null||r===void 0?void 0:r.domain)||[],s=o.indexOf(i),l=o.indexOf(a);if(s===-1||l===-1)return[e.map(i),e.map(a)];const c=o.length;return c<=1?[0,1]:[s/(c-1),l/(c-1)]};function Hft(t,e,n){const{x:r,y:i}=e,[a,o]=t,s=bN(a,r),l=bN(o,i),c=[s[0],l[0]],u=[s[1],l[1]],[d,h]=n.map(c),[v,g]=n.map(u);return[d,h,v,g]}var Gft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Yft(t,e,n){const{x:r,y:i,width:a,height:o}=t;if(e==="left")return[r+a-n,i];if(e==="right")return[r,i];if(e==="bottom")return[r,i];if(e==="top")return[r,i+o-n]}const V1=t=>{const{orientation:e,labelFormatter:n,size:r,style:i={},position:a}=t,o=Gft(t,["orientation","labelFormatter","size","style","position"]);return s=>{var l;const{scales:[c],value:u,theme:d,coordinate:h}=s,{bbox:v}=u,{width:g,height:b}=v,{slider:x={}}=d,_=((l=c.getFormatter)===null||l===void 0?void 0:l.call(c))||(R=>R+""),w=typeof n=="string"?Of(n):n,E=e==="horizontal",A=nr(h)&&E,{trackSize:M=x.trackSize}=i,[T,C]=Yft(v,a,M);return new uz({className:"slider",style:Object.assign({},x,Object.assign(Object.assign({x:T,y:C,trackLength:E?g:b,orientation:e,formatter:R=>{const j=w||_,I=A?1-R:R,D=vg(c,I,!0);return j(D)},sparklineData:Wft(t,s)},i),o))})}};function qft(t,e){const[n]=Array.from(t.entries()).filter(([i])=>i.type==="line"||i.type==="area").filter(([i])=>i.slider).map(([i])=>{const{encode:a,slider:o}=i;if(o?.x){const s=l=>{const c=a[l];return[l,c?c.value:void 0]};return Object.fromEntries(e.map(s))}});if(!n?.series)return n?.y;const r=n.series.reduce((i,a,o)=>(i[a]=i[a]||[],i[a].push(n.y[o]),i),{});return Object.values(r)}function Wft(t,e){const{markState:n}=e;return $r(t.sparklineData)?t.sparklineData:qft(n,["y","series"])}V1.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const W7=t=>V1(Object.assign(Object.assign({},t),{orientation:"horizontal"}));W7.props=Object.assign(Object.assign({},V1.props),{defaultPosition:"bottom"});const X7=t=>V1(Object.assign(Object.assign({},t),{orientation:"vertical"}));X7.props=Object.assign(Object.assign({},V1.props),{defaultPosition:"left"});var Xft=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const K1=t=>{const{orientation:e,labelFormatter:n,style:r}=t,i=Xft(t,["orientation","labelFormatter","style"]);return({scales:[a],value:o,theme:s})=>{const{bbox:l}=o,{x:c,y:u,width:d,height:h}=l,{scrollbar:v={}}=s,{ratio:g,range:b}=a.getOptions(),x=e==="horizontal"?d:h,_=x/g,[w,E]=b,A=E>w?0:1;return new qit({className:"g2-scrollbar",style:Object.assign({},v,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:c,y:u,trackLength:x,value:A}),i),{orientation:e,contentLength:_,viewportLength:x}))})}};K1.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};const V7=t=>K1(Object.assign(Object.assign({},t),{orientation:"horizontal"}));V7.props=Object.assign(Object.assign({},K1.props),{defaultPosition:"bottom"});const K7=t=>K1(Object.assign(Object.assign({},t),{orientation:"vertical"}));K7.props=Object.assign(Object.assign({},K1.props),{defaultPosition:"left"});const Z7=t=>()=>new mi;Z7.props={};const t3=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:d=1}=s.style,[h,v]=nr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],g=[{transform:`${l} ${v}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${v}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d}];return s.animate(g,Object.assign(Object.assign({},o),t))}},Vft=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:d=1}=s.style,[h,v]=nr(r)?["left bottom",`scale(1, ${1e-4})`]:["left top",`scale(${1e-4}, 1)`],g=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h},{transform:`${l} ${v}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d,offset:.99},{transform:`${l} ${v}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(g,Object.assign(Object.assign({},o),t))}},Q7=(t,e)=>{const{coordinate:r}=e;return PB.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:Ft.NUMBER}),(i,a,o)=>{const[s]=i,l=u=>{const{__data__:d,style:h}=u,{fillOpacity:v=1,strokeOpacity:g=1,opacity:b=1}=h,{points:x,y:_,y1:w}=d,E=Ih(r,x,[_,w]),{innerRadius:A,outerRadius:M}=E,T=[{scaleInYRadius:A+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:A+1e-4,fillOpacity:v,strokeOpacity:g,opacity:b,offset:.01},{scaleInYRadius:M,fillOpacity:v,strokeOpacity:g,opacity:b}];return u.animate(T,Object.assign(Object.assign({},o),t))},c=u=>{const{style:d}=u,{transform:h="",fillOpacity:v=1,strokeOpacity:g=1,opacity:b=1}=d,[x,_]=nr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],w=[{transform:`${h} ${_}`.trimStart(),transformOrigin:x,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${h} ${_}`.trimStart(),transformOrigin:x,fillOpacity:v,strokeOpacity:g,opacity:b,offset:.01},{transform:`${h} scale(1, 1)`.trimStart(),transformOrigin:x,fillOpacity:v,strokeOpacity:g,opacity:b}];return u.animate(w,Object.assign(Object.assign({},o),t))};return Nn(r)?l(s):c(s)}},Kft=(t,e)=>{const{coordinate:r}=e;return(i,a,o)=>{const[s]=i,{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:d=1}=s.style,[h,v]=nr(r)?["left top",`scale(${1e-4}, 1)`]:["left bottom",`scale(1, ${1e-4})`],g=[{transform:`${l} scale(1, 1)`.trimStart(),transformOrigin:h},{transform:`${l} ${v}`.trimStart(),transformOrigin:h,fillOpacity:c,strokeOpacity:u,opacity:d,offset:.99},{transform:`${l} ${v}`.trimStart(),transformOrigin:h,fillOpacity:0,strokeOpacity:0,opacity:0}];return s.animate(g,Object.assign(Object.assign({},o),t))}},J7=t=>(e,n,r)=>{const[i]=e,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:a,strokeOpacity:o,opacity:s}];return i.animate(l,Object.assign(Object.assign({},r),t))};J7.props={};const tF=t=>(e,n,r)=>{const[i]=e,{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=i.style,l=[{fillOpacity:a,strokeOpacity:o,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(l,Object.assign(Object.assign({},r),t))};tF.props={};const Zft={opacity:1,strokeOpacity:1,fillOpacity:1,lineWidth:0,x:0,y:0,cx:0,cy:0,r:0,rx:0,ry:0,width:0,height:0},Qft={[xt.CIRCLE]:["cx","cy","r"],[xt.ELLIPSE]:["cx","cy","rx","ry"],[xt.RECT]:["x","y","width","height"],[xt.IMAGE]:["x","y","width","height"],[xt.LINE]:["x1","y1","x2","y2"],[xt.POLYLINE]:["points"],[xt.POLYGON]:["points"]};function gg(t,e,n=!1){const r={};for(const i of e){const a=t.style[i];a?r[i]=a:n&&(r[i]=Zft[i])}return r}const g1=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function ok(t){const{min:e,max:n}=t.getLocalBounds(),[r,i]=e,[a,o]=n,s=o-i,l=a-r;return[r,i,l,s]}function Jft(t){const[e,n,r,i]=t;return`
    M ${e} ${n}
    L ${e+r} ${n}
    L ${e+r} ${n+i}
    L ${e} ${n+i}
    Z
  `}function tdt(t,e){const[n,r,i,a]=ok(t),o=a/i,s=Math.ceil(Math.sqrt(e/o)),l=Math.ceil(e/s),c=[],u=a/l;let d=0,h=e;for(;h>0;){const v=Math.min(h,s),g=i/v;for(let b=0;b<v;b++){const x=n+b*g,_=r+d*u;c.push(Jft([x,_,g,u]))}h-=v,d+=1}return c}function edt(t="pack"){return typeof t=="function"?t:tdt}function ndt(t,e,n){let{transform:r}=t.style;const{transform:i}=e.style;eF(e,t);let a=g1;if(t.nodeName===xt.GROUP){const[l,c,u,d]=ok(t),[h,v,g,b]=ok(e),x=l-h,_=c-v,w=u/g,E=d/b;r=`translate(${x}, ${_}) scale(${w}, ${E})`}else a=a.concat(Qft[t.nodeName]||[]);const o=[Object.assign({transform:r??"none"},gg(t,a,!0)),Object.assign({transform:i??"none"},gg(e,a,!0))];return e.animate(o,n)}function eF(t,e){t.__data__=e.__data__,t.className=e.className,t.markType=e.markType,e.parentNode.replaceChild(t,e)}function rdt(t,e){const{nodeName:n}=t;if(n==="path")return t;const r=new Bi({style:Object.assign(Object.assign({},gg(t,g1)),{d:e})});return eF(r,t),r}function _N(t,e){const n=t.indexOf(e),r=t.lastIndexOf(e);return n===r}function idt(t){return!_N(t,"m")||!_N(t,"M")}function wN(t){const e=ZJ(t);if(e&&!idt(e))return e}function ON(t){const{nodeName:e}=t;if(e==="path"){const n=_e(t,"attributes");return n.markerEnd||n.markerStart}return!1}function e3(t,e,n,r){const{nodeName:i}=e,{nodeName:a}=n,o=wN(e),s=wN(n),{opacity:l=1,strokeOpacity:c=1,fillOpacity:u=1}=e.style,{opacity:d=1,strokeOpacity:h=1,fillOpacity:v=1}=n.style,g=i===a&&i!=="path",b=o===void 0||s===void 0,x=ON(e)||ON(n);if(g||b||x)return ndt(e,n,r);const _=rdt(t,o),w=Object.assign(Object.assign({},gg(e,g1)),{opacity:l,strokeOpacity:c,fillOpacity:u}),E=Object.assign(Object.assign({},gg(n,g1)),{opacity:d,strokeOpacity:h,fillOpacity:v}),A=[w,E];if(o!==s){A[0].d=o,A[1].d=s;const M=_.animate(A,r);return M.onfinish=()=>{YO(_,n),_.style.d=s,_.style.transform="none"},_.style.transform="none",M}return Vm(w,E)?null:_.animate(A,r)}function adt(t,e,n,r){t.style.visibility="hidden";const i=r(t,e.length);return e.map((a,o)=>{const s=new Bi({style:Object.assign({d:i[o]},gg(t,g1))});return e3(a,s,a,n)})}function odt(t,e,n,r){const i=r(e,t.length),{fillOpacity:a=1,strokeOpacity:o=1,opacity:s=1}=e.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:a,strokeOpacity:o,opacity:s}],c=e.animate(l,n);return[...t.map((d,h)=>{const v=new Bi({style:{d:i[h],fill:e.style.fill}});return e3(d,d,v,n)}),c]}const nF=t=>(e,n,r)=>{const i=edt(t.split),a=Object.assign(Object.assign({},r),t),{length:o}=e,{length:s}=n;if(o===1&&s===1||o>1&&s>1){const[l]=e,[c]=n;return e3(l,l,c,a)}if(o===1&&s>1){const[l]=e;return adt(l,n,a,i)}if(o>1&&s===1){const[l]=n;return odt(e,l,a,i)}return null};nF.props={};const rF=(t,e)=>{PB.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:Ft.NUMBER});const{coordinate:r}=e;return(i,a,o)=>{const[s]=i;if(!Nn(r))return t3(t,e)(i,a,o);const{__data__:l,style:c}=s,{radius:u=0,inset:d=0,fillOpacity:h=1,strokeOpacity:v=1,opacity:g=1}=c,{points:b,y:x,y1:_}=l,w=VC().cornerRadius(u).padAngle(d*Math.PI/180),E=Ih(r,b,[x,_]),{startAngle:A,endAngle:M}=E,T=[{waveInArcAngle:A+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:A+1e-4,fillOpacity:h,strokeOpacity:v,opacity:g,offset:.01},{waveInArcAngle:M,fillOpacity:h,strokeOpacity:v,opacity:g}],C=s.animate(T,Object.assign(Object.assign({},o),t));return C.onframe=function(){s.style.d=w(Object.assign(Object.assign({},E),{endAngle:Number(s.style.waveInArcAngle)}))},C.onfinish=function(){s.style.d=w(Object.assign(Object.assign({},E),{endAngle:M}))},C}};rF.props={};const sdt=t=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=a.style,u="center center",d=[{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c}];return a.animate(d,Object.assign(Object.assign({},i),t))},ldt=t=>(n,r,i)=>{const[a]=n,{transform:o="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=a.style,u="center center",d=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:u},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:s,strokeOpacity:l,opacity:c,offset:.99},{transform:`${o} scale(${1e-4})`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return a.animate(d,Object.assign(Object.assign({},i),t))},iF=t=>(e,n,r)=>{var i,a;const[o]=e,s=((a=(i=o).getTotalLength)===null||a===void 0?void 0:a.call(i))||0,l=[{lineDash:[0,s]},{lineDash:[s,0]}];return o.animate(l,Object.assign(Object.assign({},r),t))};iF.props={};const aF=(t,e)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:l}=a.getLocalBounds(),c=l[0]*2,u=l[1]*2,d=new Bi({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return a.appendChild(d),a.style.clipPath=d,t3(t,e)([d],r,i)};aF.props={};const oF=(t,e)=>(n,r,i)=>{const[a]=n,{min:[o,s],halfExtents:l}=a.getLocalBounds(),c=l[0]*2,u=l[1]*2,d=new Bi({style:{d:`M${o},${s}L${o+c},${s}L${o+c},${s+u}L${o},${s+u}Z`}});return a.appendChild(d),a.style.clipPath=d,Q7(t,e)([d],r,i)};oF.props={};/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.22
 * @date 7/30/2025, 1:35:25 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function cdt(t,e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.r;t.arc(r,a,o,0,Math.PI*2,!1)}function udt(t,e){var n=e.cx,r=n===void 0?0:n,i=e.cy,a=i===void 0?0:i,o=e.rx,s=e.ry;if(t.ellipse)t.ellipse(r,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,c=o>s?1:o/s,u=o>s?s/o:1;t.save(),t.scale(c,u),t.arc(r,a,l,0,Math.PI*2)}}function fdt(t,e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2,o=e.markerStart,s=e.markerEnd,l=e.markerStartOffset,c=e.markerEndOffset,u=0,d=0,h=0,v=0,g=0,b,x;o&&un(o)&&l&&(b=i-n,x=a-r,g=Math.atan2(x,b),u=Math.cos(g)*(l||0),d=Math.sin(g)*(l||0)),s&&un(s)&&c&&(b=n-i,x=r-a,g=Math.atan2(x,b),h=Math.cos(g)*(c||0),v=Math.sin(g)*(c||0)),t.moveTo(n+u,r+d),t.lineTo(i+h,a+v)}function ddt(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.d,s=o.absolutePath,l=o.segments,c=0,u=0,d=0,h=0,v=0,g,b;if(n&&un(n)&&i){var x=n.parentNode.getStartTangent(),_=we(x,2),w=_[0],E=_[1];g=w[0]-E[0],b=w[1]-E[1],v=Math.atan2(b,g),c=Math.cos(v)*(i||0),u=Math.sin(v)*(i||0)}if(r&&un(r)&&a){var A=r.parentNode.getEndTangent(),M=we(A,2),T=M[0],C=M[1];g=T[0]-C[0],b=T[1]-C[1],v=Math.atan2(b,g),d=Math.cos(v)*(a||0),h=Math.sin(v)*(a||0)}for(var R=0;R<s.length;R++){var j=s[R],I=j[0],D=s[R+1],B=R===0&&(c!==0||u!==0),$=(R===s.length-1||D&&(D[0]==="M"||D[0]==="Z"))&&d!==0&&h!==0,U=B?[c,u]:[0,0],G=we(U,2),F=G[0],H=G[1],Y=$?[d,h]:[0,0],W=we(Y,2),V=W[0],J=W[1];switch(I){case"M":t.moveTo(j[1]+F,j[2]+H);break;case"L":t.lineTo(j[1]+V,j[2]+J);break;case"Q":t.quadraticCurveTo(j[1],j[2],j[3]+V,j[4]+J);break;case"C":t.bezierCurveTo(j[1],j[2],j[3],j[4],j[5]+V,j[6]+J);break;case"A":{var tt=l[R].arcParams,nt=tt.cx,lt=tt.cy,at=tt.rx,ft=tt.ry,mt=tt.startAngle,ct=tt.endAngle,St=tt.xRotation,Mt=tt.sweepFlag;if(t.ellipse)t.ellipse(nt,lt,at,ft,St,mt,ct,!!(1-Mt));else{var It=at>ft?at:ft,Nt=at>ft?1:at/ft,zt=at>ft?ft/at:1;t.translate(nt,lt),t.rotate(St),t.scale(Nt,zt),t.arc(0,0,It,mt,ct,!!(1-Mt)),t.scale(1/Nt,1/zt),t.rotate(-St),t.translate(-nt,-lt)}$&&t.lineTo(j[6]+d,j[7]+h);break}case"Z":t.closePath();break}}}function hdt(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],d=o[s-1][1],h=0,v=0,g=0,b=0,x=0,_,w;n&&un(n)&&i&&(_=o[1][0]-o[0][0],w=o[1][1]-o[0][1],x=Math.atan2(w,_),h=Math.cos(x)*(i||0),v=Math.sin(x)*(i||0)),r&&un(r)&&a&&(_=o[s-1][0]-o[0][0],w=o[s-1][1]-o[0][1],x=Math.atan2(w,_),g=Math.cos(x)*(a||0),b=Math.sin(x)*(a||0)),t.moveTo(l+(h||g),c+(v||b));for(var E=1;E<s-1;E++){var A=o[E];t.lineTo(A[0],A[1])}t.lineTo(u,d)}function pdt(t,e){var n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,a=e.markerEndOffset,o=e.points.points,s=o.length,l=o[0][0],c=o[0][1],u=o[s-1][0],d=o[s-1][1],h=0,v=0,g=0,b=0,x=0,_,w;n&&un(n)&&i&&(_=o[1][0]-o[0][0],w=o[1][1]-o[0][1],x=Math.atan2(w,_),h=Math.cos(x)*(i||0),v=Math.sin(x)*(i||0)),r&&un(r)&&a&&(_=o[s-2][0]-o[s-1][0],w=o[s-2][1]-o[s-1][1],x=Math.atan2(w,_),g=Math.cos(x)*(a||0),b=Math.sin(x)*(a||0)),t.moveTo(l+h,c+v);for(var E=1;E<s-1;E++){var A=o[E];t.lineTo(A[0],A[1])}t.lineTo(u+g,d+b)}function vdt(t,e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.radius,s=e.width,l=e.height,c=s,u=l,d=o&&o.some(function(M){return M!==0});if(!d)t.rect(r,a,c,u);else{var h=s>0?1:-1,v=l>0?1:-1,g=h+v===0,b=o.map(function(M){return jr(M,0,Math.min(Math.abs(c)/2,Math.abs(u)/2))}),x=we(b,4),_=x[0],w=x[1],E=x[2],A=x[3];t.moveTo(h*_+r,a),t.lineTo(c-h*w+r,a),w!==0&&t.arc(c-h*w+r,v*w+a,w,-v*Math.PI/2,h>0?0:Math.PI,g),t.lineTo(c+r,u-v*E+a),E!==0&&t.arc(c-h*E+r,u-v*E+a,E,h>0?0:Math.PI,v>0?Math.PI/2:1.5*Math.PI,g),t.lineTo(h*A+r,u+a),A!==0&&t.arc(h*A+r,u-v*A+a,A,v>0?Math.PI/2:-Math.PI/2,h>0?Math.PI:0,g),t.lineTo(r,v*_+a),_!==0&&t.arc(h*_+r,v*_+a,_,h>0?Math.PI:0,v>0?Math.PI*1.5:Math.PI/2,g)}}var gdt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.name="canvas-path-generator",n}return Ce(e,t),jt(e,[{key:"init",value:function(){var r,i=(r={},Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(r,xt.CIRCLE,cdt),xt.ELLIPSE,udt),xt.RECT,vdt),xt.LINE,fdt),xt.POLYLINE,pdt),xt.POLYGON,hdt),xt.PATH,ddt),xt.TEXT,void 0),xt.GROUP,void 0),xt.IMAGE,void 0),Wt(Wt(Wt(r,xt.HTML,void 0),xt.MESH,void 0),xt.FRAGMENT,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])})(bf);/*!
 * @antv/g-plugin-canvas-picker
 * @description A G plugin for picking in canvas
 * @version 2.1.27
 * @date 7/30/2025, 1:37:32 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var ydt=Ye(),mdt=Ye(),bdt=Ye(),xdt=An(),sF=(function(){function t(){var e=this;Lt(this,t),this.isHit=function(n,r,i,a){var o=e.context.pointInPathPickerFactory[n.nodeName];if(o){var s=Ls(xdt,i),l=Rr(mdt,ra(bdt,r[0],r[1],0),s);if(o(n,new Di(l[0],l[1]),a,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(n,r){var i=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),a=e.context.pathGeneratorFactory[n.nodeName];return a&&(i.beginPath(),a(i,n.parsedStyle),i.closePath()),i.isPointInPath(r.x,r.y)}}return jt(t,[{key:"apply",value:function(n,r){var i,a=this,o=n.renderingService,s=n.renderingContext;this.context=n,this.runtime=r;var l=(i=s.root)===null||i===void 0?void 0:i.ownerDocument;o.hooks.pick.tapPromise(t.tag,(function(){var c=cf(aa().mark(function u(d){return aa().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",a.pick(l,d));case 1:case"end":return h.stop()}},u)}));return function(u){return c.apply(this,arguments)}})()),o.hooks.pickSync.tap(t.tag,function(c){return a.pick(l,c)})}},{key:"pick",value:function(n,r){var i=r.topmost,a=r.position,o=a.x,s=a.y,l=ra(ydt,o,s,0),c=n.elementsFromBBox(l[0],l[1],l[0],l[1]),u=[],d=Zd(c),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,g=v.getWorldTransform(),b=this.isHit(v,l,g,!1);if(b){var x=OB(v);if(x){var _=x.parsedStyle.clipPath,w=this.isHit(_,l,_.getWorldTransform(),!0);if(w){if(i)return r.picked=[v],r;u.push(v)}}else{if(i)return r.picked=[v],r;u.push(v)}}}}catch(E){d.e(E)}finally{d.f()}return r.picked=u,r}}])})();sF.tag="CanvasPicker";function _dt(t,e,n){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,l=r.r,c=r.fill,u=r.stroke,d=r.lineWidth,h=d===void 0?1:d,v=r.increasedLineWidthForHitTesting,g=v===void 0?0:v,b=r.pointerEvents,x=b===void 0?"auto":b,_=(h+g)/2,w=Lc(a,s,e.x,e.y),E=Lh(x,c,u),A=we(E,2),M=A[0],T=A[1];return M&&T||n?w<=l+_:M?w<=l:T?w>=l-_&&w<=l+_:!1}function w_(t,e,n,r){return t/(n*n)+e/(r*r)}function wdt(t,e,n){var r=t.parsedStyle,i=r.cx,a=i===void 0?0:i,o=r.cy,s=o===void 0?0:o,l=r.rx,c=r.ry,u=r.fill,d=r.stroke,h=r.lineWidth,v=h===void 0?1:h,g=r.increasedLineWidthForHitTesting,b=g===void 0?0:g,x=r.pointerEvents,_=x===void 0?"auto":x,w=e.x,E=e.y,A=Lh(_,u,d),M=we(A,2),T=M[0],C=M[1],R=(v+b)/2,j=(w-a)*(w-a),I=(E-s)*(E-s);return T&&C||n?w_(j,I,l+R,c+R)<=1:T?w_(j,I,l,c)<=1:C?w_(j,I,l-R,c-R)>=1&&w_(j,I,l+R,c+R)<=1:!1}function eh(t,e,n,r,i,a){return i>=t&&i<=t+n&&a>=e&&a<=e+r}function Odt(t,e,n,r,i,a,o){var s=i/2;return eh(t-s,e-s,n,i,a,o)||eh(t+n-s,e-s,i,r,a,o)||eh(t+s,e+r-s,n,i,a,o)||eh(t-s,e+s,i,r,a,o)}function O_(t,e,n,r,i,a,o,s){var l=(Math.atan2(s-e,o-t)+Math.PI*2)%(Math.PI*2),c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Lc(c.x,c.y,o,s)<=a/2}function Ju(t,e,n,r,i,a,o){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,r),u=Math.max(e,r),d=i/2;return a>=s-d&&a<=l+d&&o>=c-d&&o<=u+d?gQ(t,e,n,r,a,o)<=i/2:!1}function lF(t,e,n,r,i){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=t[o][0],l=t[o][1],c=t[o+1][0],u=t[o+1][1];if(Ju(s,l,c,u,e,n,r))return!0}if(i){var d=t[0],h=t[a-1];if(Ju(d[0],d[1],h[0],h[1],e,n,r))return!0}return!1}var Sdt=1e-6;function aM(t){return Math.abs(t)<Sdt?0:t<0?-1:1}function Edt(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function cF(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=t[a],s=t[(a+1)%i];if(Edt(o,s,[e,n]))return!0;aM(o[1]-n)>0!=aM(s[1]-n)>0&&aM(e-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}function SN(t,e,n){for(var r=!1,i=0;i<t.length;i++){var a=t[i];if(r=cF(a,e,n),r)break}return r}function Adt(t,e,n){var r=t.parsedStyle,i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.lineWidth,c=l===void 0?1:l,u=r.increasedLineWidthForHitTesting,d=u===void 0?0:u,h=r.pointerEvents,v=h===void 0?"auto":h,g=r.fill,b=r.stroke,x=Lh(v,g,b),_=we(x,2),w=_[1];return!w&&!n||!c?!1:Ju(i,a,o,s,c+d,e.x,e.y)}function Mdt(t,e,n,r,i){for(var a=!1,o=e/2,s=0;s<t.length;s++){var l=t[s],c=l.currentPoint,u=l.params,d=l.prePoint,h=l.box;if(!(h&&!eh(h.x-o,h.y-o,h.width+e,h.height+e,n,r)))switch(l.command){case"L":case"Z":if(a=Ju(d[0],d[1],c[0],c[1],e,n,r),a)return!0;break;case"Q":var v=OQ(d[0],d[1],u[1],u[2],u[3],u[4],n,r);if(a=v<=e/2,a)return!0;break;case"C":var g=TP(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i);if(a=g<=e/2,a)return!0;break;case"A":l.cubicParams||(l.cubicParams=AC(d[0],d[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var b=l.cubicParams,x=d,_=0;_<b.length;_+=6){var w=TP(x[0],x[1],b[_],b[_+1],b[_+2],b[_+3],b[_+4],b[_+5],n,r,i);if(x=[b[_+4],b[_+5]],a=w<=e/2,a)return!0}break}}return a}function Tdt(t,e,n,r,i,a){var o=t.parsedStyle,s=o.lineWidth,l=s===void 0?1:s,c=o.increasedLineWidthForHitTesting,u=c===void 0?0:c,d=o.stroke,h=o.fill,v=o.d,g=o.pointerEvents,b=g===void 0?"auto":g,x=v.segments,_=v.hasArc,w=v.polylines,E=v.polygons,A=Lh(b,E?.length&&h,d),M=we(A,2),T=M[0],C=M[1],R=NT(t),j=!1;return T||n?(_?j=r(t,e):j=SN(E,e.x,e.y)||SN(w,e.x,e.y),j):((C||n)&&(j=Mdt(x,l+u,e.x,e.y,R)),j)}function kdt(t,e,n){var r=t.parsedStyle,i=r.stroke,a=r.fill,o=r.lineWidth,s=o===void 0?1:o,l=r.increasedLineWidthForHitTesting,c=l===void 0?0:l,u=r.points,d=r.pointerEvents,h=d===void 0?"auto":d,v=Lh(h,a,i),g=we(v,2),b=g[0],x=g[1],_=!1;return(x||n)&&(_=lF(u.points,s+c,e.x,e.y,!0)),!_&&(b||n)&&(_=cF(u.points,e.x,e.y)),_}function Cdt(t,e,n){var r=t.parsedStyle,i=r.lineWidth,a=i===void 0?1:i,o=r.increasedLineWidthForHitTesting,s=o===void 0?0:o,l=r.points,c=r.pointerEvents,u=c===void 0?"auto":c,d=r.fill,h=r.stroke,v=Lh(u,d,h),g=we(v,2),b=g[1];return!b&&!n||!a?!1:lF(l.points,a+s,e.x,e.y,!1)}function Rdt(t,e,n,r,i){var a=t.parsedStyle,o=a.radius,s=a.fill,l=a.stroke,c=a.lineWidth,u=c===void 0?1:c,d=a.increasedLineWidthForHitTesting,h=d===void 0?0:d,v=a.x,g=v===void 0?0:v,b=a.y,x=b===void 0?0:b,_=a.width,w=a.height,E=a.pointerEvents,A=E===void 0?"auto":E,M=Lh(A,s,l),T=we(M,2),C=T[0],R=T[1],j=o&&o.some(function($){return $!==0}),I=u+h;if(j){var B=!1;return(R||n)&&(B=Pdt(g,x,_,w,o.map(function($){return jr($,0,Math.min(Math.abs(_)/2,Math.abs(w)/2))}),I,e.x,e.y)),!B&&(C||n)&&(B=r(t,e)),B}else{var D=I/2;if(C&&R||n)return eh(g-D,x-D,_+D,w+D,e.x,e.y);if(C)return eh(g,x,_,w,e.x,e.y);if(R)return Odt(g,x,_,w,I,e.x,e.y)}return!1}function Pdt(t,e,n,r,i,a,o,s){var l=we(i,4),c=l[0],u=l[1],d=l[2],h=l[3];return Ju(t+c,e,t+n-u,e,a,o,s)||Ju(t+n,e+u,t+n,e+r-d,a,o,s)||Ju(t+n-d,e+r,t+h,e+r,a,o,s)||Ju(t,e+r-h,t,e+c,a,o,s)||O_(t+n-u,e+u,u,1.5*Math.PI,2*Math.PI,a,o,s)||O_(t+n-d,e+r-d,d,0,.5*Math.PI,a,o,s)||O_(t+h,e+r-h,h,.5*Math.PI,Math.PI,a,o,s)||O_(t+c,e+c,c,Math.PI,1.5*Math.PI,a,o,s)}function jdt(t,e,n,r,i,a){var o=t.parsedStyle,s=o.pointerEvents,l=s===void 0?"auto":s,c=o.x,u=c===void 0?0:c,d=o.y,h=d===void 0?0:d,v=o.width,g=o.height;if(l==="non-transparent-pixel"){var b=i.config.offscreenCanvas,x=a.offscreenCanvasCreator.getOrCreateCanvas(b),_=a.offscreenCanvasCreator.getOrCreateContext(b,{willReadFrequently:!0});x.width=v,x.height=g,i.defaultStyleRendererFactory[xt.IMAGE].render(_,Te(Te({},t.parsedStyle),{},{x:0,y:0}),t,void 0,void 0,void 0);var w=_.getImageData(e.x-u,e.y-h,1,1).data;return w.every(function(E){return E!==0})}return!0}function Ldt(t,e,n,r){var i=t.getGeometryBounds();return e.x>=i.min[0]&&e.y>=i.min[1]&&e.x<=i.max[0]&&e.y<=i.max[1]}var Ndt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.name="canvas-picker",n}return Ce(e,t),jt(e,[{key:"init",value:function(){var r,i=(r={},Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(r,xt.CIRCLE,_dt),xt.ELLIPSE,wdt),xt.RECT,Rdt),xt.LINE,Adt),xt.POLYLINE,Cdt),xt.POLYGON,kdt),xt.PATH,Tdt),xt.TEXT,Ldt),xt.GROUP,null),xt.IMAGE,jdt),Wt(Wt(r,xt.HTML,null),xt.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new sF)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])})(bf);function Sl(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Ddt=0;function Idt(t){return"__private_"+Ddt+++"_"+t}/*!
 * @antv/g-plugin-image-loader
 * @description A G plugin for loading image
 * @version 2.1.26
 * @date 7/30/2025, 1:35:52 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Bdt=(function(){function t(){Lt(this,t),this.cacheStore=new Map}return jt(t,[{key:"onRefAdded",value:function(n){}},{key:"has",value:function(n){return this.cacheStore.has(n)}},{key:"put",value:function(n,r,i){return this.cacheStore.has(n)?!1:(this.cacheStore.set(n,{value:r,counter:new Set([i.entity])}),this.onRefAdded(i),!0)}},{key:"get",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.has(r.entity)||(i.counter.add(r.entity),this.onRefAdded(r)),i.value):null}},{key:"update",value:function(n,r,i){var a=this.cacheStore.get(n);return a?(a.value=Te(Te({},a.value),r),a.counter.has(i.entity)||(a.counter.add(i.entity),this.onRefAdded(i)),!0):!1}},{key:"release",value:function(n,r){var i=this.cacheStore.get(n);return i?(i.counter.delete(r.entity),i.counter.size<=0&&this.cacheStore.delete(n),!0):!1}},{key:"releaseRef",value:function(n){var r=this;Array.from(this.cacheStore.keys()).forEach(function(i){r.release(i,n)})}},{key:"getSize",value:function(){return this.cacheStore.size}},{key:"clear",value:function(){this.cacheStore.clear()}}])})(),oM=[],sM=[],sk=(function(){function t(){Lt(this,t)}return jt(t,null,[{key:"stop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;t.rafId&&(n.cancelAnimationFrame(t.rafId),t.rafId=null)}},{key:"executeTask",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.api;oM.length<=0&&sM.length<=0||(sM.forEach(function(r){return r()}),sM=oM.splice(0,t.TASK_NUM_PER_FRAME),t.rafId=n.requestAnimationFrame(function(){t.executeTask(n)}))}},{key:"sliceImage",value:function(n,r,i,a){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t.api,l=n.naturalWidth||n.width,c=n.naturalHeight||n.height,u=r-o,d=i-o,h=Math.ceil(l/u),v=Math.ceil(c/d),g={tileSize:[r,i],gridSize:[v,h],tiles:Array(v).fill(null).map(function(){return Array(h).fill(null)})},b=function(w){for(var E=function(T){oM.push(function(){var C=T*u,R=w*d,j=[Math.min(r,l-C),Math.min(i,c-R)],I=j[0],D=j[1],B=s.createCanvas();B.width=r,B.height=i;var $=B.getContext("2d");$.drawImage(n,C,R,I,D,0,0,I,D),g.tiles[w][T]={x:C,y:R,tileX:T,tileY:w,data:B},a()})},A=0;A<h;A++)E(A)},x=0;x<v;x++)b(x);return t.stop(),t.executeTask(),g}}])})();sk.TASK_NUM_PER_FRAME=10;var yo=new Bdt;yo.onRefAdded=function(e){var n=this;e.addEventListener(Ne.DESTROY,function(){n.releaseRef(e)},{once:!0})};var n3=(function(){function t(e,n){Lt(this,t),this.gradientCache={},this.patternCache={},this.context=e,this.runtime=n}return jt(t,[{key:"getImageSync",value:function(n,r,i){var a=tr(n)?n:n.src;if(yo.has(a)){var o=yo.get(a,r);if(o.img.complete)return i?.(o),o}return this.getOrCreateImage(n,r).then(function(s){i?.(s)}).catch(function(s){console.error(s)}),null}},{key:"getOrCreateImage",value:function(n,r){var i=this,a=tr(n)?n:n.src;if(!tr(n)&&!yo.has(a)){var o={img:n,size:[n.naturalWidth||n.width,n.naturalHeight||n.height],tileSize:S_(n)};yo.put(a,o,r)}if(yo.has(a)){var s=yo.get(a,r);return s.img.complete?Promise.resolve(s):new Promise(function(l,c){s.img.addEventListener("load",function(){s.size=[s.img.naturalWidth||s.img.width,s.img.naturalHeight||s.img.height],s.tileSize=S_(s.img),l(s)}),s.img.addEventListener("error",function(u){c(u)})})}return new Promise(function(l,c){var u=i.context.config.createImage();if(u){var d={img:u,size:[0,0],tileSize:S_(u)};yo.put(a,d,r),u.onload=function(){d.size=[u.naturalWidth||u.width,u.naturalHeight||u.height],d.tileSize=S_(d.img),l(d)},u.onerror=function(h){c(h)},u.crossOrigin="Anonymous",u.src=a}})}},{key:"createDownSampledImage",value:(function(){var e=cf(aa().mark(function r(i,a){var o,s,l,c,u,d,h,v,g,b,x,_,w,E;return aa().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=1,this.getOrCreateImage(i,a);case 1:if(o=A.sent,!(typeof o.downSamplingRate<"u")){A.next=2;break}return A.abrupt("return",o);case 2:if(s=this.context.config.enableLargeImageOptimization,l=typeof s=="boolean"?{}:s,c=l.maxDownSampledImageSize,u=c===void 0?2048:c,d=l.downSamplingRateThreshold,h=d===void 0?.5:d,v=this.runtime.globalThis.createImageBitmap,g=we(o.size,2),b=g[0],x=g[1],_=o.img,w=Math.min((u+u)/(b+x),Math.max(.01,Math.min(h,.5))),E=Te(Te({},o),{},{downSamplingRate:w}),yo.update(o.img.src,E,a),!v){A.next=7;break}return A.prev=3,A.next=4,v(o.img,{resizeWidth:b*w,resizeHeight:x*w});case 4:_=A.sent,A.next=6;break;case 5:A.prev=5,A.catch(3),w=1;case 6:A.next=8;break;case 7:w=1;case 8:return E=Te(Te({},this.getImageSync(i,a)),{},{downSampled:_,downSamplingRate:w}),yo.update(o.img.src,E,a),A.abrupt("return",E);case 9:case"end":return A.stop()}},r,this,[[3,5]])}));function n(r,i){return e.apply(this,arguments)}return n})()},{key:"createImageTiles",value:(function(){var e=cf(aa().mark(function r(i,a,o,s){var l,c,u,d,h;return aa().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=1,this.getOrCreateImage(i,s);case 1:return l=v.sent,c=s.ownerDocument.defaultView,u=c.requestAnimationFrame,d=c.cancelAnimationFrame,sk.api={requestAnimationFrame:u,cancelAnimationFrame:d,createCanvas:function(){return l5.createCanvas()}},h=Te(Te({},l),sk.sliceImage(l.img,l.tileSize[0],l.tileSize[0],o)),yo.update(l.img.src,h,s),v.abrupt("return",h);case 2:case"end":return v.stop()}},r,this)}));function n(r,i,a,o){return e.apply(this,arguments)}return n})()},{key:"releaseImage",value:function(n,r){yo.release(tr(n)?n:n.src,r)}},{key:"releaseImageRef",value:function(n){yo.releaseRef(n)}},{key:"getOrCreatePatternSync",value:function(n,r,i,a,o,s,l){var c=this.generatePatternKey(r);if(c&&this.patternCache[c])return this.patternCache[c];var u=r.image,d=r.repetition,h=r.transform,v,g=!1;if(tr(u)){var b=this.getImageSync(u,n,l);v=b?.img}else a?(v=a,g=!0):v=u;var x=v&&i.createPattern(v,d);if(x){var _;h?_=TB(bB(h),new ir({})):_=uf(An()),g&&B6(_,_,[1/o,1/o,1]),x.setTransform({a:_[0],b:_[1],c:_[4],d:_[5],e:_[12]+s[0],f:_[13]+s[1]})}return c&&x&&(this.patternCache[c]=x),x}},{key:"getOrCreateGradient",value:function(n,r){var i=this.generateGradientKey(n),a=n.type,o=n.steps,s=n.min,l=n.width,c=n.height,u=n.angle,d=n.cx,h=n.cy,v=n.size;if(this.gradientCache[i])return this.gradientCache[i];var g=null;if(a===Zu.LinearGradient){var b=xJ(s,l,c,u),x=b.x1,_=b.y1,w=b.x2,E=b.y2;g=r.createLinearGradient(x,_,w,E)}else if(a===Zu.RadialGradient){var A=_J(s,l,c,d,h,v),M=A.x,T=A.y,C=A.r;g=r.createRadialGradient(M,T,0,M,T,C)}return g&&(o.forEach(function(R){var j=R.offset,I=R.color;if(j.unit===Ht.kPercentage){var D;(D=g)===null||D===void 0||D.addColorStop(j.value/100,I.toString())}}),this.gradientCache[i]=g),this.gradientCache[i]}},{key:"generateGradientKey",value:function(n){var r=n.type,i=n.min,a=n.width,o=n.height,s=n.steps,l=n.angle,c=n.cx,u=n.cy,d=n.size;return"gradient-".concat(r,"-").concat(l?.toString()||0,"-").concat(c?.toString()||0,"-").concat(u?.toString()||0,"-").concat(d?.toString()||0,"-").concat(i[0],"-").concat(i[1],"-").concat(a,"-").concat(o,"-").concat(s.map(function(h){var v=h.offset,g=h.color;return"".concat(v).concat(g)}).join("-"))}},{key:"generatePatternKey",value:function(n){var r=n.image,i=n.repetition;if(tr(r))return"pattern-".concat(r,"-").concat(i);if(r.nodeName==="rect")return"pattern-".concat(r.entity,"-").concat(i)}}])})();n3.isSupportTile=!!l5.createCanvas();function S_(t){if(!t.complete)return[0,0];var e=t.naturalWidth||t.width,n=t.naturalHeight||t.height,r=256;return[256,512].forEach(function(i){var a=Math.ceil(n/i),o=Math.ceil(e/i);a*o<1e3&&(r=i)}),[r,r]}var uF=(function(){function t(){Lt(this,t)}return jt(t,[{key:"apply",value:function(n){var r=n.renderingService,i=n.renderingContext,a=n.imagePool,o=i.root.ownerDocument.defaultView,s=function(d,h,v){var g=d.parsedStyle,b=g.width,x=g.height;b&&!x?d.setAttribute("height",v/h*b):!b&&x&&d.setAttribute("width",h/v*x)},l=function(d){var h=d.target,v=h.nodeName,g=h.attributes;if(v===xt.IMAGE){var b=g.src,x=g.keepAspectRatio;a.getImageSync(b,h,function(_){var w=_.img,E=w.width,A=w.height;x&&s(h,E,A),h.renderable.dirty=!0,r.dirtify()})}},c=function(d){var h=d.target,v=d.attrName,g=d.prevValue,b=d.newValue;h.nodeName!==xt.IMAGE||v!=="src"||(g!==b&&a.releaseImage(g,h),tr(b)&&a.getOrCreateImage(b,h).then(function(x){var _=x.img,w=_.width,E=_.height;h.attributes.keepAspectRatio&&s(h,w,E),h.renderable.dirty=!0,r.dirtify()}).catch(function(){}))};r.hooks.init.tap(t.tag,function(){o.addEventListener(Ne.MOUNTED,l),o.addEventListener(Ne.ATTR_MODIFIED,c)}),r.hooks.destroy.tap(t.tag,function(){o.removeEventListener(Ne.MOUNTED,l),o.removeEventListener(Ne.ATTR_MODIFIED,c)})}}])})();uF.tag="LoadImage";var $dt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.name="image-loader",n}return Ce(e,t),jt(e,[{key:"init",value:function(r){this.context.imagePool=new n3(this.context,r),this.addRenderingPlugin(new uF)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(bf);/*!
 * @antv/g-plugin-canvas-renderer
 * @description A G plugin of renderer implementation with Canvas2D API
 * @version 2.3.3
 * @date 7/30/2025, 1:36:40 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Xr=Idt("renderState"),fF=(function(){function t(e){Lt(this,t),this.removedRBushNodeAABBs=[],this.renderQueue=[],Object.defineProperty(this,Xr,{writable:!0,value:{restoreStack:[],prevObject:null,currentContext:new Map}}),this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=An(),this.dprMatrix=An(),this.tmpMat4=An(),this.vec3a=Ye(),this.vec3b=Ye(),this.vec3c=Ye(),this.vec3d=Ye(),this.canvasRendererPluginOptions=e}return jt(t,[{key:"apply",value:function(n,r){var i=this;this.context=n;var a=this.context,o=a.config,s=a.camera,l=a.renderingService,c=a.renderingContext,u=a.rBushRoot,d=a.pathGeneratorFactory,h=o.renderer.getConfig().enableRenderingOptimization;o.renderer.getConfig().enableDirtyCheck=!1,o.renderer.getConfig().enableDirtyRectangleRendering=!1,this.rBush=u,this.pathGeneratorFactory=d;var v=n.contextService,g=c.root.ownerDocument.defaultView,b=function(A){var M=A.target,T=M.rBushNode;T!=null&&T.aabb&&i.removedRBushNodeAABBs.push(T.aabb)},x=function(A){var M=A.target,T=M.rBushNode;T.aabb&&i.removedRBushNodeAABBs.push(T.aabb)};l.hooks.init.tap(t.tag,function(){g.addEventListener(Ne.UNMOUNTED,b),g.addEventListener(Ne.CULLED,x);var E=v.getDPR(),A=o.width,M=o.height,T=v.getContext();i.clearRect(T,0,0,A*E,M*E,o.background)}),l.hooks.destroy.tap(t.tag,function(){g.removeEventListener(Ne.UNMOUNTED,b),g.removeEventListener(Ne.CULLED,x),i.renderQueue=[],i.removedRBushNodeAABBs=[],Sl(i,Xr)[Xr]={restoreStack:[],prevObject:null,currentContext:null}});var _=function(){var A,M=v.getContext(),T=v.getDPR(),C=o.width,R=o.height,j=i.canvasRendererPluginOptions,I=j.dirtyObjectNumThreshold,D=j.dirtyObjectRatioThreshold,B=l.getStats(),$=B.total,U=B.rendered,G=U/$;i.clearFullScreen=i.clearFullScreenLastFrame||!((A=g.context.renderingPlugins[1])!==null&&A!==void 0&&A.isFirstTimeRenderingFinished)||l.disableDirtyRectangleRendering()||U>I&&G>D,M&&(typeof M.resetTransform=="function"?M.resetTransform():M.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(M,0,0,C*T,R*T,o.background))},w=function(A,M){for(var T=[A];T.length>0;){var C,R=T.pop();R.isVisible()&&!R.isCulled()&&(h?i.renderDisplayObjectOptimized(R,M,i.context,Sl(i,Xr)[Xr],r):i.renderDisplayObject(R,M,i.context,Sl(i,Xr)[Xr],r));for(var j=((C=R.sortable)===null||C===void 0||(C=C.sorted)===null||C===void 0?void 0:C.length)>0?R.sortable.sorted:R.childNodes,I=j.length-1;I>=0;I--)T.push(j[I])}};l.hooks.endFrame.tap(t.tag,function(){if(_(),c.root.childNodes.length===0){i.clearFullScreenLastFrame=!0;return}h=o.renderer.getConfig().enableRenderingOptimization,Sl(i,Xr)[Xr]={restoreStack:[],prevObject:null,currentContext:Sl(i,Xr)[Xr].currentContext},Sl(i,Xr)[Xr].currentContext.clear(),i.clearFullScreenLastFrame=!1;var E=v.getContext(),A=v.getDPR();if(Wu(i.dprMatrix,[A,A,1]),oa(i.vpMatrix,i.dprMatrix,s.getOrthoMatrix()),i.clearFullScreen)h?(E.save(),w(c.root,E),E.restore()):w(c.root,E),i.removedRBushNodeAABBs=[];else{var M=i.safeMergeAABB.apply(i,[i.mergeDirtyAABBs(i.renderQueue)].concat(He(i.removedRBushNodeAABBs.map(function(ft){var mt=ft.minX,ct=ft.minY,St=ft.maxX,Mt=ft.maxY,It=new Kr;return It.setMinMax([mt,ct,0],[St,Mt,0]),It}))));if(i.removedRBushNodeAABBs=[],Kr.isEmpty(M)){i.renderQueue=[];return}var T=i.convertAABB2Rect(M),C=T.x,R=T.y,j=T.width,I=T.height,D=Rr(i.vec3a,[C,R,0],i.vpMatrix),B=Rr(i.vec3b,[C+j,R,0],i.vpMatrix),$=Rr(i.vec3c,[C,R+I,0],i.vpMatrix),U=Rr(i.vec3d,[C+j,R+I,0],i.vpMatrix),G=Math.min(D[0],B[0],U[0],$[0]),F=Math.min(D[1],B[1],U[1],$[1]),H=Math.max(D[0],B[0],U[0],$[0]),Y=Math.max(D[1],B[1],U[1],$[1]),W=Math.floor(G),V=Math.floor(F),J=Math.ceil(H-G),tt=Math.ceil(Y-F);E.save(),i.clearRect(E,W,V,J,tt,o.background),E.beginPath(),E.rect(W,V,J,tt),E.clip(),E.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]);var nt=o.renderer.getConfig(),lt=nt.enableDirtyRectangleRenderingDebug;lt&&g.dispatchEvent(new Gn(Wo.DIRTY_RECTANGLE,{dirtyRect:{x:W,y:V,width:J,height:tt}}));var at=i.searchDirtyObjects(M);at.sort(function(ft,mt){return ft.sortable.renderOrder-mt.sortable.renderOrder}).forEach(function(ft){ft&&ft.isVisible()&&!ft.isCulled()&&i.renderDisplayObject(ft,E,i.context,Sl(i,Xr)[Xr],r)}),E.restore(),i.renderQueue.forEach(function(ft){i.saveDirtyAABB(ft)}),i.renderQueue=[]}Sl(i,Xr)[Xr].restoreStack.forEach(function(){E.restore()}),Sl(i,Xr)[Xr].restoreStack=[]}),l.hooks.render.tap(t.tag,function(E){i.clearFullScreen||i.renderQueue.push(E)})}},{key:"clearRect",value:function(n,r,i,a,o,s){n.clearRect(r,i,a,o),s&&(n.fillStyle=s,n.fillRect(r,i,a,o))}},{key:"renderDisplayObjectOptimized",value:function(n,r,i,a,o){var s=n.nodeName,l=!1,c=!1,u=this.context.styleRendererFactory[s],d=this.pathGeneratorFactory[s],h=n.parsedStyle.clipPath;if(h){l=!a.prevObject||!uT(h.getWorldTransform(),a.prevObject.getWorldTransform()),l&&(this.applyWorldTransform(r,h),a.prevObject=null);var v=this.pathGeneratorFactory[h.nodeName];v&&(r.save(),c=!0,r.beginPath(),v(r,h.parsedStyle),r.closePath(),r.clip())}if(u){l=!a.prevObject||!uT(n.getWorldTransform(),a.prevObject.getWorldTransform()),l&&this.applyWorldTransform(r,n);var g=!a.prevObject;if(!g){var b=a.prevObject.nodeName;s===xt.TEXT?g=b!==xt.TEXT:s===xt.IMAGE?g=b!==xt.IMAGE:g=b===xt.TEXT||b===xt.IMAGE}u.applyStyleToContext(r,n,g,a),a.prevObject=n}d&&(r.beginPath(),d(r,n.parsedStyle),s!==xt.LINE&&s!==xt.PATH&&s!==xt.POLYLINE&&r.closePath()),u&&u.drawToContext(r,n,Sl(this,Xr)[Xr],this,o),c&&r.restore(),n.dirty(!1)}},{key:"renderDisplayObject",value:function(n,r,i,a,o){var s=n.nodeName,l=a.restoreStack[a.restoreStack.length-1];l&&!(n.compareDocumentPosition(l)&wr.DOCUMENT_POSITION_CONTAINS)&&(r.restore(),a.restoreStack.pop());var c=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],d=n.parsedStyle.clipPath;if(d){this.applyWorldTransform(r,d);var h=this.pathGeneratorFactory[d.nodeName];h&&(r.save(),a.restoreStack.push(n),r.beginPath(),h(r,d.parsedStyle),r.closePath(),r.clip())}c&&(this.applyWorldTransform(r,n),r.save(),this.applyAttributesToContext(r,n)),u&&(r.beginPath(),u(r,n.parsedStyle),s!==xt.LINE&&s!==xt.PATH&&s!==xt.POLYLINE&&r.closePath()),c&&(c.render(r,n.parsedStyle,n,i,this,o),r.restore()),n.dirty(!1)}},{key:"applyAttributesToContext",value:function(n,r){var i=r.parsedStyle,a=i.stroke,o=i.fill,s=i.opacity,l=i.lineDash,c=i.lineDashOffset;l&&n.setLineDash(l),ue(c)||(n.lineDashOffset=c),ue(s)||(n.globalAlpha*=s),!ue(a)&&!Array.isArray(a)&&!a.isNone&&(n.strokeStyle=r.attributes.stroke),!ue(o)&&!Array.isArray(o)&&!o.isNone&&(n.fillStyle=r.attributes.fill)}},{key:"convertAABB2Rect",value:function(n){var r=n.getMin(),i=n.getMax(),a=Math.floor(r[0]),o=Math.floor(r[1]),s=Math.ceil(i[0]),l=Math.ceil(i[1]),c=s-a,u=l-o;return{x:a,y:o,width:c,height:u}}},{key:"mergeDirtyAABBs",value:function(n){var r=new Kr;return n.forEach(function(i){var a=i.getRenderBounds();r.add(a);var o=i.renderable.dirtyRenderBounds;o&&r.add(o)}),r}},{key:"searchDirtyObjects",value:function(n){var r=n.getMin(),i=we(r,2),a=i[0],o=i[1],s=n.getMax(),l=we(s,2),c=l[0],u=l[1],d=this.rBush.search({minX:a,minY:o,maxX:c,maxY:u});return d.map(function(h){var v=h.displayObject;return v})}},{key:"saveDirtyAABB",value:function(n){var r=n.renderable;r.dirtyRenderBounds||(r.dirtyRenderBounds=new Kr);var i=n.getRenderBounds();i&&r.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyWorldTransform",value:function(n,r,i){i?(tg(this.tmpMat4,r.getLocalTransform()),oa(this.tmpMat4,i,this.tmpMat4),oa(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(tg(this.tmpMat4,r.getWorldTransform()),oa(this.tmpMat4,this.vpMatrix,this.tmpMat4)),n.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var n=new Kr,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.forEach(function(o){n.add(o)}),n}}])})();fF.tag="CanvasRenderer";function Zw(t,e,n,r,i,a,o){var s,l;if(t.image.nodeName==="rect"){var c=t.image.parsedStyle,u=c.width,d=c.height;l=r.contextService.getDPR();var h=r.config.offscreenCanvas;s=a.offscreenCanvasCreator.getOrCreateCanvas(h),s.width=u*l,s.height=d*l;var v=a.offscreenCanvasCreator.getOrCreateContext(h),g={restoreStack:[],prevObject:null,currentContext:new Map};t.image.forEach(function(x){i.renderDisplayObject(x,v,r,g,a)}),g.restoreStack.forEach(function(){v.restore()})}var b=o.getOrCreatePatternSync(e,t,n,s,l,e.getGeometryBounds().min,function(){e.dirty(),r.renderingService.dirtify()});return b}function Qw(t,e,n,r){var i;if(t.type===Zu.LinearGradient||t.type===Zu.RadialGradient){var a=e.getGeometryBounds(),o=a&&a.halfExtents[0]*2||1,s=a&&a.halfExtents[1]*2||1,l=a&&a.min||[0,0];i=r.getOrCreateGradient(Te(Te({type:t.type},t.value),{},{min:l,width:o,height:s}),n)}return i}var E_=["shadowBlur","shadowOffsetX","shadowOffsetY"],EN=["lineCap","lineJoin","miterLimit"],si={globalAlpha:1,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",filter:"none",globalCompositeOperation:"source-over",strokeStyle:"#000",strokeOpacity:1,lineWidth:1,lineDash:[],lineDashOffset:0,lineCap:"butt",lineJoin:"miter",miterLimit:10,fillStyle:"#000",fillOpacity:1},AN={};function Ar(t,e,n,r){var i=r.has(e)?r.get(e):si[e];return i!==n&&(e==="lineDash"?t.setLineDash(n):t[e]=n,r.set(e,n)),i}var zdt=(function(){function t(e){Lt(this,t),this.imagePool=e}return jt(t,[{key:"applyAttributesToContext",value:function(n,r){}},{key:"render",value:function(n,r,i,a,o,s){}},{key:"applyCommonStyleToContext",value:function(n,r,i,a){var o=i?AN:a.prevObject.parsedStyle,s=r.parsedStyle;(i||s.opacity!==o.opacity)&&Ar(n,"globalAlpha",ue(s.opacity)?si.globalAlpha:s.opacity,a.currentContext),(i||s.blend!==o.blend)&&Ar(n,"globalCompositeOperation",ue(s.blend)?si.globalCompositeOperation:s.blend,a.currentContext)}},{key:"applyStrokeFillStyleToContext",value:function(n,r,i,a){var o=i?AN:a.prevObject.parsedStyle,s=r.parsedStyle,l=s.lineWidth,c=l===void 0?si.lineWidth:l,u=s.fill&&!s.fill.isNone,d=s.stroke&&!s.stroke.isNone&&c>0;if(d){if(i||r.attributes.stroke!==a.prevObject.attributes.stroke){var h=!ue(s.stroke)&&!Array.isArray(s.stroke)&&!s.stroke.isNone?r.attributes.stroke:si.strokeStyle;Ar(n,"strokeStyle",h,a.currentContext)}(i||s.lineWidth!==o.lineWidth)&&Ar(n,"lineWidth",ue(s.lineWidth)?si.lineWidth:s.lineWidth,a.currentContext),(i||s.lineDash!==o.lineDash)&&Ar(n,"lineDash",s.lineDash||si.lineDash,a.currentContext),(i||s.lineDashOffset!==o.lineDashOffset)&&Ar(n,"lineDashOffset",ue(s.lineDashOffset)?si.lineDashOffset:s.lineDashOffset,a.currentContext);for(var v=0;v<EN.length;v++){var g=EN[v];(i||s[g]!==o[g])&&Ar(n,g,ue(s[g])?si[g]:s[g],a.currentContext)}}if(u&&(i||r.attributes.fill!==a.prevObject.attributes.fill)){var b=!ue(s.fill)&&!Array.isArray(s.fill)&&!s.fill.isNone?r.attributes.fill:si.fillStyle;Ar(n,"fillStyle",b,a.currentContext)}}},{key:"applyStyleToContext",value:function(n,r,i,a){var o=r.nodeName;this.applyCommonStyleToContext(n,r,i,a),o===xt.IMAGE||this.applyStrokeFillStyleToContext(n,r,i,a)}},{key:"applyShadowAndFilterStyleToContext",value:function(n,r,i,a){var o=r.parsedStyle;if(i){Ar(n,"shadowColor",o.shadowColor.toString(),a.currentContext);for(var s=0;s<E_.length;s++){var l=E_[s];Ar(n,l,o[l]||si[l],a.currentContext)}}o.filter&&o.filter.length&&Ar(n,"filter",r.attributes.filter,a.currentContext)}},{key:"clearShadowAndFilterStyleForContext",value:function(n,r,i,a){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r){Ar(n,"shadowColor",si.shadowColor,a.currentContext);for(var s=0;s<E_.length;s++){var l=E_[s];Ar(n,l,si[l],a.currentContext)}}if(i)if(r&&o){var c=n.filter;!ue(c)&&c.indexOf("drop-shadow")>-1&&Ar(n,"filter",c.replace(/drop-shadow\([^)]*\)/,"").trim()||si.filter,a.currentContext)}else Ar(n,"filter",si.filter,a.currentContext)}},{key:"fillToContext",value:function(n,r,i,a,o){var s=this,l=r.parsedStyle,c=l.fill,u=l.fillRule,d=null;if(Array.isArray(c)&&c.length>0)c.forEach(function(v){var g=Ar(n,"fillStyle",Qw(v,r,n,s.imagePool),i.currentContext);d=d??g,u?n.fill(u):n.fill()});else{if(xh(c)){var h=Zw(c,r,n,r.ownerDocument.defaultView.context,a,o,this.imagePool);h&&(n.fillStyle=h,d=!0)}u?n.fill(u):n.fill()}d!==null&&Ar(n,"fillStyle",d,i.currentContext)}},{key:"strokeToContext",value:function(n,r,i,a,o){var s=this,l=r.parsedStyle.stroke,c=null;if(Array.isArray(l)&&l.length>0)l.forEach(function(h){var v=Ar(n,"strokeStyle",Qw(h,r,n,s.imagePool),i.currentContext);c=c??v,n.stroke()});else{if(xh(l)){var u=Zw(l,r,n,r.ownerDocument.defaultView.context,a,o,this.imagePool);if(u){var d=Ar(n,"strokeStyle",u,i.currentContext);c=c??d}}n.stroke()}c!==null&&Ar(n,"strokeStyle",c,i.currentContext)}},{key:"drawToContext",value:function(n,r,i,a,o){var s,l=r.nodeName,c=r.parsedStyle,u=c.opacity,d=u===void 0?si.globalAlpha:u,h=c.fillOpacity,v=h===void 0?si.fillOpacity:h,g=c.strokeOpacity,b=g===void 0?si.strokeOpacity:g,x=c.lineWidth,_=x===void 0?si.lineWidth:x,w=c.fill&&!c.fill.isNone,E=c.stroke&&!c.stroke.isNone&&_>0;if(!(!w&&!E)){var A=!ue(c.shadowColor)&&c.shadowBlur>0,M=c.shadowType==="inner",T=((s=c.fill)===null||s===void 0?void 0:s.alpha)===0,C=!!(c.filter&&c.filter.length),R=A&&E&&(l===xt.PATH||l===xt.LINE||l===xt.POLYLINE||T||M),j=null;if(w){R||this.applyShadowAndFilterStyleToContext(n,r,A,i);var I=d*v;j=Ar(n,"globalAlpha",I,i.currentContext),this.fillToContext(n,r,i,a,o),R||this.clearShadowAndFilterStyleForContext(n,A,C,i)}if(E){var D=!1,B=d*b,$=Ar(n,"globalAlpha",B,i.currentContext);if(j=w?j:$,R&&(this.applyShadowAndFilterStyleToContext(n,r,A,i),D=!0,M)){var U=n.globalCompositeOperation;n.globalCompositeOperation="source-atop",this.strokeToContext(n,r,i,a,o),n.globalCompositeOperation=U,this.clearShadowAndFilterStyleForContext(n,A,C,i,!0)}this.strokeToContext(n,r,i,a,o),D&&this.clearShadowAndFilterStyleForContext(n,A,C,i)}j!==null&&Ar(n,"globalAlpha",j,i.currentContext)}}}])})(),r3=(function(t){function e(){return Lt(this,e),Re(this,e,arguments)}return Ce(e,t),jt(e,[{key:"render",value:function(r,i,a,o,s,l){var c=i.fill,u=i.fillRule,d=i.opacity,h=d===void 0?1:d,v=i.fillOpacity,g=v===void 0?1:v,b=i.stroke,x=i.strokeOpacity,_=x===void 0?1:x,w=i.lineWidth,E=w===void 0?1:w,A=i.lineCap,M=i.lineJoin,T=i.shadowType,C=i.shadowColor,R=i.shadowBlur,j=i.filter,I=i.miterLimit,D=c&&!c.isNone,B=b&&!b.isNone&&E>0,$=c?.alpha===0,U=!!(j&&j.length),G=!ue(C)&&R>0,F=a.nodeName,H=T==="inner",Y=B&&G&&(F===xt.PATH||F===xt.LINE||F===xt.POLYLINE||$||H);D&&(r.globalAlpha=h*g,Y||Jw(a,r,G),dF(r,a,c,u,o,s,l,this.imagePool),Y||this.clearShadowAndFilter(r,U,G)),B&&(r.globalAlpha=h*_,r.lineWidth=E,ue(I)||(r.miterLimit=I),ue(A)||(r.lineCap=A),ue(M)||(r.lineJoin=M),Y&&(H&&(r.globalCompositeOperation="source-atop"),Jw(a,r,!0),H&&(lk(r,a,b,o,s,l,this.imagePool),r.globalCompositeOperation=si.globalCompositeOperation,this.clearShadowAndFilter(r,U,!0))),lk(r,a,b,o,s,l,this.imagePool))}},{key:"clearShadowAndFilter",value:function(r,i,a){if(a&&(r.shadowColor="transparent",r.shadowBlur=0),i){var o=r.filter;!ue(o)&&o.indexOf("drop-shadow")>-1&&(r.filter=o.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])})(zdt);function Jw(t,e,n){var r=t.parsedStyle,i=r.filter,a=r.shadowColor,o=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=a.toString(),e.shadowBlur=o||0,e.shadowOffsetX=s||0,e.shadowOffsetY=l||0)}function dF(t,e,n,r,i,a,o,s){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;Array.isArray(n)?n.forEach(function(c){t.fillStyle=Qw(c,e,t,s),l||(r?t.fill(r):t.fill())}):(xh(n)&&(t.fillStyle=Zw(n,e,t,i,a,o,s)),l||(r?t.fill(r):t.fill()))}function lk(t,e,n,r,i,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;Array.isArray(n)?n.forEach(function(l){t.strokeStyle=Qw(l,e,t,o),s||t.stroke()}):(xh(n)&&(t.strokeStyle=Zw(n,e,t,r,i,a,o)),s||t.stroke())}function Fdt(t,e){var n=we(t,4),r=n[0],i=n[1],a=n[2],o=n[3],s=we(e,4),l=s[0],c=s[1],u=s[2],d=s[3],h=Math.max(r,l),v=Math.max(i,c),g=Math.min(r+a,l+u),b=Math.min(i+o,c+d);return g<=h||b<=v?null:[h,v,g-h,b-v]}function Udt(t,e){var n=Rr(Ye(),[t[0],t[1],0],e),r=Rr(Ye(),[t[0]+t[2],t[1],0],e),i=Rr(Ye(),[t[0],t[1]+t[3],0],e),a=Rr(Ye(),[t[0]+t[2],t[1]+t[3],0],e);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0])-Math.min(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])-Math.min(n[1],r[1],i[1],a[1])]}var Hdt=(function(t){function e(){return Lt(this,e),Re(this,e,arguments)}return Ce(e,t),jt(e,[{key:"renderDownSampled",value:function(r,i,a,o){var s=o.src,l=o.imageCache;if(!l.downSampled){this.imagePool.createDownSampledImage(s,a).then(function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirtify())}).catch(function(c){console.error(c)});return}r.drawImage(l.downSampled,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}},{key:"renderTile",value:function(r,i,a,o){var s=o.src,l=o.imageCache,c=o.imageRect,u=o.drawRect,d=l.size,h=r.getTransform(),v=h.a,g=h.b,b=h.c,x=h.d,_=h.e,w=h.f;if(r.resetTransform(),!(l!=null&&l.gridSize)){this.imagePool.createImageTiles(s,[],function(){a.ownerDocument&&(a.dirty(),a.ownerDocument.defaultView.context.renderingService.dirtify())},a).catch(function(G){console.error(G)});return}for(var E=[d[0]/c[2],d[1]/c[3]],A=[l.tileSize[0]/E[0],l.tileSize[1]/E[1]],M=[Math.floor((u[0]-c[0])/A[0]),Math.ceil((u[0]+u[2]-c[0])/A[0])],T=M[0],C=M[1],R=[Math.floor((u[1]-c[1])/A[1]),Math.ceil((u[1]+u[3]-c[1])/A[1])],j=R[0],I=R[1],D=j;D<=I;D++)for(var B=T;B<=C;B++){var $=l.tiles[D][B];if($){var U=[Math.floor(c[0]+$.tileX*A[0]),Math.floor(c[1]+$.tileY*A[1]),Math.ceil(A[0]),Math.ceil(A[1])];r.drawImage($.data,U[0],U[1],U[2],U[3])}}r.setTransform(v,g,b,x,_,w)}},{key:"render",value:function(r,i,a){var o=i.x,s=o===void 0?0:o,l=i.y,c=l===void 0?0:l,u=i.width,d=i.height,h=i.src,v=i.shadowColor,g=i.shadowBlur,b=this.imagePool.getImageSync(h,a),x=b?.img,_=u,w=d;if(x){_||(_=x.width),w||(w=x.height);var E=!ue(v)&&g>0;Jw(a,r,E);try{var A=a.ownerDocument.defaultView.getContextService().getDomElement(),M=A.width,T=A.height,C=r.getTransform(),R=C.a,j=C.b,I=C.c,D=C.d,B=C.e,$=C.f,U=N6(R,I,0,0,j,D,0,0,0,0,1,0,B,$,0,1),G=Udt([s,c,_,w],U),F=Fdt([0,0,M,T],G);if(!F)return;if(!a.ownerDocument.defaultView.getConfig().enableLargeImageOptimization){e.renderFull(r,i,a,{image:x,drawRect:[s,c,_,w]});return}var H=G[2]/b.size[0];if(H<(b.downSamplingRate||.5)){this.renderDownSampled(r,i,a,{src:h,imageCache:b,drawRect:[s,c,_,w]});return}if(!n3.isSupportTile){e.renderFull(r,i,a,{image:x,drawRect:[s,c,_,w]});return}this.renderTile(r,i,a,{src:h,imageCache:b,imageRect:G,drawRect:F})}catch{}}}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i)}}],[{key:"renderFull",value:function(r,i,a,o){r.drawImage(o.image,Math.floor(o.drawRect[0]),Math.floor(o.drawRect[1]),Math.ceil(o.drawRect[2]),Math.ceil(o.drawRect[3]))}}])})(r3),Gdt=(function(t){function e(){return Lt(this,e),Re(this,e,arguments)}return Ce(e,t),jt(e,[{key:"render",value:function(r,i,a,o,s,l){a.getBounds();var c=i.lineWidth,u=c===void 0?1:c,d=i.textAlign,h=d===void 0?"start":d,v=i.textBaseline,g=v===void 0?"alphabetic":v,b=i.lineJoin,x=b===void 0?"miter":b,_=i.miterLimit,w=_===void 0?10:_,E=i.letterSpacing,A=E===void 0?0:E,M=i.stroke,T=i.fill,C=i.fillRule,R=i.fillOpacity,j=R===void 0?1:R,I=i.strokeOpacity,D=I===void 0?1:I,B=i.opacity,$=B===void 0?1:B,U=i.metrics,G=i.x,F=G===void 0?0:G,H=i.y,Y=H===void 0?0:H,W=i.dx,V=i.dy,J=i.shadowColor,tt=i.shadowBlur,nt=U.font,lt=U.lines,at=U.height,ft=U.lineHeight,mt=U.lineMetrics;r.font=nt,r.lineWidth=u,r.textAlign=h==="middle"?"center":h;var ct=g;ct==="alphabetic"&&(ct="bottom"),r.lineJoin=x,ue(w)||(r.miterLimit=w);var St=Y;g==="middle"?St+=-at/2-ft/2:g==="bottom"||g==="alphabetic"||g==="ideographic"?St+=-at:(g==="top"||g==="hanging")&&(St+=-ft);var Mt=F+(W||0);St+=V||0,lt.length===1&&(ct==="bottom"?(ct="middle",St-=.5*at):ct==="top"&&(ct="middle",St+=.5*at)),r.textBaseline=ct;var It=!ue(J)&&tt>0;Jw(a,r,It);for(var Nt=0;Nt<lt.length;Nt++){var zt=u/2+Mt;St+=ft,!ue(M)&&!M.isNone&&u&&this.drawLetterSpacing(r,a,lt[Nt],mt[Nt],h,zt,St,A,T,C,j,M,D,$,!0,o,s,l),ue(T)||this.drawLetterSpacing(r,a,lt[Nt],mt[Nt],h,zt,St,A,T,C,j,M,D,$,!1,o,s,l)}}},{key:"drawLetterSpacing",value:function(r,i,a,o,s,l,c,u,d,h,v,g,b,x,_,w,E,A){if(u===0){_?this.strokeText(r,i,a,l,c,g,b,w,E,A):this.fillText(r,i,a,l,c,d,h,v,x,w,E,A);return}var M=r.textAlign;r.textAlign="left";var T=l;s==="center"||s==="middle"?T=l-o.width/2:(s==="right"||s==="end")&&(T=l-o.width);for(var C=Array.from(a),R=r.measureText(a).width,j=0,I=0;I<C.length;++I){var D=C[I];_?this.strokeText(r,i,D,T,c,g,b,w,E,A):this.fillText(r,i,D,T,c,d,h,v,x,w,E,A),j=r.measureText(a.substring(I+1)).width,T+=R-j+u,R=j}r.textAlign=M}},{key:"fillText",value:function(r,i,a,o,s,l,c,u,d,h,v,g){dF(r,i,l,c,h,v,g,this.imagePool,!0);var b,x=!ue(u)&&u!==1;x&&(b=r.globalAlpha,r.globalAlpha=u*d),r.fillText(a,o,s),x&&(r.globalAlpha=b)}},{key:"strokeText",value:function(r,i,a,o,s,l,c,u,d,h){lk(r,i,l,u,d,h,this.imagePool,!0);var v,g=!ue(c)&&c!==1;g&&(v=r.globalAlpha,r.globalAlpha=c),r.strokeText(a,o,s),g&&(r.globalAlpha=v)}},{key:"drawToContext",value:function(r,i,a,o,s){this.render(r,i.parsedStyle,i,i.ownerDocument.defaultView.context,o,s)}}])})(r3),Ydt=(function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lt(this,e),n=Re(this,e),n.name="canvas-renderer",n.options=r,n}return Ce(e,t),jt(e,[{key:"init",value:function(){var r,i=Te({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),a=this.context.imagePool,o=new r3(a),s=(r={},Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(Wt(r,xt.CIRCLE,o),xt.ELLIPSE,o),xt.RECT,o),xt.IMAGE,new Hdt(a)),xt.TEXT,new Gdt(a)),xt.LINE,o),xt.POLYLINE,o),xt.POLYGON,o),xt.PATH,o),xt.GROUP,void 0),Wt(Wt(Wt(r,xt.HTML,void 0),xt.MESH,void 0),xt.FRAGMENT,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new fF(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])})(bf);/*!
 * @antv/g-plugin-dom-interaction
 * @description A G plugin
 * @version 2.1.27
 * @date 7/30/2025, 1:35:38 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var hF=(function(){function t(){Lt(this,t)}return jt(t,[{key:"apply",value:function(n,r){var i=this,a=n.renderingService,o=n.renderingContext,s=n.config;this.context=n;var l=o.root.ownerDocument.defaultView,c=function(R){a.hooks.pointerMove.call(R)},u=function(R){a.hooks.pointerUp.call(R)},d=function(R){a.hooks.pointerDown.call(R)},h=function(R){a.hooks.pointerOver.call(R)},v=function(R){a.hooks.pointerOut.call(R)},g=function(R){a.hooks.pointerCancel.call(R)},b=function(R){a.hooks.pointerWheel.call(R)},x=function(R){a.hooks.click.call(R)},_=function(R){r.globalThis.document.addEventListener("pointermove",c,!0),R.addEventListener("pointerdown",d,!0),R.addEventListener("pointerleave",v,!0),R.addEventListener("pointerover",h,!0),r.globalThis.addEventListener("pointerup",u,!0),r.globalThis.addEventListener("pointercancel",g,!0)},w=function(R){R.addEventListener("touchstart",d,!0),R.addEventListener("touchend",u,!0),R.addEventListener("touchmove",c,!0),R.addEventListener("touchcancel",g,!0)},E=function(R){r.globalThis.document.addEventListener("mousemove",c,!0),R.addEventListener("mousedown",d,!0),R.addEventListener("mouseout",v,!0),R.addEventListener("mouseover",h,!0),r.globalThis.addEventListener("mouseup",u,!0)},A=function(R){r.globalThis.document.removeEventListener("pointermove",c,!0),R.removeEventListener("pointerdown",d,!0),R.removeEventListener("pointerleave",v,!0),R.removeEventListener("pointerover",h,!0),r.globalThis.removeEventListener("pointerup",u,!0),r.globalThis.removeEventListener("pointercancel",g,!0)},M=function(R){R.removeEventListener("touchstart",d,!0),R.removeEventListener("touchend",u,!0),R.removeEventListener("touchmove",c,!0),R.removeEventListener("touchcancel",g,!0)},T=function(R){r.globalThis.document.removeEventListener("mousemove",c,!0),R.removeEventListener("mousedown",d,!0),R.removeEventListener("mouseout",v,!0),R.removeEventListener("mouseover",h,!0),r.globalThis.removeEventListener("mouseup",u,!0)};a.hooks.init.tap(t.tag,function(){var C=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(C.style.msContentZooming="none",C.style.msTouchAction="none"):l.supportsPointerEvents&&(C.style.touchAction="none"),l.supportsPointerEvents?_(C):E(C),l.supportsTouchEvents&&w(C),s.useNativeClickEvent&&C.addEventListener("click",x,!0),C.addEventListener("wheel",b,{passive:!0,capture:!0})}),a.hooks.destroy.tap(t.tag,function(){var C=i.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(C.style.msContentZooming="",C.style.msTouchAction=""):l.supportsPointerEvents&&(C.style.touchAction=""),l.supportsPointerEvents?A(C):T(C),l.supportsTouchEvents&&M(C),s.useNativeClickEvent&&C.removeEventListener("click",x,!0),C.removeEventListener("wheel",b,!0)})}}])})();hF.tag="DOMInteraction";var qdt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.name="dom-interaction",n}return Ce(e,t),jt(e,[{key:"init",value:function(){this.addRenderingPlugin(new hF)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(bf);/*!
 * @antv/g-plugin-html-renderer
 * @description A G plugin for rendering HTML
 * @version 2.1.27
 * @date 7/30/2025, 1:35:48 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Wdt="g-canvas-camera",pF=(function(){function t(){Lt(this,t),this.displayObjectHTMLElementMap=new WeakMap}return jt(t,[{key:"joinTransformMatrix",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];return"matrix(".concat([n[0],n[1],n[4],n[5],n[12]+r[0],n[13]+r[1]].join(","),")")}},{key:"apply",value:function(n,r){var i=this,a=n.camera,o=n.renderingContext,s=n.renderingService;this.context=n;var l=o.root.ownerDocument.defaultView,c=l.context.eventService.nativeHTMLMap,u=function(_,w){w.style.transform=i.joinTransformMatrix(_.getWorldTransform(),_.getOrigin())},d=function(_){var w=_.target;if(w.nodeName===xt.HTML){i.$camera||(i.$camera=i.createCamera(a));var E=i.getOrCreateEl(w);i.$camera.appendChild(E),Object.keys(w.attributes).forEach(function(A){i.updateAttribute(A,w)}),u(w,E),c.set(E,w)}},h=function(_){var w=_.target;if(w.nodeName===xt.HTML&&i.$camera){var E=i.getOrCreateEl(w);E&&(E.remove(),c.delete(E))}},v=function(_){var w=_.target;if(w.nodeName===xt.HTML){var E=_.attrName;i.updateAttribute(E,w)}},g=function(_){var w=_.target,E=w.nodeName===xt.FRAGMENT?w.childNodes:[w];E.forEach(function(A){if(A.nodeName===xt.HTML){var M=i.getOrCreateEl(A);u(A,M)}})},b=function(){if(i.$camera){var _=i.context.config,w=_.width,E=_.height;i.$camera.parentElement.style.width="".concat(w||0,"px"),i.$camera.parentElement.style.height="".concat(E||0,"px")}};s.hooks.init.tap(t.tag,function(){l.addEventListener(Wo.RESIZE,b),l.addEventListener(Ne.MOUNTED,d),l.addEventListener(Ne.UNMOUNTED,h),l.addEventListener(Ne.ATTR_MODIFIED,v),l.addEventListener(Ne.BOUNDS_CHANGED,g)}),s.hooks.endFrame.tap(t.tag,function(){i.$camera&&o.renderReasons.has(Gv.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(a.getOrthoMatrix()))}),s.hooks.destroy.tap(t.tag,function(){i.$camera&&i.$camera.remove(),l.removeEventListener(Wo.RESIZE,b),l.removeEventListener(Ne.MOUNTED,d),l.removeEventListener(Ne.UNMOUNTED,h),l.removeEventListener(Ne.ATTR_MODIFIED,v),l.removeEventListener(Ne.BOUNDS_CHANGED,g)})}},{key:"createCamera",value:function(n){var r=this.context.config,i=r.document,a=r.width,o=r.height,s=this.context.contextService.getDomElement(),l=s.parentNode;if(l){var c=Wdt,u=l.querySelector("#".concat(c));if(!u){var d=(i||document).createElement("div");d.style.overflow="hidden",d.style.pointerEvents="none",d.style.position="absolute",d.style.left="0px",d.style.top="0px",d.style.width="".concat(a||0,"px"),d.style.height="".concat(o||0,"px");var h=(i||document).createElement("div");u=h,h.id=c,h.style.position="absolute",h.style.left="".concat(s.offsetLeft||0,"px"),h.style.top="".concat(s.offsetTop||0,"px"),h.style.transformOrigin="left top",h.style.transform=this.joinTransformMatrix(n.getOrthoMatrix()),h.style.pointerEvents="none",h.style.width="100%",h.style.height="100%",d.appendChild(h),l.appendChild(d)}return u}return null}},{key:"getOrCreateEl",value:function(n){var r=this.context.config.document,i=this.displayObjectHTMLElementMap.get(n);return i||(i=(r||document).createElement("div"),n.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(n,i),n.id&&(i.id=n.id),n.name&&i.setAttribute("name",n.name),n.className&&(i.className=n.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(n.getWorldTransform(),n.getOrigin())),i}},{key:"updateAttribute",value:function(n,r){var i=this.getOrCreateEl(r);switch(n){case"innerHTML":var a=r.parsedStyle.innerHTML;tr(a)?i.innerHTML=a:(i.innerHTML="",i.appendChild(a));break;case"x":i.style.left="".concat(r.parsedStyle.x,"px");break;case"y":i.style.top="".concat(r.parsedStyle.y,"px");break;case"transformOrigin":var o=r.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=r.parsedStyle.width;i.style.width=Kn(s)?"".concat(s,"px"):s.toString();break;case"height":var l=r.parsedStyle.height;i.style.height=Kn(l)?"".concat(l,"px"):l.toString();break;case"zIndex":var c=r.parsedStyle.zIndex;i.style["z-index"]="".concat(c);break;case"visibility":var u=r.parsedStyle.visibility;i.style.visibility=u;break;case"pointerEvents":var d=r.parsedStyle.pointerEvents,h=d===void 0?"auto":d;i.style.pointerEvents=h;break;case"opacity":var v=r.parsedStyle.opacity;i.style.opacity="".concat(v);break;case"fill":var g=r.parsedStyle.fill,b="";Pw(g)?g.isNone?b="transparent":b=r.getAttribute("fill"):Array.isArray(g)?b=r.getAttribute("fill"):xh(g),i.style.background=b;break;case"stroke":var x=r.parsedStyle.stroke,_="";Pw(x)?x.isNone?_="transparent":_=r.getAttribute("stroke"):Array.isArray(x)?_=r.getAttribute("stroke"):xh(x),i.style["border-color"]=_,i.style["border-style"]="solid";break;case"lineWidth":var w=r.parsedStyle.lineWidth;i.style["border-width"]="".concat(w||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":var E=r.style.filter;i.style.filter=E;break;default:!ue(r.style[n])&&r.style[n]!==""&&(i.style[n]=r.style[n])}}}])})();pF.tag="HTMLRendering";var Xdt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.name="html-renderer",n}return Ce(e,t),jt(e,[{key:"init",value:function(){this.addRenderingPlugin(new pF)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])})(bf);/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.48
 * @date 7/30/2025, 1:38:18 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var Vdt=(function(){function t(e){Lt(this,t),this.renderingContext=e.renderingContext,this.canvasConfig=e.config}return jt(t,[{key:"init",value:function(){var n=this.canvasConfig,r=n.container,i=n.canvas;if(i)this.$canvas=i,r&&i.parentElement!==r&&r.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(r&&(this.$container=tr(r)?document.getElementById(r):r,this.$container)){var a=document.createElement("canvas");this.$container.appendChild(a),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=a}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(n,r){var i=this.canvasConfig.devicePixelRatio;this.dpr=i,this.$canvas&&(this.$canvas.width=this.dpr*n,this.$canvas.height=this.dpr*r,Ltt(this.$canvas,n,r)),this.renderingContext.renderReasons.add(Gv.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(n){this.$container&&this.$container.style&&(this.$container.style.cursor=n)}},{key:"toDataURL",value:(function(){var e=cf(aa().mark(function r(){var i,a,o,s=arguments;return aa().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=s.length>0&&s[0]!==void 0?s[0]:{},a=i.type,o=i.encoderOptions,l.abrupt("return",this.context.canvas.toDataURL(a,o));case 1:case"end":return l.stop()}},r,this)}));function n(){return e.apply(this,arguments)}return n})()}])})(),Kdt=(function(t){function e(){var n;Lt(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Re(this,e,[].concat(i)),n.name="canvas-context-register",n}return Ce(e,t),jt(e,[{key:"init",value:function(){this.context.ContextService=Vdt}},{key:"destroy",value:function(){delete this.context.ContextService}}])})(bf),vF=(function(t){function e(n){var r;return Lt(this,e),r=Re(this,e,[n]),r.registerPlugin(new Kdt),r.registerPlugin(new $dt),r.registerPlugin(new gdt),r.registerPlugin(new Ydt),r.registerPlugin(new qdt),r.registerPlugin(new Ndt),r.registerPlugin(new Xdt),r}return Ce(e,t),jt(e)})(AQ);/*!
 * @antv/g-plugin-dragndrop
 * @description A G plugin for Drag n Drop implemented with PointerEvents
 * @version 2.0.38
 * @date 7/30/2025, 1:35:41 PM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var gF=(function(){function t(e){Lt(this,t),this.dragndropPluginOptions=e}return jt(t,[{key:"apply",value:function(n){var r=this,i=n.renderingService,a=n.renderingContext,o=a.root.ownerDocument,s=o.defaultView,l=function(u){var d=u.target,h=d===o,v=h&&r.dragndropPluginOptions.isDocumentDraggable?o:d.closest&&d.closest("[draggable=true]");if(v){var g=!1,b=u.timeStamp,x=[u.clientX,u.clientY],_=null,w=[u.clientX,u.clientY],E=(function(){var M=cf(aa().mark(function T(C){var R,j,I,D,B,$;return aa().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(g){U.next=2;break}if(R=C.timeStamp-b,j=Za([C.clientX,C.clientY],x),!(R<=r.dragndropPluginOptions.dragstartTimeThreshold||j<=r.dragndropPluginOptions.dragstartDistanceThreshold)){U.next=1;break}return U.abrupt("return");case 1:C.type="dragstart",v.dispatchEvent(C),g=!0;case 2:if(C.type="drag",C.dx=C.clientX-w[0],C.dy=C.clientY-w[1],v.dispatchEvent(C),w=[C.clientX,C.clientY],h){U.next=4;break}return I=r.dragndropPluginOptions.overlap==="pointer"?[C.canvasX,C.canvasY]:d.getBounds().center,U.next=3,o.elementsFromPoint(I[0],I[1]);case 3:D=U.sent,B=D[D.indexOf(d)+1],$=B?.closest("[droppable=true]")||(r.dragndropPluginOptions.isDocumentDroppable?o:null),_!==$&&(_&&(C.type="dragleave",C.target=_,_.dispatchEvent(C)),$&&(C.type="dragenter",C.target=$,$.dispatchEvent(C)),_=$,_&&(C.type="dragover",C.target=_,_.dispatchEvent(C)));case 4:case"end":return U.stop()}},T)}));return function(C){return M.apply(this,arguments)}})();s.addEventListener("pointermove",E);var A=function(T){if(g){T.detail={preventClick:!0};var C=T.clone();_&&(C.type="drop",C.target=_,_.dispatchEvent(C)),C.type="dragend",v.dispatchEvent(C),g=!1}s.removeEventListener("pointermove",E)};d.addEventListener("pointerup",A,{once:!0}),d.addEventListener("pointerupoutside",A,{once:!0})}};i.hooks.init.tap(t.tag,function(){s.addEventListener("pointerdown",l)}),i.hooks.destroy.tap(t.tag,function(){s.removeEventListener("pointerdown",l)})}}])})();gF.tag="Dragndrop";var yF=(function(t){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lt(this,e),n=Re(this,e),n.name="dragndrop",n.options=r,n}return Ce(e,t),jt(e,[{key:"init",value:function(){this.addRenderingPlugin(new gF(Te({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(r){Object.assign(this.plugins[0].dragndropPluginOptions,r)}}])})(bf),Zdt="*",i3=(function(){function t(){this._events={}}return t.prototype.on=function(e,n,r){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:n,once:!!r}),this},t.prototype.once=function(e,n){return this.on(e,n,!0)},t.prototype.emit=function(e){for(var n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=this._events[e]||[],o=this._events[Zdt]||[],s=function(l){for(var c=l.length,u=0;u<c;u++)if(l[u]){var d=l[u],h=d.callback,v=d.once;v&&(l.splice(u,1),l.length===0&&delete n._events[e],c--,u--),h.apply(n,r)}};s(a),s(o)},t.prototype.off=function(e,n){if(!e)this._events={};else if(!n)delete this._events[e];else{for(var r=this._events[e]||[],i=r.length,a=0;a<i;a++)r[a].callback===n&&(r.splice(a,1),i--,a--);r.length===0&&delete this._events[e]}return this},t.prototype.getEvents=function(){return this._events},t})();const bn={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},Qdt={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,pow:Math.pow};class ci extends Error{constructor(e,n,r){super(e),this.position=n,this.token=r,this.name="ExpressionError"}}var Oe;(function(t){t[t.STRING=0]="STRING",t[t.NUMBER=1]="NUMBER",t[t.BOOLEAN=2]="BOOLEAN",t[t.NULL=3]="NULL",t[t.IDENTIFIER=4]="IDENTIFIER",t[t.OPERATOR=5]="OPERATOR",t[t.FUNCTION=6]="FUNCTION",t[t.DOT=7]="DOT",t[t.BRACKET_LEFT=8]="BRACKET_LEFT",t[t.BRACKET_RIGHT=9]="BRACKET_RIGHT",t[t.PAREN_LEFT=10]="PAREN_LEFT",t[t.PAREN_RIGHT=11]="PAREN_RIGHT",t[t.COMMA=12]="COMMA",t[t.QUESTION=13]="QUESTION",t[t.COLON=14]="COLON",t[t.DOLLAR=15]="DOLLAR"})(Oe||(Oe={}));const Jdt=new Set([32,9,10,13]),tht=new Set([43,45,42,47,37,33,38,124,61,60,62]),eht=new Map([["true",Oe.BOOLEAN],["false",Oe.BOOLEAN],["null",Oe.NULL]]),lM=new Map([["===",!0],["!==",!0],["<=",!0],[">=",!0],["&&",!0],["||",!0],["+",!0],["-",!0],["*",!0],["/",!0],["%",!0],["!",!0],["<",!0],[">",!0]]),nht=new Map([[46,Oe.DOT],[91,Oe.BRACKET_LEFT],[93,Oe.BRACKET_RIGHT],[40,Oe.PAREN_LEFT],[41,Oe.PAREN_RIGHT],[44,Oe.COMMA],[63,Oe.QUESTION],[58,Oe.COLON],[36,Oe.DOLLAR]]),mF=new Map;for(const[t,e]of nht.entries())mF.set(t,{type:e,value:String.fromCharCode(t)});function xm(t){return t>=48&&t<=57}function ck(t){return t>=97&&t<=122||t>=65&&t<=90||t===95}function MN(t){return ck(t)||xm(t)}function rht(t){return tht.has(t)}var Tr;(function(t){t[t.Program=0]="Program",t[t.Literal=1]="Literal",t[t.Identifier=2]="Identifier",t[t.MemberExpression=3]="MemberExpression",t[t.CallExpression=4]="CallExpression",t[t.BinaryExpression=5]="BinaryExpression",t[t.UnaryExpression=6]="UnaryExpression",t[t.ConditionalExpression=7]="ConditionalExpression"})(Tr||(Tr={}));const iht=new Map([["||",2],["&&",3],["===",4],["!==",4],[">",5],[">=",5],["<",5],["<=",5],["+",6],["-",6],["*",7],["/",7],["%",7],["!",8]]),aht={type:Tr.Literal,value:null},oht={type:Tr.Literal,value:!0},sht={type:Tr.Literal,value:!1},lht=t=>{let e=0;const n=t.length,r=()=>e>=n?null:t[e],i=()=>t[e++],a=d=>{const h=r();return h!==null&&h.type===d},o=d=>d.type===Oe.OPERATOR?iht.get(d.value)||-1:d.type===Oe.DOT||d.type===Oe.BRACKET_LEFT?9:d.type===Oe.QUESTION?1:-1,s=d=>{let h,v;if(i().type===Oe.DOT){if(!a(Oe.IDENTIFIER)){const b=r();throw new ci("Expected property name",e,b?b.value:"<end of input>")}const g=i();h={type:Tr.Identifier,name:g.value},v=!1}else{if(h=c(0),!a(Oe.BRACKET_RIGHT)){const g=r();throw new ci("Expected closing bracket",e,g?g.value:"<end of input>")}i(),v=!0}return{type:Tr.MemberExpression,object:d,property:h,computed:v}},l=()=>{const d=r();if(!d)throw new ci("Unexpected end of input",e,"<end of input>");if(d.type===Oe.OPERATOR&&(d.value==="!"||d.value==="-")){i();const h=l();return{type:Tr.UnaryExpression,operator:d.value,argument:h,prefix:!0}}switch(d.type){case Oe.NUMBER:return i(),{type:Tr.Literal,value:Number(d.value)};case Oe.STRING:return i(),{type:Tr.Literal,value:d.value};case Oe.BOOLEAN:return i(),d.value==="true"?oht:sht;case Oe.NULL:return i(),aht;case Oe.IDENTIFIER:return i(),{type:Tr.Identifier,name:d.value};case Oe.FUNCTION:return(()=>{const h=i(),v=[];if(!a(Oe.PAREN_LEFT)){const g=r();throw new ci("Expected opening parenthesis after function name",e,g?g.value:"<end of input>")}for(i();;){if(a(Oe.PAREN_RIGHT)){i();break}if(!r()){const b=r();throw new ci("Expected closing parenthesis",e,b?b.value:"<end of input>")}if(v.length>0){if(!a(Oe.COMMA)){const b=r();throw new ci("Expected comma between function arguments",e,b?b.value:"<end of input>")}i()}const g=c(0);v.push(g)}return{type:Tr.CallExpression,callee:{type:Tr.Identifier,name:h.value},arguments:v}})();case Oe.PAREN_LEFT:{i();const h=c(0);if(!a(Oe.PAREN_RIGHT)){const v=r();throw new ci("Expected closing parenthesis",e,v?v.value:"<end of input>")}return i(),h}default:throw new ci(`Unexpected token: ${d.type}`,e,d.value)}},c=(d=0)=>{let h=l();for(;e<n;){const v=t[e],g=o(v);if(g<=d)break;if(v.type!==Oe.QUESTION)if(v.type!==Oe.OPERATOR){if(v.type!==Oe.DOT&&v.type!==Oe.BRACKET_LEFT)break;h=s(h)}else{i();const b=c(g);h={type:Tr.BinaryExpression,operator:v.value,left:h,right:b}}else{i();const b=c(0);if(!a(Oe.COLON)){const _=r();throw new ci("Expected : in conditional expression",e,_?_.value:"<end of input>")}i();const x=c(0);h={type:Tr.ConditionalExpression,test:h,consequent:b,alternate:x}}}return h},u=c();return{type:Tr.Program,body:u}},cht=(t,e,n)=>{let r=e;n&&(r={...e,context:{...e.context,...n}});const i=a=>{switch(a.type){case Tr.Literal:return(o=>o.value)(a);case Tr.Identifier:return(o=>{if(!(o.name in r.context))throw new ci(`Undefined variable: ${o.name}`);return r.context[o.name]})(a);case Tr.MemberExpression:return(o=>{const s=i(o.object);if(s==null)throw new ci("Cannot access property of null or undefined");return s[o.computed?i(o.property):o.property.name]})(a);case Tr.CallExpression:return(o=>{const s=r.functions[o.callee.name];if(!s)throw new ci(`Undefined function: ${o.callee.name}`);return s(...o.arguments.map((l=>i(l))))})(a);case Tr.BinaryExpression:return(o=>{if(o.operator==="&&"){const c=i(o.left);return c&&i(o.right)}if(o.operator==="||")return i(o.left)||i(o.right);const s=i(o.left),l=i(o.right);switch(o.operator){case"+":return s+l;case"-":return s-l;case"*":return s*l;case"/":return s/l;case"%":return s%l;case"===":return s===l;case"!==":return s!==l;case">":return s>l;case">=":return s>=l;case"<":return s<l;case"<=":return s<=l;default:throw new ci(`Unknown operator: ${o.operator}`)}})(a);case Tr.UnaryExpression:return(o=>{const s=i(o.argument);if(o.prefix)switch(o.operator){case"!":return!s;case"-":if(typeof s!="number")throw new ci(`Cannot apply unary - to non-number: ${s}`);return-s;default:throw new ci(`Unknown operator: ${o.operator}`)}throw new ci(`Postfix operators are not supported: ${o.operator}`)})(a);case Tr.ConditionalExpression:return(o=>{const s=i(o.test);return i(s?o.consequent:o.alternate)})(a);default:throw new ci(`Evaluation error: Unsupported node type: ${a.type}`)}};return i(t.body)};function uht(t){const e=(i=>{const a=i,o=a.length,s=new Array(Math.ceil(o/3));let l=0,c=0;function u(x){const _=c+1;c++;let w="",E=!1;for(;c<o;){const A=a.charCodeAt(c);if(A===x)return E||(w=a.substring(_,c)),c++,{type:Oe.STRING,value:w};A===92?(E||(w=a.substring(_,c),E=!0),c++,w+=a[c]):E&&(w+=a[c]),c++}throw new ci(`Unterminated string starting with ${String.fromCharCode(x)}`,c,a.substring(Math.max(0,c-10),c))}function d(){const x=c;for(a.charCodeAt(c)===45&&c++;c<o&&xm(a.charCodeAt(c));)c++;if(c<o&&a.charCodeAt(c)===46)for(c++;c<o&&xm(a.charCodeAt(c));)c++;const _=a.slice(x,c);return{type:Oe.NUMBER,value:_}}function h(){c++;const x=c;if(c<o&&ck(a.charCodeAt(c)))for(c++;c<o&&MN(a.charCodeAt(c));)c++;const _=a.slice(x,c);return{type:Oe.FUNCTION,value:_}}function v(){const x=c++;for(;c<o&&MN(a.charCodeAt(c));)c++;const _=a.slice(x,c),w=eht.get(_);return w?{type:w,value:_}:{type:Oe.IDENTIFIER,value:_}}function g(){if(c+2<o){const _=a.substring(c,c+3);if(lM.has(_))return c+=3,{type:Oe.OPERATOR,value:_}}if(c+1<o){const _=a.substring(c,c+2);if(lM.has(_))return c+=2,{type:Oe.OPERATOR,value:_}}const x=a[c];if(lM.has(x))return c++,{type:Oe.OPERATOR,value:x};throw new ci(`Unknown operator at position ${c}: ${a.substring(c,c+1)}`,c,a.substring(Math.max(0,c-10),c))}for(;c<o;){const x=a.charCodeAt(c);if(b=x,Jdt.has(b)){c++;continue}const _=mF.get(x);if(_)s[l++]=_,c++;else if(x!==34&&x!==39)if(xm(x)||x===45&&c+1<o&&xm(a.charCodeAt(c+1)))s[l++]=d();else if(x!==64)if(ck(x))s[l++]=v();else{if(!rht(x))throw new ci(`Unexpected character: ${a[c]}`,c,a.substring(Math.max(0,c-10),c));s[l++]=g()}else s[l++]=h();else s[l++]=u(x)}var b;return l===s.length?s:s.slice(0,l)})(t),n=lht(e),r=((i={},a={})=>({context:i,functions:a}))({},Qdt);return(i={})=>cht(n,r,i)}const fht=["style","encode","labels","children"],dht=r9(t=>{const e=uht(t);return(...n)=>{const r=Array.from({length:n.length},(a,o)=>String.fromCharCode(97+o)),i=Object.fromEntries(n.map((a,o)=>[r[o],a]));return e(Object.assign(Object.assign({},i),{global:Object.assign({},i)}))}},t=>t,128);function tw(t,e=!0){if(Array.isArray(t))return t.map((n,r)=>tw(t[r],e));if(typeof t=="object"&&t)return CW(t,(n,r)=>e&&fht.includes(r)?tw(n,r==="children"):e?n:tw(n,!1));if(typeof t=="string"){const n=t.trim();if(n.startsWith("{")&&n.endsWith("}"))return dht(n.slice(1,-1))}return t}const hht=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var pht={}.toString,OS=function(t,e){return pht.call(t)==="[object "+e+"]"};const bF=(function(t){return OS(t,"Function")}),xF=(function(t){return Array.isArray?Array.isArray(t):OS(t,"Array")}),vht=(function(t){var e=typeof t;return t!==null&&e==="object"||e==="function"});function ght(t,e){if(t){var n;if(xF(t))for(var r=0,i=t.length;r<i&&(n=e(t[r],r),n!==!1);r++);else if(vht(t)){for(var a in t)if(t.hasOwnProperty(a)&&(n=e(t[a],a),n===!1))break}}}var yht=function(t){return typeof t=="object"&&t!==null},TN=function(t){if(!yht(t)||!OS(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};const mht=(function(t){return OS(t,"String")});var bht=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return ght(t,function(n,r){bF(t)&&r==="prototype"||e.push(n)}),e};const xht=(function(t,e){if(!bF(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var s=t.apply(this,r);return o.set(a,s),s};return n.cache=new Map,n});var _ht=5;function _F(t,e,n,r){n=n||0,r=r||_ht;for(var i in e)if(e.hasOwnProperty(i)){var a=e[i];a!==null&&TN(a)?(TN(t[i])||(t[i]={}),n<r?_F(t[i],a,n+1,r):t[i]=e[i]):xF(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var wF=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)_F(t,e[r]);return t};const a3=(function(t){return t});function wht(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}var A_;xht(function(t,e){e===void 0&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return A_||(A_=document.createElement("canvas").getContext("2d")),A_.font=[a,o,i,n+"px",r].join(" "),A_.measureText(mht(t)?t:"").width},function(t,e){return e===void 0&&(e={}),wht([t],bht(e)).join("")});function OF(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?e.reduce(function(r,i){return function(a){return i(r(a))}},t):a3}function SF(t){return t instanceof Float32Array||t instanceof Array}var EF=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},AF=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};function Oht(t){return function(e){for(var n=[],r=0;r<e.length-1;r+=2){var i=[e[r],e[r+1]],a=t(i);n.push.apply(n,AF([],EF(a),!1))}return n}}function Sht(t){return function(e){for(var n=[],r=0;r<e.length-1;r+=3){var i=[e[r],e[r+1],e[r+2]],a=t(i);n.push.apply(n,AF([],EF(a),!1))}return n}}function MF(t,e,n){for(;t<e;)t+=Math.PI*2;for(;t>n;)t-=Math.PI*2;return t}var Eht=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Aht=function(t,e,n,r,i){var a=Eht(t,2),o=a[0],s=a[1],l=Eg();return BW(l,[o,s])};function tO(t,...e){return e.reduce((n,r)=>i=>n(r(i)),t)}function uk(t,e){return e-t?n=>(n-t)/(e-t):n=>.5}function Mht(t,e){const n=e<t?e:t,r=t>e?t:e;return i=>Math.min(Math.max(n,i),r)}function Tht(t,e,n,r,i){let a=n,o=r||t.length;const s=(l=>l);for(;a<o;){const l=Math.floor((a+o)/2);s(t[l])>e?o=l:a=l+1}return a}const kN=Math.sqrt(50),CN=Math.sqrt(10),RN=Math.sqrt(2);function ew(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/10**i;return i>=0?(a>=kN?10:a>=CN?5:a>=RN?2:1)*10**i:-(10**-i)/(a>=kN?10:a>=CN?5:a>=RN?2:1)}const kht=(t,e,n=5)=>{const r=[t,e];let i=0,a=r.length-1,o=r[i],s=r[a],l;return s<o&&([o,s]=[s,o],[i,a]=[a,i]),l=ew(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=ew(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=ew(o,s,n)),l>0?(r[i]=Math.floor(o/l)*l,r[a]=Math.ceil(s/l)*l):l<0&&(r[i]=Math.ceil(o*l)/l,r[a]=Math.floor(s*l)/l),r};function Cht(t){return Array.isArray(t)}var Rht=function(t){return typeof t=="object"&&t!==null},Pht={}.toString,jht=function(t,e){return Pht.call(t)==="[object "+e+"]"},PN=function(t){if(!Rht(t)||!jht(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function Lht(t){return t===null}var Nht=function(t){return t===void 0},Dht=5;function Iht(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function TF(t,e,n,r){n=n||0,r=r||Dht;for(var i in e)if(Iht(e,i)){var a=e[i];a!==null&&PN(a)?(PN(t[i])||(t[i]={}),n<r?TF(t[i],a,n+1,r):t[i]=e[i]):Cht(a)?(t[i]=[],t[i]=t[i].concat(a)):a!==void 0&&(t[i]=a)}}var jN=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)TF(t,e[r]);return t};const fk=(function(t){return t});function LN(t){return!Nht(t)&&!Lht(t)&&!Number.isNaN(t)}function cM(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Bht(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(n===0)return[r*255,r*255,r*255,i];const a=r<.5?r*(1+n):r+n-r*n,o=2*r-a,s=cM(o,a,e+1/3),l=cM(o,a,e),c=cM(o,a,e-1/3);return[s*255,l*255,c*255,i]}function NN(t){const e=DC.get(t);if(!e)return null;const{model:n,value:r}=e;return n==="rgb"?r:n==="hsl"?Bht(r):null}const eO=(t,e)=>n=>t*(1-n)+e*n,$ht=(t,e)=>{const n=NN(t),r=NN(e);return n===null||r===null?n?()=>t:()=>e:i=>{const a=new Array(4);for(let u=0;u<4;u+=1){const d=n[u],h=r[u];a[u]=d*(1-i)+h*i}const[o,s,l,c]=a;return`rgba(${Math.round(o)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}},zht=(t,e)=>typeof t=="number"&&typeof e=="number"?eO(t,e):typeof t=="string"&&typeof e=="string"?$ht(t,e):()=>t,Fht=(t,e)=>{const n=eO(t,e);return r=>Math.round(n(r))};function DN({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Uht({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Hht({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ght(t){return typeof t=="object"?t.valueOf():t}class IN extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=Ght,e!==null)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(DN({map:this.map,initKey:this.initKey},e))}has(e){return super.has(DN({map:this.map,initKey:this.initKey},e))}set(e,n){return super.set(Uht({map:this.map,initKey:this.initKey},e),n)}delete(e){return super.delete(Hht({map:this.map,initKey:this.initKey},e))}}let kF=class{constructor(e){this.options=jN({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=jN({},this.options,e),this.rescale(e)}rescale(e){}};const SS=Symbol("defaultUnknown");function BN(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function $N(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:a}=t;let o=i.get(e);if(o===void 0){if(a!==SS)return a;o=n.push(e)-1,i.set(e,o)}return r[o%r.length]}function zN(t){return t instanceof Date?e=>`${e}`:typeof t=="object"?e=>JSON.stringify(e):e=>e}class o3 extends kF{getDefaultOptions(){return{domain:[],range:[],unknown:SS}}constructor(e){super(e)}map(e){return this.domainIndexMap.size===0&&BN(this.domainIndexMap,this.getDomain(),this.domainKey),$N({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return this.rangeIndexMap.size===0&&BN(this.rangeIndexMap,this.getRange(),this.rangeKey),$N({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[n]=this.options.domain,[r]=this.options.range;if(this.domainKey=zN(n),this.rangeKey=zN(r),!this.rangeIndexMap){this.rangeIndexMap=new Map,this.domainIndexMap=new Map;return}(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new o3(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:n}=this.options;return this.sortedDomain=n?[...e].sort(n):e,this.sortedDomain}}function Yht(t){const e=Math.min(...t);return t.map(n=>n/e)}function qht(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function Wht(t){return Math.round(t*1e12)/1e12}function Xht(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:a,round:o,align:s}=t,l=e.length,c=qht(a,l),[u,d]=n,h=d-u,v=2/l*r+1-1/l*i,g=h/v,b=g*i/l,x=g-l*b,_=Yht(c),w=_.reduce((B,$)=>B+$),E=x/w,A=new IN(e.map((B,$)=>{const U=_[$]*E;return[B,o?Math.floor(U):U]})),M=new IN(e.map((B,$)=>{const G=_[$]*E+b;return[B,o?Math.floor(G):G]})),T=Array.from(M.values()).reduce((B,$)=>B+$),R=(h-(T-T/l*i))*s,j=u+R;let I=o?Math.round(j):j;const D=new Array(l);for(let B=0;B<l;B+=1){D[B]=Wht(I);const $=e[B];I+=M.get($)}return{valueBandWidth:A,valueStep:M,adjustedRange:D}}function Vht(t){var e;const{domain:n}=t,r=n.length;if(r===0)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(!!(!((e=t.flex)===null||e===void 0)&&e.length))return Xht(t);const{range:a,paddingOuter:o,paddingInner:s,round:l,align:c}=t;let u,d,h=a[0];const g=a[1]-h,b=o*2,x=r-s;u=g/Math.max(1,b+x),l&&(u=Math.floor(u)),h+=(g-u*(r-s))*c,d=u*(1-s),l&&(h=Math.round(h),d=Math.round(d));const _=new Array(r).fill(0).map((w,E)=>h+E*u);return{valueStep:u,valueBandWidth:d,adjustedRange:_}}class s3 extends o3{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:SS,flex:[]}}constructor(e){super(e)}clone(){return new s3(this.options)}getStep(e){return this.valueStep===void 0?1:typeof this.valueStep=="number"?this.valueStep:e===void 0?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return this.valueBandWidth===void 0?1:typeof this.valueBandWidth=="number"?this.valueBandWidth:e===void 0?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:n}=this.options;return e>0?e:n}getPaddingOuter(){const{padding:e,paddingOuter:n}=this.options;return e>0?e:n}rescale(){super.rescale();const{align:e,domain:n,range:r,round:i,flex:a}=this.options,{adjustedRange:o,valueBandWidth:s,valueStep:l}=Vht({align:e,range:r,round:i,flex:a,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:n});this.valueStep=l,this.valueBandWidth=s,this.adjustedRange=o}}const Kht=(t,e,n)=>{let r,i,a=t,o=e;if(a===o&&n>0)return[a];let s=ew(a,o,n);if(s===0||!Number.isFinite(s))return[];if(s>0){a=Math.ceil(a/s),o=Math.floor(o/s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)*s}else{s=-s,a=Math.ceil(a*s),o=Math.floor(o*s),i=new Array(r=Math.ceil(o-a+1));for(let l=0;l<r;l+=1)i[l]=(a+l)/s}return i},Zht=(t,e,n)=>{const[r,i]=t,[a,o]=e;let s,l;return r<i?(s=uk(r,i),l=n(a,o)):(s=uk(i,r),l=n(o,a)),tO(l,s)},Qht=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=t[0]>t[r],s=o?[...t].reverse():t,l=o?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=uk(s[c],s[c+1]),a[c]=n(l[c],l[c+1]);return c=>{const u=Tht(t,c,1,r)-1,d=i[u],h=a[u];return tO(h,d)(c)}},FN=(t,e,n,r)=>(Math.min(t.length,e.length)>2?Qht:Zht)(t,e,r?Fht:n);class Jht extends kF{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:eO,tickCount:5}}map(e){return LN(e)?this.output(e):this.options.unknown}invert(e){return LN(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,n,r,...i]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,n,r,...i)}getTicks(){const{tickMethod:e}=this.options,[n,r,i,...a]=this.getTickMethodOptions();return e(n,r,i,...a)}getTickMethodOptions(){const{domain:e,tickCount:n}=this.options,r=e[0],i=e[e.length-1];return[r,i,n]}chooseNice(){return kht}rescale(){this.nice();const[e,n]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,n,this.chooseClamp(n))}chooseClamp(e){const{clamp:n,range:r}=this.options,i=this.options.domain.map(e),a=Math.min(i.length,r.length);return n?Mht(i[0],i[a-1]):fk}composeOutput(e,n){const{domain:r,range:i,round:a,interpolate:o}=this.options,s=FN(r.map(e),i,o,a);this.output=tO(s,n,e)}composeInput(e,n,r){const{domain:i,range:a}=this.options,o=FN(a,i.map(e),eO);this.input=tO(n,r,o)}}class ka extends Jht{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:zht,tickMethod:Kht,tickCount:5}}chooseTransforms(){return[fk,fk]}clone(){return new ka(this.options)}}class l3 extends s3{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:SS,paddingInner:1,paddingOuter:0}}constructor(e){super(e)}getPaddingInner(){return 1}clone(){return new l3(this.options)}update(e){super.update(e)}getPaddingOuter(){return this.options.padding}}var UN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},tpt=function(t,e,n,r,i){var a=new ka({range:[e,e+r]}),o=new ka({range:[n,n+i]});return{transform:function(s){var l=UN(s,2),c=l[0],u=l[1];return[a.map(c),o.map(u)]},untransform:function(s){var l=UN(s,2),c=l[0],u=l[1];return[a.invert(c),o.invert(u)]}}},ept=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},npt=function(t,e,n,r,i){var a=ept(t,1),o=a[0];return o(e,n,r,i)},rpt=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},ipt=function(t,e,n,r,i){var a=rpt(t,1),o=a[0];return o},uM=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},apt=function(t,e,n,r,i){var a=uM(t,4),o=a[0],s=a[1],l=a[2],c=a[3],u=new ka({range:[l,c]}),d=new ka({range:[o,s]}),h=i/r,v=h>1?1:h,g=h>1?1/h:1;return{transform:function(b){var x=uM(b,2),_=x[0],w=x[1],E=d.map(_),A=u.map(w),M=A*Math.cos(E)*v,T=A*Math.sin(E)*g,C=M*.5+.5,R=T*.5+.5;return[C,R]},untransform:function(b){var x=uM(b,2),_=x[0],w=x[1],E=(_-.5)*2/v,A=(w-.5)*2/g,M=Math.sqrt(Math.pow(E,2)+Math.pow(A,2)),T=Math.atan2(A,E),C=MF(T,o,s),R=d.invert(C),j=u.invert(M);return[R,j]}}},HN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},opt=function(t,e,n,r,i){return{transform:function(a){var o=HN(a,2),s=o[0],l=o[1];return[l,s]},untransform:function(a){var o=HN(a,2),s=o[0],l=o[1];return[l,s]}}},spt=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},ES=function(t,e,n,r,i){var a=spt(t,2),o=a[0],s=a[1],l=Eg();return zW(l,[o,s])},c3=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},u3=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},lpt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ES.apply(void 0,u3([[-1,-1]],c3(e),!1))},cpt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ES.apply(void 0,u3([[-1,1]],c3(e),!1))},upt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ES.apply(void 0,u3([[1,-1]],c3(e),!1))},fpt=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},dpt=function(t,e,n,r,i){var a=fpt(t,1),o=a[0],s=Eg();return $W(s,o)},fM=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},hpt=function(t,e,n,r,i){var a=fM(t,4),o=a[0],s=a[1],l=a[2],c=a[3],u=(s-0)/(2*Math.PI)+1,d=(c-l)/u,h=d/(Math.PI*2),v=new ka({range:[l,l+d*.99]}),g=new ka({range:[o,s]}),b=i/r,x=b>1?1:b,_=b>1?1/b:1;return{transform:function(w){var E=fM(w,2),A=E[0],M=E[1],T=g.map(A),C=v.map(M),R=Math.cos(T)*(h*T+C)*x,j=Math.sin(T)*(h*T+C)*_,I=R*.5+.5,D=j*.5+.5;return[I,D]},untransform:function(w){var E=fM(w,2),A=E[0],M=E[1],T=(A-.5)*2/x,C=(M-.5)*2/_,R=Math.sqrt(Math.pow(T,2)+Math.pow(C,2)),j=Math.atan2(C,T)+Math.floor(R/d)*Math.PI*2,I=MF(j,o,s),D=R-h*I,B=g.invert(I),$=v.invert(D);return[B,$]}}},ppt=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},vpt=function(t,e,n,r,i){var a=ppt(t,4),o=a[0],s=a[1],l=a[2],c=a[3],u=new ka({range:[l,c]});return{transform:function(d){for(var h=[],v=d.length,g=new l3({domain:new Array(v).fill(0).map(function(E,A){return A}),range:[o,s]}),b=0;b<v;b++){var x=d[b],_=g.map(b),w=u.map(x);h.push(_,w)}return h},untransform:function(d){for(var h=[],v=0;v<d.length;v+=2){var g=d[v+1];h.push(u.invert(g))}return h}}},Yv=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function CF(t){return 1/Math.tan(t)}var gpt=function(t,e,n,r,i){var a=Yv(t,1),o=a[0],s=CF(o);return{transform:function(l){var c=Yv(l,2),u=c[0],d=c[1],h=u+d*s;return[h,d]},untransform:function(l){var c=Yv(l,2),u=c[0],d=c[1],h=u-d*s;return[h,d]}}},ypt=function(t,e,n,r,i){var a=Yv(t,1),o=a[0],s=CF(o);return{transform:function(l){var c=Yv(l,2),u=c[0],d=c[1],h=d+u*s;return[u,h]},untransform:function(l){var c=Yv(l,2),u=c[0],d=c[1],h=d-u*s;return[u,h]}}},Jo=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};function y1(t,e,n,r,i){var a=t<e,o=(a?e-r:i-e)||i-r,s=a?-1:1;return s*o*(n+1)/(n+o/((t-e)*s))+e}function m1(t,e,n,r,i){var a=t<e,o=(a?e-r:i-e)||i-r,s=a?-1:1;return o/(o*(n+1)/(t-e)-n*s)+e}function nO(t,e,n){if(!n)return t;var r=new ka({range:[0,1],domain:[0,e]});return r.map(t)}var mpt=function(t,e,n,r,i){var a=Jo(t,3),o=a[0],s=a[1],l=a[2],c=l===void 0?!1:l,u=nO(o,r,c);return{transform:function(d){var h=Jo(d,2),v=h[0],g=h[1],b=y1(v,u,s,0,1);return[b,g]},untransform:function(d){var h=Jo(d,2),v=h[0],g=h[1],b=m1(v,u,s,0,1);return[b,g]}}},bpt=function(t,e,n,r,i){var a=Jo(t,3),o=a[0],s=a[1],l=a[2],c=l===void 0?!1:l,u=nO(o,i,c);return{transform:function(d){var h=Jo(d,2),v=h[0],g=h[1],b=y1(g,u,s,0,1);return[v,b]},untransform:function(d){var h=Jo(d,2),v=h[0],g=h[1],b=m1(g,u,s,0,1);return[v,b]}}},xpt=function(t,e,n,r,i){var a=Jo(t,5),o=a[0],s=a[1],l=a[2],c=a[3],u=a[4],d=u===void 0?!1:u,h=nO(o,r,d),v=nO(s,i,d);return{transform:function(g){var b=Jo(g,2),x=b[0],_=b[1],w=y1(x,h,l,0,1),E=y1(_,v,c,0,1);return[w,E]},untransform:function(g){var b=Jo(g,2),x=b[0],_=b[1],w=m1(x,h,l,0,1),E=m1(_,v,c,0,1);return[w,E]}}},_pt=function(t,e,n,r,i){var a=Jo(t,5),o=a[0],s=a[1],l=a[2],c=a[3],u=a[4],d=u===void 0?!1:u,h=new ka({range:[0,r]}),v=new ka({range:[0,i]}),g=d?o:h.map(o),b=d?s:v.map(s);return{transform:function(x){var _=Jo(x,2),w=_[0],E=_[1],A=h.map(w)-g,M=v.map(E)-b,T=Math.sqrt(A*A+M*M);if(T>l)return[w,E];var C=y1(T,0,c,0,l),R=Math.atan2(M,A),j=g+C*Math.cos(R),I=b+C*Math.sin(R);return[h.invert(j),v.invert(I)]},untransform:function(x){var _=Jo(x,2),w=_[0],E=_[1],A=h.map(w)-g,M=v.map(E)-b,T=Math.sqrt(A*A+M*M);if(T>l)return[w,E];var C=m1(T,0,c,0,l),R=Math.atan2(M,A),j=g+C*Math.cos(R),I=b+C*Math.sin(R);return[h.invert(j),v.invert(I)]}}},GN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},wpt=function(t,e,n,r,i,a,o){var s=new ka({range:[e,e+i]}),l=new ka({range:[n,n+a]}),c=new ka({range:[r,r+o]});return{transform:function(u){var d=GN(u,3),h=d[0],v=d[1],g=d[2];return[s.map(h),l.map(v),c.map(g)]},untransform:function(u){var d=GN(u,3),h=d[0],v=d[1],g=d[2];return[s.invert(h),l.invert(v),c.invert(g)]}}},Opt=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Spt=function(t,e,n,r,i,a,o){var s=Opt(t,3),l=s[0],c=s[1],u=s[2];return Mc(An(),[l,c,u])},YN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Ept=function(t,e,n,r,i,a,o){return{transform:function(s){var l=YN(s,3),c=l[0],u=l[1],d=l[2];return[u,c,d]},untransform:function(s){var l=YN(s,3),c=l[0],u=l[1],d=l[2];return[u,c,d]}}},Apt=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Mpt=function(t,e,n,r,i,a,o){var s=Apt(t,3),l=s[0],c=s[1],u=s[2];return Wu(An(),[l,c,u])},Sv=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Ev=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Tpt=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kpt=(function(){function t(e){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:tpt,translate:Aht,custom:npt,matrix:ipt,polar:apt,transpose:opt,scale:ES,"shear.x":gpt,"shear.y":ypt,reflect:lpt,"reflect.x":cpt,"reflect.y":upt,rotate:dpt,helix:hpt,parallel:vpt,fisheye:xpt,"fisheye.x":mpt,"fisheye.y":bpt,"fisheye.circular":_pt},this.update(e)}return t.prototype.update=function(e){this.options=wF({},this.options,e),this.recoordinate()},t.prototype.clone=function(){return new t(this.options)},t.prototype.getOptions=function(){return this.options},t.prototype.clear=function(){this.update({transformations:[]})},t.prototype.getSize=function(){var e=this.options,n=e.width,r=e.height;return[n,r]},t.prototype.getCenter=function(){var e=this.options,n=e.x,r=e.y,i=e.width,a=e.height;return[(n*2+i)/2,(r*2+a)/2]},t.prototype.transform=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:Ev(Ev([],Sv(r),!1),[Ev([],Sv(e),!1)],!1)}),this},t.prototype.map=function(e){return this.output(e)},t.prototype.invert=function(e){return this.input(e)},t.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},t.prototype.compose=function(e){var n,r;e===void 0&&(e=!1);var i=e?Ev([],Sv(this.options.transformations),!1).reverse():this.options.transformations,a=e?function(C){return C.untransform}:function(C){return C.transform},o=[],s=[],l=function(C,R){return R===void 0&&(R=!0),s.push(R?Oht(C):C)};try{for(var c=Tpt(i),u=c.next();!u.done;u=c.next()){var d=Sv(u.value),h=d[0],v=d.slice(1),g=this.transformers[h];if(g){var b=this.options,x=b.x,_=b.y,w=b.width,E=b.height,A=g(Ev([],Sv(v),!1),x,_,w,E);if(SF(A))o.push(A);else{if(o.length){var M=this.createMatrixTransform(o,e);l(M),o.splice(0,o.length)}var T=a(A)||a3;l(T,h!=="parallel")}}}}catch(C){n={error:C}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var T=this.createMatrixTransform(o,e);l(T)}return OF.apply(void 0,Ev([],Sv(s),!1))},t.prototype.createMatrixTransform=function(e,n){var r=Eg();return n&&e.reverse(),e.forEach(function(i){return FW(r,r,i)}),n&&DW(r,LW(r)),function(i){var a=[i[0],i[1],1];return Z6(a,a,r),[a[0],a[1]]}},t})(),Av=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},Mv=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Cpt=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rpt=(function(){function t(e){this.options={x:0,y:0,z:0,width:300,height:150,depth:150,transformations:[]},this.transformers={cartesian3D:wpt,translate3D:Spt,scale3D:Mpt,transpose3D:Ept},this.update(e)}return t.prototype.update=function(e){this.options=wF({},this.options,e),this.recoordinate()},t.prototype.clone=function(){return new t(this.options)},t.prototype.getOptions=function(){return this.options},t.prototype.clear=function(){this.update({transformations:[]})},t.prototype.getSize=function(){var e=this.options,n=e.width,r=e.height,i=e.depth;return[n,r,i]},t.prototype.getCenter=function(){var e=this.options,n=e.x,r=e.y,i=e.z,a=e.width,o=e.height,s=e.depth;return[(n*2+a)/2,(r*2+o)/2,(i*2+s)/2]},t.prototype.transform=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:Mv(Mv([],Av(r),!1),[Mv([],Av(e),!1)],!1)}),this},t.prototype.map=function(e){return this.output(e)},t.prototype.invert=function(e){return this.input(e)},t.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},t.prototype.compose=function(e){var n,r;e===void 0&&(e=!1);var i=e?Mv([],Av(this.options.transformations),!1).reverse():this.options.transformations,a=e?function(j){return j.untransform}:function(j){return j.transform},o=[],s=[],l=function(j,I){return I===void 0&&(I=!0),s.push(I?Sht(j):j)};try{for(var c=Cpt(i),u=c.next();!u.done;u=c.next()){var d=Av(u.value),h=d[0],v=d.slice(1),g=this.transformers[h];if(g){var b=this.options,x=b.x,_=b.y,w=b.z,E=b.width,A=b.height,M=b.depth,T=g(Mv([],Av(v),!1),x,_,w,E,A,M);if(SF(T))o.push(T);else{if(o.length){var C=this.createMatrixTransform(o,e);l(C),o.splice(0,o.length)}var R=a(T)||a3;l(R,!0)}}}}catch(j){n={error:j}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}if(o.length){var R=this.createMatrixTransform(o,e);l(R)}return OF.apply(void 0,Mv([],Av(s),!1))},t.prototype.createMatrixTransform=function(e,n){var r=An();return n&&e.reverse(),e.forEach(function(i){return SC(r,r,i)}),n&&Ls(r,wC(r)),function(i){var a=[i[0],i[1],i[2],1];return Nl(a,a,r),[a[0],a[1],a[2]]}},t})(),Ppt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Z1(t){return(e,...n)=>wt({},t(e,...n),e)}function zh(t){return(e,...n)=>wt({},e,t(e,...n))}function jpt(t){return t instanceof Date?!1:typeof t=="object"}function AS(t,e){if(!t)return e;if(Array.isArray(t))return t;if(jpt(t)){const{value:n=e}=t,r=Ppt(t,["value"]);return Object.assign(Object.assign({},r),{value:n})}return t}var Lpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const RF=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{x:n=0,y:r=0,width:i,height:a,data:o}=t;return e.map(s=>{var{data:l,x:c,y:u,width:d,height:h}=s,v=Lpt(s,["data","x","y","width","height"]);return Object.assign(Object.assign({},v),{data:AS(l,o),x:c??n,y:u??r,width:d??i,height:h??a})})};RF.props={};var Npt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const PF=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{direction:n="row",ratio:r=e.map(()=>1),padding:i=0,data:a}=t,[o,s,l,c]=n==="col"?["y","height","width","x"]:["x","width","height","y"],u=r.reduce((b,x)=>b+x),d=t[s]-i*(e.length-1),h=r.map(b=>d*(b/u)),v=[];let g=t[o]||0;for(let b=0;b<h.length;b+=1){const x=e[b],{data:_}=x,w=Npt(x,["data"]),E=AS(_,a);v.push(Object.assign({[o]:g,[s]:h[b],[c]:t[c]||0,[l]:t[l],data:E},w)),g+=h[b]+i}return v};PF.props={};var dM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jF=()=>t=>{const{children:e}=t,n=dM(t,["children"]);if(!Array.isArray(e))return[];const{data:r,scale:i={},axis:a={},legend:o={},encode:s={},transform:l=[]}=n,c=dM(n,["data","scale","axis","legend","encode","transform"]),u=e.map(d=>{var{data:h,scale:v={},axis:g={},legend:b={},encode:x={},transform:_=[]}=d,w=dM(d,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:AS(h,r),scale:wt({},i,v),encode:wt({},s,x),transform:[...l,..._],axis:g&&a?wt({},a,g):!1,legend:b&&o?wt({},o,b):!1},w)});return[Object.assign(Object.assign({},c),{marks:u,type:"standardView"})]};jF.props={};var Dpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const LF=({static:t=!1}={})=>e=>{const{width:n,height:r,depth:i,paddingLeft:a,paddingRight:o,paddingTop:s,paddingBottom:l,padding:c,inset:u,insetLeft:d,insetTop:h,insetRight:v,insetBottom:g,margin:b,marginLeft:x,marginBottom:_,marginTop:w,marginRight:E,data:A,coordinate:M,theme:T,component:C,interaction:R,x:j,y:I,z:D,key:B,frame:$,labelTransform:U,parentKey:G,clip:F,viewStyle:H,title:Y}=e,W=Dpt(e,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:j,y:I,z:D,key:B,width:n,height:r,depth:i,padding:c,paddingLeft:a,paddingRight:o,paddingTop:s,inset:u,insetLeft:d,insetTop:h,insetRight:v,insetBottom:g,paddingBottom:l,theme:T,coordinate:M,component:C,interaction:R,frame:$,labelTransform:U,margin:b,marginLeft:x,marginBottom:_,marginTop:w,marginRight:E,parentKey:G,clip:F,style:H},!t&&{title:Y}),{marks:[Object.assign(Object.assign(Object.assign({},W),{key:`${B}-0`,data:A}),t&&{title:Y})]})]};LF.props={};class Q1{constructor(e){this.$value=e}static of(e){return new Q1(e)}call(e,...n){return this.$value=e(this.$value,...n),this}value(){return this.$value}}var Ipt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Bpt=Z1(t=>{const{encode:e,data:n,scale:r,shareSize:i=!1}=t,{x:a,y:o}=e,s=(l,c)=>{var u;if(l===void 0||!i)return{};const d=Vn(n,g=>g[l]),h=((u=r?.[c])===null||u===void 0?void 0:u.domain)||Array.from(d.keys()),v=h.map(g=>d.has(g)?d.get(g).length:1);return{domain:h,flex:v}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:a===void 0?null:{position:"top"}},a===void 0&&{paddingInner:0}),s(a,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:o===void 0?null:{position:"right"}},o===void 0&&{paddingInner:0}),s(o,"y"))}}}),f3=zh(t=>{const{data:e,scale:n,legend:r}=t,i=[t];let a,o,s;for(;i.length;){const h=i.shift(),{children:v,encode:g={},scale:b={},legend:x={}}=h,{color:_}=g,{color:w}=b,{color:E}=x;_!==void 0&&(a=_),w!==void 0&&(o=w),E!==void 0&&(s=E),Array.isArray(v)&&i.push(...v)}const l=()=>{var h;const v=(h=n?.color)===null||h===void 0?void 0:h.domain;if(v!==void 0)return[v];if(a===void 0)return[void 0];const g=typeof a=="function"?a:x=>x[a],b=e.map(g);return b.some(x=>typeof x=="number")?[jc(b)]:[Array.from(new Set(b)),"ordinal"]},c=typeof a=="string"?a:"",[u,d]=l();return Object.assign({encode:{color:{type:"column",value:u??[]}},scale:{color:wt({},o,{domain:u,type:d})}},r===void 0&&{legend:{color:wt({title:c},s)}})}),d3=Z1(()=>({animate:{enterType:"fadeIn"}})),h3=zh(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),p3=zh(()=>({type:"cell"})),NF=zh(t=>{const{data:e}=t;return{data:{type:"inline",value:e,transform:[{type:"custom",callback:()=>{const{data:r,encode:i}=t,{x:a,y:o}=i,s=a?Array.from(new Set(r.map(u=>u[a]))):[],l=o?Array.from(new Set(r.map(u=>u[o]))):[];return(()=>{if(s.length&&l.length){const u=[];for(const d of s)for(const h of l)u.push({[a]:d,[o]:h});return u}if(s.length)return s.map(u=>({[a]:u}));if(l.length)return l.map(u=>({[o]:u}))})()}}]}}}),DF=zh((t,e=$pt,n=zpt,r=Fpt,i={})=>{const{data:a,encode:o,children:s,scale:l,x:c=0,y:u=0,shareData:d=!1,key:h}=t,{value:v}=a,{x:g,y:b}=o,{color:x}=l,{domain:_}=x;return{children:(E,A,M)=>{const{x:T,y:C}=A,{paddingLeft:R,paddingTop:j,marginLeft:I,marginTop:D}=M,{domain:B}=T.getOptions(),{domain:$}=C.getOptions(),U=Rh(E),G=E.map(e),F=E.map(({x:tt,y:nt})=>[T.invert(tt),C.invert(nt)]),Y=F.map(([tt,nt])=>lt=>{const{[g]:at,[b]:ft}=lt;return(g!==void 0?at===tt:!0)&&(b!==void 0?ft===nt:!0)}).map(tt=>v.filter(tt)),W=d?Mn(Y,tt=>tt.length):void 0,V=F.map(([tt,nt])=>({columnField:g,columnIndex:B.indexOf(tt),columnValue:tt,columnValuesLength:B.length,rowField:b,rowIndex:$.indexOf(nt),rowValue:nt,rowValuesLength:$.length})),J=V.map(tt=>Array.isArray(s)?s:[s(tt)].flat(1));return U.flatMap(tt=>{const[nt,lt,at,ft]=G[tt],mt=V[tt],ct=Y[tt];return J[tt].map(Mt=>{var It,Nt,{scale:zt,key:Ut,facet:Zt=!0,axis:ie={},legend:Gt={}}=Mt,Jt=Ipt(Mt,["scale","key","facet","axis","legend"]);const le=((It=zt?.y)===null||It===void 0?void 0:It.guide)||ie.y,_n=((Nt=zt?.x)===null||Nt===void 0?void 0:Nt.guide)||ie.x,dn={x:{tickCount:g?5:void 0},y:{tickCount:b?5:void 0}},yn=Zt?ct:ct.length===0?[]:v,kn={color:{domain:_}},Zn={x:qN(_n,n)(mt,yn),y:qN(le,r)(mt,yn)};return Object.assign(Object.assign({key:`${Ut}-${tt}`,data:yn,margin:0,x:nt+R+c+I,y:lt+j+u+D,parentKey:h,width:at,height:ft,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!yn.length,dataDomain:W,scale:wt(dn,zt,kn),axis:wt({},ie,Zn),legend:!1},Jt),i)})})}}});function $pt(t){const{points:e}=t;return YC(e)}function MS(t,e){return e.length?wt({title:!1,tick:null,label:null},t):wt({title:!1,tick:null,label:null,grid:null},t)}function zpt(t){return(e,n)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:a,columnValuesLength:o}=e;if(r!==i-1)return MS(t,n);const s=a!==o-1?!1:void 0,l=n.length?void 0:null;return wt({title:s,grid:l},t)}}function Fpt(t){return(e,n)=>{const{rowIndex:r,columnIndex:i}=e;if(i!==0)return MS(t,n);const a=r!==0?!1:void 0,o=n.length?void 0:null;return wt({title:a,grid:o},t)}}function qN(t,e){return typeof t=="function"?t:t===null||t===!1?()=>null:e(t)}const IF=()=>t=>[Q1.of(t).call(p3).call(f3).call(d3).call(Bpt).call(h3).call(NF).call(DF).value()];IF.props={};var dk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Upt=Z1(t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),Hpt=zh(t=>{const{data:e,children:n,x:r=0,y:i=0,key:a}=t;return{children:(s,l,c)=>{const{x:u,y:d}=l,{paddingLeft:h,paddingTop:v,marginLeft:g,marginTop:b}=c,{domain:x}=u.getOptions(),{domain:_}=d.getOptions(),w=Rh(s),E=s.map(({points:C})=>YC(C)),A=s.map(({x:C,y:R})=>[u.invert(C),d.invert(R)]),M=A.map(([C,R])=>({columnField:C,columnIndex:x.indexOf(C),columnValue:C,columnValuesLength:x.length,rowField:R,rowIndex:_.indexOf(R),rowValue:R,rowValuesLength:_.length})),T=M.map(C=>Array.isArray(n)?n:[n(C)].flat(1));return w.flatMap(C=>{const[R,j,I,D]=E[C],[B,$]=A[C],U=M[C];return T[C].map(F=>{var H,Y;const{scale:W,key:V,encode:J,axis:tt,interaction:nt}=F,lt=dk(F,["scale","key","encode","axis","interaction"]),at=(H=W?.y)===null||H===void 0?void 0:H.guide,ft=(Y=W?.x)===null||Y===void 0?void 0:Y.guide,mt={x:{facet:!1},y:{facet:!1}},ct={x:Ypt(ft)(U,e),y:qpt(at)(U,e)},St={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:e,parentKey:a,key:`${V}-${C}`,x:R+h+r+g,y:j+v+i+b,width:I,height:D,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:wt(mt,W),axis:wt(St,tt,ct),legend:!1,encode:wt({},J,{x:B,y:$}),interaction:wt({},nt,{legendFilter:!1})},lt)})})}}}),Gpt=zh(t=>{const{encode:e}=t,n=dk(t,["encode"]),{position:r=[],x:i=r,y:a=[...r].reverse()}=e,o=dk(e,["position","x","y"]),s=[];for(const l of[i].flat(1))for(const c of[a].flat(1))s.push({$x:l,$y:c});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},o),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},[i].flat(1).length===1&&{x:{paddingInner:0}}),[a].flat(1).length===1&&{y:{paddingInner:0}})})});function Ypt(t){return typeof t=="function"?t:t===null?()=>null:(e,n)=>{const{rowIndex:r,rowValuesLength:i}=e;if(r!==i-1)return MS(t,n)}}function qpt(t){return typeof t=="function"?t:t===null?()=>null:(e,n)=>{const{columnIndex:r}=e;if(r!==0)return MS(t,n)}}const Wpt=()=>t=>[Q1.of(t).call(p3).call(f3).call(Hpt).call(Gpt).call(d3).call(h3).call(Upt).value()];var Xpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Vpt=Z1(t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),Kpt=Z1(t=>({coordinate:{type:"polar"}})),Zpt=t=>{const{encode:e}=t,n=Xpt(t,["encode"]),{position:r}=e;return Object.assign(Object.assign({},n),{encode:{x:r}})};function WN(t){return e=>null}function Qpt(t){const{points:e}=t,[n,r,i,a]=e,o=Sr(n,a),s=Pr(n,a),l=Pr(r,i),c=OI(s,l),u=1/Math.sin(c/2),d=o/(1+u),h=d*Math.sqrt(2),[v,g]=i,x=og(s)+c/2,_=d*u,w=v+_*Math.sin(x),E=g-_*Math.cos(x);return[w-h/2,E-h/2,h,h]}const Jpt=()=>t=>[Q1.of(t).call(p3).call(Zpt).call(f3).call(Kpt).call(NF).call(DF,Qpt,WN,WN,{frame:!1}).call(d3).call(h3).call(Vpt).value()];function tvt(t,e,n){const i=n,a=[0,i],o=[-i+1,1];if(t==="normal")return a;if(t==="reverse")return o;if(t==="alternate")return e%2===0?a:o;if(t==="reverse-alternate")return e%2===0?o:a}function evt(t,e,n){const r=[t];for(;r.length;){const i=r.pop();i.animate=wt({enter:{duration:e},update:{duration:e,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:e}},i.animate||{});const{children:a}=i;Array.isArray(a)&&r.push(...a)}return t}const BF=()=>t=>{const{children:e=[],duration:n=1e3,iterationCount:r=1,direction:i="normal",easing:a="ease-in-out-sine"}=t,o=e.length;if(!Array.isArray(e)||o===0)return[];const{key:s}=e[0],l=e.map(c=>Object.assign(Object.assign({},c),{key:s})).map(c=>evt(c,n,a));return function*(){let c=0,u;for(;r==="infinite"||c<r;){const[d,h]=tvt(i,c,o);for(let v=d;v<h;v+=1){const g=Math.abs(v);u!==g&&(yield l[g]),u=g}c++}}};BF.props={};var nvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $F=()=>t=>{const{type:e,data:n,scale:r,encode:i,style:a,animate:o,key:s,state:l,tooltip:c}=t,u=nvt(t,["type","data","scale","encode","style","animate","key","state","tooltip"]);return[Object.assign(Object.assign({type:"geoView"},u),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:i,style:a,animate:o,state:l,tooltip:c}]})]};$F.props={};var ge=1e-6,zF=1e-12,Qe=Math.PI,Br=Qe/2,XN=Qe/4,_o=Qe*2,na=180/Qe,kr=Qe/180,xn=Math.abs,Lg=Math.atan,zc=Math.atan2,Ge=Math.cos,M_=Math.ceil,FF=Math.exp,rO=Math.log,hM=Math.pow,ke=Math.sin,Vo=Math.sign||function(t){return t>0?1:t<0?-1:0},io=Math.sqrt,v3=Math.tan;function UF(t){return t>1?0:t<-1?Qe:Math.acos(t)}function ns(t){return t>1?Br:t<-1?-Br:Math.asin(t)}function Ko(){}function iO(t,e){t&&KN.hasOwnProperty(t.type)&&KN[t.type](t,e)}var VN={Feature:function(t,e){iO(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)iO(n[r].geometry,e)}},KN={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){hk(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)hk(n[r],e,0)},Polygon:function(t,e){ZN(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ZN(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)iO(n[r],e)}};function hk(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function ZN(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)hk(t[n],e,1);e.polygonEnd()}function Cv(t,e){t&&VN.hasOwnProperty(t.type)?VN[t.type](t,e):iO(t,e)}function pk(t){return[zc(t[1],t[0]),ns(t[2])]}function yg(t){var e=t[0],n=t[1],r=Ge(n);return[r*Ge(e),r*ke(e),ke(n)]}function T_(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function aO(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function pM(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function k_(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function vk(t){var e=io(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function gk(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function yk(t,e){return xn(t)>Qe&&(t-=Math.round(t/_o)*_o),[t,e]}yk.invert=yk;function HF(t,e,n){return(t%=_o)?e||n?gk(JN(t),t4(e,n)):JN(t):e||n?t4(e,n):yk}function QN(t){return function(e,n){return e+=t,xn(e)>Qe&&(e-=Math.round(e/_o)*_o),[e,n]}}function JN(t){var e=QN(t);return e.invert=QN(-t),e}function t4(t,e){var n=Ge(t),r=ke(t),i=Ge(e),a=ke(e);function o(s,l){var c=Ge(l),u=Ge(s)*c,d=ke(s)*c,h=ke(l),v=h*n+u*r;return[zc(d*i-v*a,u*n-h*r),ns(v*i+d*a)]}return o.invert=function(s,l){var c=Ge(l),u=Ge(s)*c,d=ke(s)*c,h=ke(l),v=h*i-d*a;return[zc(d*i+h*a,u*n+v*r),ns(v*n-u*r)]},o}function rvt(t){t=HF(t[0]*kr,t[1]*kr,t.length>2?t[2]*kr:0);function e(n){return n=t(n[0]*kr,n[1]*kr),n[0]*=na,n[1]*=na,n}return e.invert=function(n){return n=t.invert(n[0]*kr,n[1]*kr),n[0]*=na,n[1]*=na,n},e}function ivt(t,e,n,r,i,a){if(n){var o=Ge(e),s=ke(e),l=r*n;i==null?(i=e+r*_o,a=e-l/2):(i=e4(o,i),a=e4(o,a),(r>0?i<a:i>a)&&(i+=r*_o));for(var c,u=i;r>0?u>a:u<a;u-=l)c=pk([o,-s*Ge(u),-s*ke(u)]),t.point(c[0],c[1])}}function e4(t,e){e=yg(e),e[0]-=t,vk(e);var n=UF(-e[1]);return((-e[2]<0?-n:n)+_o-ge)%_o}function GF(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ko,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function nw(t,e){return xn(t[0]-e[0])<ge&&xn(t[1]-e[1])<ge}function C_(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function YF(t,e,n,r,i){var a=[],o=[],s,l;if(t.forEach(function(g){if(!((b=g.length-1)<=0)){var b,x=g[0],_=g[b],w;if(nw(x,_)){if(!x[2]&&!_[2]){for(i.lineStart(),s=0;s<b;++s)i.point((x=g[s])[0],x[1]);i.lineEnd();return}_[0]+=2*ge}a.push(w=new C_(x,g,null,!0)),o.push(w.o=new C_(x,null,w,!1)),a.push(w=new C_(_,g,null,!1)),o.push(w.o=new C_(_,null,w,!0))}}),!!a.length){for(o.sort(e),n4(a),n4(o),s=0,l=o.length;s<l;++s)o[s].e=n=!n;for(var c=a[0],u,d;;){for(var h=c,v=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(v)for(s=0,l=u.length;s<l;++s)i.point((d=u[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(v)for(u=h.p.z,s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,v=!v}while(!h.v);i.lineEnd()}}}function n4(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function vM(t){return xn(t[0])<=Qe?t[0]:Vo(t[0])*((xn(t[0])+Qe)%_o-Qe)}function avt(t,e){var n=vM(e),r=e[1],i=ke(r),a=[ke(n),-Ge(n),0],o=0,s=0,l=new gh;i===1?r=Br+ge:i===-1&&(r=-Br-ge);for(var c=0,u=t.length;c<u;++c)if(h=(d=t[c]).length)for(var d,h,v=d[h-1],g=vM(v),b=v[1]/2+XN,x=ke(b),_=Ge(b),w=0;w<h;++w,g=A,x=T,_=C,v=E){var E=d[w],A=vM(E),M=E[1]/2+XN,T=ke(M),C=Ge(M),R=A-g,j=R>=0?1:-1,I=j*R,D=I>Qe,B=x*T;if(l.add(zc(B*j*ke(I),_*C+B*Ge(I))),o+=D?R+j*_o:R,D^g>=n^A>=n){var $=aO(yg(v),yg(E));vk($);var U=aO(a,$);vk(U);var G=(D^R>=0?-1:1)*ns(U[2]);(r>G||r===G&&($[0]||$[1]))&&(s+=D^R>=0?1:-1)}}return(o<-ge||o<ge&&l<-zF)^s&1}function qF(t,e,n,r){return function(i){var a=e(i),o=GF(),s=e(o),l=!1,c,u,d,h={point:v,lineStart:b,lineEnd:x,polygonStart:function(){h.point=_,h.lineStart=w,h.lineEnd=E,u=[],c=[]},polygonEnd:function(){h.point=v,h.lineStart=b,h.lineEnd=x,u=f8(u);var A=avt(c,r);u.length?(l||(i.polygonStart(),l=!0),YF(u,svt,A,n,i)):A&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v(A,M){t(A,M)&&i.point(A,M)}function g(A,M){a.point(A,M)}function b(){h.point=g,a.lineStart()}function x(){h.point=v,a.lineEnd()}function _(A,M){d.push([A,M]),s.point(A,M)}function w(){s.lineStart(),d=[]}function E(){_(d[0][0],d[0][1]),s.lineEnd();var A=s.clean(),M=o.result(),T,C=M.length,R,j,I;if(d.pop(),c.push(d),d=null,!!C){if(A&1){if(j=M[0],(R=j.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),T=0;T<R;++T)i.point((I=j[T])[0],I[1]);i.lineEnd()}return}C>1&&A&2&&M.push(M.pop().concat(M.shift())),u.push(M.filter(ovt))}}return h}}function ovt(t){return t.length>1}function svt(t,e){return((t=t.x)[0]<0?t[1]-Br-ge:Br-t[1])-((e=e.x)[0]<0?e[1]-Br-ge:Br-e[1])}const r4=qF(function(){return!0},lvt,uvt,[-Qe,-Br]);function lvt(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?Qe:-Qe,l=xn(a-e);xn(l-Qe)<ge?(t.point(e,n=(n+o)/2>0?Br:-Br),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&l>=Qe&&(xn(e-r)<ge&&(e-=r*ge),xn(a-s)<ge&&(a-=s*ge),n=cvt(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function cvt(t,e,n,r){var i,a,o=ke(t-n);return xn(o)>ge?Lg((ke(e)*(a=Ge(r))*ke(n)-ke(r)*(i=Ge(e))*ke(t))/(i*a*o)):(e+r)/2}function uvt(t,e,n,r){var i;if(t==null)i=n*Br,r.point(-Qe,i),r.point(0,i),r.point(Qe,i),r.point(Qe,0),r.point(Qe,-i),r.point(0,-i),r.point(-Qe,-i),r.point(-Qe,0),r.point(-Qe,i);else if(xn(t[0]-e[0])>ge){var a=t[0]<e[0]?Qe:-Qe;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function fvt(t){var e=Ge(t),n=2*kr,r=e>0,i=xn(e)>ge;function a(u,d,h,v){ivt(v,t,n,h,u,d)}function o(u,d){return Ge(u)*Ge(d)>e}function s(u){var d,h,v,g,b;return{lineStart:function(){g=v=!1,b=1},point:function(x,_){var w=[x,_],E,A=o(x,_),M=r?A?0:c(x,_):A?c(x+(x<0?Qe:-Qe),_):0;if(!d&&(g=v=A)&&u.lineStart(),A!==v&&(E=l(d,w),(!E||nw(d,E)||nw(w,E))&&(w[2]=1)),A!==v)b=0,A?(u.lineStart(),E=l(w,d),u.point(E[0],E[1])):(E=l(d,w),u.point(E[0],E[1],2),u.lineEnd()),d=E;else if(i&&d&&r^A){var T;!(M&h)&&(T=l(w,d,!0))&&(b=0,r?(u.lineStart(),u.point(T[0][0],T[0][1]),u.point(T[1][0],T[1][1]),u.lineEnd()):(u.point(T[1][0],T[1][1]),u.lineEnd(),u.lineStart(),u.point(T[0][0],T[0][1],3)))}A&&(!d||!nw(d,w))&&u.point(w[0],w[1]),d=w,v=A,h=M},lineEnd:function(){v&&u.lineEnd(),d=null},clean:function(){return b|(g&&v)<<1}}}function l(u,d,h){var v=yg(u),g=yg(d),b=[1,0,0],x=aO(v,g),_=T_(x,x),w=x[0],E=_-w*w;if(!E)return!h&&u;var A=e*_/E,M=-e*w/E,T=aO(b,x),C=k_(b,A),R=k_(x,M);pM(C,R);var j=T,I=T_(C,j),D=T_(j,j),B=I*I-D*(T_(C,C)-1);if(!(B<0)){var $=io(B),U=k_(j,(-I-$)/D);if(pM(U,C),U=pk(U),!h)return U;var G=u[0],F=d[0],H=u[1],Y=d[1],W;F<G&&(W=G,G=F,F=W);var V=F-G,J=xn(V-Qe)<ge,tt=J||V<ge;if(!J&&Y<H&&(W=H,H=Y,Y=W),tt?J?H+Y>0^U[1]<(xn(U[0]-G)<ge?H:Y):H<=U[1]&&U[1]<=Y:V>Qe^(G<=U[0]&&U[0]<=F)){var nt=k_(j,(-I+$)/D);return pM(nt,C),[U,pk(nt)]}}}function c(u,d){var h=r?t:Qe-t,v=0;return u<-h?v|=1:u>h&&(v|=2),d<-h?v|=4:d>h&&(v|=8),v}return qF(o,s,a,r?[0,-t]:[-Qe,t-Qe])}function dvt(t,e,n,r,i,a){var o=t[0],s=t[1],l=e[0],c=e[1],u=0,d=1,h=l-o,v=c-s,g;if(g=n-o,!(!h&&g>0)){if(g/=h,h<0){if(g<u)return;g<d&&(d=g)}else if(h>0){if(g>d)return;g>u&&(u=g)}if(g=i-o,!(!h&&g<0)){if(g/=h,h<0){if(g>d)return;g>u&&(u=g)}else if(h>0){if(g<u)return;g<d&&(d=g)}if(g=r-s,!(!v&&g>0)){if(g/=v,v<0){if(g<u)return;g<d&&(d=g)}else if(v>0){if(g>d)return;g>u&&(u=g)}if(g=a-s,!(!v&&g<0)){if(g/=v,v<0){if(g>d)return;g>u&&(u=g)}else if(v>0){if(g<u)return;g<d&&(d=g)}return u>0&&(t[0]=o+u*h,t[1]=s+u*v),d<1&&(e[0]=o+d*h,e[1]=s+d*v),!0}}}}}var _m=1e9,R_=-_m;function WF(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,h){var v=0,g=0;if(c==null||(v=o(c,d))!==(g=o(u,d))||l(c,u)<0^d>0)do h.point(v===0||v===3?t:n,v>1?r:e);while((v=(v+d+4)%4)!==g);else h.point(u[0],u[1])}function o(c,u){return xn(c[0]-t)<ge?u>0?0:3:xn(c[0]-n)<ge?u>0?2:1:xn(c[1]-e)<ge?u>0?1:0:u>0?3:2}function s(c,u){return l(c.x,u.x)}function l(c,u){var d=o(c,1),h=o(u,1);return d!==h?d-h:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=GF(),h,v,g,b,x,_,w,E,A,M,T,C={point:R,lineStart:B,lineEnd:$,polygonStart:I,polygonEnd:D};function R(G,F){i(G,F)&&u.point(G,F)}function j(){for(var G=0,F=0,H=v.length;F<H;++F)for(var Y=v[F],W=1,V=Y.length,J=Y[0],tt,nt,lt=J[0],at=J[1];W<V;++W)tt=lt,nt=at,J=Y[W],lt=J[0],at=J[1],nt<=r?at>r&&(lt-tt)*(r-nt)>(at-nt)*(t-tt)&&++G:at<=r&&(lt-tt)*(r-nt)<(at-nt)*(t-tt)&&--G;return G}function I(){u=d,h=[],v=[],T=!0}function D(){var G=j(),F=T&&G,H=(h=f8(h)).length;(F||H)&&(c.polygonStart(),F&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),H&&YF(h,s,G,a,c),c.polygonEnd()),u=c,h=v=g=null}function B(){C.point=U,v&&v.push(g=[]),M=!0,A=!1,w=E=NaN}function $(){h&&(U(b,x),_&&A&&d.rejoin(),h.push(d.result())),C.point=R,A&&u.lineEnd()}function U(G,F){var H=i(G,F);if(v&&g.push([G,F]),M)b=G,x=F,_=H,M=!1,H&&(u.lineStart(),u.point(G,F));else if(H&&A)u.point(G,F);else{var Y=[w=Math.max(R_,Math.min(_m,w)),E=Math.max(R_,Math.min(_m,E))],W=[G=Math.max(R_,Math.min(_m,G)),F=Math.max(R_,Math.min(_m,F))];dvt(Y,W,t,e,n,r)?(A||(u.lineStart(),u.point(Y[0],Y[1])),u.point(W[0],W[1]),H||u.lineEnd(),T=!1):H&&(u.lineStart(),u.point(G,F),T=!1)}w=G,E=F,A=H}return C}}function i4(t,e,n){var r=Pv(t,e-ge,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function a4(t,e,n){var r=Pv(t,e-ge,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function hvt(){var t,e,n,r,i,a,o,s,l=10,c=l,u=90,d=360,h,v,g,b,x=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return Pv(M_(r/u)*u,n,u).map(g).concat(Pv(M_(s/d)*d,o,d).map(b)).concat(Pv(M_(e/l)*l,t,l).filter(function(E){return xn(E%u)>ge}).map(h)).concat(Pv(M_(a/c)*c,i,c).filter(function(E){return xn(E%d)>ge}).map(v))}return _.lines=function(){return w().map(function(E){return{type:"LineString",coordinates:E}})},_.outline=function(){return{type:"Polygon",coordinates:[g(r).concat(b(o).slice(1),g(n).reverse().slice(1),b(s).reverse().slice(1))]}},_.extent=function(E){return arguments.length?_.extentMajor(E).extentMinor(E):_.extentMinor()},_.extentMajor=function(E){return arguments.length?(r=+E[0][0],n=+E[1][0],s=+E[0][1],o=+E[1][1],r>n&&(E=r,r=n,n=E),s>o&&(E=s,s=o,o=E),_.precision(x)):[[r,s],[n,o]]},_.extentMinor=function(E){return arguments.length?(e=+E[0][0],t=+E[1][0],a=+E[0][1],i=+E[1][1],e>t&&(E=e,e=t,t=E),a>i&&(E=a,a=i,i=E),_.precision(x)):[[e,a],[t,i]]},_.step=function(E){return arguments.length?_.stepMajor(E).stepMinor(E):_.stepMinor()},_.stepMajor=function(E){return arguments.length?(u=+E[0],d=+E[1],_):[u,d]},_.stepMinor=function(E){return arguments.length?(l=+E[0],c=+E[1],_):[l,c]},_.precision=function(E){return arguments.length?(x=+E,h=i4(a,i,90),v=a4(e,t,x),g=i4(s,o,90),b=a4(r,n,x),_):x},_.extentMajor([[-180,-90+ge],[180,90-ge]]).extentMinor([[-180,-80-ge],[180,80+ge]])}function pvt(){return hvt()()}const b1=t=>t;var gM=new gh,mk=new gh,XF,VF,bk,xk,Cc={point:Ko,lineStart:Ko,lineEnd:Ko,polygonStart:function(){Cc.lineStart=vvt,Cc.lineEnd=yvt},polygonEnd:function(){Cc.lineStart=Cc.lineEnd=Cc.point=Ko,gM.add(xn(mk)),mk=new gh},result:function(){var t=gM/2;return gM=new gh,t}};function vvt(){Cc.point=gvt}function gvt(t,e){Cc.point=KF,XF=bk=t,VF=xk=e}function KF(t,e){mk.add(xk*t-bk*e),bk=t,xk=e}function yvt(){KF(XF,VF)}var mg=1/0,oO=mg,x1=-mg,sO=x1,lO={point:mvt,lineStart:Ko,lineEnd:Ko,polygonStart:Ko,polygonEnd:Ko,result:function(){var t=[[mg,oO],[x1,sO]];return x1=sO=-(oO=mg=1/0),t}};function mvt(t,e){t<mg&&(mg=t),t>x1&&(x1=t),e<oO&&(oO=e),e>sO&&(sO=e)}var _k=0,wk=0,wm=0,cO=0,uO=0,Nv=0,Ok=0,Sk=0,Om=0,ZF,QF,Cl,Rl,Xo={point:Sh,lineStart:o4,lineEnd:s4,polygonStart:function(){Xo.lineStart=_vt,Xo.lineEnd=wvt},polygonEnd:function(){Xo.point=Sh,Xo.lineStart=o4,Xo.lineEnd=s4},result:function(){var t=Om?[Ok/Om,Sk/Om]:Nv?[cO/Nv,uO/Nv]:wm?[_k/wm,wk/wm]:[NaN,NaN];return _k=wk=wm=cO=uO=Nv=Ok=Sk=Om=0,t}};function Sh(t,e){_k+=t,wk+=e,++wm}function o4(){Xo.point=bvt}function bvt(t,e){Xo.point=xvt,Sh(Cl=t,Rl=e)}function xvt(t,e){var n=t-Cl,r=e-Rl,i=io(n*n+r*r);cO+=i*(Cl+t)/2,uO+=i*(Rl+e)/2,Nv+=i,Sh(Cl=t,Rl=e)}function s4(){Xo.point=Sh}function _vt(){Xo.point=Ovt}function wvt(){JF(ZF,QF)}function Ovt(t,e){Xo.point=JF,Sh(ZF=Cl=t,QF=Rl=e)}function JF(t,e){var n=t-Cl,r=e-Rl,i=io(n*n+r*r);cO+=i*(Cl+t)/2,uO+=i*(Rl+e)/2,Nv+=i,i=Rl*t-Cl*e,Ok+=i*(Cl+t),Sk+=i*(Rl+e),Om+=i*3,Sh(Cl=t,Rl=e)}function tU(t){this._context=t}tU.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,_o);break}}},result:Ko};var Ek=new gh,yM,eU,nU,Sm,Em,_1={point:Ko,lineStart:function(){_1.point=Svt},lineEnd:function(){yM&&rU(eU,nU),_1.point=Ko},polygonStart:function(){yM=!0},polygonEnd:function(){yM=null},result:function(){var t=+Ek;return Ek=new gh,t}};function Svt(t,e){_1.point=rU,eU=Sm=t,nU=Em=e}function rU(t,e){Sm-=t,Em-=e,Ek.add(io(Sm*Sm+Em*Em)),Sm=t,Em=e}let l4,fO,c4,u4;class f4{constructor(e){this._append=e==null?iU:Evt(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==c4||this._append!==fO){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,c4=r,fO=this._append,u4=this._,this._=i}this._+=u4;break}}}result(){const e=this._;return this._="",e.length?e:null}}function iU(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Evt(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return iU;if(e!==l4){const n=10**e;l4=e,fO=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return fO}function aU(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Cv(s,i(a))),a.result()}return o.area=function(s){return Cv(s,i(Cc)),Cc.result()},o.measure=function(s){return Cv(s,i(_1)),_1.result()},o.bounds=function(s){return Cv(s,i(lO)),lO.result()},o.centroid=function(s){return Cv(s,i(Xo)),Xo.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,b1):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new f4(n)):new tU(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);n=l}return e===null&&(a=new f4(n)),o},o.projection(t).digits(n).context(e)}function TS(t){return function(e){var n=new Ak;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ak(){}Ak.prototype={constructor:Ak,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function g3(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Cv(n,t.stream(lO)),e(lO.result()),r!=null&&t.clipExtent(r),t}function kS(t,e,n){return g3(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,l])},n)}function y3(t,e,n){return kS(t,[[0,0],e],n)}function m3(t,e,n){return g3(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function b3(t,e,n){return g3(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var d4=16,Avt=Ge(30*kr);function h4(t,e){return+e?Tvt(t,e):Mvt(t)}function Mvt(t){return TS({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Tvt(t,e){function n(r,i,a,o,s,l,c,u,d,h,v,g,b,x){var _=c-r,w=u-i,E=_*_+w*w;if(E>4*e&&b--){var A=o+h,M=s+v,T=l+g,C=io(A*A+M*M+T*T),R=ns(T/=C),j=xn(xn(T)-1)<ge||xn(a-d)<ge?(a+d)/2:zc(M,A),I=t(j,R),D=I[0],B=I[1],$=D-r,U=B-i,G=w*$-_*U;(G*G/E>e||xn((_*$+w*U)/E-.5)>.3||o*h+s*v+l*g<Avt)&&(n(r,i,a,o,s,l,D,B,j,A/=C,M/=C,T,b,x),x.point(D,B),n(D,B,j,A,M,T,c,u,d,h,v,g,b,x))}}return function(r){var i,a,o,s,l,c,u,d,h,v,g,b,x={point:_,lineStart:w,lineEnd:A,polygonStart:function(){r.polygonStart(),x.lineStart=M},polygonEnd:function(){r.polygonEnd(),x.lineStart=w}};function _(R,j){R=t(R,j),r.point(R[0],R[1])}function w(){d=NaN,x.point=E,r.lineStart()}function E(R,j){var I=yg([R,j]),D=t(R,j);n(d,h,u,v,g,b,d=D[0],h=D[1],u=R,v=I[0],g=I[1],b=I[2],d4,r),r.point(d,h)}function A(){x.point=_,r.lineEnd()}function M(){w(),x.point=T,x.lineEnd=C}function T(R,j){E(i=R,j),a=d,o=h,s=v,l=g,c=b,x.point=E}function C(){n(d,h,u,v,g,b,a,o,i,s,l,c,d4,r),x.lineEnd=A,A()}return x}}var kvt=TS({point:function(t,e){this.stream.point(t*kr,e*kr)}});function Cvt(t){return TS({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Rvt(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function p4(t,e,n,r,i,a){if(!a)return Rvt(t,e,n,r,i);var o=Ge(a),s=ke(a),l=o*t,c=s*t,u=o/t,d=s/t,h=(s*n-o*e)/t,v=(s*e+o*n)/t;function g(b,x){return b*=r,x*=i,[l*b-c*x+e,n-c*b-l*x]}return g.invert=function(b,x){return[r*(u*b-d*x+h),i*(v-d*b-u*x)]},g}function Vl(t){return x3(function(){return t})()}function x3(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,l=0,c=0,u,d=0,h=1,v=1,g=null,b=r4,x=null,_,w,E,A=b1,M=.5,T,C,R,j,I;function D(G){return R(G[0]*kr,G[1]*kr)}function B(G){return G=R.invert(G[0],G[1]),G&&[G[0]*na,G[1]*na]}D.stream=function(G){return j&&I===G?j:j=kvt(Cvt(u)(b(T(A(I=G)))))},D.preclip=function(G){return arguments.length?(b=G,g=void 0,U()):b},D.postclip=function(G){return arguments.length?(A=G,x=_=w=E=null,U()):A},D.clipAngle=function(G){return arguments.length?(b=+G?fvt(g=G*kr):(g=null,r4),U()):g*na},D.clipExtent=function(G){return arguments.length?(A=G==null?(x=_=w=E=null,b1):WF(x=+G[0][0],_=+G[0][1],w=+G[1][0],E=+G[1][1]),U()):x==null?null:[[x,_],[w,E]]},D.scale=function(G){return arguments.length?(n=+G,$()):n},D.translate=function(G){return arguments.length?(r=+G[0],i=+G[1],$()):[r,i]},D.center=function(G){return arguments.length?(a=G[0]%360*kr,o=G[1]%360*kr,$()):[a*na,o*na]},D.rotate=function(G){return arguments.length?(s=G[0]%360*kr,l=G[1]%360*kr,c=G.length>2?G[2]%360*kr:0,$()):[s*na,l*na,c*na]},D.angle=function(G){return arguments.length?(d=G%360*kr,$()):d*na},D.reflectX=function(G){return arguments.length?(h=G?-1:1,$()):h<0},D.reflectY=function(G){return arguments.length?(v=G?-1:1,$()):v<0},D.precision=function(G){return arguments.length?(T=h4(C,M=G*G),U()):io(M)},D.fitExtent=function(G,F){return kS(D,G,F)},D.fitSize=function(G,F){return y3(D,G,F)},D.fitWidth=function(G,F){return m3(D,G,F)},D.fitHeight=function(G,F){return b3(D,G,F)};function $(){var G=p4(n,0,0,h,v,d).apply(null,e(a,o)),F=p4(n,r-G[0],i-G[1],h,v,d);return u=HF(s,l,c),C=gk(e,F),R=gk(u,C),T=h4(C,M),U()}function U(){return j=I=null,D}return function(){return e=t.apply(this,arguments),D.invert=e.invert&&B,$()}}function _3(t){var e=0,n=Qe/3,r=x3(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*kr,n=a[1]*kr):[e*na,n*na]},i}function Pvt(t){var e=Ge(t);function n(r,i){return[r*e,ke(i)/e]}return n.invert=function(r,i){return[r/e,ns(i*e)]},n}function oU(t,e){var n=ke(t),r=(n+ke(e))/2;if(xn(r)<ge)return Pvt(t);var i=1+n*(2*r-n),a=io(i)/r;function o(s,l){var c=io(i-2*r*ke(l))/r;return[c*ke(s*=r),a-c*Ge(s)]}return o.invert=function(s,l){var c=a-l,u=zc(s,xn(c))*Vo(c);return c*r<0&&(u-=Qe*Vo(s)*Vo(c)),[u/r,ns((i-(s*s+c*c)*r*r)/(2*r))]},o}function dO(){return _3(oU).scale(155.424).center([0,33.6442])}function sU(){return dO().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jvt(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Lvt(){var t,e,n=sU(),r,i=dO().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=dO().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,l,c={point:function(h,v){l=[h,v]}};function u(h){var v=h[0],g=h[1];return l=null,r.point(v,g),l||(a.point(v,g),l)||(s.point(v,g),l)}u.invert=function(h){var v=n.scale(),g=n.translate(),b=(h[0]-g[0])/v,x=(h[1]-g[1])/v;return(x>=.12&&x<.234&&b>=-.425&&b<-.214?i:x>=.166&&x<.234&&b>=-.214&&b<-.115?o:n).invert(h)},u.stream=function(h){return t&&e===h?t:t=jvt([n.stream(e=h),i.stream(h),o.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),o.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),o.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var v=n.scale(),g=+h[0],b=+h[1];return r=n.translate(h).clipExtent([[g-.455*v,b-.238*v],[g+.455*v,b+.238*v]]).stream(c),a=i.translate([g-.307*v,b+.201*v]).clipExtent([[g-.425*v+ge,b+.12*v+ge],[g-.214*v-ge,b+.234*v-ge]]).stream(c),s=o.translate([g-.205*v,b+.212*v]).clipExtent([[g-.214*v+ge,b+.166*v+ge],[g-.115*v-ge,b+.234*v-ge]]).stream(c),d()},u.fitExtent=function(h,v){return kS(u,h,v)},u.fitSize=function(h,v){return y3(u,h,v)},u.fitWidth=function(h,v){return m3(u,h,v)},u.fitHeight=function(h,v){return b3(u,h,v)};function d(){return t=e=null,u}return u.scale(1070)}function lU(t){return function(e,n){var r=Ge(e),i=Ge(n),a=t(r*i);return a===1/0?[2,0]:[a*i*ke(e),a*ke(n)]}}function J1(t){return function(e,n){var r=io(e*e+n*n),i=t(r),a=ke(i),o=Ge(i);return[zc(e*a,r*o),ns(r&&n*a/r)]}}var w3=lU(function(t){return io(2/(1+t))});w3.invert=J1(function(t){return 2*ns(t/2)});function Nvt(){return Vl(w3).scale(124.75).clipAngle(180-.001)}var O3=lU(function(t){return(t=UF(t))&&t/ke(t)});O3.invert=J1(function(t){return t});function Dvt(){return Vl(O3).scale(79.4188).clipAngle(180-.001)}function tb(t,e){return[t,rO(v3((Br+e)/2))]}tb.invert=function(t,e){return[t,2*Lg(FF(e))-Br]};function Ivt(){return cU(tb).scale(961/_o)}function cU(t){var e=Vl(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,l,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=s=l=c=null:(o=+d[0][0],s=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):o==null?null:[[o,s],[l,c]]};function u(){var d=Qe*r(),h=e(rvt(e.rotate()).invert([0,0]));return a(o==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:t===tb?[[Math.max(h[0]-d,o),s],[Math.min(h[0]+d,l),c]]:[[o,Math.max(h[1]-d,s)],[l,Math.min(h[1]+d,c)]])}return u()}function P_(t){return v3((Br+t)/2)}function uU(t,e){var n=Ge(t),r=t===e?ke(t):rO(n/Ge(e))/rO(P_(e)/P_(t)),i=n*hM(P_(t),r)/r;if(!r)return tb;function a(o,s){i>0?s<-Br+ge&&(s=-Br+ge):s>Br-ge&&(s=Br-ge);var l=i/hM(P_(s),r);return[l*ke(r*o),i-l*Ge(r*o)]}return a.invert=function(o,s){var l=i-s,c=Vo(r)*io(o*o+l*l),u=zc(o,xn(l))*Vo(l);return l*r<0&&(u-=Qe*Vo(o)*Vo(l)),[u/r,2*Lg(hM(i/c,1/r))-Br]},a}function Bvt(){return _3(uU).scale(109.5).parallels([30,30])}function w1(t,e){return[t,e]}w1.invert=w1;function $vt(){return Vl(w1).scale(152.63)}function fU(t,e){var n=Ge(t),r=t===e?ke(t):(n-Ge(e))/(e-t),i=n/r+t;if(xn(r)<ge)return w1;function a(o,s){var l=i-s,c=r*o;return[l*ke(c),i-l*Ge(c)]}return a.invert=function(o,s){var l=i-s,c=zc(o,xn(l))*Vo(l);return l*r<0&&(c-=Qe*Vo(o)*Vo(l)),[c/r,i-Vo(r)*io(o*o+l*l)]},a}function zvt(){return _3(fU).scale(131.154).center([0,13.9389])}var Nm=1.340264,Dm=-.081106,Im=893e-6,Bm=.003796,hO=io(3)/2,Fvt=12;function S3(t,e){var n=ns(hO*ke(e)),r=n*n,i=r*r*r;return[t*Ge(n)/(hO*(Nm+3*Dm*r+i*(7*Im+9*Bm*r))),n*(Nm+Dm*r+i*(Im+Bm*r))]}S3.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,l;a<Fvt&&(s=n*(Nm+Dm*r+i*(Im+Bm*r))-e,l=Nm+3*Dm*r+i*(7*Im+9*Bm*r),n-=o=s/l,r=n*n,i=r*r*r,!(xn(o)<zF));++a);return[hO*t*(Nm+3*Dm*r+i*(7*Im+9*Bm*r))/Ge(n),ns(ke(n)/hO)]};function Uvt(){return Vl(S3).scale(177.158)}function E3(t,e){var n=Ge(e),r=Ge(t)*n;return[n*ke(t)/r,ke(e)/r]}E3.invert=J1(Lg);function Hvt(){return Vl(E3).scale(144.049).clipAngle(60)}function Gvt(){var t=1,e=0,n=0,r=1,i=1,a=0,o,s,l=null,c,u,d,h=1,v=1,g=TS({point:function(A,M){var T=E([A,M]);this.stream.point(T[0],T[1])}}),b=b1,x,_;function w(){return h=t*r,v=t*i,x=_=null,E}function E(A){var M=A[0]*h,T=A[1]*v;if(a){var C=T*o-M*s;M=M*o+T*s,T=C}return[M+e,T+n]}return E.invert=function(A){var M=A[0]-e,T=A[1]-n;if(a){var C=T*o+M*s;M=M*o-T*s,T=C}return[M/h,T/v]},E.stream=function(A){return x&&_===A?x:x=g(b(_=A))},E.postclip=function(A){return arguments.length?(b=A,l=c=u=d=null,w()):b},E.clipExtent=function(A){return arguments.length?(b=A==null?(l=c=u=d=null,b1):WF(l=+A[0][0],c=+A[0][1],u=+A[1][0],d=+A[1][1]),w()):l==null?null:[[l,c],[u,d]]},E.scale=function(A){return arguments.length?(t=+A,w()):t},E.translate=function(A){return arguments.length?(e=+A[0],n=+A[1],w()):[e,n]},E.angle=function(A){return arguments.length?(a=A%360*kr,s=ke(a),o=Ge(a),w()):a*na},E.reflectX=function(A){return arguments.length?(r=A?-1:1,w()):r<0},E.reflectY=function(A){return arguments.length?(i=A?-1:1,w()):i<0},E.fitExtent=function(A,M){return kS(E,A,M)},E.fitSize=function(A,M){return y3(E,A,M)},E.fitWidth=function(A,M){return m3(E,A,M)},E.fitHeight=function(A,M){return b3(E,A,M)},E}function A3(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}A3.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,o=a*a;n-=i=(n*(1.007226+a*(.015085+o*(-.044475+.028874*a-.005916*o)))-e)/(1.007226+a*(.015085*3+o*(-.044475*7+.028874*9*a-.005916*11*o)))}while(xn(i)>ge&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Yvt(){return Vl(A3).scale(175.295)}function M3(t,e){return[Ge(e)*ke(t),ke(e)]}M3.invert=J1(ns);function qvt(){return Vl(M3).scale(249.5).clipAngle(90+ge)}function T3(t,e){var n=Ge(e),r=1+Ge(t)*n;return[n*ke(t)/r,ke(e)/r]}T3.invert=J1(function(t){return 2*Lg(t)});function Wvt(){return Vl(T3).scale(250).clipAngle(142)}function k3(t,e){return[rO(v3((Br+e)/2)),-t]}k3.invert=function(t,e){return[-e,2*Lg(FF(t))-Br]};function Xvt(){var t=cU(k3),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const Vvt=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:sU,geoAlbersUsa:Lvt,geoAzimuthalEqualArea:Nvt,geoAzimuthalEqualAreaRaw:w3,geoAzimuthalEquidistant:Dvt,geoAzimuthalEquidistantRaw:O3,geoConicConformal:Bvt,geoConicConformalRaw:uU,geoConicEqualArea:dO,geoConicEqualAreaRaw:oU,geoConicEquidistant:zvt,geoConicEquidistantRaw:fU,geoEqualEarth:Uvt,geoEqualEarthRaw:S3,geoEquirectangular:$vt,geoEquirectangularRaw:w1,geoGnomonic:Hvt,geoGnomonicRaw:E3,geoIdentity:Gvt,geoMercator:Ivt,geoMercatorRaw:tb,geoNaturalEarth1:Yvt,geoNaturalEarth1Raw:A3,geoOrthographic:qvt,geoOrthographicRaw:M3,geoProjection:Vl,geoProjectionMutator:x3,geoStereographic:Wvt,geoStereographicRaw:T3,geoTransverseMercator:Xvt,geoTransverseMercatorRaw:k3},Symbol.toStringTag,{value:"Module"}));var Kvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Zvt(t){if(typeof t=="function")return t;const e=`geo${gf(t)}`,n=Vvt[e];if(!n)throw new Error(`Unknown coordinate: ${t}`);return n}function Qvt(t){return{type:"FeatureCollection",features:t.flatMap(e=>Jvt(e).features)}}function Jvt(t){const e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const n=e[t.type];if(!n)return null;if(n==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if(n==="feature")return{type:"FeatureCollection",features:[t]};if(n==="featureCollection")return t}function tgt(t,e){var n;for(const[r,i]of Object.entries(e))(n=t[r])===null||n===void 0||n.call(t,i)}function egt(t,e,n,r){const i=()=>{const s=e.filter(dU);return s.find(c=>c.sphere)?{type:"Sphere"}:Qvt(s.filter(c=>!c.sphere).flatMap(c=>c.data.value))},{outline:a=i()}=r,{size:o="fitExtent"}=r;if(o==="fitExtent")return ngt(t,a,n);if(o==="fitWidth")return rgt(t,a,n)}function ngt(t,e,n){const{x:r,y:i,width:a,height:o}=n;t.fitExtent([[r,i],[a,o]],e)}function rgt(t,e,n){const{width:r,height:i}=n,[[a,o],[s,l]]=aU(t.fitWidth(r,e)).bounds(e),c=Math.ceil(l-o),u=Math.min(Math.ceil(s-a),c),d=t.scale()*(u-1)/u,[h,v]=t.translate(),g=v+(i-c)/2;t.scale(d).translate([h,g]).precision(.2)}function igt(t){const{data:e}=t;if(Array.isArray(e))return Object.assign(Object.assign({},t),{data:{value:e}});const{type:n}=e;return n==="graticule10"?Object.assign(Object.assign({},t),{data:{value:[pvt()]}}):n==="sphere"?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function dU(t){return t.type==="geoPath"}const hU=()=>t=>{const{children:e,coordinate:n={}}=t;if(!Array.isArray(e))return[];const{type:r="equalEarth"}=n,i=Kvt(n,["type"]),a=Zvt(r),o=e.map(d=>Object.assign(Object.assign({},d),{data:AS(d.data,t.data)})).map(igt);let s;function l(){return[["custom",(d,h,v,g)=>{const b=a();egt(b,o,{x:d,y:h,width:v,height:g},i),tgt(b,i),s=aU(b);const _=new Ic({domain:[d,d+v]}),w=new Ic({domain:[h,h+g]}),E=M=>{const T=b(M);if(!T)return[null,null];const[C,R]=T;return[_.map(C),w.map(R)]},A=M=>{if(!M)return null;const[T,C]=M,R=[_.invert(T),w.invert(C)];return b.invert(R)};return{transform:M=>E(M),untransform:M=>A(M)}}]]}function c(d){const{style:h,tooltip:v={}}=d;return Object.assign(Object.assign({},d),{type:"path",tooltip:Ww(v,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},h),{d:g=>s(g)||[]})})}const u=d=>dU(d)?c(d):d;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:o.flatMap(u)})]};hU.props={};function agt(t){return rb(t,e=>e.className==="component")}function ogt(t){return rb(t,e=>e.className==="element")}function sgt(t){return rb(t,e=>e.className==="label")}function Ei(t,e,n,r=i=>!0){return i=>{if(!r(i))return;n.emit(`plot:${t}`,i);const{target:a}=i;if(!a)return;const{className:o}=a;if(o==="plot")return;const s=ogt(a),l=agt(a),c=sgt(a),u=s||l||c;if(!u)return;const{className:d,markType:h}=u,v=Object.assign(Object.assign({},i),{nativeEvent:!0});d==="element"?(v.data={data:$C(u,e)},n.emit(`element:${t}`,v),n.emit(`${h}:${t}`,v)):d==="label"?(v.data={data:u.attributes.datum},n.emit(`label:${t}`,v),n.emit(`${o}:${t}`,v)):(n.emit(`component:${t}`,v),n.emit(`${o}:${t}`,v))}}function pU(){return(t,e,n)=>{const{container:r,view:i}=t,a=Ei(bn.CLICK,i,n,C=>C.detail===1),o=Ei(bn.DBLCLICK,i,n,C=>C.detail===2),s=Ei(bn.POINTER_TAP,i,n),l=Ei(bn.POINTER_DOWN,i,n),c=Ei(bn.POINTER_UP,i,n),u=Ei(bn.POINTER_OVER,i,n),d=Ei(bn.POINTER_OUT,i,n),h=Ei(bn.POINTER_MOVE,i,n),v=Ei(bn.POINTER_ENTER,i,n),g=Ei(bn.POINTER_LEAVE,i,n),b=Ei(bn.POINTER_UPOUTSIDE,i,n),x=Ei(bn.DRAG_START,i,n),_=Ei(bn.DRAG,i,n),w=Ei(bn.DRAG_END,i,n),E=Ei(bn.DRAG_ENTER,i,n),A=Ei(bn.DRAG_LEAVE,i,n),M=Ei(bn.DRAG_OVER,i,n),T=Ei(bn.DROP,i,n);return r.addEventListener("click",a),r.addEventListener("click",o),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",c),r.addEventListener("pointerover",u),r.addEventListener("pointerout",d),r.addEventListener("pointermove",h),r.addEventListener("pointerenter",v),r.addEventListener("pointerleave",g),r.addEventListener("pointerupoutside",b),r.addEventListener("dragstart",x),r.addEventListener("drag",_),r.addEventListener("dragend",w),r.addEventListener("dragenter",E),r.addEventListener("dragleave",A),r.addEventListener("dragover",M),r.addEventListener("drop",T),()=>{r.removeEventListener("click",a),r.removeEventListener("click",o),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",u),r.removeEventListener("pointerout",d),r.removeEventListener("pointermove",h),r.removeEventListener("pointerenter",v),r.removeEventListener("pointerleave",g),r.removeEventListener("pointerupoutside",b),r.removeEventListener("dragstart",x),r.removeEventListener("drag",_),r.removeEventListener("dragend",w),r.removeEventListener("dragenter",E),r.removeEventListener("dragleave",A),r.removeEventListener("dragover",M),r.removeEventListener("drop",T)}}}pU.props={reapplyWhenUpdate:!0};function lgt(){return{"component.axisRadar":U7,"component.axisLinear":Sf,"component.axisArc":$7,"component.legendContinuousBlock":G7,"component.legendContinuousBlockSize":Y7,"component.legendContinuousSize":J5,"interaction.event":pU,"composition.mark":LF,"composition.view":jF,"shape.label.label":Qz,"shape.break":l9}}var cgt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function rr(t,e){const n=Object.assign(Object.assign({},lgt()),e),r=a=>{if(typeof a!="string")return a;const o=`${t}.${a}`;return n[o]||ig(`Unknown Component: ${o}`)};return[(a,o)=>{const{type:s}=a,l=cgt(a,["type"]);s||ig("Plot type is required!");const c=r(s);return c?.(l,o)},r]}function vU(t){const{canvas:e,group:n}=t;return e?.document||n?.ownerDocument||ig("Cannot find library document")}var v4=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ugt(t,e,n){const[r]=rr("coordinate",n),{innerHeight:i,innerWidth:a,insetLeft:o,insetTop:s,insetRight:l,insetBottom:c}=t,{coordinates:u=[]}=e,d=vgt(u),h=d[0].type==="cartesian3D",v=Object.assign(Object.assign({},t),{x:o,y:s,width:a-o-l,height:i-c-s,transformations:d.flatMap(r)});return h?new Rpt(v):new kpt(v)}function gU(t,e){const{coordinate:n={},coordinates:r}=t,i=v4(t,["coordinate","coordinates"]);if(r)return t;const{type:a,transform:o=[]}=n,s=v4(n,["type","transform"]);if(!a)return Object.assign(Object.assign({},i),{coordinates:o});const[,l]=rr("coordinate",e),{transform:c=!1}=l(a).props||{};if(c)throw new Error(`Unknown coordinate: ${a}.`);return Object.assign(Object.assign({},i),{coordinates:[Object.assign({type:a},s),...o]})}function Bs(t,e){return t.filter(n=>n.type===e)}function nh(t){return Bs(t,"polar").length>0}function fgt(t){return Bs(t,"helix").length>0}function qv(t){return Bs(t,"transpose").length%2===1}function dgt(t){return Bs(t,"parallel").length>0}function yU(t){return Bs(t,"theta").length>0}function hgt(t){return Bs(t,"reflect").length>0}function $m(t){return Bs(t,"radial").length>0}function mU(t){return Bs(t,"radar").length>0}function pgt(t){return Bs(t,"reflectY").length>0}function vgt(t){return t.find(e=>e.type==="cartesian"||e.type==="cartesian3D")?t:[...t,{type:"cartesian"}]}function De(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const ggt=De("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ygt=De("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),mgt=De("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),bgt=De("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),xgt=De("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_gt=De("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),wgt=De("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ogt=De("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Sgt=De("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Egt=De("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Agt=De("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function CS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function C3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ng(){}var Eh=.7,bg=1/Eh,Wv="\\s*([+-]?\\d+)\\s*",O1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mgt=/^#([0-9a-f]{3,8})$/,Tgt=new RegExp(`^rgb\\(${Wv},${Wv},${Wv}\\)$`),kgt=new RegExp(`^rgb\\(${Fl},${Fl},${Fl}\\)$`),Cgt=new RegExp(`^rgba\\(${Wv},${Wv},${Wv},${O1}\\)$`),Rgt=new RegExp(`^rgba\\(${Fl},${Fl},${Fl},${O1}\\)$`),Pgt=new RegExp(`^hsl\\(${O1},${Fl},${Fl}\\)$`),jgt=new RegExp(`^hsla\\(${O1},${Fl},${Fl},${O1}\\)$`),g4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CS(Ng,R3,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y4,formatHex:y4,formatHex8:Lgt,formatHsl:Ngt,formatRgb:m4,toString:m4});function y4(){return this.rgb().formatHex()}function Lgt(){return this.rgb().formatHex8()}function Ngt(){return xU(this).formatHsl()}function m4(){return this.rgb().formatRgb()}function R3(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Mgt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?b4(e):n===3?new sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?j_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?j_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Tgt.exec(t))?new sa(e[1],e[2],e[3],1):(e=kgt.exec(t))?new sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cgt.exec(t))?j_(e[1],e[2],e[3],e[4]):(e=Rgt.exec(t))?j_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pgt.exec(t))?w4(e[1],e[2]/100,e[3]/100,1):(e=jgt.exec(t))?w4(e[1],e[2]/100,e[3]/100,e[4]):g4.hasOwnProperty(t)?b4(g4[t]):t==="transparent"?new sa(NaN,NaN,NaN,0):null}function b4(t){return new sa(t>>16&255,t>>8&255,t&255,1)}function j_(t,e,n,r){return r<=0&&(t=e=n=NaN),new sa(t,e,n,r)}function bU(t){return t instanceof Ng||(t=R3(t)),t?(t=t.rgb(),new sa(t.r,t.g,t.b,t.opacity)):new sa}function S1(t,e,n,r){return arguments.length===1?bU(t):new sa(t,e,n,r??1)}function sa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}CS(sa,S1,C3(Ng,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Eh:Math.pow(Eh,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sa(uh(this.r),uh(this.g),uh(this.b),pO(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x4,formatHex:x4,formatHex8:Dgt,formatRgb:_4,toString:_4}));function x4(){return`#${rh(this.r)}${rh(this.g)}${rh(this.b)}`}function Dgt(){return`#${rh(this.r)}${rh(this.g)}${rh(this.b)}${rh((isNaN(this.opacity)?1:this.opacity)*255)}`}function _4(){const t=pO(this.opacity);return`${t===1?"rgb(":"rgba("}${uh(this.r)}, ${uh(this.g)}, ${uh(this.b)}${t===1?")":`, ${t})`}`}function pO(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function uh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function rh(t){return t=uh(t),(t<16?"0":"")+t.toString(16)}function w4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new js(t,e,n,r)}function xU(t){if(t instanceof js)return new js(t.h,t.s,t.l,t.opacity);if(t instanceof Ng||(t=R3(t)),!t)return new js;if(t instanceof js)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new js(o,s,l,t.opacity)}function Igt(t,e,n,r){return arguments.length===1?xU(t):new js(t,e,n,r??1)}function js(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}CS(js,Igt,C3(Ng,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new js(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Eh:Math.pow(Eh,t),new js(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sa(mM(t>=240?t-240:t+120,i,r),mM(t,i,r),mM(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new js(O4(this.h),L_(this.s),L_(this.l),pO(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pO(this.opacity);return`${t===1?"hsl(":"hsla("}${O4(this.h)}, ${L_(this.s)*100}%, ${L_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function O4(t){return t=(t||0)%360,t<0?t+360:t}function L_(t){return Math.max(0,Math.min(1,t||0))}function mM(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Bgt=Math.PI/180,$gt=180/Math.PI;var _U=-.14861,P3=1.78277,j3=-.29227,RS=-.90649,E1=1.97294,S4=E1*RS,E4=E1*P3,A4=P3*j3-RS*_U;function zgt(t){if(t instanceof fh)return new fh(t.h,t.s,t.l,t.opacity);t instanceof sa||(t=bU(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(A4*r+S4*e-E4*n)/(A4+S4-E4),a=r-i,o=(E1*(n-i)-j3*a)/RS,s=Math.sqrt(o*o+a*a)/(E1*i*(1-i)),l=s?Math.atan2(o,a)*$gt-120:NaN;return new fh(l<0?l+360:l,s,i,t.opacity)}function Xl(t,e,n,r){return arguments.length===1?zgt(t):new fh(t,e,n,r??1)}function fh(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}CS(fh,Xl,C3(Ng,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new fh(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Eh:Math.pow(Eh,t),new fh(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Bgt,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new sa(255*(e+n*(_U*r+P3*i)),255*(e+n*(j3*r+RS*i)),255*(e+n*(E1*r)),this.opacity)}}));function Fgt(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function Ugt(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Fgt((n-r/e)*e,o,i,a,s)}}const L3=t=>()=>t;function wU(t,e){return function(n){return t+n*e}}function Hgt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ggt(t,e){var n=e-t;return n?wU(t,n>180||n<-180?n-360*Math.round(n/360):n):L3(isNaN(t)?e:t)}function Ygt(t){return(t=+t)==1?Xv:function(e,n){return n-e?Hgt(e,n,t):L3(isNaN(e)?n:e)}}function Xv(t,e){var n=e-t;return n?wU(t,n):L3(isNaN(t)?e:t)}(function t(e){var n=Ygt(e);function r(i,a){var o=n((i=S1(i)).r,(a=S1(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=Xv(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r})(1);function qgt(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=S1(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var Wgt=qgt(Ugt);function OU(t){return(function e(n){n=+n;function r(i,a){var o=t((i=Xl(i)).h,(a=Xl(a)).h),s=Xv(i.s,a.s),l=Xv(i.l,a.l),c=Xv(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=s(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=e,r})(1)}OU(Ggt);var N3=OU(Xv);const ar=t=>Wgt(t[t.length-1]);var SU=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(De);const Xgt=ar(SU);var EU=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(De);const Vgt=ar(EU);var AU=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(De);const Kgt=ar(AU);var MU=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(De);const Zgt=ar(MU);var TU=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(De);const Qgt=ar(TU);var kU=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(De);const Jgt=ar(kU);var CU=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(De);const t0t=ar(CU);var RU=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(De);const e0t=ar(RU);var PU=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(De);const n0t=ar(PU);var jU=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(De);const r0t=ar(jU);var LU=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(De);const i0t=ar(LU);var NU=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(De);const a0t=ar(NU);var DU=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(De);const o0t=ar(DU);var IU=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(De);const s0t=ar(IU);var BU=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(De);const l0t=ar(BU);var $U=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(De);const c0t=ar($U);var zU=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(De);const u0t=ar(zU);var FU=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(De);const f0t=ar(FU);var UU=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(De);const d0t=ar(UU);var HU=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(De);const h0t=ar(HU);var GU=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(De);const p0t=ar(GU);var YU=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(De);const v0t=ar(YU);var qU=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(De);const g0t=ar(qU);var WU=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(De);const y0t=ar(WU);var XU=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(De);const m0t=ar(XU);var VU=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(De);const b0t=ar(VU);var KU=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(De);const x0t=ar(KU);function _0t(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const w0t=N3(Xl(300,.5,0),Xl(-240,.5,1));var O0t=N3(Xl(-100,.75,.35),Xl(80,1.5,.8)),S0t=N3(Xl(260,.75,.35),Xl(80,1.5,.8)),N_=Xl();function E0t(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return N_.h=360*t-100,N_.s=1.5-1.5*e,N_.l=.8-.9*e,N_+""}var D_=S1(),A0t=Math.PI/3,M0t=Math.PI*2/3;function T0t(t){var e;return t=(.5-t)*Math.PI,D_.r=255*(e=Math.sin(t))*e,D_.g=255*(e=Math.sin(t+A0t))*e,D_.b=255*(e=Math.sin(t+M0t))*e,D_+""}function k0t(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function PS(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const C0t=PS(De("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var R0t=PS(De("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),P0t=PS(De("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),j0t=PS(De("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Mk=Object.freeze(Object.defineProperty({__proto__:null,interpolateBlues:v0t,interpolateBrBG:Xgt,interpolateBuGn:r0t,interpolateBuPu:i0t,interpolateCividis:_0t,interpolateCool:S0t,interpolateCubehelixDefault:w0t,interpolateGnBu:a0t,interpolateGreens:g0t,interpolateGreys:y0t,interpolateInferno:P0t,interpolateMagma:R0t,interpolateOrRd:o0t,interpolateOranges:x0t,interpolatePRGn:Vgt,interpolatePiYG:Kgt,interpolatePlasma:j0t,interpolatePuBu:l0t,interpolatePuBuGn:s0t,interpolatePuOr:Zgt,interpolatePuRd:c0t,interpolatePurples:m0t,interpolateRainbow:E0t,interpolateRdBu:Qgt,interpolateRdGy:Jgt,interpolateRdPu:u0t,interpolateRdYlBu:t0t,interpolateRdYlGn:e0t,interpolateReds:b0t,interpolateSinebow:T0t,interpolateSpectral:n0t,interpolateTurbo:k0t,interpolateViridis:C0t,interpolateWarm:O0t,interpolateYlGn:d0t,interpolateYlGnBu:f0t,interpolateYlOrBr:h0t,interpolateYlOrRd:p0t,schemeAccent:ygt,schemeBlues:YU,schemeBrBG:SU,schemeBuGn:jU,schemeBuPu:LU,schemeCategory10:ggt,schemeDark2:mgt,schemeGnBu:NU,schemeGreens:qU,schemeGreys:WU,schemeObservable10:bgt,schemeOrRd:DU,schemeOranges:KU,schemePRGn:EU,schemePaired:xgt,schemePastel1:_gt,schemePastel2:wgt,schemePiYG:AU,schemePuBu:BU,schemePuBuGn:IU,schemePuOr:MU,schemePuRd:$U,schemePurples:XU,schemeRdBu:TU,schemeRdGy:kU,schemeRdPu:zU,schemeRdYlBu:CU,schemeRdYlGn:RU,schemeReds:VU,schemeSet1:Ogt,schemeSet2:Sgt,schemeSet3:Egt,schemeSpectral:PU,schemeTableau10:Agt,schemeYlGn:UU,schemeYlGnBu:FU,schemeYlOrBr:HU,schemeYlOrRd:GU},Symbol.toStringTag,{value:"Module"}));function L0t(t,e,n,r,i,a){const{guide:o={}}=n,s=G0t(t,e,n);if(typeof s!="string")return n;const l=Y0t(s,t,e,n),c=F0t(s,l,n);return Object.assign(Object.assign(Object.assign({},n),W0t(s,t,e,n,r)),{domain:c,range:q0t(s,t,e,n,c,i,a),expectedDomain:l,guide:o,name:t,type:s})}function N0t(t,e){const n={};for(const r of t){const{values:i,name:a}=r,o=e[a];for(const s of i){const{name:l,value:c}=s;n[l]=c.map(u=>o.map(u))}}return n}function D0t(t,e){const n=Array.from(t.values()).flatMap(i=>i.channels);kC(n,i=>i.map(a=>e.get(a.scale.uid)),i=>i.name).filter(([,i])=>i.some(a=>typeof a.getOptions().groupTransform=="function")&&i.every(a=>a.getTicks)).map(i=>i[1]).forEach(i=>{const a=i.map(o=>o.getOptions().groupTransform)[0];a(i)})}function I0t(t,e){var n;const{components:r=[]}=e,i=["scale","encode","axis","legend","data","transform"],a=Array.from(new Set(t.flatMap(s=>s.channels.map(l=>l.scale)))),o=new Map(a.map(s=>[s.name,s]));for(const s of r){const l=z0t(s);for(const c of l){const u=o.get(c),d=((n=s.scale)===null||n===void 0?void 0:n[c])||{},{independent:h=!1}=d;if(u&&!h){const{guide:v}=u,g=typeof v=="boolean"?{}:v;u.guide=wt({},g,s),Object.assign(u,d)}else{const v=Object.assign(Object.assign({},d),{expectedDomain:d.domain,name:c,guide:_C(s,i)});a.push(v)}}}return a}function B0t(t){if(!t||!Array.isArray(t))return[mh,mh];let e,n;return[a=>{var o;e=a.map.bind(a),n=(o=a.invert)===null||o===void 0?void 0:o.bind(a);const s=t.filter(([h])=>typeof h=="function"),l=t.filter(([h])=>typeof h!="function"),c=new Map(l);if(a.map=h=>{for(const[v,g]of s)if(v(h))return g;return c.has(h)?c.get(h):e(h)},!n)return a;const u=new Map(l.map(([h,v])=>[v,h])),d=new Map(s.map(([h,v])=>[v,h]));return a.invert=h=>d.has(h)?h:u.has(h)?u.get(h):n(h),a},a=>(e!==null&&(a.map=e),n!==null&&(a.invert=n),a)]}function M4(t,e){const n=Object.keys(t);for(const r of Object.values(e)){const{name:i}=r.getOptions();if(!(i in t))t[i]=r;else{const a=n.filter(l=>l.startsWith(i)).map(l=>+(l.replace(i,"")||0)),o=Mn(a)+1,s=`${i}${o}`;t[s]=r,r.getOptions().key=s}}return t}function T4(t,e){const[n]=rr("scale",e),{relations:r}=t,[i]=B0t(r),a=n(t);return i(a)}function $0t(t){const e=t.flatMap(n=>Array.from(n.values())).flatMap(n=>n.channels.map(r=>r.scale));k4(e,"x"),k4(e,"y")}function z0t(t){const{channels:e=[],type:n,scale:r={}}=t,i=["shape","color","opacity","size"];return e.length!==0?e:n==="axisX"?["x"]:n==="axisY"?["y"]:n==="legends"?Object.keys(r).filter(a=>i.includes(a)):[]}function k4(t,e){const n=t.filter(({name:a,facet:o=!0})=>o&&a===e),r=n.flatMap(a=>a.domain),i=n.every(ZU)?jc(r):n.every(QU)?Array.from(new Set(r)):null;if(i!==null)for(const a of n)a.domain=i}function F0t(t,e,n){const{ratio:r}=n;return r==null?e:ZU({type:t})?U0t(e,r,t):QU({type:t})?H0t(e,r):e}function U0t(t,e,n){const r=t.map(Number),i=new Ic({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*e]});return n==="time"?t.map(a=>new Date(i.map(a))):t.map(a=>i.map(a))}function H0t(t,e){const n=Math.round(t.length*e);return t.slice(0,n)}function ZU(t){const{type:e}=t;return typeof e!="string"?!1:["linear","log","pow","time"].includes(e)}function QU(t){const{type:e}=t;return typeof e!="string"?!1:["band","point","ordinal"].includes(e)}function G0t(t,e,n){const{type:r,domain:i,range:a,quantitative:o,ordinal:s}=n;return r!==void 0?r:ayt(e)?"identity":typeof a=="string"?"linear":(i||a||[]).length>2?bM(t,s):i!==void 0?j4([i])?bM(t,s):L4(e)?"time":R4(t,a,o):j4(e)?bM(t,s):L4(e)?"time":R4(t,a,o)}function Y0t(t,e,n,r){const{domain:i}=r;if(i!==void 0)return i;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return P4(tyt(n,r),r);case"band":case"ordinal":case"point":return eyt(n);case"quantile":return nyt(n);case"sequential":return P4(ryt(n),r);default:return[]}}function q0t(t,e,n,r,i,a,o){const{range:s}=r;if(typeof s=="string")return X0t(s);if(s!==void 0)return s;const{rangeMin:l,rangeMax:c}=r;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const u=C4(n,r,i,a,o),[d,h]=iyt(e,u);return[l??d,c??h]}case"band":case"point":return[l??(e==="size"?5:0),c??(e==="size"?10:1)];case"ordinal":return C4(n,r,i,a,o);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function W0t(t,e,n,r,i){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return Z0t(i,r);case"band":case"point":return Q0t(t,e,i,r);case"sequential":return K0t(r);default:return r}}function C4(t,e,n,r,i){const[a]=rr("palette",i),{category10:o,category20:s}=r,l=tZ(n).length<=o.length?o:s,{palette:c=l,offset:u}=e;if(Array.isArray(c))return c;try{return a({type:c})}catch{const h=V0t(c,n,u);if(h)return h;throw new Error(`Unknown Component: ${c} `)}}function X0t(t){return t.split("-")}function V0t(t,e,n=r=>r){if(!t)return null;const r=gf(t),i=Mk[`scheme${r}`],a=Mk[`interpolate${r}`];if(!i&&!a)return null;if(i){if(!i.some(Array.isArray))return i;const o=i[e.length];if(o)return o}return e.map((o,s)=>a(n(s/e.length)))}function K0t(t){const{palette:e="ylGnBu",offset:n}=t,r=gf(e),i=Mk[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?a=>i(n(a)):i}}function Z0t(t,e){const{interpolate:n=B1,nice:r=!1,tickCount:i=5}=e;return Object.assign(Object.assign({},e),{interpolate:n,nice:r,tickCount:i})}function Q0t(t,e,n,r){if(r.padding!==void 0||r.paddingInner!==void 0||r.paddingOuter!==void 0)return Object.assign(Object.assign({},r),{unknown:NaN});const i=J0t(t,e,n),{paddingInner:a=i,paddingOuter:o=i}=r;return Object.assign(Object.assign({},r),{paddingInner:a,paddingOuter:o,padding:i,unknown:NaN})}function J0t(t,e,n){return e==="enterDelay"||e==="enterDuration"||e==="size"?0:t==="band"?yU(n)?0:.1:t==="point"?.5:0}function bM(t,e){return e||(oyt(t)?"point":"ordinal")}function R4(t,e,n){return n||(t!=="color"||e?"linear":"sequential")}function P4(t,e){if(t.length===0)return t;const{domainMin:n,domainMax:r}=e,[i,a]=t;return[n??i,r??a]}function tyt(t,e){const{zero:n=!1}=e;let r=1/0,i=-1/0;for(const a of t)for(const o of a)qn(o)&&(r=Math.min(r,+o),i=Math.max(i,+o));return r===1/0?[]:n?[Math.min(0,r),i]:[r,i]}function eyt(t){return Array.from(new Set(t.flat()))}function nyt(t){return t.flat().sort()}function ryt(t){let e=1/0,n=-1/0;for(const r of t)for(const i of r)qn(i)&&(e=Math.min(e,+i),n=Math.max(n,+i));return e===1/0?[]:[e<0?-n:e,n]}function iyt(t,e){return t==="enterDelay"?[0,1e3]:t=="enterDuration"?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:t==="color"?[JK(e),H8(e)]:t==="opacity"?[0,1]:t==="size"?[1,10]:[0,1]}function j4(t){return D3(t,e=>{const n=typeof e;return n==="string"||n==="boolean"})}function L4(t){return D3(t,e=>e instanceof Date)}function ayt(t){return D3(t,ag)}function D3(t,e){for(const n of t)if(n.some(e))return!0;return!1}function oyt(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function syt(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t==="enterDelay"||t==="enterDuration"||t==="updateDelay"||t==="updateDuration"||t==="exitDelay"||t==="exitDuration"}function lyt(t){if(!t||!t.type)return!1;if(typeof t.type=="function")return!0;const{type:e,domain:n,range:r,interpolator:i}=t,a=n&&n.length>0,o=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(e)&&a&&o||["sequential"].includes(e)&&a&&(o||i)||["constant","identity"].includes(e)&&o)}const cyt={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},uyt={threshold:"threshold",quantize:"quantize",quantile:"quantile"},fyt={ordinal:"ordinal",band:"band",point:"point"},dyt={constant:"constant"};var Af=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function hyt(t,e,n){const{coordinates:r=[],title:i}=e,[,a]=rr("component",n),o=t.filter(({guide:u})=>u!==null),s=[],l=Oyt(e,t,n);if(s.push(...l),i){const{props:u}=a("title"),{defaultPosition:d,defaultOrientation:h,defaultOrder:v,defaultSize:g,defaultCrossPadding:b}=u,x=typeof i=="string"?{title:i}:i;s.push(Object.assign({type:"title",position:d,orientation:h,order:v,crossPadding:b[0],defaultSize:g},x))}return myt(o,r).forEach(([u,d])=>{const{props:h}=a(u),{defaultPosition:v,defaultPlane:g="xy",defaultOrientation:b,defaultSize:x,defaultOrder:_,defaultLength:w,defaultPadding:E=[0,0],defaultCrossPadding:A=[0,0]}=h,M=wt({},...d),{guide:T,field:C}=M,R=Array.isArray(T)?T:[T];for(const j of R){const[I,D]=_yt(u,v,b,j,d,o,r);if(!I&&!D)continue;const B=I==="left"||I==="right",$=B?E[1]:E[0],U=B?A[1]:A[0],{size:G,order:F=_,length:H=w,padding:Y=$,crossPadding:W=U}=j;s.push(Object.assign(Object.assign({title:C},j),{defaultSize:x,length:H,position:I,plane:g,orientation:D,padding:Y,order:F,crossPadding:W,size:G,type:u,scales:d}))}}),s}function N4(t,e,n,r,i){const[a]=rr("component",r),{scaleInstances:o,scale:s,bbox:l}=t,c=Af(t,["scaleInstances","scale","bbox"]),u={bbox:l,library:r};return a(c)({coordinate:e,library:r,markState:i,scales:o,theme:n,value:u,scale:s})}function pyt(t){return t.map(e=>{const n=wt(e,e.style);return delete n.style,n})}function JU(t,e){const n=["left","right","bottom","top"];return MC(t,({type:a,position:o,group:s})=>n.includes(o)?s===void 0?a.startsWith("legend")?`legend-${o}`:Symbol("independent"):s==="independent"?Symbol("independent"):s:Symbol("independent")).flatMap(([,a])=>{if(a.length===1)return a[0];if(e!==void 0){const u=a.filter(b=>b.length!==void 0).map(b=>b.length),d=Qo(u);if(d>e)return a.forEach(b=>b.group=Symbol("independent")),a;const h=e-d,v=a.length-u.length,g=h/v;a.forEach(b=>{b.length===void 0&&(b.length=g)})}const o=Mn(a,u=>u.size),s=Mn(a,u=>u.order),l=Mn(a,u=>u.crossPadding),c=a[0].position;return{type:"group",size:o,order:s,position:c,children:a,crossPadding:l}})}function vyt(t,e){const n=["shape","size","color","opacity"],r=(h,v)=>h==="constant"&&v==="size",i=t.filter(({type:h,name:v})=>typeof h=="string"&&n.includes(v)&&!r(h,v)),a=i.filter(({type:h})=>h==="constant"),o=i.filter(({type:h})=>h!=="constant"),l=MC(o,h=>h.field?h.field:Symbol("independent")).map(([h,v])=>[h,[...v,...a]]).filter(([,h])=>h.some(v=>v.type!=="constant")),c=new Map(l);if(c.size===0)return[];const u=h=>h.sort(([v],[g])=>v.localeCompare(g));return Array.from(c).map(([,h])=>{const g=eZ(h).sort((b,x)=>x.length-b.length).map(b=>({combination:b,option:b.map(x=>[x.name,gyt(x)])}));for(const{option:b,combination:x}of g)if(!b.every(_=>_[1]==="constant")&&b.every(_=>_[1]==="discrete"||_[1]==="constant"))return["legendCategory",x];for(const[b,x]of hht)for(const{option:_,combination:w}of g)if(x.some(E=>Vm(u(E),u(_))))return[b,w];return null}).filter(qn)}function gyt(t){const{type:e}=t;return typeof e!="string"?null:e in cyt?"continuous":e in fyt?"discrete":e in uyt?"distribution":e in dyt?"constant":null}function yyt(t,e){return t.map(n=>{const{name:r}=n;if(fgt(e)||yU(e)||qv(e)&&(nh(e)||$m(e)))return null;if(r.startsWith("x"))return nh(e)?["axisArc",[n]]:$m(e)?["axisLinear",[n]]:[qv(e)?"axisY":"axisX",[n]];if(r.startsWith("y"))return nh(e)?["axisLinear",[n]]:$m(e)?["axisArc",[n]]:[qv(e)?"axisX":"axisY",[n]];if(r.startsWith("z"))return["axisZ",[n]];if(r.startsWith("position")){if(mU(e))return["axisRadar",[n]];if(!nh(e))return["axisY",[n]]}return null}).filter(qn)}function myt(t,e){const n=t.filter(r=>lyt(r));return[...vyt(n),...yyt(n,e)]}function Tk(t){const e=Bs(t,"polar");if(e.length){const r=e[e.length-1],{startAngle:i,endAngle:a}=p6(r);return[i,a]}const n=Bs(t,"radial");if(n.length){const r=n[n.length-1],{startAngle:i,endAngle:a}=y6(r);return[i,a]}return[-Math.PI/2,Math.PI/2*3]}function byt(t){const e=/position(\d*)/g.exec(t);return e?+e[1]:null}function xyt(t,e,n,r,i){const{name:a}=n[0];if(t==="axisRadar"){const o=r.filter(h=>h.name.startsWith("position")),s=byt(a);if(s===null)return[null,null];const[l,c]=Tk(i),u=mU(i)?o.length:o.length-1;return["center",(c-l)/u*s+l]}if(t==="axisY"&&dgt(i))return qv(i)?["center","horizontal"]:["center","vertical"];if(t==="axisLinear"){const[o]=Tk(i);return["center",o]}return t==="axisArc"?e[0]==="inner"?["inner",null]:["outer",null]:nh(i)?["center",null]:$m(i)?["center",null]:t==="axisX"&&hgt(i)||t==="axisX"&&pgt(i)?["top",null]:e}function _yt(t,e,n,r,i,a,o){const[s]=Tk(o),l=[r.position||e,s??n];return typeof t=="string"&&t.startsWith("axis")?xyt(t,l,i,a,o):typeof t=="string"&&t.startsWith("legend")&&nh(o)&&r.position==="center"?["center","vertical"]:l}function wyt(t,e,n=[]){return t==="x"?qv(n)?`${e}Y`:`${e}X`:t==="y"?qv(n)?`${e}X`:`${e}Y`:null}function Oyt(t,e,n){const[,r]=rr("component",n),{coordinates:i}=t;function a(o,s,l,c){const u=wyt(s,o,i);if(!c||!u)return;const{props:d}=r(u),{defaultPosition:h,defaultSize:v,defaultOrder:g,defaultCrossPadding:[b]}=d;return Object.assign(Object.assign({position:h,defaultSize:v,order:g,type:u,crossPadding:b},c),{scales:[l]})}return e.filter(o=>o.slider||o.scrollbar).flatMap(o=>{const{slider:s,scrollbar:l,name:c}=o;return[a("slider",c,o,s),a("scrollbar",c,o,l)]}).filter(o=>!!o)}function tH(t,e,n,r,i,a){const{type:o}=t;if(!["left","right","bottom","top"].includes(r)||typeof o!="string")return;const l=o;return(l.startsWith("axis")?Tyt:l.startsWith("group")?Syt:l.startsWith("legendContinuous")?kyt:l==="legendCategory"?Cyt:l.startsWith("slider")?Myt:l==="title"?Ayt:l.startsWith("scrollbar")?Eyt:()=>{})(t,e,n,r,i,a)}function Syt(t,e,n,r,i,a){const{children:o}=t,s=Mn(o,c=>c.crossPadding);o.forEach(c=>c.crossPadding=s),o.forEach(c=>tH(c,e,n,r,i,a));const l=Mn(o,c=>c.size);t.size=l,o.forEach(c=>c.size=l)}function Eyt(t,e,n,r,i,a){const{trackSize:o=6}=wt({},i.scrollbar,t);t.size=o}function Ayt(t,e,n,r,i,a){const o=wt({},i.title,t),{title:s,subtitle:l,spacing:c=0}=o,u=Af(o,["title","subtitle","spacing"]);if(s){const d=$t(u,"title"),h=vO(s,d);t.size=h.height}if(l){const d=$t(u,"subtitle"),h=vO(l,d);t.size+=c+h.height}}function Myt(t,e,n,r,i,a){const o=()=>{const{slider:u}=i;return wt({},u,t)},{trackSize:s,handleIconSize:l}=o(),c=Math.max(s,l*2.4);t.size=c}function Tyt(t,e,n,r,i,a){var o,s;t.transform=t.transform||[{type:"hide"}];const l=r==="left"||r==="right",c=eH(t,r,i),{tickLength:u=0,labelSpacing:d=0,titleSpacing:h=0,labelAutoRotate:v}=c,g=Af(c,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),b=jS(t,a),x=LS(g,b);let _=u;if(typeof t.tickLength=="function"){const M=(((o=b.getTicks)===null||o===void 0?void 0:o.call(b))||b.getOptions().domain).map((T,C,R)=>t.tickLength(T,C,R));_=Math.max(...M,0)}const w=_+d;if(x&&x.length){const A=Mn(x,T=>T.width),M=Mn(x,T=>T.height);if(l)t.size=A+w;else{const{tickFilter:T,labelTransform:C}=t;jyt(b,x,e,n,T)&&!C&&v!==!1&&v!==null?(t.labelTransform="rotate(90)",t.size=A+w):(t.labelTransform=(s=t.labelTransform)!==null&&s!==void 0?s:"rotate(0)",t.size=M+w)}}else t.size=_;const E=NS(g);E&&(l?t.size+=h+E.width:t.size+=h+E.height)}function kyt(t,e,n,r,i,a){const s=(()=>{const{legendContinuous:A}=i;return wt({},A,t)})(),{labelSpacing:l=0,titleSpacing:c=0}=s,u=Af(s,["labelSpacing","titleSpacing"]),d=r==="left"||r==="right",h=$t(u,"ribbon"),{size:v}=h,g=$t(u,"handleIcon"),{size:b}=g,x=Math.max(v,b*2.4);t.size=x;const _=jS(t,a),w=LS(u,_);if(w){const A=d?"width":"height",M=Mn(w,T=>T[A]);t.size+=M+l}const E=NS(u);E&&(d?t.size=Math.max(t.size,E.width):t.size+=c+E.height)}function Cyt(t,e,n,r,i,a){const s=(()=>{const{legendCategory:F}=i,{title:H}=t,[Y,W]=Array.isArray(H)?[H,void 0]:[void 0,H];return wt({title:Y},F,Object.assign(Object.assign({},t),{title:W}))})(),{focus:l,itemSpacing:c,focusMarkerSize:u,itemMarkerSize:d,titleSpacing:h,rowPadding:v,colPadding:g,maxCols:b=1/0,maxRows:x=1/0}=s,_=Af(s,["focus","itemSpacing","focusMarkerSize","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:w,length:E}=t,A=F=>Math.min(F,x),M=F=>Math.min(F,b),T=r==="left"||r==="right",C=E===void 0?e+(T?0:n[0]+n[1]):E,R=NS(_),j=jS(t,a),I=LS(_,j,"itemLabel"),D=Math.max(I[0].height,d)+v,B=(F,H=0)=>d+F+c[0]+H+(l?u+c[2]:0);T?(()=>{let F=-1/0,H=0,Y=1,W=0,V=-1/0,J=-1/0;const tt=R?R.height:0,nt=C-tt;for(const{width:lt}of I){const at=B(lt,g);F=Math.max(F,at),H+D>nt?(Y++,V=Math.max(V,W),J=Math.max(J,H),W=1,H=D):(H+=D,W++)}Y<=1&&(V=W,J=H),t.size=F*M(Y),t.length=J+tt,wt(t,{cols:M(Y),gridRow:V})})():typeof w=="number"?(()=>{const F=Math.ceil(I.length/w),H=Mn(I,Y=>B(Y.width))*w;t.size=D*A(F)-v,t.length=Math.min(H,C)})():(()=>{let F=1,H=0,Y=-1/0;for(const{width:W}of I){const V=B(W,g);H+V>C?(Y=Math.max(Y,H),H=V,F++):H+=V}F===1&&(Y=H),t.size=D*A(F)-v,t.length=Y})(),R&&(T?t.size=Math.max(t.size,R.width):t.size+=h+R.height)}function jS(t,e){const[n]=rr("scale",e),{scales:r,tickCount:i,tickMethod:a}=t,o=r.find(s=>s.type!=="constant"&&s.type!=="identity");return i!==void 0&&(o.tickCount=i),a!==void 0&&(o.tickMethod=a),n(o)}function LS(t,e,n="label"){const{labelFormatter:r,tickFilter:i,label:a=!0}=t,o=Af(t,["labelFormatter","tickFilter","label"]);if(!a)return null;const s=Ryt(e,r,i),l=$t(o,n),c=s.map((h,v)=>Object.fromEntries(Object.entries(l).map(([g,b])=>[g,typeof b=="function"?b(h,v):b]))),u=s.map((h,v)=>{const g=c[v];return vO(h,g)});if(!c.some(h=>h.transform)){const h=s.map((v,g)=>g);t.indexBBox=new Map(h.map(v=>[v,[s[v],u[v]]]))}return u}function NS(t){const e=c=>c===!1||c===null,{title:n}=t,r=Af(t,["title"]);if(e(n)||n===void 0)return null;const i=$t(r,"title"),{direction:a,transform:o}=i,s=Array.isArray(n)?n.join(","):n;return typeof s!="string"?null:vO(s,Object.assign(Object.assign({},i),{transform:o||(a==="vertical"?"rotate(-90)":"")}))}function eH(t,e,n){const{title:r}=t,[i,a]=Array.isArray(r)?[r,void 0]:[void 0,r],{axis:o,[`axis${FC(e)}`]:s}=n;return wt({title:i},o,s,Object.assign(Object.assign({},t),{title:a}))}function nH(t,e){const n=t.getTicks?t.getTicks():t.getOptions().domain;return e?n.filter(e):n}function Ryt(t,e,n){const i=nH(t,n).map(o=>typeof o=="number"?Iw(o):o),a=e?typeof e=="string"?Of(e):e:t.getFormatter?t.getFormatter():o=>`${o}`;return i.map(a)}function Pyt(t,e){return t.getBandWidth?t.getBandWidth(e)/2:0}function jyt(t,e,n,r,i){if(Qo(e,v=>v.width)>n)return!0;const o=t.clone();o.update({range:[0,n]});const s=nH(t,i),l=s.map(v=>o.map(v)+Pyt(o,v)),c=s.map((v,g)=>g),u=-r[0],d=n+r[1],h=(v,g)=>{const{width:b}=g;return[v-b/2,v+b/2]};for(let v=0;v<c.length;v++){const g=l[v],[b,x]=h(g,e[v]);if(b<u||x>d)return!0;const _=l[v+1];if(_){const[w]=h(_,e[v+1]);if(x>w)return!0}}return!1}function vO(t,e){const n=Lyt(t),{filter:r}=e,i=Af(e,["filter"]);return n.attr(Object.assign(Object.assign({},i),{visibility:"none"})),n.getBBox()}function Lyt(t){return t instanceof ir?t:new es({style:{text:`${t}`}})}function Nyt(t){const e=t.find(({type:i})=>i==="axisX"),n=t.find(({type:i})=>i==="axisY"),r=t.find(({type:i})=>i==="axisZ");e&&n&&r&&(e.plane="xy",n.plane="xy",r.plane="yz",r.origin=[e.bbox.x,e.bbox.y,0],r.eulerAngles=[0,-90,0],r.bbox.x=e.bbox.x,r.bbox.y=e.bbox.y,t.push(Object.assign(Object.assign({},e),{plane:"xz",showLabel:!1,showTitle:!1,origin:[e.bbox.x,e.bbox.y,0],eulerAngles:[-90,0,0]})),t.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),t.push(Object.assign(Object.assign({},r),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]})))}function Dyt(t,e,n,r){var i,a;const{width:o,height:s,depth:l,x:c=0,y:u=0,z:d=0,inset:h=(i=n.inset)!==null&&i!==void 0?i:0,insetLeft:v=h,insetTop:g=h,insetBottom:b=h,insetRight:x=h,margin:_=(a=n.margin)!==null&&a!==void 0?a:0,marginLeft:w=_,marginBottom:E=_,marginTop:A=_,marginRight:M=_,padding:T=n.padding,paddingBottom:C=T,paddingLeft:R=T,paddingRight:j=T,paddingTop:I=T}=Byt(t,e,n,r),D=1/4,B=(Mt,It,Nt,zt,Ut)=>{const{marks:Zt}=e;if(Zt.length===0)return[zt,Ut];if(Mt-zt-Ut-Mt*D>0)return[zt,Ut];const Jt=Mt*(1-D);return[It==="auto"?Jt*zt/(zt+Ut):zt,Nt==="auto"?Jt*Ut/(zt+Ut):Ut]},$=Mt=>Mt==="auto"?20:Mt??20,U=$(I),G=$(C),F=D4(t,s-U-G,[U+A,G+E],["left","right"],e,n,r),{paddingLeft:H,paddingRight:Y}=F,W=o-w-M,[V,J]=B(W,R,j,H,Y),tt=W-V-J,nt=D4(t,tt,[V+w,J+M],["bottom","top"],e,n,r),{paddingTop:lt,paddingBottom:at}=nt,ft=s-E-A,[mt,ct]=B(ft,C,I,at,lt),St=ft-mt-ct;return{width:o,height:s,depth:l,insetLeft:v,insetTop:g,insetBottom:b,insetRight:x,innerWidth:tt,innerHeight:St,paddingLeft:V,paddingRight:J,paddingTop:ct,paddingBottom:mt,marginLeft:w,marginBottom:E,marginTop:A,marginRight:M,x:c,y:u,z:d}}function Iyt(t){const{height:e,width:n,padding:r=0,paddingLeft:i=r,paddingRight:a=r,paddingTop:o=r,paddingBottom:s=r,margin:l=16,marginLeft:c=l,marginRight:u=l,marginTop:d=l,marginBottom:h=l,inset:v=0,insetLeft:g=v,insetRight:b=v,insetTop:x=v,insetBottom:_=v}=t,w=M=>M==="auto"?20:M,E=n-w(i)-w(a)-c-u-g-b,A=e-w(o)-w(s)-d-h-x-_;return{width:E,height:A}}function Byt(t,e,n,r){const{coordinates:i}=e;if(!nh(i)&&!$m(i))return e;const a=t.filter(_=>typeof _.type=="string"&&_.type.startsWith("axis"));if(a.length===0)return e;const o=a.map(_=>{const w=_.type==="axisArc"?"arc":"linear";return eH(_,w,n)}),s=Mn(o,_=>{var w;return(w=_.labelSpacing)!==null&&w!==void 0?w:0}),l=a.flatMap((_,w)=>{const E=o[w],A=jS(_,r);return LS(E,A)}).filter(qn),c=Mn(l,_=>_.height)+s,u=a.flatMap((_,w)=>{const E=o[w];return NS(E)}).filter(_=>_!==null),d=u.length===0?0:Mn(u,_=>_.height),{inset:h=c,insetLeft:v=h,insetBottom:g=h,insetTop:b=h+d,insetRight:x=h}=e;return Object.assign(Object.assign({},e),{insetLeft:v,insetBottom:g,insetTop:b,insetRight:x})}function D4(t,e,n,r,i,a,o){const s=Vn(t,g=>g.position),{padding:l=a.padding,paddingLeft:c=l,paddingRight:u=l,paddingBottom:d=l,paddingTop:h=l}=i,v={paddingBottom:d,paddingLeft:c,paddingTop:h,paddingRight:u};for(const g of r){const b=`padding${FC(w5(g))}`,x=s.get(g)||[],_=v[b],w=j=>{j.size===void 0&&(j.size=j.defaultSize)},E=j=>{j.type==="group"?(j.children.forEach(w),j.size=Mn(j.children,I=>I.size)):j.size=j.defaultSize},A=j=>{j.size||(_!=="auto"?E(j):(tH(j,e,n,g,a,o),w(j)))},M=j=>{j.type.startsWith("axis")&&j.labelAutoHide===void 0&&(j.labelAutoHide=!0)},T=g==="bottom"||g==="top",C=xo(x,j=>j.order),R=x.filter(j=>j.type.startsWith("axis")&&j.order==C);if(R.length&&(R[0].crossPadding=0),typeof _=="number")x.forEach(w),x.forEach(M);else if(x.length===0)v[b]=0;else{const j=T?e+n[0]+n[1]:e,I=JU(x,j);I.forEach(A);const D=I.reduce((B,{size:$,crossPadding:U=12})=>B+$+U,0);v[b]=D}}return v}function $yt(t,e,n){const r=Vn(t,T=>`${T.plane||"xy"}-${T.position}`),{paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:d,innerHeight:h,innerWidth:v,insetBottom:g,insetLeft:b,insetRight:x,insetTop:_,height:w,width:E,depth:A}=n,M={xy:xM({width:E,height:w,paddingLeft:i,paddingRight:a,paddingTop:o,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:d,innerHeight:h,innerWidth:v,insetBottom:g,insetLeft:b,insetRight:x,insetTop:_}),yz:xM({width:A,height:w,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:A,innerHeight:w,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:xM({width:E,height:A,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:E,innerHeight:A,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(const[T,C]of r.entries()){const[R,j]=T.split("-"),I=M[R][j],[D,B]=G8(C,$=>typeof $.type!="string"?!1:!!(j==="center"||$.type.startsWith("axis")&&["inner","outer"].includes(j)));D.length&&zyt(D,e,I,j),B.length&&Vyt(C,e,I)}}function xM({width:t,height:e,paddingLeft:n,paddingRight:r,paddingTop:i,paddingBottom:a,marginLeft:o,marginTop:s,marginBottom:l,marginRight:c,innerHeight:u,innerWidth:d,insetBottom:h,insetLeft:v,insetRight:g,insetTop:b}){const x=n+o,_=i+s,w=r+c,E=a+l,A=t-o-c,M=[x+v,_+b,d-v-g,u-b-h,"center",null,null];return{top:[x,0,d,_,"vertical",!0,Cr,o,A],right:[t-w,_,w,u,"horizontal",!1,Cr],bottom:[x,e-E,d,E,"vertical",!1,Cr,o,A],left:[0,_,x,u,"horizontal",!0,Cr],"top-left":[x,0,d,_,"vertical",!0,Cr],"top-right":[x,0,d,_,"vertical",!0,Cr],"bottom-left":[x,e-E,d,E,"vertical",!1,Cr],"bottom-right":[x,e-E,d,E,"vertical",!1,Cr],center:M,inner:M,outer:M}}function zyt(t,e,n,r){const[i,a]=G8(t,o=>!!(typeof o.type=="string"&&o.type.startsWith("axis")));Fyt(i,e,n,r),Kyt(a,e,n)}function Fyt(t,e,n,r){r==="center"?rQ(e)?Xyt(t,e,n):Nn(e)?Gyt(t,e,n):eS(e)&&Yyt(t,e,n,t[0].orientation):r==="inner"?Uyt(t,e,n):r==="outer"&&Hyt(t,e,n)}function Uyt(t,e,n){const[r,i,,a]=n,[o,s]=e.getCenter(),[l]=nS(e),c=a/2,u=l*c,d=o-u,h=s-u;for(let v=0;v<t.length;v++){const g=t[v];g.bbox={x:r+d,y:i+h,width:u*2,height:u*2}}}function Hyt(t,e,n){const[r,i,a,o]=n;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function Gyt(t,e,n){const[r,i,a,o]=n;for(const s of t)s.bbox={x:r,y:i,width:a,height:o}}function Yyt(t,e,n,r){r==="horizontal"?Wyt(t,e,n):r==="vertical"&&qyt(t,e,n)}function qyt(t,e,n){const[r,i,,a]=n,o=new Array(t.length).fill(0),l=e.map(o).filter((c,u)=>u%2===0).map(c=>c+r);for(let c=0;c<t.length;c++){const u=t[c],d=l[c],h=l[c+1]-d;u.bbox={x:d,y:i,width:h,height:a}}}function Wyt(t,e,n){const[r,i,a]=n,o=new Array(t.length).fill(0),l=e.map(o).filter((c,u)=>u%2===1).map(c=>c+i);for(let c=0;c<t.length;c++){const u=t[c],d=l[c],h=l[c+1]-d;u.bbox={x:r,y:d,width:a,height:h}}}function Xyt(t,e,n,r){const[i,a,o,s]=n;for(const l of t)l.bbox={x:i,y:a,width:o,height:s},l.radar={index:t.indexOf(l),count:t.length}}function Vyt(t,e,n){const[r,i,a,o,s,l,c,u,d]=n,[h,v,g,b,x,_,w,E]=s==="vertical"?["y",i,"x",r,"height",o,"width",a]:["x",r,"y",i,"width",a,"height",o];t.sort((j,I)=>c?.(j.order,I.order));const A=j=>j==="title"||j==="group"||j.startsWith("legend"),M=(j,I,D)=>D===void 0?I:A(j)?D:I,T=(j,I,D)=>D===void 0?I:A(j)?D:I,C=l?v+_:v;for(let j=0,I=C;j<t.length;j++){const D=t[j],{crossPadding:B=0,type:$}=D,{size:U}=D;D.bbox={[h]:l?I-U-B:I+B,[g]:T($,b,u),[x]:U,[w]:M($,E,d)},I+=(U+B)*(l?-1:1)}const R=t.filter(j=>j.type==="group");for(const j of R){const{bbox:I,children:D}=j,B=I[w],$=B/D.length,U=D.reduce((W,V)=>{var J;const tt=(J=V.layout)===null||J===void 0?void 0:J.justifyContent;return tt||W},"flex-start"),G=D.map((W,V)=>{const{length:J=$,padding:tt=0}=W;return J+(V===D.length-1?0:tt)}),F=Qo(G),H=B-F,Y=U==="flex-start"?0:U==="center"?H/2:H;for(let W=0,V=I[g]+Y;W<D.length;W++){const J=D[W],{padding:tt=0}=J,nt=W===D.length-1?0:tt;J.bbox={[x]:I[x],[h]:I[h],[g]:V,[w]:G[W]-nt},wt(J,{layout:{justifyContent:U}}),V+=G[W]}}}function Kyt(t,e,n){if(t.length===0)return;const[r,i,a,o]=n,[s]=nS(e),l=o/2*s/Math.sqrt(2),c=r+a/2,u=i+o/2;for(let d=0;d<t.length;d++){const h=t[d];h.bbox={x:c-l,y:u-l,width:l*2,height:l*2}}}var Zyt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},xg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const I3=Symbol("CALLBACK_ITEM");function Qyt(t,e,n){const{encode:r={},scale:i={},transform:a=[]}=e,o=xg(e,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},o),{encode:r,scale:i,transform:a})]}function rH(t,e,n){return Zyt(this,void 0,void 0,function*(){const{library:r}=n,{data:i}=e,[a]=rr("data",r),o=dmt(i),{transform:s=[]}=o,u=[xg(o,["transform"]),...s].map(v=>a(v,n)),d=yield VK(u)(i),h=i&&!Array.isArray(i)&&!Array.isArray(d)?{value:d}:d;return[Array.isArray(d)?Rh(d):[],Object.assign(Object.assign({},e),{data:h})]})}function Jyt(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i={};for(const[a,o]of Object.entries(r))if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=`${a}${s===0?"":s}`;i[l]=o[s]}else i[a]=o;return[t,Object.assign(Object.assign({},e),{encode:i})]}function tmt(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const a=Hl(r,o=>cmt(o)?o:{type:umt(i,o),value:o});return[t,Object.assign(Object.assign({},e),{encode:a})]}function emt(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i=Hl(r,(a,o)=>{const{type:s}=a;return s!=="constant"||syt(o)?a:Object.assign(Object.assign({},a),{constant:!0})});return[t,Object.assign(Object.assign({},e),{encode:i})]}function nmt(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const{library:a}=n,o=vmt(a),s=Hl(r,l=>o(i,l));return[t,Object.assign(Object.assign({},e),{encode:s})]}function rmt(t,e,n){const{tooltip:r={}}=e;return Bc(r)?[t,e]:Array.isArray(r)?[t,Object.assign(Object.assign({},e),{tooltip:{items:r}})]:ag(r)&&M9(r)?[t,Object.assign(Object.assign({},e),{tooltip:r})]:[t,Object.assign(Object.assign({},e),{tooltip:{items:[r]}})]}function imt(t,e,n){const{data:r,encode:i,tooltip:a={}}=e;if(Bc(a))return[t,e];const o=d=>{if(!d)return d;if(typeof d=="string")return t.map(h=>({name:d,value:r[h][d]}));if(ag(d)){const{field:h,channel:v,color:g,name:b=h,valueFormatter:x=T=>T}=d,_=typeof x=="string"?Of(x):x,w=v&&i[v],E=w&&i[v].field,A=b||E||v,M=[];for(const T of t){const C=h?r[T][h]:w?i[v].value[T]:null;M[T]={name:A,color:g,value:_(C)}}return M}if(typeof d=="function"){const h=[];for(const v of t){const g=d(r[v],v,r,i);ag(g)?h[v]=Object.assign(Object.assign({},g),{[I3]:!0}):h[v]={value:g}}return h}return d},{title:s,items:l=[]}=a,c=xg(a,["title","items"]),u=Object.assign({title:o(s),items:Array.isArray(l)?l.map(o):[]},c);return[t,Object.assign(Object.assign({},e),{tooltip:u})]}function amt(t,e,n){const{encode:r}=e,i=xg(e,["encode"]);if(!r)return[t,e];const a=Object.entries(r),o=a.filter(([,l])=>{const{value:c}=l;return Array.isArray(c[0])}).flatMap(([l,c])=>{const u=[[l,new Array(t.length).fill(void 0)]],{value:d}=c,h=xg(c,["value"]);for(let v=0;v<d.length;v++){const g=d[v];if(Array.isArray(g))for(let b=0;b<g.length;b++){const x=u[b]||[`${l}${b}`,new Array(t).fill(void 0)];x[1][v]=g[b],u[b]=x}}return u.map(([v,g])=>[v,Object.assign({type:"column",value:g},h)])}),s=Object.fromEntries([...a,...o]);return[t,Object.assign(Object.assign({},i),{encode:s})]}function omt(t,e,n){const{axis:r={},legend:i={},slider:a={},scrollbar:o={}}=e,s=(c,u)=>{if(typeof c=="boolean")return c?{}:null;const d=c[u];return d===void 0||d?d:null},l=typeof r=="object"?Array.from(new Set(["x","y","z",...Object.keys(r)])):["x","y","z"];return wt(e,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map(c=>{const u=s(o,c);return[c,Object.assign({guide:s(r,c),slider:s(a,c),scrollbar:u},u&&{ratio:u.ratio===void 0?.5:u.ratio})]}))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[t,e]}function smt(t,e,n){const{animate:r}=e;return r||r===void 0?[t,e]:(wt(e,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,e])}function lmt(t,e,n){var r,i;return wt(e,{scale:{series:Object.assign({key:`DEFAULT_${e.type}_SERIES_KEY`},(i=(r=e?.scale)===null||r===void 0?void 0:r.series)!==null&&i!==void 0?i:{})}}),[t,e]}function cmt(t){if(typeof t!="object"||t instanceof Date||t===null)return!1;const{type:e}=t;return qn(e)}function umt(t,e){return typeof e=="function"?"transform":typeof e=="string"&&fmt(t,e)?"field":"constant"}function fmt(t,e){return Array.isArray(t)?t.some(n=>n[e]!==void 0):!1}function dmt(t){if(Kn(t))return{type:"inline",value:t};if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:e="inline"}=t,n=xg(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}var iH=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},hmt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pmt(t,e,n){return iH(this,void 0,void 0,function*(){const[r,i]=yield gmt(t,e,n),{encode:a,scale:o,data:s,tooltip:l}=i;if(Array.isArray(s)===!1)return null;const{channels:c}=e,u=kC(Object.entries(a).filter(([,h])=>qn(h)),h=>h.map(([v,g])=>Object.assign({name:v},g)),([h])=>{var v;const g=(v=/([^\d]+)\d*$/.exec(h))===null||v===void 0?void 0:v[1],b=c.find(x=>x.name===g);return b?.independent?h:g}),d=c.filter(h=>{const{name:v,required:g}=h;if(u.find(([b])=>b===v))return!0;if(g)throw new Error(`Missing encoding for channel: ${v}.`);return!1}).flatMap(h=>{const{name:v,scale:g,scaleKey:b,range:x,quantitative:_,ordinal:w}=h;return u.filter(([A])=>A.startsWith(v)).map(([A,M],T)=>{const C=M.some(F=>F.visual),R=M.some(F=>F.constant),j=o[A]||{},{independent:I=!1,key:D=b||A,type:B=R?"constant":C?"identity":g}=j,$=hmt(j,["independent","key","type"]),U=B==="constant",G=U?void 0:x;return{name:A,values:M,scaleKey:I||U?Symbol("independent"):D,scale:Object.assign(Object.assign({type:B,range:G},$),{quantitative:_,ordinal:w})}})});return[i,Object.assign(Object.assign({},e),{index:r,channels:d,tooltip:l})]})}function vmt(t){const[e]=rr("encode",t);return(n,r)=>r===void 0||n===void 0?null:Object.assign(Object.assign({},r),{type:"column",value:e(r)(n),field:ymt(r)})}function gmt(t,e,n){return iH(this,void 0,void 0,function*(){const{library:r}=n,[i]=rr("transform",r),{preInference:a=[],postInference:o=[]}=e,{transform:s=[]}=t,l=[Qyt,rH,Jyt,tmt,emt,nmt,amt,smt,omt,rmt,lmt,...a.map(i),...s.map(i),...o.map(i),imt];let c=[],u=t;for(const d of l)[c,u]=yield d(c,u,n);return[c,u]})}function ymt(t){const{type:e,value:n}=t;return e==="field"&&typeof n=="string"?n:null}var Nc=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},hf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function B3(t,e,n){var r;return Nc(this,void 0,void 0,function*(){const{library:i}=n,[a]=rr("composition",i),[o]=rr("interaction",i),s=new Set(Object.keys(i).map($=>{var U;return(U=/mark\.(.*)/.exec($))===null||U===void 0?void 0:U[1]}).filter(qn)),l=new Set(Object.keys(i).map($=>{var U;return(U=/component\.(.*)/.exec($))===null||U===void 0?void 0:U[1]}).filter(qn)),c=$=>{const{type:U}=$;if(typeof U=="function"){const{props:G={}}=U,{composite:F=!0}=G;if(F)return"mark"}return typeof U!="string"?U:s.has(U)||l.has(U)?"mark":U},u=$=>c($)==="mark",d=$=>c($)==="standardView",h=$=>{const{type:U}=$;return typeof U!="string"?!1:!!l.has(U)},v=$=>{if(d($))return[$];const U=c($);return a({type:U,static:h($)})($)},g=[],b=new Map,x=new Map,_=[t],w=[];for(;_.length;){const $=_.shift();if(d($)){const U=x.get($),[G,F]=U?sH(U,$,i):yield aH($,n);b.set(G,$),g.push(G);const H=F.flatMap(v).map(Y=>gU(Y,i));if(_.push(...H),H.every(d)){const Y=yield Promise.all(H.map(W=>oH(W,n)));$0t(Y);for(let W=0;W<H.length;W++){const V=H[W],J=Y[W];x.set(V,J)}}}else{const U=u($)?$:yield fH($,n),G=v(U);Array.isArray(G)?_.push(...G):typeof G=="function"&&w.push(G())}}n.emitter.emit(bn.BEFORE_PAINT);const E=new Map,A=new Map,M=[];e.selectAll(Zo(Gw)).data(g,$=>$.key).join($=>$.append("g").attr("className",Gw).attr("id",U=>U.key).call(I4).each(function(U,G,F){Ck(U,se(F),M,n),E.set(U,F)}),$=>$.call(I4).each(function(U,G,F){Ck(U,se(F),M,n),A.set(U,F)}),$=>$.each(function(U,G,F){const H=F.nameInteraction.values();for(const Y of H)Y.destroy()}).remove());const T=($,U,G)=>Array.from($.entries()).map(([F,H])=>{const Y=G||new Map,W=(nt,lt=at=>at)=>Y.set(nt,lt),V=b.get(F),J=bmt(se(H),V,n),tt={view:F,container:H,options:V,setState:W,update:(nt,lt)=>Nc(this,void 0,void 0,function*(){const ft=zC(Array.from(Y.values()))(V);return yield J(ft,nt,()=>{$r(lt)&&U($,lt,Y)})})};return n.externals.update=tt.update,n.externals.setState=W,tt}),C=($=A,U,G)=>{var F;const H=T($,C,G);for(const Y of H){const{options:W,container:V}=Y,J=V.nameInteraction;let tt=gO(W);U&&(tt=tt.filter(nt=>U.includes(nt[0])));for(const nt of tt){const[lt,at]=nt,ft=J.get(lt);if(ft&&((F=ft.destroy)===null||F===void 0||F.call(ft)),at){const ct=kk(Y.view,lt,at,o)(Y,H,n.emitter);J.set(lt,{destroy:ct})}}}},R=T(E,C);for(const $ of R){const{options:U}=$,G=new Map;$.container.nameInteraction=G;for(const F of gO(U)){const[H,Y]=F;if(Y){const V=kk($.view,H,Y,o)($,R,n.emitter);G.set(H,{destroy:V})}}}C();const{width:j,height:I}=t,D=[];for(const $ of w){const U=new Promise(G=>Nc(this,void 0,void 0,function*(){for(const F of $){const H=Object.assign({width:j,height:I},F);yield B3(H,e,n)}G()}));D.push(U)}n.views=g,(r=n.animations)===null||r===void 0||r.forEach($=>$?.cancel()),n.animations=M,n.emitter.emit(bn.AFTER_PAINT);const B=M.filter(qn).map(Nmt).map($=>$.finished);return Promise.all([...B,...D])})}function I4(t){t.style("transform",e=>`translate(${e.layout.x}, ${e.layout.y})`)}function mmt(t){const[,e]=rr("interaction",t);return n=>{const[r,i]=n;try{return[r,e(r)]}catch{return[r,i.type]}}}function bmt(t,e,n){const{library:r}=n,i=mmt(r),a=l=>l[1]&&l[1].props&&l[1].props.reapplyWhenUpdate,s=gO(e).map(i).filter(a).map(l=>l[0]);return(l,c,u)=>Nc(this,void 0,void 0,function*(){const d=[],[h,v]=yield aH(l,n);Ck(h,t,d,n);for(const g of s.filter(b=>b!==c))xmt(g,t,l,h,n);for(const g of v)B3(g,t,n);return u(),{options:l,view:h}})}function xmt(t,e,n,r,i){var a;const{library:o}=i,[s]=rr("interaction",o),c=e.node().nameInteraction,u=gO(n).find(([b])=>b===t),d=c.get(t);if(!d||((a=d.destroy)===null||a===void 0||a.call(d),!u[1]))return;const h=kk(r,t,u[1],s),v={options:n,view:r,container:e.node(),update:b=>Promise.resolve(b)},g=h(v,[],i.emitter);c.set(t,{destroy:g})}function aH(t,e){return Nc(this,void 0,void 0,function*(){const{library:n}=e,r=yield wmt(t,e),i=_mt(r);t.interaction=i.interaction,t.coordinate=i.coordinate,t.marks=[...i.marks,...i.components];const a=gU(i,n),o=yield oH(a,e);return sH(o,a,n)})}function _mt(t){const{coordinate:e={},interaction:n={},style:r={},marks:i}=t,a=hf(t,["coordinate","interaction","style","marks"]),o=i.map(h=>h.coordinate||{}),s=i.map(h=>h.interaction||{}),l=i.map(h=>h.viewStyle||{}),c=[...o,e].reduceRight((h,v)=>wt(h,v),{}),u=[n,...s].reduce((h,v)=>wt(h,v),{}),d=[...l,r].reduce((h,v)=>wt(h,v),{});return Object.assign(Object.assign({},a),{marks:i,coordinate:c,interaction:u,style:d})}function wmt(t,e){return Nc(this,void 0,void 0,function*(){const{library:n}=e,[r,i]=rr("mark",n),a=new Set(Object.keys(n).map(v=>{var g;return(g=/component\.(.*)/.exec(v))===null||g===void 0?void 0:g[1]}).filter(qn)),{marks:o}=t,s=[],l=[],c=[...o],{width:u,height:d}=Iyt(t),h={options:t,width:u,height:d};for(;c.length;){const[v]=c.splice(0,1),g=yield fH(v,e),{type:b=ig("G2Mark type is required."),key:x}=g;if(a.has(b))l.push(g);else{const{props:_={}}=i(b),{composite:w=!0}=_;if(!w)s.push(g);else{const{data:E}=g,A=Object.assign(Object.assign({},g),{data:E&&(Array.isArray(E)?E:E.value)}),M=yield r(A,h),T=Array.isArray(M)?M:[M];c.unshift(...T.map((C,R)=>Object.assign(Object.assign({},C),{key:`${x}-${R}`})))}}}return Object.assign(Object.assign({},t),{marks:s,components:l})})}function oH(t,e){return Nc(this,void 0,void 0,function*(){const{library:n}=e,[r]=rr("theme",n),[,i]=rr("mark",n),{theme:a,marks:o,coordinates:s=[]}=t,l=r(uH(a)),c=new Map;for(const d of o){const{type:h}=d,{props:v={}}=i(h),g=yield pmt(d,v,e);if(g){const[b,x]=g;c.set(b,x)}}const u=Vn(Array.from(c.values()).flatMap(d=>d.channels),({scaleKey:d})=>d);for(const d of u.values()){const h=d.reduce((A,{scale:M})=>wt(A,M),{}),{scaleKey:v}=d[0],{values:g}=d[0],b=Array.from(new Set(g.map(A=>A.field).filter(qn))),x=wt({guide:{title:b.length===0?void 0:b},field:b[0]},h),{name:_}=d[0],w=d.flatMap(({values:A})=>A.map(M=>M.value)),E=Object.assign(Object.assign({},L0t(_,w,x,s,l,n)),{uid:Symbol("scale"),key:v});d.forEach(A=>A.scale=E)}return c})}function kk(t,e,n,r){const i=t.theme,a=typeof e=="string"?i[e]||{}:{};return r(wt(a,Object.assign({type:e},n)))}function sH(t,e,n){var r;const[i]=rr("mark",n),[a]=rr("theme",n),[o]=rr("labelTransform",n),{key:s,frame:l=!1,theme:c,clip:u,style:d={},labelTransform:h=[]}=e,v=a(uH(c)),g=Array.from(t.values()),b=I0t(g,e),x=pyt(hyt(Bmt(Array.from(b),g,t),e,n)),_=Dyt(x,e,v,n),w=ugt(_,e,n),E=l?wt({mainLineWidth:1,mainStroke:"#000"},d):d;$yt(JU(x),w,_),Nyt(x);const A=new Map(Array.from(t.values()).flatMap(j=>{const{channels:I}=j;return I.map(({scale:D})=>[D.uid,T4(D,n)])}));D0t(t,A);const M={};for(const j of x){const{scales:I=[]}=j,D=[];for(const B of I){const{name:$,uid:U}=B,G=(r=A.get(U))!==null&&r!==void 0?r:T4(B,n);D.push(G),$==="y"&&G.update(Object.assign(Object.assign({},G.getOptions()),{xScale:M.x})),M4(M,{[$]:G})}j.scaleInstances=D}const T=[],C=new Map;for(const[j,I]of t.entries()){const{children:D,dataDomain:B,modifier:$,key:U,data:G}=j;C.set(U,G);const{index:F,channels:H,tooltip:Y}=I,W=Object.fromEntries(H.map(({name:Nt,scale:zt})=>[Nt,zt])),V=Hl(W,({uid:Nt})=>A.get(Nt));M4(M,V);const J=N0t(H,V),tt=i(j),[nt,lt,at]=Amt(tt(F,V,J,w)),ft=B||nt.length,mt=$?$(lt,ft,_):[],ct=Nt=>{var zt,Ut;return(Ut=(zt=Y.title)===null||zt===void 0?void 0:zt[Nt])===null||Ut===void 0?void 0:Ut.value},St=Nt=>Y.items.map(zt=>zt[Nt]),Mt=nt.map((Nt,zt)=>{const Ut=Object.assign({points:lt[zt],transform:mt[zt],index:Nt,markKey:U,viewKey:s,data:G[Nt]},Y&&{title:ct(Nt),items:St(Nt)});for(const[Zt,ie]of Object.entries(J))Ut[Zt]=ie[Nt],at&&(Ut[`series${gf(Zt)}`]=at[zt].map(Gt=>ie[Gt]));return at&&(Ut.seriesIndex=at[zt]),at&&Y&&(Ut.seriesItems=at[zt].map(Zt=>St(Zt)),Ut.seriesTitle=at[zt].map(Zt=>ct(Zt))),Ut});I.data=Mt,I.index=nt;const It=D?.(Mt,V,_);T.push(...It||[])}return[{layout:_,theme:v,coordinate:w,markState:t,key:s,clip:u,scale:M,style:E,components:x,data:C,options:e,labelTransform:zC(h.map(o))},T]}function Ck(t,e,n,r){return Nc(this,void 0,void 0,function*(){const{library:i}=r,{components:a,theme:o,layout:s,markState:l,coordinate:c,key:u,style:d,clip:h,scale:v}=t,{x:g,y:b,width:x,height:_}=s,w=hf(s,["x","y","width","height"]),E=["view","plot","main","content"],A=E.map((Y,W)=>W),M=["a","margin","padding","inset"],T=E.map(Y=>F8(Object.assign({},o.view,d),Y)),C=M.map(Y=>$t(w,Y)),R=Y=>Y.style("x",W=>$[W].x).style("y",W=>$[W].y).style("width",W=>$[W].width).style("height",W=>$[W].height).each(function(W,V,J){$mt(se(J),T[W])});let j=0,I=0,D=x,B=_;const $=A.map(Y=>{const W=C[Y],{left:V=0,top:J=0,bottom:tt=0,right:nt=0}=W;return j+=V,I+=J,D-=V+nt,B-=J+tt,{x:j,y:I,width:D,height:B}});e.selectAll(Zo(xL)).data(A.filter(Y=>qn(T[Y])),Y=>E[Y]).join(Y=>Y.append("rect").attr("className",xL).style("zIndex",-2).call(R),Y=>Y.call(R),Y=>Y.remove());const U=Cmt(l),G=U?{duration:U[1]}:!1;for(const[,Y]of MC(a,W=>`${W.type}-${W.position}`))Y.forEach((W,V)=>W.index=V);const F=e.selectAll(Zo(bL)).data(a,Y=>`${Y.type}-${Y.position}-${Y.index}`).join(Y=>Y.append("g").style("zIndex",({zIndex:W})=>W||-1).attr("className",bL).append(W=>N4(wt({animate:G,scale:v},W),c,o,i,l)),Y=>Y.transition(function(W,V,J){const{preserve:tt=!1}=W;if(tt)return;const nt=N4(wt({animate:G,scale:v},W),c,o,i,l),{attributes:lt}=nt,[at]=J.childNodes;return at.update(lt,!1)})).transitions();n.push(...F.flat().filter(qn));const H=e.selectAll(Zo(wh)).data([s],()=>u).join(Y=>Y.append("rect").style("zIndex",0).style("fill","transparent").attr("className",wh).call(B4).call($4,Array.from(l.keys())).call(z4,h),Y=>Y.call($4,Array.from(l.keys())).call(B4).call(z4,h)).transitions();n.push(...H.flat());for(const[Y,W]of l.entries()){const{data:V}=W,{key:J,class:tt,type:nt}=Y,lt=e.select(`#${J}`),at=jmt(Y,W,t,r),ft=Lmt(Y,W,t,i),mt=Dmt(Y,W,t,i),ct=Imt(Y,W,t,i),St=Rmt(e,lt,tt,"element"),Mt=lt.selectAll(Zo(Tl)).selectFacetAll(St).data(V,It=>It.key,It=>It.groupKey).join(It=>It.append(at).attr("className",Tl).attr("markType",nt).transition(function(Nt,zt,Ut){return ft(Nt,[Ut])}),It=>It.call(Nt=>{const zt=Nt.parent(),Ut=KK(Zt=>{const[ie,Gt]=Zt.getBounds().min;return[ie,Gt]});Nt.transition(function(Zt,ie,Gt){Pmt(Gt,zt,Ut);const Jt=at(Zt,ie),le=mt(Zt,[Gt],[Jt]);return le?.length||(Gt.nodeName===Jt.nodeName&&Jt.nodeName!=="g"?YO(Gt,Jt):(Gt.parentNode.replaceChild(Jt,Gt),Jt.className=Tl,Jt.markType=nt,Jt.__data__=Gt.__data__)),le}).each(function(Zt,ie,Gt){Gt.__removed__&&(Gt.__removed__=!1)}).attr("markType",nt).attr("className",Tl)}),It=>It.each(function(Nt,zt,Ut){Ut.__removed__=!0}).transition(function(Nt,zt,Ut){return ct(Nt,[Ut])}).remove(),It=>It.append(at).attr("className",Tl).attr("markType",nt).transition(function(Nt,zt,Ut){const{__fromElements__:Zt}=Ut,ie=mt(Nt,Zt,[Ut]);return new Dw(Zt,null,Ut.parentNode).transition(ie).remove(),ie}),It=>It.transition(function(Nt,zt,Ut){const ie=new Dw([],Ut.__toData__,Ut.parentNode).append(at).attr("className",Tl).attr("markType",nt).nodes();return mt(Nt,[Ut],ie)}).remove()).transitions();n.push(...Mt.flat())}Omt(t,e,n,i,r),Emt(t,e,i,r)})}function Omt(t,e,n,r,i){const[a]=rr("labelTransform",r),{markState:o,labelTransform:s}=t,l=e.select(Zo(QT)).node(),c=new Map,u=new Map,d=Array.from(o.entries()).flatMap(([_,w])=>{const{labels:E=[],key:A}=_,M=kmt(_,w,t,r,i),T=e.select(`#${A}`).selectAll(Zo(Tl)).nodes().filter(C=>!C.__removed__);return E.flatMap((C,R)=>{const{transform:j=[]}=C,I=hf(C,["transform"]);return T.flatMap(D=>{const B=Smt(I,R,D);return B.forEach($=>{c.set($,U=>M(Object.assign(Object.assign({},U),{element:D}))),u.set($,C)}),B})})}),h=se(l).selectAll(Zo(JT)).data(d,_=>_.key).join(_=>_.append(w=>c.get(w)(w)).attr("className",JT),_=>_.each(function(w,E,A){const T=c.get(w)(w);YO(A,T)}),_=>_.remove()).nodes(),v=Vn(h,_=>u.get(_.__data__)),{coordinate:g,layout:b}=t,x={canvas:i.canvas,coordinate:g,layout:b};for(const[_,w]of v){const{transform:E=[]}=_;zC(E.map(a))(w,x)}s&&s(h,x)}function Smt(t,e,n){const{seriesIndex:r,seriesKey:i,points:a,key:o,index:s}=n.__data__,l=Tmt(n);if(!r)return[Object.assign(Object.assign({},t),{key:`${o}-${e}`,bounds:l,index:s,points:a,dependentElement:n})];const c=Mmt(t),u=r.map((d,h)=>Object.assign(Object.assign({},t),{key:`${i[h]}-${e}`,bounds:[a[h]],index:d,points:a,dependentElement:n}));return c?c(u):u}function Emt(t,e,n,r){const i=t.scale,a=_e(i,"y.options.breaks",[]),{document:o}=r.canvas;if([ZA,s9].forEach(u=>{o.getElementsByClassName(u).forEach(d=>{d.remove()})}),!a.length)return;const s=e.select(Zo(wh)).node(),[l]=rr("shape",n),c=new Map;a.forEach((u,d)=>{c.set(u,l({type:"break"},{view:t,selection:e,context:r}))}),se(s).selectAll(Zo(ZA)).data(a,u=>u.key).join(u=>u.append((d,h)=>c.get(d)(d,h)).attr("className",ZA),u=>u.each(function(d,h,v){const b=c.get(d)(d,h);YO(v,b)}),u=>u.remove()).nodes()}function Amt([t,e,n]){if(n)return[t,e,n];const r=[],i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e[a];s.every(([l,c])=>qn(l)&&qn(c))&&(r.push(o),i.push(s))}return[r,i]}function Mmt(t){const{selector:e}=t;if(!e)return null;if(typeof e=="function")return e;if(e==="first")return n=>[n[0]];if(e==="last")return n=>[n[n.length-1]];throw new Error(`Unknown selector: ${e}`)}function Tmt(t){const e=t.cloneNode(!0),n=t.getAnimations();e.style.visibility="hidden",n.forEach(o=>{const s=o.effect.getKeyframes();e.attr(s[s.length-1])}),t.parentNode.appendChild(e);const r=e.getLocalBounds();e.destroy();const{min:i,max:a}=r;return[i,a]}function kmt(t,e,n,r,i){const[a]=rr("shape",r),{data:o,encode:s}=t,{data:l,defaultLabelShape:c}=e,u=l.map(b=>b.points),d=Hl(s,b=>b.value),{theme:h,coordinate:v}=n,g=Object.assign(Object.assign({},i),{document:vU(i),theme:h,coordinate:v});return b=>{const{index:x,points:_}=b,w=o[x],{formatter:E=W=>`${W}`,transform:A,style:M,render:T,selector:C,element:R}=b,j=hf(b,["formatter","transform","style","render","selector","element"]),I=Hl(Object.assign(Object.assign({},j),M),W=>lH(W,w,x,o,{channel:d,element:R})),{shape:D=c,text:B}=I,$=hf(I,["shape","text"]),U=typeof E=="string"?Of(E):E,G=Object.assign(Object.assign({},$),{text:U(B,w,x,o),datum:w}),F=Object.assign({type:`label.${D}`,render:T},$),H=a(F,g),Y=cH(h,"label",D,"label");return H(_,G,Y,u)}}function lH(t,e,n,r,i){return typeof t=="function"?t(e,n,r,i):typeof t!="string"?t:ag(e)&&e[t]!==void 0?e[t]:t}function Cmt(t){let e=-1/0,n=1/0;for(const[r,i]of t){const{animate:a={}}=r,{data:o}=i,{enter:s={},update:l={},exit:c={}}=a,{type:u,duration:d=300,delay:h=0}=l,{type:v,duration:g=300,delay:b=0}=s,{type:x,duration:_=300,delay:w=0}=c;for(const E of o){const{updateType:A=u,updateDuration:M=d,updateDelay:T=h,enterType:C=v,enterDuration:R=g,enterDelay:j=b,exitDuration:I=_,exitDelay:D=w,exitType:B=x}=E;(A===void 0||A)&&(e=Math.max(e,M+T),n=Math.min(n,T)),(B===void 0||B)&&(e=Math.max(e,I+D),n=Math.min(n,D)),(C===void 0||C)&&(e=Math.max(e,R+j),n=Math.min(n,j))}}return e===-1/0?null:[n,e-n]}function Rmt(t,e,n,r){const i=t.node().parentElement;return!i||typeof i.findAll!="function"?[]:i.findAll(a=>a.style.facet!==void 0&&a.style.facet===n&&a!==e.node()).flatMap(a=>a.getElementsByClassName(r))}function Pmt(t,e,n){if(!t.__facet__)return;const r=t.parentNode.parentNode,i=e.parentNode,[a,o]=n(r),[s,l]=n(i),c=`translate(${a-s}, ${o-l})`;ZK(t,c),e.append(t)}function jmt(t,e,n,r){const{library:i}=r,[a]=rr("shape",i),{data:o,encode:s}=t,{defaultShape:l,data:c,shape:u}=e,d=Hl(s,w=>w.value),h=c.map(w=>w.points),{theme:v,coordinate:g}=n,{type:b,style:x={}}=t,_=Object.assign(Object.assign({},r),{document:vU(r),coordinate:g,theme:v});return w=>{const{shape:E=l}=x,{shape:A=E,points:M,seriesIndex:T,index:C}=w,R=hf(w,["shape","points","seriesIndex","index"]),j=Object.assign(Object.assign({},R),{index:C}),I=T?T.map(G=>o[G]):o[C],D=T||C,B=Hl(x,G=>lH(G,I,D,o,{channel:d})),$=u[A]?u[A](B,_):a(Object.assign(Object.assign({},B),{type:dH(t,A)}),_),U=cH(v,b,A,l);return $(M,j,U,h)}}function cH(t,e,n,r){if(typeof e!="string")return;const{color:i}=t,a=t[e]||{},o=a[n]||a[r];return Object.assign({color:i},o)}function $3(t,e,n,r,i){var a,o;const[,s]=rr("shape",i),[l]=rr("animation",i),{defaultShape:c,shape:u}=n,{theme:d,coordinate:h}=r,g=`default${gf(t)}Animation`,{[g]:b}=((a=u[c])===null||a===void 0?void 0:a.props)||s(dH(e,c)).props,{[t]:x={}}=d,_=((o=e.animate)===null||o===void 0?void 0:o[t])||{},w={coordinate:h};return(E,A,M)=>{const{[`${t}Type`]:T,[`${t}Delay`]:C,[`${t}Duration`]:R,[`${t}Easing`]:j}=E,I=Object.assign({type:T||b},_);if(!I.type)return null;const $=l(I,w)(A,M,wt(x,{delay:C,duration:R,easing:j}));let U=[];return Array.isArray($)?U=$:U=[$],U.filter(Boolean)}}function Lmt(t,e,n,r){return $3("enter",t,e,n,r)}function Nmt(t){return t.finished.then(()=>{t.cancel()}),t}function Dmt(t,e,n,r){return $3("update",t,e,n,r)}function Imt(t,e,n,r){return $3("exit",t,e,n,r)}function uH(t={}){if(typeof t=="string")return{type:t};const{type:e="light"}=t,n=hf(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}function gO(t){const e={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=t;return Object.entries(wt(e,n)).reverse()}function fH(t,e){return Nc(this,void 0,void 0,function*(){const{data:n}=t,r=hf(t,["data"]);if(n==null)return t;const[,{data:i}]=yield rH([],{data:n},e);return Object.assign({data:i},r)})}function B4(t){t.style("transform",e=>`translate(${e.paddingLeft+e.marginLeft}, ${e.paddingTop+e.marginTop})`).style("width",e=>e.innerWidth).style("height",e=>e.innerHeight)}function dH(t,e){const{type:n}=t;return typeof e=="string"?`${n}.${e}`:e}function $4(t,e){const n=a=>a.class!==void 0?`${a.class}`:"";t.nodes().length===0||(t.selectAll(Zo(mL)).data(e,a=>a.key).join(a=>a.append("g").attr("className",mL).attr("id",o=>o.key).style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.style("facet",n).style("fill","transparent").style("zIndex",o=>{var s;return(s=o.zIndex)!==null&&s!==void 0?s:0}),a=>a.remove()),t.select(Zo(QT)).node())||t.append("g").attr("className",QT).style("zIndex",0)}function Zo(...t){return t.map(e=>`.${e}`).join("")}function z4(t,e){t.node()&&t.style("clipPath",n=>{if(!e)return null;const{paddingTop:r,paddingLeft:i,marginLeft:a,marginTop:o,innerWidth:s,innerHeight:l}=n;return new xf({style:{x:i+a,y:r+o,width:s,height:l}})})}function Bmt(t,e,n){var r;for(const[c]of n.entries())if(c.type==="cell")return t.filter(u=>u.name!=="shape");if(e.length!==1||t.some(c=>c.name==="shape"))return t;const{defaultShape:i}=e[0];if(!["point","line","rect","hollow"].includes(i))return t;const o={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},l={field:((r=t.find(c=>c.name==="color"))===null||r===void 0?void 0:r.field)||null,name:"shape",type:"constant",domain:[],range:[o[i]]};return[...t,l]}function $mt(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function zmt(...t){return e=>t.reduce((n,r)=>r(n),e)}function Fmt(t){const{style:e,scale:n,type:r}=t,i={},a=_e(e,"columnWidthRatio");return a&&r==="interval"&&(i.x=Object.assign(Object.assign({},n?.x),{padding:1-a})),Object.assign(Object.assign({},t),{scale:Object.assign(Object.assign({},n),i)})}const Umt=t=>{if(!t||typeof t!="string")return t;const e=t.endsWith("%")?parseFloat(t.slice(0,-1))/100:parseFloat(t);if(isNaN(e)||e<0||e>1)throw new Error(`Invalid gap value: ${t}. It should be between 0 and 1.`);return e};function Hmt(t){const{axis:e}=t,n=_e(e,"y.breaks");return n&&bC(t,"scale.y.breaks",n.map(r=>Object.assign(Object.assign({key:`break-${r.start}-${r.end}`},r),{gap:Umt(r.gap)}))),t}function hH(t){const e=Gmt(t);return e.children&&Array.isArray(e.children)&&(e.children=e.children.map(n=>hH(n))),e}function Gmt(t){return zmt(Fmt,Hmt)(t)}function Ymt(t){const e=wt({},t),n=new Map([[e,null]]),r=new Map([[null,-1]]),i=[e];for(;i.length;){const a=i.shift();if(a.key===void 0){const s=n.get(a),l=r.get(a),c=s===null?"0":`${s.key}-${l}`;a.key=c}const{children:o=[]}=a;if(Array.isArray(o))for(let s=0;s<o.length;s++){const l=wt({},o[s]);o[s]=l,n.set(l,a),r.set(l,s),i.push(l)}}return e}function qmt(t,e){const n=new vF;return n.registerPlugin(new yF),new DB({width:t,height:e,container:document.createElement("div"),renderer:n})}function Wmt(t,e={},n=()=>{},r=i=>{throw i}){const i=tw(t),{width:a=640,height:o=480,depth:s=0}=i,l=hH(i),c=Ymt(l),{canvas:u=qmt(a,o),emitter:d=new i3,library:h}=e;e.canvas=u,e.emitter=d,e.externals={};const{width:v,height:g}=u.getConfig();(v!==a||g!==o)&&u.resize(a,o),d.emit(bn.BEFORE_RENDER);const b=se(u.document.documentElement);return u.ready.then(()=>B3(Object.assign(Object.assign({},c),{width:a,height:o,depth:s}),b,e)).then(()=>{if(s){const[x,_]=u.document.documentElement.getPosition();u.document.documentElement.setPosition(x,_,-s/2)}u.requestAnimationFrame(()=>{u.requestAnimationFrame(()=>{d.emit(bn.AFTER_RENDER),n?.()})})}).catch(x=>{r?.(x)}),Vmt(u.getConfig().container)}function F4(t,e={},n=!1,r=!0){const{canvas:i,emitter:a}=e;i&&(Xmt(i),n?i.destroy():i.destroyChildren()),r&&a.off()}function Xmt(t){const e=t.getRoot().querySelectorAll(`.${Gw}`);e?.forEach(n=>{const{nameInteraction:r=new Map}=n;r?.size>0&&Array.from(r?.values()).forEach(i=>{i?.destroy()})})}function Vmt(t){return typeof t=="string"?document.getElementById(t):t}function A1(t,e){if(e(t))return!0;if(t.tagName==="g"){const{childNodes:n=[]}=t;for(const r of n)if(A1(r,e))return!0}return!1}const Kmt={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function Zmt(t,e){let n;return A1(t,r=>{var i;return r.tagName!=="g"&&((i=r.style)===null||i===void 0?void 0:i[e])!==void 0?(n=r.style[e],!0):!1}),n??Kmt[e]}function z3(t,e,n,r){t.style[e]=n,t.children.forEach(i=>z3(i,e,n))}function F3(t){z3(t,"visibility","hidden")}function DS(t){z3(t,"visibility","visible")}var zm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pf(t){return se(t).selectAll(`.${Tl}`).nodes().filter(e=>!e.__removed__)}function pH(t,e){return Rk(t,e).flatMap(({container:n})=>pf(n))}function Rk(t,e){return e.filter(n=>n!==t&&n.options.parentKey===t.options.key)}function Fs(t){return se(t).select(`.${wh}`).node()}function yO(t){if(t.tagName==="g")return t.getRenderBounds();const e=t.getGeometryBounds(),n=new Kr;return n.setFromTransformedAABB(e,t.getWorldTransform()),n}function Ah(t,e){const{offsetX:n,offsetY:r}=e,i=yO(t),{min:[a,o],max:[s,l]}=i,c=n<a||n>s,u=r<o||r>l;return c||u?null:[n-a,r-o]}function _M(t,e){const{offsetX:n,offsetY:r}=e,[i,a,o,s]=Qmt(t);return[Math.min(o,Math.max(i,n))-i,Math.min(s,Math.max(a,r))-a]}function Qmt(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,a]}=e;return[n,r,i,a]}function vH(t){return e=>e.__data__.color}function eb(t){return e=>e.__data__.x}function Mh(t){const e=Array.isArray(t)?t:[t],n=new Map(e.flatMap(r=>Array.from(r.markState.keys()).map(a=>[mO(r.key,a.key),a.data])));return r=>{const{index:i,markKey:a,viewKey:o}=r.__data__;return n.get(mO(o,a))[i]}}const U4={selected:3,unselected:3,active:2,inactive:2,default:1},Jmt={selection:["selected","unselected"],highlight:["active","inactive"]},gH=(t,e,n)=>{A1(t,r=>{"setAttribute"in r&&typeof r.setAttribute=="function"&&r.setAttribute(e,n)})};function yH(t,e){return e.forEach(n=>{const r=n.__interactionStyle__;r?n.__interactionStyle__=Object.assign(Object.assign({},r),t):n.__interactionStyle__=t}),(n=(i,a)=>i,r=gH)=>lf(void 0,n,r)}function lf(t,e=(r,i)=>r,n=gH){const r="__states__",i="__ordinal__",a=v=>U4[v]||U4.default,o=v=>{var g;return(g=Object.entries(Jmt).find(([b,x])=>x.includes(v)))===null||g===void 0?void 0:g[0]},s=v=>{var g;const{[r]:b=[],[i]:x={}}=v,_=[...b].sort((A,M)=>a(M)-a(A)),w=new Map;for(const A of _){const M=((g=t??v.__interactionStyle__)===null||g===void 0?void 0:g[A])||{};for(const[T,C]of Object.entries(M))w.has(T)||w.set(T,C)}const E=Object.assign({},x);for(const[A,M]of w.entries())E[A]=M;if(Object.keys(E).length!==0){for(const[A,M]of Object.entries(E)){const T=Zmt(v,A),C=e(M,v);n(v,A,C),A in x||(x[A]=T)}v[i]=x}},l=v=>{v[r]||(v[r]=[])};return{setState:(v,...g)=>{l(v),v[r]=[...g],s(v)},updateState:(v,...g)=>{l(v);const b=v[r],x=new Set(g.map(w=>o(w)).filter(w=>w!==void 0)),_=b.filter(w=>!x.has(o(w)));v[r]=[..._,...g],s(v)},removeState:(v,...g)=>{l(v);for(const b of g){const x=v[r].indexOf(b);x!==-1&&v[r].splice(x,1)}s(v)},hasState:(v,g)=>(l(v),v[r].indexOf(g)!==-1)}}function t1t(t){return t===void 0?!0:typeof t!="object"?!1:Object.keys(t).length===0}function mO(t,e){return`${t},${e}`}function _g(t,e){const r=(Array.isArray(t)?t:[t]).flatMap(a=>a.marks.map(o=>[mO(a.key,o.key),o.state])),i={};for(const a of e){const[o,s]=Array.isArray(a)?a:[a,{}];i[o]=r.reduce((l,c)=>{const[u,d={}]=c,h=t1t(d[o])?s:d[o];for(const[v,g]of Object.entries(h)){const b=l[v],x=(_,w,E,A)=>{const M=mO(A.__data__.viewKey,A.__data__.markKey);return u!==M?b?.(_,w,E,A):typeof g!="function"?g:g(_,w,E,A)};l[v]=x}return l},{})}return i}function nb(t,e){const n=new Map(t.map((i,a)=>[i,a])),r=e?t.map(e):t;return(i,a)=>{if(typeof i!="function")return i;const o=n.get(a),s=e?e(a):a;return i(s,o,r,a)}}function mH(t){var{link:e=!1,valueof:n=(u,d)=>u,coordinate:r}=t,i=zm(t,["link","valueof","coordinate"]);const a="element-link";if(!e)return[()=>{},()=>{}];const o=u=>u.__data__.points,s=(u,d)=>{const[,h,v]=u,[g,,,b]=d;return[h,g,b,v]};return[u=>{var d;if(u.length<=1)return;const h=Ns(u,(v,g)=>{const{x:b}=v.__data__,{x}=g.__data__;return b-x});for(let v=1;v<h.length;v++){const g=rs(),b=h[v-1],x=h[v],[_,w,E,A]=s(o(b),o(x));g.moveTo(..._),g.lineTo(...w),g.lineTo(...E),g.lineTo(...A),g.closePath();const M=Hl(i,j=>n(j,b)),{fill:T=b.getAttribute("fill")}=M,C=zm(M,["fill"]),R=new Bi({className:a,style:Object.assign({d:g.toString(),fill:T,zIndex:-2},C)});(d=b.link)===null||d===void 0||d.remove(),b.parentNode.appendChild(R),b.link=R}},u=>{var d;(d=u.link)===null||d===void 0||d.remove(),u.link=null}]}function bH(t,e,n){const r=i=>{const{transform:a}=t.style;return a?`${a} ${i}`:i};if(Nn(n)){const{points:i}=t.__data__,[a,o]=nr(n)?uS(i):i,s=n.getCenter(),l=Pr(a,s),c=Pr(o,s),u=ts(l),d=OI(l,c),h=u+d/2,v=e*Math.cos(h),g=e*Math.sin(h);return r(`translate(${v}, ${g})`)}return nr(n)?r(`translate(${e}, 0)`):r(`translate(0, ${-e})`)}function xH(t){var{document:e,background:n,scale:r,coordinate:i,valueof:a}=t,o=zm(t,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const l=(_,w,E)=>{const A=_.invert(w),M=w+_.getBandWidth(A)/2,T=_.getStep(A)/2,C=T*E;return[M-T+C,M+T-C]},c=(_,w)=>{const{x:E}=r;if(!Lm(E))return[0,1];const{__data__:A}=_,{x:M}=A,[T,C]=l(E,M,w);return[T,C]},u=(_,w)=>{const{y:E}=r;if(!Lm(E))return[0,1];const{__data__:A}=_,{y:M}=A,[T,C]=l(E,M,w);return[T,C]},d=(_,w)=>{const{padding:E}=w,[A,M]=c(_,E),[T,C]=u(_,E),R=[[A,T],[M,T],[M,C],[A,C]].map(B=>i.map(B)),{__data__:j}=_,{y:I,y1:D}=j;return WB(e,R,{y:I,y1:D},i,w)},h=(_,w)=>{const{transform:E="scale(1.2, 1.2)",transformOrigin:A="center center",stroke:M=""}=w,T=zm(w,["transform","transformOrigin","stroke"]),C=Object.assign({transform:E,transformOrigin:A,stroke:M},T),R=_.cloneNode(!0);for(const[j,I]of Object.entries(C))R.style[j]=I;return R},v=()=>{const{x:_,y:w}=r;return[_,w].some(Lm)};return[_=>{_.background&&_.background.remove();const w=Hl(o,B=>a(B,_)),{fill:E="#CCD6EC",fillOpacity:A=.3,zIndex:M=-2,padding:T=.001,lineWidth:C=0}=w,R=zm(w,["fill","fillOpacity","zIndex","padding","lineWidth"]),j=Object.assign(Object.assign({},R),{fill:E,fillOpacity:A,zIndex:M,padding:T,lineWidth:C}),D=(v()?d:h)(_,j);D.className=s,_.parentNode.parentNode.appendChild(D),_.background=D},_=>{var w;(w=_.background)===null||w===void 0||w.remove(),_.background=null},_=>_.className===s]}function Yu(t,e){const r=t.getRootNode().defaultView.getContextService().getDomElement();r?.style&&(t.cursor=r.style.cursor,r.style.cursor=e)}function e1t(t){Yu(t,t.cursor)}function U3(t,e,n){return t.find(r=>Object.entries(e).every(([i,a])=>n(r)[i]===a))}function bO(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function tm(t,e=!1){const n=S6(t,r=>!!r).map((r,i)=>[i===0?"M":"L",...r]);return e&&n.push(["Z"]),n}function _H(t){return t.querySelectorAll(".element")}function n1t(t,e,n=0){const r=[["M",...e[1]]],i=bO(t,e[1]),a=bO(t,e[0]);return i===0?r.push(["L",...e[3]],["A",a,a,0,n,1,...e[0]],["Z"]):r.push(["A",i,i,0,n,0,...e[2]],["L",...e[3]],["A",a,a,0,n,1,...e[0]],["Z"]),r}function rb(t,e){if(e(t))return t;let n=t.parent;for(;n&&!e(n);)n=n.parent;return n}const H3=["interval","point","density"];function wH({elementsof:t,root:e,coordinate:n,scale:r,validFindByXMarks:i=H3}){var a,o;let s=t(e);const l=u=>i.includes(u.markType);if(s.find(l)){s=s.filter(l);const u=r.x,d=r.series,h=(o=(a=u?.getBandWidth)===null||a===void 0?void 0:a.call(u))!==null&&o!==void 0?o:0,v=d?g=>{var b,x;const _=Math.round(1/((b=d.valueBandWidth)!==null&&b!==void 0?b:1));return g.__data__.x+((x=g.__data__.series)!==null&&x!==void 0?x:0)*h+h/(_*2)}:g=>g.__data__.x+h/2;return s.sort((g,b)=>v(g)-v(b)),g=>{const b=Ah(e,g);if(!b)return;const[x]=n.invert(b),_=Pc(v).center,w=_(s,x);return s[w]}}return u=>{const{target:d}=u;return rb(d,h=>h.classList?h.classList.includes("element"):!1)}}var r1t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function i1t(t,{elements:e,datum:n,groupKey:r=g=>g,regionGroupKey:i=g=>g,link:a=!1,background:o=!1,delay:s=60,scale:l,coordinate:c,emitter:u,state:d={},region:h=!1,regionEleFilter:v=g=>H3.includes(g.markType)}){var g,b;const x=(g=e(t))!==null&&g!==void 0?g:[],_=h?x.filter(v):x,w=new Set(_),E=h?i:r,A=Vn(_,E),M=wH({elementsof:e,root:t,coordinate:c,scale:l}),T=nb(_,n),[C,R]=mH(Object.assign({elements:_,valueof:T,link:a,coordinate:c},$t(d.active,"link"))),[j,I,D]=xH(Object.assign({document:t.ownerDocument,scale:l,coordinate:c,background:o,valueof:T},$t(d.active,"background"))),B=wt(d,{active:Object.assign({},((b=d.active)===null||b===void 0?void 0:b.offset)&&{transform:(...at)=>{const ft=d.active.offset(...at),[,mt]=at;return bH(_[mt],ft,c)}})}),$=yH(B,_),{updateState:U,removeState:G,hasState:F}=$(T);let H;const Y=at=>{const{nativeEvent:ft=!0}=at;let mt=at.target;if(h&&(mt=M(at)),!w.has(mt))return;H&&clearTimeout(H);const ct=E(mt),St=A.get(ct),Mt=new Set(St);for(const It of _)Mt.has(It)?F(It,"active")||U(It,"active"):(U(It,"inactive"),R(It)),It!==mt&&I(It);j(mt),C(St),ft&&u.emit("element:highlight",{nativeEvent:ft,data:{data:n(mt),group:St.map(n)}})},W=()=>{H&&clearTimeout(H),H=setTimeout(()=>{V(),H=null},s)},V=(at=!0)=>{for(const ft of _)G(ft,"active","inactive"),I(ft),R(ft);at&&u.emit("element:unhighlight",{nativeEvent:at})},J=at=>{let ft=at.target;if(h&&(ft=M(at)),!ft){s>0?W():V();return}o&&!D(ft)||!o&&!w.has(ft)||(s>0?W():V())},tt=()=>{V()};t.addEventListener("pointerover",Y),t.addEventListener("pointermove",Y),t.addEventListener("pointerout",J),t.addEventListener("pointerleave",tt);const nt=at=>{const{nativeEvent:ft}=at;ft||V(!1)},lt=at=>{const{nativeEvent:ft}=at;if(ft)return;const{data:mt}=at.data,ct=U3(_,mt,n);ct&&Y({target:ct,nativeEvent:!1})};return u.on("element:highlight",lt),u.on("element:unhighlight",nt),()=>{t.removeEventListener("pointerover",Y),t.removeEventListener("pointermove",Y),t.removeEventListener("pointerout",J),t.removeEventListener("pointerleave",tt),u.off("element:highlight",lt),u.off("element:unhighlight",nt);for(const at of _)I(at),R(at)}}function IS(t){var{delay:e,createGroup:n,createRegionGroup:r,background:i=!1,link:a=!1}=t,o=r1t(t,["delay","createGroup","createRegionGroup","background","link"]);return(s,l,c)=>{const{container:u,view:d,options:h}=s,{scale:v,coordinate:g}=d,b=Fs(u);return i1t(b,Object.assign({elements:pf,datum:Mh(d),groupKey:n?n(d):void 0,regionGroupKey:r?r(d):eb(),coordinate:g,scale:v,state:_g(h,[["active",i?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:i,link:a,delay:e,emitter:c},o))}}IS.props={reapplyWhenUpdate:!0};function OH(t){return IS(Object.assign(Object.assign({},t),{createGroup:eb}))}OH.props={reapplyWhenUpdate:!0};function SH(t){return IS(Object.assign(Object.assign({},t),{createGroup:vH}))}SH.props={reapplyWhenUpdate:!0};var a1t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function o1t(t,{elements:e,datum:n,groupKey:r=b=>b,regionGroupKey:i=b=>b,link:a=!1,single:o=!1,multipleSelectHotkey:s,coordinate:l,background:c=!1,scale:u,emitter:d,state:h={},region:v=!1,regionEleFilter:g=b=>H3.includes(b.markType)}){var b;const x=e(t),_=new Set(x),w=wH({elementsof:e,root:t,coordinate:l,scale:u}),E=Vn(x,r),A=Vn(x,i),M=nb(x,n),[T,C]=mH(Object.assign({link:a,elements:x,valueof:M,coordinate:l},$t(h.selected,"link"))),[R,j]=xH(Object.assign({document:t.ownerDocument,background:c,coordinate:l,scale:u,valueof:M},$t(h.selected,"background"))),I=wt(h,{selected:Object.assign({},((b=h.selected)===null||b===void 0?void 0:b.offset)&&{transform:(...ct)=>{const St=h.selected.offset(...ct),[,Mt]=ct;return bH(x[Mt],St,l)}})}),D=yH(I,x),{updateState:B,removeState:$,hasState:U}=D(M);let G=!o,F=null;const H=(ct=!0)=>{for(const St of x)$(St,"selected","unselected"),C(St),j(St);ct&&d.emit("element:unselect",{nativeEvent:!0})},Y=({event:ct,element:St,nativeEvent:Mt=!0,filter:It=Ut=>!0,groupBy:Nt=r,groupMap:zt=E})=>{const Ut=x.filter(It);if(U(St,"selected"))H();else{const Zt=Nt(St),ie=zt.get(Zt),Gt=new Set(ie);for(const Jt of Ut)Gt.has(Jt)?B(Jt,"selected"):(B(Jt,"unselected"),C(Jt)),Jt!==St&&j(Jt);if(T(ie),R(St),!Mt)return;d.emit("element:select",Object.assign(Object.assign({},ct),{nativeEvent:Mt,data:{data:[n(St),...ie.map(n)]}}))}},W=({event:ct,element:St,nativeEvent:Mt=!0,filter:It=Ut=>!0,groupBy:Nt=r,groupMap:zt=E})=>{const Ut=Nt(St),Zt=zt.get(Ut),ie=new Set(Zt),Gt=x.filter(It);if(U(St,"selected")){if(!x.some(le=>!ie.has(le)&&U(le,"selected")))return H();for(const le of Zt)B(le,"unselected"),C(le),j(le)}else{const Jt=Zt.some(le=>U(le,"selected"));for(const le of Gt)ie.has(le)?B(le,"selected"):U(le,"selected")||B(le,"unselected");!Jt&&a&&T(Zt),R(St)}Mt&&d.emit("element:select",Object.assign(Object.assign({},ct),{nativeEvent:Mt,data:{data:x.filter(Jt=>U(Jt,"selected")).map(n)}}))},V=ct=>{if(_.has(ct))return!0;for(const St of _)if(A1(St,It=>It===ct))return!0;return!1},J=ct=>{if(_.has(ct))return ct;for(const St of _){let Mt=null;if(A1(St,It=>{It===ct&&(Mt=St)}),Mt)return Mt}return ct},tt=ct=>{const{target:St,nativeEvent:Mt=!0}=ct,It=G?W:Y;let Nt=St;const zt=V(St);return!v||zt?zt?It({event:ct,element:J(Nt),nativeEvent:Mt,groupBy:r}):H():(Nt=w(ct),_.has(Nt)?It({event:ct,element:Nt,nativeEvent:Mt,filter:g,groupBy:i,groupMap:A}):H())},nt=Array.isArray(s)?s:[s],lt=ct=>{nt.includes(ct.code)&&!F&&(F=ct.code,G=!0)},at=ct=>{ct.code===F&&(F=null,G=!1)};t.addEventListener("click",tt),s&&(G=!1,document.addEventListener("keydown",lt),document.addEventListener("keyup",at));const ft=ct=>{const{nativeEvent:St,data:Mt}=ct;if(St)return;const It=G?Mt.data:Mt.data.slice(0,1);for(const Nt of It){const zt=U3(x,Nt,n);tt({target:zt,nativeEvent:!1})}},mt=()=>{H(!1)};return d.on("element:select",ft),d.on("element:unselect",mt),()=>{for(const ct of x)C(ct);t.removeEventListener("click",tt),s&&(document.removeEventListener("keydown",lt),document.removeEventListener("keyup",at)),d.off("element:select",ft),d.off("element:unselect",mt)}}function BS(t){var{createGroup:e,createRegionGroup:n,background:r=!1,link:i=!1}=t,a=a1t(t,["createGroup","createRegionGroup","background","link"]);return(o,s,l)=>{const{container:c,view:u,options:d}=o,{coordinate:h,scale:v}=u,g=Fs(c);return o1t(g,Object.assign({elements:pf,datum:Mh(u),groupKey:e?e(u):void 0,regionGroupKey:n?n(u):eb(),coordinate:h,scale:v,state:_g(d,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:i,emitter:l},a))}}BS.props={reapplyWhenUpdate:!0};function EH(t){return BS(Object.assign(Object.assign({},t),{createGroup:eb}))}EH.props={reapplyWhenUpdate:!0};function AH(t){return BS(Object.assign(Object.assign({},t),{createGroup:vH}))}AH.props={reapplyWhenUpdate:!0};var s1t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},l1t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function c1t(t){const{transform:e=[]}=t,n=e.find(i=>i.type==="normalizeY");if(n)return n;const r={type:"normalizeY"};return e.push(r),t.transform=e,r}function u1t(t,e,n){const[r]=Array.from(t.entries()).filter(([i])=>i.type===e).map(([i])=>{const{encode:a}=i,o=s=>{const l=a[s];return[s,l?l.value:void 0]};return Object.fromEntries(n.map(o))});return r}function MH(t){var{wait:e=20,leading:n,trailing:r=!1,labelFormatter:i=o=>`${o}`}=t,a=l1t(t,["wait","leading","trailing","labelFormatter"]);return o=>{const{view:s,container:l,update:c,setState:u}=o,{markState:d,scale:h,coordinate:v}=s,g=u1t(d,"line",["x","y","series"]);if(!g)return;const{y:b,x,series:_=[]}=g,w=b.map((H,Y)=>Y),E=Ns(w.map(H=>x[H])),A=Fs(l),M=l.getElementsByClassName(Tl),T=l.getElementsByClassName(JT),R=Vn(T,H=>H.__data__.key.split("-")[0]),j=new Nh({style:Object.assign({x1:0,y1:0,x2:0,y2:A.getAttribute("height"),stroke:"black",lineWidth:1},$t(a,"rule"))}),I=new es({style:Object.assign({x:0,y:A.getAttribute("height"),text:"",fontSize:10},$t(a,"label"))});j.append(I),A.appendChild(j);const D=(H,Y,W)=>{const[V]=H.invert(W),J=Y.invert(V);return E[aV(E,J)]},B=(H,Y)=>{j.setAttribute("x1",H[0]),j.setAttribute("x2",H[0]),I.setAttribute("text",i(Y))};let $;const U=H=>s1t(this,void 0,void 0,function*(){const{x:Y}=h,W=D(v,Y,H);B(H,W),u("chartIndex",J=>{const tt=wt({},J),nt=tt.marks.find(ct=>ct.type==="line"),at=Mn(TC(w,ct=>Mn(ct,St=>+b[St])/xo(ct,St=>+b[St]),ct=>_[ct]).values()),ft=[1/at,at];wt(nt,{scale:{y:{domain:ft}}});const mt=c1t(nt);mt.groupBy="color",mt.basis=(ct,St)=>{const Mt=ct[Pc(It=>x[+It]).center(ct,W)];return St[Mt]};for(const ct of tt.marks)ct.animate=!1;return tt}),$=(yield c("chartIndex")).view}),G=H=>{const{scale:Y,coordinate:W}=$,{x:V,y:J}=Y,tt=D(W,V,H);B(H,tt);for(const nt of M){const{seriesIndex:lt,key:at}=nt.__data__,ft=lt[Pc(zt=>x[+zt]).center(lt,tt)],mt=[0,J.map(1)],ct=[0,J.map(b[ft]/b[lt[0]])],[,St]=W.map(mt),[,Mt]=W.map(ct),It=St-Mt;nt.setAttribute("transform",`translate(0, ${It})`);const Nt=R.get(at)||[];for(const zt of Nt)zt.setAttribute("dy",It)}},F=vh(H=>{const Y=Ah(A,H);Y&&G(Y)},e,{leading:n,trailing:r});return U([0,0]),A.addEventListener("pointerenter",F),A.addEventListener("pointermove",F),A.addEventListener("pointerleave",F),()=>{j.remove(),A.removeEventListener("pointerenter",F),A.removeEventListener("pointermove",F),A.removeEventListener("pointerleave",F)}}}MH.props={reapplyWhenUpdate:!0};function f1t(t){const{coordinate:e={}}=t,{transform:n=[]}=e,r=n.find(a=>a.type==="fisheye");if(r)return r;const i={type:"fisheye"};return n.push(i),e.transform=n,t.coordinate=e,i}function d1t({wait:t=30,leading:e,trailing:n=!1}){return r=>{const{options:i,update:a,setState:o,container:s}=r,l=Fs(s),c=vh(u=>{const d=Ah(l,u);if(!d){o("fisheye"),a();return}o("fisheye",h=>{const v=wt({},h,{interaction:{tooltip:{preserve:!0}}});for(const _ of v.marks)_.animate=!1;const[g,b]=d,x=f1t(v);return x.focusX=g,x.focusY=b,x.visual=!0,v}),a()},t,{leading:e,trailing:n});return l.addEventListener("pointerenter",c),l.addEventListener("pointermove",c),l.addEventListener("pointerleave",c),()=>{l.removeEventListener("pointerenter",c),l.removeEventListener("pointermove",c),l.removeEventListener("pointerleave",c)}}}var vf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function xO(t,e){var n;if(e)return typeof e=="string"?document.querySelector(e):e;const r=(n=t.ownerDocument)===null||n===void 0?void 0:n.defaultView;return r?r.getContextService().getDomElement().parentElement:void 0}function h1t(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,a]}=e;return{x:n,y:r,width:i-n,height:a-r}}function p1t(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function v1t(t,e,n,r,i,a,o,s={},l=[10,10]){const c={".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},u=new Cot({className:"tooltip",style:{x:e,y:n,container:o,data:[],bounding:a,position:r,enterable:i,title:"",offset:l,template:{prefixCls:"g2-"},style:wt(c,s)}});return t.appendChild(u.HTMLTooltipElement),u}function TH({root:t,data:e,x:n,y:r,render:i,event:a,single:o,position:s="right-bottom",enterable:l=!1,css:c,mount:u,bounding:d,offset:h}){const v=xO(t,u),g=xO(t),b=o?g:t,x=d||h1t(t),_=p1t(g,v),{tooltipElement:w=v1t(v,n,r,s,l,x,_,c,h)}=b,{items:E,title:A=""}=e;w.update(Object.assign({x:n,y:r,data:E,title:A,position:s,enterable:l,container:_},i!==void 0&&{content:i(a,{items:E,title:A})})),b.tooltipElement=w}function Vu({root:t,single:e,emitter:n,nativeEvent:r=!0,event:i=null}){r&&n.emit("tooltip:hide",{nativeEvent:r});const a=xO(t),o=e?a:t,{tooltipElement:s}=o;s&&s.hide(i?.clientX,i?.clientY),CH(t),RH(t),PH(t)}function Pk({root:t,single:e}){const n=xO(t),r=e?n:t;if(!r)return;const{tooltipElement:i}=r;i&&(i.destroy(),r.tooltipElement=void 0),CH(t),RH(t),PH(t)}function G3(t){const{value:e}=t;return Object.assign(Object.assign({},t),{value:e===void 0?"undefined":e})}function g1t(t){var e,n,r,i,a,o,s;const{__data__:l}=t,{title:c,items:u=[]}=l;if(u.some(T=>I3 in T)){const T=u.filter(qn).map(C=>{var{color:R=Y3(t)}=C,j=vf(C,["color"]);return Object.assign(Object.assign({},j),{color:R})}).map(G3);return Object.assign(Object.assign({},c&&{title:c}),{items:T})}const h=(n=(e=l?.normalized)===null||e===void 0?void 0:e.x)!==null&&n!==void 0?n:0,v=(r=t.parentNode)===null||r===void 0?void 0:r.__data__,g=(i=v?.encode)!==null&&i!==void 0?i:{},{x:b={},y:x={},color:_={}}=g,{value:w=[]}=b,{value:E=[]}=x,{value:A=[]}=_,M=Math.min(Math.round(w.length*h),w.length-1);return{title:`${w[M]}, ${E[M]}`,items:[{name:(a=_.field)!==null&&a!==void 0?a:"value",value:A[M],color:((o=t.style)===null||o===void 0?void 0:o.fill)||((s=t.getAttribute)===null||s===void 0?void 0:s.call(t,"color"))||"#000"}]}}function y1t(t){const{__data__:e}=t;if(GO(t))return g1t(t);const{title:n,items:r=[]}=e,i=r.filter(qn).map(a=>{var{color:o=Y3(t)}=a,s=vf(a,["color"]);return Object.assign(Object.assign({},s),{color:o})}).map(G3);return Object.assign(Object.assign({},n&&{title:n}),{items:i})}function Y3(t){const e=t.getAttribute("fill"),n=t.getAttribute("stroke"),{__data__:r}=t,{color:i=e&&e!=="transparent"?e:n}=r;return i}function H4(t,e=n=>n){const n=new Map(t.map(r=>[e(r),r]));return Array.from(n.values())}function kH(t,e,n,r=t.map(a=>a.__data__),i={}){const a=l=>l instanceof Date?+l:l,o=H4(r.map(l=>l.title),a).filter(qn),s=r.flatMap((l,c)=>{const u=l.element||t[c],{items:d=[],title:h}=l,v=d.filter(qn),g=n!==void 0?n:d.length<=1;return v.map(b=>{var{color:x=Y3(u)||i.color,name:_}=b,w=vf(b,["color","name"]);const E=XK(e,l),A=g&&!(I3 in w)?E||_:_||E;return Object.assign(Object.assign({},w),{color:x,name:A||h})})}).map(G3);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:H4(s,l=>`(${a(l.name)}, ${a(l.value)}, ${a(l.color)})`)})}function m1t(t,e,n,r){var{plotWidth:i,plotHeight:a,mainWidth:o,mainHeight:s,startX:l,startY:c,transposed:u,polar:d,insetLeft:h,insetTop:v}=r,g=vf(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const b=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},g),x=(T,C,R)=>{const j=new Yl({style:Object.assign({cx:T,cy:C,r:R},b)});return t.appendChild(j),j},_=(T,C,R,j)=>{const I=new Nh({style:Object.assign({x1:T,x2:C,y1:R,y2:j},b)});return t.appendChild(I),I},E=((T,C)=>{if(C.length===1)return C[0];const R=C.map(I=>Sr(I,T)),j=I1(R,I=>I);return C[j]})(n,e),A=()=>u?[l+E[0],l+E[0],c,c+a]:[l,l+i,E[1]+c,E[1]+c],M=()=>{const T=l+h+o/2,C=c+v+s/2,R=Sr([T,C],E);return[T,C,R]};if(d){const[T,C,R]=M(),j=t.ruleX||x(T,C,R);j.style.cx=T,j.style.cy=C,j.style.r=R,t.ruleX=j}else{const[T,C,R,j]=A(),I=t.ruleX||_(T,C,R,j);I.style.x1=T,I.style.x2=C,I.style.y1=R,I.style.y2=j,t.ruleX=I}}function b1t(t,e,n){var{plotWidth:r,plotHeight:i,mainWidth:a,mainHeight:o,startX:s,startY:l,transposed:c,polar:u,insetLeft:d,insetTop:h}=n,v=vf(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const g=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},v),b=e.map(j=>j[1]),x=e.map(j=>j[0]),_=t1(b),w=t1(x),E=()=>{if(u){const j=Math.min(a,o)/2,I=s+d+a/2,D=l+h+o/2,B=ts(Pr([w,_],[I,D])),$=I+j*Math.cos(B),U=D+j*Math.sin(B);return[I,$,D,U]}return c?[s,s+r,_+l,_+l]:[w+s,w+s,l,l+i]},[A,M,T,C]=E(),R=()=>{const j=new Nh({style:Object.assign({x1:A,x2:M,y1:T,y2:C},g)});return t.appendChild(j),j};if(x.length>0){const j=t.ruleY||R();j.style.x1=A,j.style.x2=M,j.style.y1=T,j.style.y2=C,t.ruleY=j}}function CH(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function RH(t){t.ruleX&&(t.ruleX.remove(),t.ruleX=void 0)}function x1t(t,{data:e,style:n,theme:r}){t.markers&&t.markers.forEach(o=>o.remove());const{type:i=""}=n,a=e.filter(o=>{const[{x:s,y:l}]=o;return qn(s)&&qn(l)}).map(o=>{const[{color:s,element:l},c]=o,u=s||l.style.fill||l.style.stroke||r.color,d=i==="hollow"?"transparent":u,h=i==="hollow"?u:"#fff";return new Yl({className:"g2-tooltip-marker",style:Object.assign({cx:c[0],cy:c[1],fill:d,r:4,stroke:h,lineWidth:2,pointerEvents:"none"},n)})});for(const o of a)t.appendChild(o);t.markers=a}function PH(t){t.markers&&(t.markers.forEach(e=>e.remove()),t.markers=[])}function G4(t,e){return Array.from(t.values()).some(n=>{var r;return(r=n.interaction)===null||r===void 0?void 0:r[e]})}function Ml(t,e){return t===void 0?e:t}function jH(t){const{title:e,items:n}=t;return n.length===0&&e===void 0}function _1t(t){return Array.from(t.values()).some(e=>{var n;return((n=e.interaction)===null||n===void 0?void 0:n.seriesTooltip)&&e.tooltip})}function w1t(t,e){const{innerWidth:n,innerHeight:r,marginLeft:i,paddingLeft:a,insetLeft:o,marginTop:s,paddingTop:l,insetTop:c}=t.getOptions();return{x:(e.x-i-a-o)/n,y:(e.y-s-l-c)/r}}function O1t(t){const{x:e}=t;if(!e||!e.valueBandWidth)return!0;const{valueBandWidth:n}=e;return Kn(n)?!0:new Set(n.values()).size===1}function S1t(t,e){const{adjustedRange:n,valueBandWidth:r,valueStep:i}=t,a=Array.from(r.values()),o=Array.from(i.values()),l=n.map((c,u)=>{const d=(o[u]-a[u])/2;return[c-d,c+a[u]+d]}).findIndex(([c,u])=>c<=e&&e<=u);return l!==-1?l:e>.5?n.length-1:0}function LH({root:t,event:e,elements:n=[],coordinate:r,scale:i,shared:a}){var o,s;const l=_=>_.markType==="interval",c=n.every(l)&&!Nn(r),u=i.x,d=O1t(i),h=i.series,v=(s=(o=u?.getBandWidth)===null||o===void 0?void 0:o.call(u))!==null&&s!==void 0?s:0,g=h&&h.valueBandWidth?_=>{const w=Math.round(1/h.valueBandWidth);return _.__data__.x+_.__data__.series*v+v/(w*2)}:_=>_.__data__.x+v/2;c&&n.sort((_,w)=>g(_)-g(w));const b=_=>{const{target:w=qo(n)}=_;return rb(w,E=>E.classList?(GO(E)&&bC(E,"__data__.normalized",w1t(r,{x:_.offsetX,y:_.offsetY})),E.classList.includes("element")):!1)};return(c?_=>{const w=Ah(t,_);if(!w)return;const[E]=r.invert(w),A=Pc(g).center,M=d?A(n,E):S1t(u,E),T=n[M];if(!a){const C=n.find(R=>R!==T&&g(R)===g(T));if(C)return b(_)||C}return T}:b)(e)}function NH({root:t,event:e,elements:n,coordinate:r,scale:i,startX:a,startY:o}){const s=nr(r),l=[],c=[];for(const H of n){const{__data__:Y}=H,{seriesX:W,title:V,items:J}=Y;W?l.push(H):(V||J)&&c.push(H)}const u=H=>H.markType==="interval",d=c.length&&c.every(u)&&!Nn(r),h=H=>H.__data__.x,g=!!i.x.getBandWidth&&c.length>0;l.sort((H,Y)=>{const W=s?0:1,V=J=>J.getBounds().min[W];return s?V(Y)-V(H):V(H)-V(Y)});const b=H=>{const Y=s?1:0,{min:W,max:V}=H.getLocalBounds();return Ns([W[Y],V[Y]])};d?n.sort((H,Y)=>h(H)-h(Y)):c.sort((H,Y)=>{const[W,V]=b(H),[J,tt]=b(Y),nt=(W+V)/2,lt=(J+tt)/2;return s?lt-nt:nt-lt});const x=new Map(l.map(H=>{const{__data__:Y}=H,{seriesX:W}=Y,V=W.map((tt,nt)=>nt),J=Ns(V,tt=>W[+tt]);return[H,[J,W]]})),{x:_}=i,w=_?.getBandWidth?_.getBandWidth()/2:0,E=H=>{const[Y]=r.invert(H);return Y-w},A=(H,Y,W,V)=>{const{_x:J}=H,tt=J!==void 0?_.map(J):E(Y),nt=V.filter(qn),[lt,at]=Ns([nt[0],nt[nt.length-1]]),ft=lt===at;if(!g&&(tt<lt||tt>at)&&!ft)return null;const mt=Pc(St=>V[+St]).center,ct=mt(W,tt);return W[ct]},M=d?(H,Y)=>{const W=Pc(h).center,V=W(Y,E(H)),J=Y[V];return Vn(Y,h).get(h(J))}:(H,Y)=>{const V=H[s?1:0],J=Y.filter(lt=>{const[at,ft]=b(lt);return V>=at&&V<=ft});if(!g||J.length>0)return J;const tt=Pc(lt=>{const[at,ft]=b(lt);return(at+ft)/2}).center,nt=tt(Y,V);return[Y[nt]].filter(qn)},T=(H,Y)=>{const{__data__:W}=H;return Object.fromEntries(Object.entries(W).filter(([V])=>V.startsWith("series")&&V!=="series").map(([V,J])=>{const tt=J[Y];return[k6(V.replace("series","")),tt]}))},C=Ah(t,e);if(!C)return;const R=[C[0]-a,C[1]-o];if(!R)return;const j=M(R,c),I=[],D=[];for(const H of l){const[Y,W]=x.get(H),V=A(e,R,Y,W);if(V!==null){I.push(H);const J=T(H,V),{x:tt,y:nt}=J,lt=r.map([(tt||0)+w,nt||0]);D.push([Object.assign(Object.assign({},J),{element:H}),lt])}}const B=Array.from(new Set(D.map(H=>H[0].x))),$=B[I1(B,H=>Math.abs(H-E(R)))],U=D.filter(H=>H[0].x===$),G=[...U.map(H=>H[0]),...j.map(H=>H.__data__)];return{selectedElements:[...I,...j],selectedData:G,filteredSeriesData:U,abstractX:E}}function Y4(t,e){var{elements:n,sort:r,filter:i,scale:a,coordinate:o,crosshairs:s,crosshairsX:l,crosshairsY:c,render:u,groupName:d,emitter:h,wait:v=50,leading:g=!0,trailing:b=!1,startX:x=0,startY:_=0,body:w=!0,single:E=!0,position:A,enterable:M,mount:T,bounding:C,theme:R,offset:j,disableNative:I=!1,marker:D=!0,preserve:B=!1,style:$={},css:U={}}=e,G=vf(e,["elements","sort","filter","scale","coordinate","crosshairs","crosshairsX","crosshairsY","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","offset","disableNative","marker","preserve","style","css"]);const F=n(t),H=wt($,G),Y=Nn(o),W=nr(o),{innerWidth:V,innerHeight:J,width:tt,height:nt,insetLeft:lt,insetTop:at}=o.getOptions(),ft=vh(ie=>{var Gt;const Jt=Ah(t,ie);if(!Jt)return;const le=yO(t),_n=le.min[0],dn=le.min[1],{selectedElements:yn,selectedData:kn,filteredSeriesData:Zn,abstractX:Dn}=NH({root:t,event:ie,elements:F,coordinate:o,scale:a,startX:x,startY:_}),Pe=kH(yn,a,d,kn,R);if(r&&Pe.items.sort((Ee,en)=>r(Ee)-r(en)),i&&(Pe.items=Pe.items.filter(i)),yn.length===0||jH(Pe)){mt(ie);return}if(w&&TH({root:t,data:Pe,x:Jt[0]+_n,y:Jt[1]+dn,render:u,event:ie,single:E,position:A,enterable:M,mount:T,bounding:C,css:U,offset:j}),s||l||c){const Ee=$t(H,"crosshairs"),en=Object.assign(Object.assign({},Ee),$t(H,"crosshairsX")),ti=Object.assign(Object.assign({},Ee),$t(H,"crosshairsY")),Nr=Zn.map(xi=>xi[1]);l&&m1t(t,Nr,Jt,Object.assign(Object.assign({},en),{plotWidth:V,plotHeight:J,mainWidth:tt,mainHeight:nt,insetLeft:lt,insetTop:at,startX:x,startY:_,transposed:W,polar:Y})),c&&b1t(t,Nr,Object.assign(Object.assign({},ti),{plotWidth:V,plotHeight:J,mainWidth:tt,mainHeight:nt,insetLeft:lt,insetTop:at,startX:x,startY:_,transposed:W,polar:Y}))}if(D){const Ee=$t(H,"marker");x1t(t,{data:Zn,style:Ee,theme:R})}const Se=(Gt=Zn[0])===null||Gt===void 0?void 0:Gt[0].x,an=Se??Dn(focus);h.emit("tooltip:show",Object.assign(Object.assign({},ie),{nativeEvent:!0,data:Object.assign(Object.assign({},Pe),{data:{x:vg(a.x,an,!0)}})}))},v,{leading:g,trailing:b}),mt=ie=>{Vu({root:t,single:E,emitter:h,event:ie})},ct=()=>{Pk({root:t,single:E})},St=ie=>{var Gt,{nativeEvent:Jt,data:le,offsetX:_n,offsetY:dn}=ie,yn=vf(ie,["nativeEvent","data","offsetX","offsetY"]);if(Jt)return;const kn=(Gt=le?.data)===null||Gt===void 0?void 0:Gt.x,Dn=a.x.map(kn),[Pe,Se]=o.map([Dn,.5]),an=t.getRenderBounds(),Ee=an.min[0],en=an.min[1];ft(Object.assign(Object.assign({},yn),{offsetX:_n!==void 0?_n:Ee+Pe,offsetY:dn!==void 0?dn:en+Se,_x:kn}))},Mt=()=>{Vu({root:t,single:E,emitter:h,nativeEvent:!1})},It=()=>{Zt(),ct()},Nt=ie=>{Ah(t,ie)||mt(ie)},zt=()=>{Ut()},Ut=()=>{I||(t.addEventListener("pointerdown",ft),t.addEventListener("pointerenter",ft),t.addEventListener("pointermove",ft),t.addEventListener("pointerleave",Nt),t.addEventListener("pointerup",mt))},Zt=()=>{I||(t.removeEventListener("pointerdown",ft),t.removeEventListener("pointerenter",ft),t.removeEventListener("pointermove",ft),t.removeEventListener("pointerleave",Nt),t.removeEventListener("pointerup",mt))};return Ut(),h.on("tooltip:show",St),h.on("tooltip:hide",Mt),h.on("tooltip:disable",It),h.on("tooltip:enable",zt),()=>{Zt(),h.off("tooltip:show",St),h.off("tooltip:hide",Mt),h.off("tooltip:disable",It),h.off("tooltip:enable",zt),B?Vu({root:t,single:E,emitter:h,nativeEvent:!1}):ct()}}function E1t(t,{elements:e,coordinate:n,scale:r,render:i,groupName:a,sort:o,filter:s,emitter:l,wait:c=50,leading:u=!0,trailing:d=!1,groupKey:h=D=>D,single:v=!0,position:g,enterable:b,datum:x,view:_,mount:w,bounding:E,theme:A,offset:M,shared:T=!1,body:C=!0,disableNative:R=!1,preserve:j=!1,css:I={}}){const D=e(t),B=Vn(D,h),$=vh(J=>{const tt=LH({root:t,event:J,elements:D,coordinate:n,scale:r,shared:T});if(!tt){Vu({root:t,single:v,emitter:l,event:J});return}const nt=h(tt),lt=B.get(nt);if(!lt)return;const at=lt.length===1&&!T?y1t(lt[0]):kH(lt,r,a,void 0,A);if(o&&at.items.sort((ct,St)=>o(ct)-o(St)),s&&(at.items=at.items.filter(s)),jH(at)){Vu({root:t,single:v,emitter:l,event:J});return}const{offsetX:ft,offsetY:mt}=J;C&&TH({root:t,data:at,x:ft,y:mt,render:i,event:J,single:v,position:g,enterable:b,mount:w,bounding:E,css:I,offset:M}),l.emit("tooltip:show",Object.assign(Object.assign({},J),{nativeEvent:!0,data:Object.assign(Object.assign({},at),{data:$C(tt,_)})}))},c,{leading:u,trailing:d}),U=J=>{Vu({root:t,single:v,emitter:l,event:J})},G=()=>{R||(t.addEventListener("pointerdown",$),t.addEventListener("pointermove",$),t.addEventListener("pointerleave",U),t.addEventListener("pointerup",U))},F=()=>{R||(t.removeEventListener("pointerdown",$),t.removeEventListener("pointermove",$),t.removeEventListener("pointerleave",U),t.removeEventListener("pointerup",U))},H=({nativeEvent:J,offsetX:tt,offsetY:nt,data:lt})=>{if(J)return;const{data:at}=lt,ft=U3(D,at,x);if(!ft)return;const mt=ft.getBBox(),{x:ct,y:St,width:Mt,height:It}=mt,Nt=t.getBBox();$({target:ft,offsetX:tt!==void 0?tt+Nt.x:ct+Mt/2,offsetY:nt!==void 0?nt+Nt.y:St+It/2})},Y=({nativeEvent:J}={})=>{J||Vu({root:t,single:v,emitter:l,nativeEvent:!1})},W=()=>{F(),Pk({root:t,single:v})},V=()=>{G()};return l.on("tooltip:show",H),l.on("tooltip:hide",Y),l.on("tooltip:enable",V),l.on("tooltip:disable",W),G(),()=>{F(),l.off("tooltip:show",H),l.off("tooltip:hide",Y),l.off("tooltip:enable",V),l.off("tooltip:disable",W),j?Vu({root:t,single:v,emitter:l,nativeEvent:!1}):Pk({root:t,single:v})}}function DH(t){const{shared:e,crosshairs:n,crosshairsX:r,crosshairsY:i,series:a,name:o,item:s=()=>({}),facet:l=!1}=t,c=vf(t,["shared","crosshairs","crosshairsX","crosshairsY","series","name","item","facet"]);return(u,d,h)=>{const{container:v,view:g}=u,{scale:b,markState:x,coordinate:_,theme:w}=g,E=G4(x,"seriesTooltip"),A=G4(x,"crosshairs"),M=Fs(v),T=Ml(a,E),C=Ml(n,A);if(T&&_1t(x)&&!l)return Y4(M,Object.assign(Object.assign({},c),{theme:w,elements:pf,scale:b,coordinate:_,crosshairs:C,crosshairsX:Ml(Ml(r,n),!1),crosshairsY:Ml(i,C),item:s,emitter:h}));if(T&&l){const R=d.filter(U=>U!==u&&U.options.parentKey===u.options.key),j=pH(u,d),I=R[0].view.scale,D=M.getBounds(),B=D.min[0],$=D.min[1];return Object.assign(I,{facet:!0}),Y4(M.parentNode.parentNode,Object.assign(Object.assign({},c),{theme:w,elements:()=>j,scale:I,coordinate:_,crosshairs:Ml(n,A),crosshairsX:Ml(Ml(r,n),!1),crosshairsY:Ml(i,C),item:s,startX:B,startY:$,emitter:h}))}return E1t(M,Object.assign(Object.assign({},c),{datum:Mh(g),elements:pf,scale:b,coordinate:_,groupKey:e?eb():void 0,item:s,emitter:h,view:g,theme:w,shared:e}))}}DH.props={reapplyWhenUpdate:!0};var Rv=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const IH="legend-category",A1t="legend-continuous",M1t="items-item",T1t="legend-category-item-marker",k1t="legend-category-item-label",C1t="legend-category-item-focus-group";function BH(t){return t.getElementsByClassName(T1t)[0]}function $H(t){return t.getElementsByClassName(k1t)[0]}function q4(t){return t.getElementsByClassName(C1t)[0]}function zH(t){return t.getElementsByClassName(M1t)}function q3(t){return t.getElementsByClassName(IH)}function FH(t){return t.getElementsByClassName(A1t)}function R1t(t,e){[...q3(t),...FH(t)].forEach(r=>{e(r,i=>i)})}function jk(t){let e=t.parentNode;for(;e&&!e.__data__;)e=e.parentNode;return e.__data__}function P1t(t,{legends:e,marker:n,label:r,datum:i,filter:a,emitter:o,channel:s,state:l={}}){const c=new Map,u=new Map,d=new Map,h=new Map,{unselected:v={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,g={unselected:$t(v,"marker")},b={unselected:$t(v,"label")},{setState:x,removeState:_}=lf(g,void 0),{setState:w,removeState:E}=lf(b,void 0),A=Array.from(e(t));let M=A.map(i);const T=()=>{for(const I of A){const D=i(I),B=n(I),$=r(I);M.includes(D)?(_(B,"unselected"),E($,"unselected")):(x(B,"unselected"),w($,"unselected"))}};for(const I of A){const D=()=>{Yu(t,"pointer")},B=()=>{e1t(t)},$=G=>Rv(this,void 0,void 0,function*(){const F=i(I),H=M.indexOf(F);H===-1?M.push(F):M.splice(H,1),yield a(M),T();const{nativeEvent:Y=!0}=G;Y&&(M.length===A.length?o.emit("legend:reset",{nativeEvent:Y}):o.emit("legend:filter",Object.assign(Object.assign({},G),{nativeEvent:Y,data:{channel:s,values:M}})))});I.addEventListener("click",$),I.addEventListener("pointerenter",D),I.addEventListener("pointerout",B),c.set(I,$),u.set(I,D),d.set(I,B);const U=q4(I);if(U){const G=F=>Rv(this,void 0,void 0,function*(){F.stopPropagation();const H=i(I),Y=M.indexOf(H),{nativeEvent:W=!0}=F;if(Y!==-1&&M.length===1){if(!W)return;M=A.map(i),yield a(M),T(),o.emit("legend:reset",{nativeEvent:W})}else{if(M=[H],yield a(M),T(),!W)return;o.emit("legend:focus",Object.assign(Object.assign({},F),{nativeEvent:W,data:{channel:s,value:H}}))}});U.addEventListener("click",G),h.set(I,G)}}const C=I=>Rv(this,void 0,void 0,function*(){const{nativeEvent:D}=I;if(D)return;const{data:B}=I,{channel:$,value:U}=B;$===s&&(M=[U],yield a(M),T())}),R=I=>Rv(this,void 0,void 0,function*(){const{nativeEvent:D}=I;if(D)return;const{data:B}=I,{channel:$,values:U}=B;$===s&&(M=U,yield a(M),T())}),j=I=>Rv(this,void 0,void 0,function*(){const{nativeEvent:D}=I;D||(M=A.map(i),yield a(M),T())});return o.on("legend:filter",R),o.on("legend:focus",C),o.on("legend:reset",j),()=>{for(const I of A){I.removeEventListener("click",c.get(I)),I.removeEventListener("pointerenter",u.get(I)),I.removeEventListener("pointerout",d.get(I));const D=q4(I);D&&D.removeEventListener("click",h.get(I)),o.on("legend:focus",C),o.off("legend:filter",R),o.off("legend:reset",j)}}}function j1t(t,{legend:e,filter:n,emitter:r,channel:i}){const a=({detail:{value:o}})=>{n(o),r.emit({nativeEvent:!0,data:{channel:i,values:o}})};return e.addEventListener("valuechange",a),()=>{e.removeEventListener("valuechange",a)}}function UH(t,{legend:e,channel:n,value:r,ordinal:i,channels:a,allChannels:o,facet:s=!1}){return Rv(this,void 0,void 0,function*(){const{view:l,update:c,setState:u}=t;u(e,d=>{const{marks:h}=d,v=h.map(g=>{if(g.type==="legends")return g;const{transform:b=[],data:x=[]}=g,_=b.findIndex(({type:A})=>A.startsWith("group")||A.startsWith("bin")),w=[...b];x.length&&w.splice(_+1,0,{type:"filter",[n]:{value:r,ordinal:i}});const E=Object.fromEntries(a.map(A=>[A,{domain:l.scale[A].getOptions().domain}]));return wt({},g,Object.assign(Object.assign({transform:w,scale:E},!i&&{animate:!1}),{legend:s?!1:Object.fromEntries(o.map(A=>[A,{preserve:!0}]))}))});return Object.assign(Object.assign({},d),{marks:v})}),yield c()})}function L1t(t,e){for(const n of t)UH(n,Object.assign(Object.assign({},e),{facet:!0}))}function N1t(){return(t,e,n)=>{const{container:r}=t,i=e.filter(d=>d!==t),a=i.length>0,o=d=>jk(d).scales.map(h=>h.name),s=[...q3(r),...FH(r)],l=s.flatMap(o),c=a?vh(L1t,50,{trailing:!0}):vh(UH,50,{trailing:!0}),u=s.map(d=>{const{name:h,domain:v}=jk(d).scales[0],g=o(d),b={legend:d,channel:h,channels:g,allChannels:l};return d.className===IH?P1t(r,{legends:zH,marker:BH,label:$H,datum:x=>{const{__data__:_}=x,{index:w}=_;return v[w]},filter:x=>{const _=Object.assign(Object.assign({},b),{value:x,ordinal:!0});c(a?i:t,_)},state:d.attributes.state,channel:h,emitter:n}):j1t(r,{legend:d,filter:x=>{const _=Object.assign(Object.assign({},b),{value:x,ordinal:!1});c(a?i:t,_)},emitter:n,channel:h})});return()=>{u.forEach(d=>d())}}}function D1t(){return(t,e,n)=>{const{container:r,view:i,options:a}=t,o=q3(r),s=pf(r),l=v=>jk(v).scales[0].name,c=v=>{const{scale:{[v]:g}}=i;return g},u=_g(a,["active","inactive"]),d=nb(s,Mh(i)),h=[];for(const v of o){const g=V=>{const{data:J}=v.attributes,{__data__:tt}=V,{index:nt}=tt;return J[nt].label},b=l(v),x=zH(v),_=c(b),w=Vn(s,V=>_.invert(V.__data__[b])),{state:E={}}=v.attributes,{inactive:A={}}=E,{setState:M,removeState:T}=lf(u,d),C={inactive:$t(A,"marker")},R={inactive:$t(A,"label")},{setState:j,removeState:I}=lf(C),{setState:D,removeState:B}=lf(R),$=V=>{for(const J of x){const tt=BH(J),nt=$H(J);J===V||V===null?(I(tt,"inactive"),B(nt,"inactive")):(j(tt,"inactive"),D(nt,"inactive"))}},U=(V,J)=>{const tt=g(J),nt=new Set(w.get(tt));for(const at of s)nt.has(at)?M(at,"active"):M(at,"inactive");$(J);const{nativeEvent:lt=!0}=V;lt&&n.emit("legend:highlight",Object.assign(Object.assign({},V),{nativeEvent:lt,data:{channel:b,value:tt}}))},G=new Map;for(const V of x){const J=tt=>{U(tt,V)};V.addEventListener("pointerover",J),G.set(V,J)}const F=V=>{for(const tt of s)T(tt,"inactive","active");$(null);const{nativeEvent:J=!0}=V;J&&n.emit("legend:unhighlight",{nativeEvent:J})},H=V=>{const{nativeEvent:J,data:tt}=V;if(J)return;const{channel:nt,value:lt}=tt;if(nt!==b)return;const at=x.find(ft=>g(ft)===lt);at&&U({nativeEvent:!1},at)},Y=V=>{const{nativeEvent:J}=V;J||F({nativeEvent:!1})};v.addEventListener("pointerleave",F),n.on("legend:highlight",H),n.on("legend:unhighlight",Y);const W=()=>{v.removeEventListener(F),n.off("legend:highlight",H),n.off("legend:unhighlight",Y);for(const[V,J]of G)V.removeEventListener(J)};h.push(W)}return()=>h.forEach(v=>v())}}var Fo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function I1t(t,e){const[n,r,i,a]=t,[o,s,l,c]=e;return!(o>i||l<n||s>a||c<r)}function B1t(t,e,n,r,i){const[a,o,s,l]=i;return[Math.max(a,Math.min(t,n)),Math.max(o,Math.min(e,r)),Math.min(s,Math.max(t,n)),Math.min(l,Math.max(e,r))]}function $1t(t){const{width:e,height:n}=t.getBBox();return[0,0,e,n]}function Sc(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}const W4=ug(t=>{const e=t.attributes,{x:n,y:r,width:i,height:a,class:o,renders:s={},handleSize:l=10,document:c}=e,u=Fo(e,["x","y","width","height","class","renders","handleSize","document"]);if(!c||i===void 0||a===void 0||n===void 0||r===void 0)return;const d=l/2,h=(lt,at,ft)=>{lt.handle||(lt.handle=ft.createElement("rect"),lt.append(lt.handle));const{handle:mt}=lt;return mt.attr(at),mt},v=$t(q_(u,"handleNW","handleNE"),"handleN"),{render:g=h}=v,b=Fo(v,["render"]),x=$t(u,"handleE"),{render:_=h}=x,w=Fo(x,["render"]),E=$t(q_(u,"handleSE","handleSW"),"handleS"),{render:A=h}=E,M=Fo(E,["render"]),T=$t(u,"handleW"),{render:C=h}=T,R=Fo(T,["render"]),j=$t(u,"handleNW"),{render:I=h}=j,D=Fo(j,["render"]),B=$t(u,"handleNE"),{render:$=h}=B,U=Fo(B,["render"]),G=$t(u,"handleSE"),{render:F=h}=G,H=Fo(G,["render"]),Y=$t(u,"handleSW"),{render:W=h}=Y,V=Fo(Y,["render"]),J=(lt,at)=>{const{id:ft}=lt,mt=at(lt,lt.attributes,c);mt.id=ft,mt.style.draggable=!0},tt=lt=>()=>{const at=ug(ft=>J(ft,lt));return new at({})},nt=se(t).attr("className",o).style("transform",`translate(${n}, ${r})`).style("draggable",!0);nt.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(Sc,Object.assign(Object.assign({width:i,height:a},q_(u,"handle")),{transform:void 0})),nt.maybeAppend("handle-n",tt(g)).style("x",d).style("y",-d).style("width",i-l).style("height",l).style("fill","transparent").call(Sc,b),nt.maybeAppend("handle-e",tt(_)).style("x",i-d).style("y",d).style("width",l).style("height",a-l).style("fill","transparent").call(Sc,w),nt.maybeAppend("handle-s",tt(A)).style("x",d).style("y",a-d).style("width",i-l).style("height",l).style("fill","transparent").call(Sc,M),nt.maybeAppend("handle-w",tt(C)).style("x",-d).style("y",d).style("width",l).style("height",a-l).style("fill","transparent").call(Sc,R),nt.maybeAppend("handle-nw",tt(I)).style("x",-d).style("y",-d).style("width",l).style("height",l).style("fill","transparent").call(Sc,D),nt.maybeAppend("handle-ne",tt($)).style("x",i-d).style("y",-d).style("width",l).style("height",l).style("fill","transparent").call(Sc,U),nt.maybeAppend("handle-se",tt(F)).style("x",i-d).style("y",a-d).style("width",l).style("height",l).style("fill","transparent").call(Sc,H),nt.maybeAppend("handle-sw",tt(W)).style("x",-d).style("y",a-d).style("width",l).style("height",l).style("fill","transparent").call(Sc,V)});function W3(t,e){var{brushed:n=()=>{},brushended:r=()=>{},brushcreated:i=()=>{},brushstarted:a=()=>{},brushupdated:o=()=>{},extent:s=$1t(t),brushRegion:l=(mt,ct,St,Mt,It)=>[mt,ct,St,Mt],reverse:c=!1,fill:u="#777",fillOpacity:d="0.3",stroke:h="#fff",selectedHandles:v=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=e,g=Fo(e,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let b=null,x=null,_=null,w=null,E=null,A=!1;const[M,T,C,R]=s;Yu(t,"crosshair"),t.style.draggable=!0;const j=(mt,ct,St)=>{if(a(St),w&&w.remove(),E&&E.remove(),b=[mt,ct],c)return I();D()},I=()=>{E=new Bi({style:Object.assign(Object.assign({},g),{fill:u,fillOpacity:d,stroke:h,pointerEvents:"none"})}),w=new W4({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(E),t.appendChild(w)},D=()=>{w=new W4({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},g),{fill:u,fillOpacity:d,stroke:h,draggable:!0}),className:"mask"}),t.appendChild(w)},B=(mt=!0)=>{w&&w.remove(),E&&E.remove(),b=null,x=null,_=null,A=!1,w=null,E=null,r(mt)},$=(mt,ct,St=!0)=>{const[Mt,It,Nt,zt]=B1t(mt[0],mt[1],ct[0],ct[1],s),[Ut,Zt,ie,Gt]=l(Mt,It,Nt,zt,s);return c?G(Ut,Zt,ie,Gt):U(Ut,Zt,ie,Gt),n(Ut,Zt,ie,Gt,St),[Ut,Zt,ie,Gt]},U=(mt,ct,St,Mt)=>{w.style.x=mt,w.style.y=ct,w.style.width=St-mt,w.style.height=Mt-ct},G=(mt,ct,St,Mt)=>{E.style.d=`
      M${M},${T}L${C},${T}L${C},${R}L${M},${R}Z
      M${mt},${ct}L${mt},${Mt}L${St},${Mt}L${St},${ct}Z
    `,w.style.x=mt,w.style.y=ct,w.style.width=St-mt,w.style.height=Mt-ct},F=mt=>{const ct=(Zt,ie,Gt,Jt,le)=>Zt+ie<Jt?Jt-ie:Zt+Gt>le?le-Gt:Zt,St=mt[0]-_[0],Mt=mt[1]-_[1],It=ct(St,b[0],x[0],M,C),Nt=ct(Mt,b[1],x[1],T,R),zt=[b[0]+It,b[1]+Nt],Ut=[x[0]+It,x[1]+Nt];$(zt,Ut)},H={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},Y=mt=>V(mt)||W(mt),W=mt=>{const{id:ct}=mt;return v.indexOf(ct)===-1?!1:new Set(Object.keys(H)).has(ct)},V=mt=>mt===w.getElementById("selection"),J=mt=>{const{target:ct}=mt,[St,Mt]=_M(t,mt);if(!w||!Y(ct)){j(St,Mt,mt),A=!0;return}Y(ct)&&(_=[St,Mt])},tt=mt=>{const{target:ct}=mt,St=_M(t,mt);if(!b)return;if(!_)return $(b,St);if(V(ct))return F(St);const[Mt,It]=[St[0]-_[0],St[1]-_[1]],{id:Nt}=ct;if(H[Nt]){const[zt,Ut,Zt,ie]=H[Nt].vector;return $([b[0]+Mt*zt,b[1]+It*Ut],[x[0]+Mt*Zt,x[1]+It*ie])}},nt=mt=>{if(_){_=null;const{x:Nt,y:zt,width:Ut,height:Zt}=w.style;b=[Nt,zt],x=[Nt+Ut,zt+Zt],o(Nt,zt,Nt+Ut,zt+Zt,mt);return}x=_M(t,mt);const[ct,St,Mt,It]=$(b,x);A=!1,i(ct,St,Mt,It,mt)},lt=mt=>{const{target:ct}=mt;w&&!Y(ct)&&B()},at=mt=>{const{target:ct}=mt;!w||!Y(ct)||A?Yu(t,"crosshair"):V(ct)?Yu(t,"move"):W(ct)&&Yu(t,H[ct.id].cursor)},ft=()=>{Yu(t,"default")};return t.addEventListener("dragstart",J),t.addEventListener("drag",tt),t.addEventListener("dragend",nt),t.addEventListener("click",lt),t.addEventListener("pointermove",at),t.addEventListener("pointerleave",ft),{mask:w,move(mt,ct,St,Mt,It=!0){w||j(mt,ct,{}),b=[mt,ct],x=[St,Mt],$([mt,ct],[St,Mt],It)},remove(mt=!0){w&&B(mt)},destroy(){w&&B(!1),Yu(t,"default"),t.removeEventListener("dragstart",J),t.removeEventListener("drag",tt),t.removeEventListener("dragend",nt),t.removeEventListener("click",lt),t.removeEventListener("pointermove",at),t.removeEventListener("pointerleave",ft)}}}function X3(t,e,n){return e.filter(r=>{if(r===t)return!1;const{interaction:i={}}=r.options;return Object.values(i).find(a=>a.brushKey===n)})}function z1t(t,e,n){return X3(t,e,n).map(r=>Fs(r.container))}function F1t(t,e,n){return X3(t,e,n).map(r=>r.options)}function X4(t,e){var{elements:n,selectedHandles:r,siblings:i=tt=>[],datum:a,brushRegion:o,extent:s,reverse:l,scale:c,coordinate:u,series:d=!1,key:h=tt=>tt,bboxOf:v=tt=>{const{x:nt,y:lt,width:at,height:ft}=tt.style;return{x:nt,y:lt,width:at,height:ft}},state:g={},emitter:b}=e,x=Fo(e,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const _=n(t),w=i(t),E=w.flatMap(n),A=nb(_,a),M=$t(x,"mask"),{setState:T,removeState:C}=lf(g,A),R=new Map,{width:j,height:I,x:D=0,y:B=0}=v(t),$=s||[0,0,j,I],U=()=>{for(const tt of[..._,...E])C(tt,"active","inactive")},G=(tt,nt,lt,at)=>{var ft;for(const ct of w)(ft=ct.brush)===null||ft===void 0||ft.remove();const mt=new Set;for(const ct of _){const{min:St,max:Mt}=ct.getLocalBounds(),[It,Nt]=St,[zt,Ut]=Mt;I1t([It,Nt,zt,Ut],[tt,nt,lt,at])?(T(ct,"active"),mt.add(h(ct))):T(ct,"inactive")}for(const ct of E)mt.has(h(ct))?T(ct,"active"):T(ct,"inactive")},F=()=>{for(const tt of _)C(tt,"inactive");for(const tt of R.values())tt.remove();R.clear()},H=(tt,nt,lt,at)=>{const ft=ct=>{const St=ct.cloneNode();return St.__data__=ct.__data__,ct.parentNode.appendChild(St),R.set(ct,St),St},mt=new xf({style:{x:tt+D,y:nt+B,width:lt-tt,height:at-nt}});t.appendChild(mt);for(const ct of _){const St=R.get(ct)||ft(ct);St.style.clipPath=mt,T(ct,"inactive"),T(St,"active")}},Y=W3(t,Object.assign(Object.assign({},M),{extent:$,brushRegion:o,reverse:l,selectedHandles:r,brushended:tt=>{const nt=d?F:U;tt&&b.emit("brush:remove",{nativeEvent:!0}),nt()},brushed:(tt,nt,lt,at,ft)=>{const mt=J_(tt,nt,lt,at,c,u);ft&&b.emit("brush:highlight",{nativeEvent:!0,data:{selection:mt}}),(d?H:G)(tt,nt,lt,at)},brushcreated:(tt,nt,lt,at,ft)=>{const mt=J_(tt,nt,lt,at,c,u);b.emit("brush:end",Object.assign(Object.assign({},ft),{nativeEvent:!0,data:{selection:mt}}))},brushupdated:(tt,nt,lt,at,ft)=>{const mt=J_(tt,nt,lt,at,c,u);b.emit("brush:end",Object.assign(Object.assign({},ft),{nativeEvent:!0,data:{selection:mt}}))},brushstarted:tt=>{b.emit("brush:start",tt)}})),W=({nativeEvent:tt,data:nt})=>{if(tt)return;const{selection:lt}=nt,[at,ft,mt,ct]=Hft(lt,c,u);Y.move(at,ft,mt,ct,!1)};b.on("brush:highlight",W);const V=({nativeEvent:tt}={})=>{tt||Y.remove(!1)};b.on("brush:remove",V);const J=Y.destroy.bind(Y);return Y.destroy=()=>{b.off("brush:highlight",W),b.off("brush:remove",V),J()},Y}function V3(t){var{facet:e,brushKey:n}=t,r=Fo(t,["facet","brushKey"]);return(i,a,o)=>{const{container:s,view:l,options:c}=i,u=Fs(s),d={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},h=["active",["inactive",{opacity:.5}]],{scale:v,coordinate:g}=l;if(e){const x=u.getBounds(),_=x.min[0],w=x.min[1],E=x.max[0],A=x.max[1];return X4(u.parentNode.parentNode,Object.assign(Object.assign({elements:()=>pH(i,a),datum:Mh(Rk(i,a).map(M=>M.view)),brushRegion:(M,T,C,R)=>[M,T,C,R],extent:[_,w,E,A],state:_g(Rk(i,a).map(M=>M.options),h),emitter:o,scale:v,coordinate:g,selectedHandles:void 0},d),r))}const b=X4(u,Object.assign(Object.assign({elements:pf,key:x=>x.__data__.key,siblings:()=>z1t(i,a,n),datum:Mh([l,...X3(i,a,n).map(x=>x.view)]),brushRegion:(x,_,w,E)=>[x,_,w,E],extent:void 0,state:_g([c,...F1t(i,a,n)],h),emitter:o,scale:v,coordinate:g,selectedHandles:void 0},d),r));return u.brush=b,()=>b.destroy()}}function K3(t,e,n,r,i){const[,a,,o]=i;return[t,a,n,o]}function U1t(t){return V3(Object.assign(Object.assign({},t),{brushRegion:K3,selectedHandles:["handle-e","handle-w"]}))}function Z3(t,e,n,r,i){const[a,,o]=i;return[a,e,o,r]}function H1t(t){return V3(Object.assign(Object.assign({},t),{brushRegion:Z3,selectedHandles:["handle-n","handle-s"]}))}var Q3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const G1t="axis",Y1t="axis-line",q1t="axis-main-group",HH="axis-hot-area";function W1t(t){return t.getElementsByClassName(G1t)}function GH(t){return t.getElementsByClassName(Y1t)[0]}function X1t(t){return t.getElementsByClassName(q1t)[0]}function YH(t){return X1t(t).getLocalBounds()}function V1t(t,e){var{cross:n,offsetX:r,offsetY:i}=e,a=Q3(e,["cross","offsetX","offsetY"]);const o=YH(t),s=GH(t),[l]=s.getLocalBounds().min,[c,u]=o.min,[d,h]=o.max,v=(d-c)*2;return{brushRegion:Z3,hotZone:new xf({className:HH,style:Object.assign({width:n?v/2:v,transform:`translate(${(n?c:l-v/2).toFixed(2)}, ${u})`,height:h-u},a)}),extent:n?(g,b,x,_)=>[-1/0,b,1/0,_]:(g,b,x,_)=>[Math.floor(c-r),b,Math.ceil(d-r),_]}}function K1t(t,e){var{offsetY:n,offsetX:r,cross:i=!1}=e,a=Q3(e,["offsetY","offsetX","cross"]);const o=YH(t),s=GH(t),[,l]=s.getLocalBounds().min,[c,u]=o.min,[d,h]=o.max,v=h-u;return{brushRegion:K3,hotZone:new xf({className:HH,style:Object.assign({width:d-c,height:i?v:v*2,transform:`translate(${c}, ${i?u:l-v})`},a)}),extent:i?(g,b,x,_)=>[g,-1/0,x,1/0]:(g,b,x,_)=>[g,Math.floor(u-n),x,Math.ceil(h-n)]}}function Z1t(t,e){var{axes:n,elements:r,points:i,horizontal:a,datum:o,offsetY:s,offsetX:l,reverse:c=!1,state:u={},emitter:d,coordinate:h}=e,v=Q3(e,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const g=r(t),b=n(t),x=nb(g,o),{setState:_,removeState:w}=lf(u,x),E=new Map,A=$t(v,"mask"),M=W=>Array.from(E.values()).every(([V,J,tt,nt])=>W.some(([lt,at])=>lt>=V&&lt<=tt&&at>=J&&at<=nt)),T=b.map(W=>W.attributes.scale),C=W=>W.length>2?[W[0],W[W.length-1]]:W,R=new Map,j=()=>{R.clear();for(let W=0;W<b.length;W++){const V=T[W],{domain:J}=V.getOptions();R.set(W,C(J))}};j();const I=(W,V)=>{const J=[];for(const nt of g){const lt=i(nt);M(lt)?(_(nt,"active"),J.push(nt)):_(nt,"inactive")}if(R.set(W,B(J,W)),!V)return;const tt=()=>{if(!$)return Array.from(R.values());const nt=[];for(const[lt,at]of R){const ft=T[lt],{name:mt}=ft.getOptions();mt==="x"?nt[0]=at:nt[1]=at}return nt};d.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:tt()}})},D=W=>{for(const V of g)w(V,"active","inactive");j(),W&&d.emit("brushAxis:remove",{nativeEvent:!0})},B=(W,V)=>{const J=T[V],{name:tt}=J.getOptions(),nt=W.map(lt=>{const at=lt.__data__;return J.invert(at[tt])});return C(Qu(J,nt))},$=b.some(a)&&b.some(W=>!a(W)),U=[];for(let W=0;W<b.length;W++){const V=b[W],J=a(V)?K1t:V1t,{hotZone:tt,brushRegion:nt,extent:lt}=J(V,{offsetY:s,offsetX:l,cross:$,zIndex:999,fill:"transparent"});V.parentNode.appendChild(tt);const at=W3(tt,Object.assign(Object.assign({},A),{reverse:c,brushRegion:nt,brushended(ft){E.delete(V),Array.from(E.entries()).length===0?D(ft):I(W,ft)},brushed(ft,mt,ct,St,Mt){E.set(V,lt(ft,mt,ct,St)),I(W,Mt)}}));U.push(at)}const G=(W={})=>{const{nativeEvent:V}=W;V||U.forEach(J=>J.remove(!1))},F=(W,V,J)=>{const[tt,nt]=W,lt=mt=>mt.getStep?mt.getStep():0,at=H(tt,V,J),ft=H(nt,V,J)+lt(V);return a(J)?[at,-1/0,ft,1/0]:[-1/0,at,1/0,ft]},H=(W,V,J)=>{const{height:tt,width:nt}=h.getOptions(),lt=V.clone();return a(J)?lt.update({range:[0,nt]}):lt.update({range:[tt,0]}),lt.map(W)},Y=W=>{const{nativeEvent:V}=W;if(V)return;const{selection:J}=W.data;for(let tt=0;tt<U.length;tt++){const nt=J[tt],lt=U[tt],at=b[tt];if(nt){const ft=T[tt];lt.move(...F(nt,ft,at),!1)}else lt.remove(!1)}};return d.on("brushAxis:remove",G),d.on("brushAxis:highlight",Y),()=>{U.forEach(W=>W.destroy()),d.off("brushAxis:remove",G),d.off("brushAxis:highlight",Y)}}function Q1t(t){return(e,n,r)=>{const{container:i,view:a,options:o}=e,s=Fs(i),{x:l,y:c}=s.getBBox(),{coordinate:u}=a;return Z1t(i,Object.assign({elements:pf,axes:W1t,offsetY:c,offsetX:l,points:d=>d.__data__.points,horizontal:d=>{const{startPos:[h,v],endPos:[g,b]}=d.attributes;return h!==g&&v===b},datum:Mh(a),state:_g(o,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:r},t))}}var J1t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},qH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function tbt(t=300){let e=null;return n=>{const{timeStamp:r}=n;return e!==null&&r-e<t?(e=r,!0):(e=r,!1)}}function ebt(t,e){var{filter:n,reset:r,brushRegion:i,extent:a,reverse:o,emitter:s,scale:l,coordinate:c,selection:u,series:d=!1}=e,h=qH(e,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const v=$t(h,"mask"),{width:g,height:b}=t.getBBox(),x=a||[0,0,g,b],_=tbt(),w=W3(t,Object.assign(Object.assign({},v),{extent:x,brushRegion:i,reverse:o,brushcreated:E}));t.addEventListener("click",A);function E(T,C,R,j,I){T===R&&C===j||(I.nativeEvent=!0,n(u(T,C,R,j),I),w.remove())}function A(T){_(T)&&(T.nativeEvent=!0,r(T))}const M=({nativeEvent:T,data:C})=>{if(T)return;const{selection:R}=C;n(R,{nativeEvent:!1})};return s.on("brush:filter",M),()=>{w.destroy(),s.off("brush:filter",M),t.removeEventListener("click",A)}}function J3(t){var{hideX:e=!0,hideY:n=!0}=t,r=qH(t,["hideX","hideY"]);return(i,a,o)=>{const{container:s,view:l,options:c,update:u,setState:d}=i,h=Fs(s),v={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let g=!1,b=!1,x=l;const{scale:_,coordinate:w}=l;return ebt(h,Object.assign(Object.assign({brushRegion:(E,A,M,T)=>[E,A,M,T],selection:(E,A,M,T)=>{const{scale:C,coordinate:R}=x;return J_(E,A,M,T,C,R)},filter:(E,A)=>J1t(this,void 0,void 0,function*(){if(b)return;b=!0;const[M,T]=E;d("brushFilter",R=>{const{marks:j}=R,I=j.map(D=>wt({axis:Object.assign(Object.assign({},e&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},D,{scale:{x:{domain:M,nice:!1},y:{domain:T,nice:!1}}}));return Object.assign(Object.assign({},c),{marks:I,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},A),{data:{selection:[M,T]}})),x=(yield u()).view,b=!1,g=!0}),reset:E=>{if(b||!g)return;const{scale:A}=l,{x:M,y:T}=A,C=M.getOptions().domain,R=T.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},E),{data:{selection:[C,R]}})),g=!1,x=l,d("brushFilter"),u()},extent:void 0,emitter:o,scale:_,coordinate:w},v),r))}}function nbt(t){return J3(Object.assign(Object.assign({hideX:!0},t),{brushRegion:K3}))}function rbt(t){return J3(Object.assign(Object.assign({hideY:!0},t),{brushRegion:Z3}))}var ibt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const abt="slider";function obt(t,e,n,r=!1,i="x",a="y"){const{marks:o}=t,s=o.map(l=>{var c,u;return wt({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},l,{scale:e,[n]:Object.assign(Object.assign({},((c=l[n])===null||c===void 0?void 0:c[i])&&{[i]:Object.assign({preserve:!0},r&&{ratio:null})}),((u=l[n])===null||u===void 0?void 0:u[a])&&{[a]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},t),{marks:s,clip:!0,animate:!1})}function sbt(t,e,n){const[r,i]=t,a=n?l=>1-l:l=>l,o=vg(e,a(r),!0),s=vg(e,a(i),!1);return Qu(e,[o,s])}function I_(t){return[t[0],t[t.length-1]]}function WH({initDomain:t={},className:e=abt,prefix:n="slider",setValue:r=(c,u)=>c.setValues(u),hasState:i=!1,wait:a=50,leading:o=!0,trailing:s=!1,getInitValues:l=c=>{var u;const d=(u=c?.attributes)===null||u===void 0?void 0:u.values;if(d[0]!==0||d[1]!==1)return d}}){return(c,u,d)=>{const{container:h,view:v,update:g,setState:b}=c,x=h.getElementsByClassName(e);if(!x.length)return()=>{};let _=!1;const{scale:w,coordinate:E,layout:A}=v,{paddingLeft:M,paddingTop:T,paddingBottom:C,paddingRight:R}=A,{x:j,y:I}=w,D=nr(E),B=F=>{const H=F==="vertical"?"y":"x",Y=F==="vertical"?"x":"y";return D?[Y,H]:[H,Y]},$=new Map,U=new Set,G={x:t.x||j.getOptions().domain,y:t.y||I.getOptions().domain};for(const F of x){const{orientation:H}=F.attributes,[Y,W]=B(H),V=`${n}${gf(Y)}:filter`,J=Y==="x",{ratio:tt}=j.getOptions(),{ratio:nt}=I.getOptions(),lt=ct=>{if(ct.data){const{selection:zt}=ct.data,[Ut=I_(G.x),Zt=I_(G.y)]=zt;return J?[Qu(j,Ut,tt),Qu(I,Zt,nt)]:[Qu(I,Zt,nt),Qu(j,Ut,tt)]}const{value:St}=ct.detail,Mt=w[Y],It=sbt(St,Mt,D&&H==="horizontal"),Nt=G[W];return[It,Nt]},at=vh(ct=>ibt(this,void 0,void 0,function*(){const{initValue:St=!1}=ct;if(_&&!St)return;_=!0;const{nativeEvent:Mt=!0}=ct,[It,Nt]=lt(ct);if(G[Y]=It,G[W]=Nt,Mt){const zt=J?It:Nt,Ut=J?Nt:It;d.emit(V,Object.assign(Object.assign({},ct),{nativeEvent:Mt,data:{selection:[I_(zt),I_(Ut)]}}))}b(F,zt=>Object.assign({},obt(zt,{[Y]:{domain:It,nice:!1}},n,i,Y,W))),yield g(),_=!1}),a,{leading:o,trailing:s}),ft=ct=>{const{nativeEvent:St}=ct;if(St)return;const{data:Mt}=ct,{selection:It}=Mt,[Nt,zt]=It;F.dispatchEvent(new Gn("valuechange",{data:Mt,nativeEvent:!1}));const Ut=J?xN(Nt,j):xN(zt,I);r(F,Ut)};d.on(V,ft),F.addEventListener("valuechange",at),$.set(F,at),U.add([V,ft]);const mt=l(F);mt&&F.dispatchEvent(new Gn("valuechange",{detail:{value:mt},nativeEvent:!1,initValue:!0}))}return()=>{for(const[F,H]of $)F.removeEventListener("valuechange",H);for(const[F,H]of U)d.off(F,H)}}}const V4="g2-scrollbar";function lbt(t={}){return(e,n,r)=>{const{view:i,container:a}=e;if(!a.getElementsByClassName(V4).length)return()=>{};const{scale:s}=i,{x:l,y:c}=s,u={x:[...l.getOptions().domain],y:[...c.getOptions().domain]};return l.update({domain:l.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain}),WH(Object.assign({initDomain:u,className:V4,prefix:"scrollbar",hasState:!0,setValue:(h,v)=>h.setValue(v[0]),getInitValues:h=>{const v=h.slider.attributes.values;if(v[0]!==0||v[1]!==1)return v}},t))(e,n,r)}}var cbt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ubt(t,e,n){return`<${t} style="${Object.entries(n).map(([r,i])=>`${crt(r)}:${i}`).join(";")}">${e}</${t}>`}const fbt={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function K4(t){return t.nodeName!=="text"?!1:!!t.isOverflowing()}function XH(t){var{offsetX:e=8,offsetY:n=8}=t,r=cbt(t,["offsetX","offsetY"]);return i=>{const{container:a}=i,[o,s]=a.getBounds().min,l=$t(r,"tip"),c=new Set,u=h=>{const{target:v}=h;if(!K4(v)){h.stopPropagation();return}const{offsetX:g,offsetY:b}=h,x=g+e-o,_=b+n-s;if(v.tip){v.tip.style.x=x,v.tip.style.y=_;return}const{text:w}=v.style,E=new Tg({className:"poptip",style:{innerHTML:ubt("div",w,Object.assign(Object.assign({},fbt),l)),x,y:_}});a.appendChild(E),v.tip=E,c.add(E)},d=h=>{const{target:v}=h;if(!K4(v)){h.stopPropagation();return}v.tip&&(v.tip.remove(),v.tip=null,c.delete(v.tip))};return a.addEventListener("pointerover",u),a.addEventListener("pointerout",d),()=>{a.removeEventListener("pointerover",u),a.removeEventListener("pointerout",d),c.forEach(h=>h.remove())}}}XH.props={reapplyWhenUpdate:!0};var dbt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},hbt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pbt(t){return se(t).select(`.${wh}`).node()}const vbt={breadCrumbFill:"rgba(0, 0, 0, 0.85)",breadCrumbFontSize:12,breadCrumbY:12,activeFill:"rgba(0, 0, 0, 0.5)"};function gbt(t={}){const{originData:e=[],layout:n}=t,r=hbt(t,["originData","layout"]),i=wt({},vbt,r),a=$t(i,"breadCrumb"),o=$t(i,"active");return s=>{const{update:l,setState:c,container:u,options:d}=s,h=pbt(u),v=d.marks[0],{state:g}=v,b=new mi;h.appendChild(b);const x=(T,C)=>dbt(this,void 0,void 0,function*(){if(b.removeChildren(),C){let R="",j=a.y,I=0;const D=[],B=h.getBBox().width,$=T.map((U,G)=>{R=`${R}${U}/`,D.push(U);const F=new es({name:R.replace(/\/$/,""),style:Object.assign(Object.assign({text:U,x:I,path:[...D],depth:G},a),{y:j})});b.appendChild(F),I+=F.getBBox().width;const H=new es({style:Object.assign(Object.assign({x:I,text:" / "},a),{y:j})});return b.appendChild(H),I+=H.getBBox().width,I>B&&(j=b.getBBox().height+a.y,I=0,F.attr({x:I,y:j}),I+=F.getBBox().width,H.attr({x:I,y:j}),I+=H.getBBox().width),G===Km(T)-1&&H.remove(),F});$.forEach((U,G)=>{if(G===Km($)-1)return;const F=Object.assign({},U.attributes);U.attr("cursor","pointer"),U.addEventListener("mouseenter",()=>{U.attr(o)}),U.addEventListener("mouseleave",()=>{U.attr(F)}),U.addEventListener("click",()=>{x(_e(U,["style","path"]),_e(U,["style","depth"]))})})}R1t(u,c),c("treemapDrillDown",R=>{const{marks:j}=R,I=T.join("/"),D=j.map(B=>{if(B.type!=="rect")return B;let $=e;if(C){const G=e.filter(V=>{const J=_e(V,["id"]);return J&&(J.match(`${I}/`)||I.match(J))}).map(V=>({value:V.height===0?_e(V,["value"]):void 0,name:_e(V,["id"])})),{paddingLeft:F,paddingBottom:H,paddingRight:Y}=n,W=Object.assign(Object.assign({},n),{paddingTop:(n.paddingTop||b.getBBox().height+10)/(C+1),paddingLeft:F/(C+1),paddingBottom:H/(C+1),paddingRight:Y/(C+1),path:V=>V.name,layer:V=>V.depth===C+1});$=F9(G,W,{value:"value"})[0]}else $=e.filter(G=>G.depth===1);const U=[];return $.forEach(({path:G})=>{U.push(qo(G))}),wt({},B,{data:$,scale:{color:{domain:U}}})});return Object.assign(Object.assign({},R),{marks:D})}),yield l(void 0,["legendFilter"])}),_=T=>T.attributes.key.split("-")[0],w=T=>_e(T,["__data__","key"]),E=T=>{const C=T.target,{markType:R,nodeName:j,attributes:I}=C||{};if(R!=="rect"&&j!==xt.TEXT)return;const D=j===xt.TEXT&&_e(I,"isTreemapLabel")===!0?_(C):w(C),B=Jv(e,$=>$.id===D);_e(B,"height")&&x(_e(B,"path"),_e(B,"depth"))};h.addEventListener("click",E);const A=mC(Object.assign(Object.assign({},g.active),g.inactive)),M=()=>{_H(h).forEach(C=>{const R=_e(C,["style","cursor"]),j=Jv(e,I=>I.id===_e(C,["__data__","key"]));if(R!=="pointer"&&j?.height){C.style.cursor="pointer";const I=xC(C.attributes,A);C.addEventListener("mouseenter",()=>{C.attr(g.active)}),C.addEventListener("mouseleave",()=>{C.attr(wt(I,g.inactive))})}})};return M(),h.addEventListener("mousemove",M),()=>{b.remove(),h.removeEventListener("click",E),h.removeEventListener("mousemove",M)}}}var wM=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},ybt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const mbt={pointR:6,pointStrokeWidth:1,pointStroke:"#888",pointActiveStroke:"#f5f5f5",pathStroke:"#888",pathLineDash:[3,4],labelFontSize:12,labelFill:"#888",labelStroke:"#fff",labelLineWidth:1,labelY:-6,labelX:2},OM="movePoint",Z4=t=>{const e=t.target,{markType:n}=e;n==="line"&&(e.attr("_lineWidth",e.attr("lineWidth")||1),e.attr("lineWidth",e.attr("_lineWidth")+3)),n==="interval"&&(e.attr("_opacity",e.attr("opacity")||1),e.attr("opacity",.7*e.attr("_opacity")))},Q4=t=>{const e=t.target,{markType:n}=e;n==="line"&&e.attr("lineWidth",e.attr("_lineWidth")),n==="interval"&&e.attr("opacity",e.attr("_opacity"))},bbt=(t,e,n)=>e.map(r=>["x","color"].reduce((a,o)=>{const s=n[o];return s&&r[s]!==t[s]?!1:a},!0)?Object.assign(Object.assign({},r),t):r),xbt=t=>{const e=_e(t,["__data__","y"]),r=_e(t,["__data__","y1"])-e,{__data__:{data:i,encode:a,transform:o},childNodes:s}=t.parentNode,l=Jv(o,({type:d})=>d==="normalizeY"),c=_e(a,["y","field"]),u=i[s.indexOf(t)][c];return(d,h=!1)=>l||h?d/(1-d)/(r/(1-r))*u:d},_bt=(t,e)=>{const n=_e(t,["__data__","seriesItems",e,"0","value"]),r=_e(t,["__data__","seriesIndex",e]),{__data__:{data:i,encode:a,transform:o}}=t.parentNode,s=Jv(o,({type:u})=>u==="normalizeY"),l=_e(a,["y","field"]),c=i[r][l];return u=>s?n===1?u:u/(1-u)/(n/(1-n))*c:u},J4=(t,e,n)=>{t.forEach((r,i)=>{r.attr("stroke",e[1]===i?n.activeStroke:n.stroke)})},tD=(t,e,n,r)=>{const i=new Bi({style:n}),a=new es({style:r});return e.appendChild(a),t.appendChild(i),[i,a]},eD=(t,e)=>{if(!_e(t,["options","range","indexOf"]))return;const r=t.options.range.indexOf(e);return t.sortedDomain[r]},SM=(t,e,n)=>{const r=bO(t,e),a=bO(t,n)/r,o=t[0]+(e[0]-t[0])*a,s=t[1]+(e[1]-t[1])*a;return[o,s]};function wbt(t={}){const{selection:e=[],precision:n=2}=t,r=ybt(t,["selection","precision"]),i=Object.assign(Object.assign({},mbt),r||{}),a=$t(i,"path"),o=$t(i,"label"),s=$t(i,"point");return(l,c,u)=>{const{update:d,setState:h,container:v,view:g,options:{marks:b,coordinate:x}}=l,_=Fs(v);let w=_H(_),E,A=e;const{transform:M=[],type:T}=x,C=!!Jv(M,({type:Y})=>Y==="transpose"),R=T==="polar",j=T==="theta",I=!!Jv(w,({markType:Y})=>Y==="area");I&&(w=w.filter(({markType:Y})=>Y==="area"));const D=new mi({style:{zIndex:2}});_.appendChild(D);const B=()=>{u.emit("element-point:select",{nativeEvent:!0,data:{selection:A}})},$=(Y,W)=>{u.emit("element-point:moved",{nativeEvent:!0,data:{changeData:Y,data:W}})},U=Y=>{const W=Y.target;A=[W.parentNode.childNodes.indexOf(W)],B(),F(W)},G=Y=>{const{data:{selection:W},nativeEvent:V}=Y;if(V)return;A=W;const J=_e(w,[A?.[0]]);J&&F(J)},F=Y=>{const{attributes:W,markType:V,__data__:J}=Y,{stroke:tt}=W,{points:nt,seriesTitle:lt,color:at,title:ft,seriesX:mt,y1:ct}=J;if(C&&V!=="interval")return;const{scale:St,coordinate:Mt}=E?.view||g,{color:It,y:Nt,x:zt}=St,Ut=Mt.getCenter();D.removeChildren();let Zt;const ie=(Gt,Jt,le,_n)=>wM(this,void 0,void 0,function*(){return h("elementPointMove",dn=>{var yn;const kn=(((yn=E?.options)===null||yn===void 0?void 0:yn.marks)||b).map(Zn=>{if(!_n.includes(Zn.type))return Zn;const{data:Dn,encode:Pe}=Zn,an=Object.keys(Pe).reduce((en,ti)=>{const Nr=Pe[ti];return ti==="x"&&(en[Nr]=Gt),ti==="y"&&(en[Nr]=Jt),ti==="color"&&(en[Nr]=le),en},{}),Ee=bbt(an,Dn,Pe);return $(an,Ee),wt({},Zn,{data:Ee,animate:!1})});return Object.assign(Object.assign({},dn),{marks:kn})}),yield d("elementPointMove")});if(["line","area"].includes(V))nt.forEach((Gt,Jt)=>{const le=zt.invert(mt[Jt]);if(!le)return;const _n=new Yl({name:OM,style:Object.assign({cx:Gt[0],cy:Gt[1],fill:tt},s)}),dn=_bt(Y,Jt);_n.addEventListener("mousedown",yn=>{const kn=Mt.output([mt[Jt],0]),Zn=lt?.length;v.attr("cursor","move"),A[1]!==Jt&&(A[1]=Jt,B()),J4(D.childNodes,A,s);const[Dn,Pe]=tD(D,_n,a,o),Se=Ee=>{const en=Gt[1]+Ee.clientY-Zt[1];if(I)if(R){const ti=Gt[0]+Ee.clientX-Zt[0],[Nr,xi]=SM(Ut,kn,[ti,en]),[,Pa]=Mt.output([1,Nt.output(0)]),[,ca]=Mt.invert([Nr,Pa-(nt[Jt+Zn][1]-xi)]),ss=(Jt+1)%Zn,ls=(Jt-1+Zn)%Zn,Bg=tm([nt[ls],[Nr,xi],lt[ss]&&nt[ss]]);Pe.attr("text",dn(Nt.invert(ca)).toFixed(n)),Dn.attr("d",Bg),_n.attr("cx",Nr),_n.attr("cy",xi)}else{const[,ti]=Mt.output([1,Nt.output(0)]),[,Nr]=Mt.invert([Gt[0],ti-(nt[Jt+Zn][1]-en)]),xi=tm([nt[Jt-1],[Gt[0],en],lt[Jt+1]&&nt[Jt+1]]);Pe.attr("text",dn(Nt.invert(Nr)).toFixed(n)),Dn.attr("d",xi),_n.attr("cy",en)}else{const[,ti]=Mt.invert([Gt[0],en]),Nr=tm([nt[Jt-1],[Gt[0],en],nt[Jt+1]]);Pe.attr("text",Nt.invert(ti).toFixed(n)),Dn.attr("d",Nr),_n.attr("cy",en)}};Zt=[yn.clientX,yn.clientY],window.addEventListener("mousemove",Se);const an=()=>wM(this,void 0,void 0,function*(){if(v.attr("cursor","default"),window.removeEventListener("mousemove",Se),v.removeEventListener("mouseup",an),jn(Pe.attr("text")))return;const Ee=Number(Pe.attr("text")),en=eD(It,at);E=yield ie(le,Ee,en,["line","area"]),Pe.remove(),Dn.remove(),F(Y)});v.addEventListener("mouseup",an)}),D.appendChild(_n)}),J4(D.childNodes,A,s);else if(V==="interval"){let Gt=[(nt[0][0]+nt[1][0])/2,nt[0][1]];C?Gt=[nt[0][0],(nt[0][1]+nt[1][1])/2]:j&&(Gt=nt[0]);const Jt=xbt(Y),le=new Yl({name:OM,style:Object.assign(Object.assign({cx:Gt[0],cy:Gt[1],fill:tt},s),{stroke:s.activeStroke})});le.addEventListener("mousedown",_n=>{v.attr("cursor","move");const dn=eD(It,at),[yn,kn]=tD(D,le,a,o),Zn=Pe=>{if(C){const Se=Gt[0]+Pe.clientX-Zt[0],[an]=Mt.output([Nt.output(0),Nt.output(0)]),[,Ee]=Mt.invert([an+(Se-nt[2][0]),Gt[1]]),en=tm([[Se,nt[0][1]],[Se,nt[1][1]],nt[2],nt[3]],!0);kn.attr("text",Jt(Nt.invert(Ee)).toFixed(n)),yn.attr("d",en),le.attr("cx",Se)}else if(j){const Se=Gt[1]+Pe.clientY-Zt[1],an=Gt[0]+Pe.clientX-Zt[0],[Ee,en]=SM(Ut,[an,Se],Gt),[ti,Nr]=SM(Ut,[an,Se],nt[1]),xi=Mt.invert([Ee,en])[1],Pa=ct-xi;if(Pa<0)return;const ca=n1t(Ut,[[Ee,en],[ti,Nr],nt[2],nt[3]],Pa>.5?1:0);kn.attr("text",Jt(Pa,!0).toFixed(n)),yn.attr("d",ca),le.attr("cx",Ee),le.attr("cy",en)}else{const Se=Gt[1]+Pe.clientY-Zt[1],[,an]=Mt.output([1,Nt.output(0)]),[,Ee]=Mt.invert([Gt[0],an-(nt[2][1]-Se)]),en=tm([[nt[0][0],Se],[nt[1][0],Se],nt[2],nt[3]],!0);kn.attr("text",Jt(Nt.invert(Ee)).toFixed(n)),yn.attr("d",en),le.attr("cy",Se)}};Zt=[_n.clientX,_n.clientY],window.addEventListener("mousemove",Zn);const Dn=()=>wM(this,void 0,void 0,function*(){if(v.attr("cursor","default"),v.removeEventListener("mouseup",Dn),window.removeEventListener("mousemove",Zn),jn(kn.attr("text")))return;const Pe=Number(kn.attr("text"));E=yield ie(ft,Pe,dn,[V]),kn.remove(),yn.remove(),F(Y)});v.addEventListener("mouseup",Dn)}),D.appendChild(le)}};w.forEach((Y,W)=>{A[0]===W&&F(Y),Y.addEventListener("click",U),Y.addEventListener("mouseenter",Z4),Y.addEventListener("mouseleave",Q4)});const H=Y=>{const W=Y?.target;(!W||W.name!==OM&&!w.includes(W))&&(A=[],B(),D.removeChildren())};return u.on("element-point:select",G),u.on("element-point:unselect",H),v.addEventListener("mousedown",H),()=>{D.remove(),u.off("element-point:select",G),u.off("element-point:unselect",H),v.removeEventListener("mousedown",H),w.forEach(Y=>{Y.removeEventListener("click",U),Y.removeEventListener("mouseenter",Z4),Y.removeEventListener("mouseleave",Q4)})}}}var nD={},EM={},AM=34,em=10,MM=13;function VH(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Obt(t,e){var n=VH(t);return function(r,i){return e(n(r),i,t)}}function rD(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function Ka(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Sbt(t){return t<0?"-"+Ka(-t,6):t>9999?"+"+Ka(t,6):Ka(t,4)}function Ebt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Sbt(t.getUTCFullYear())+"-"+Ka(t.getUTCMonth()+1,2)+"-"+Ka(t.getUTCDate(),2)+(i?"T"+Ka(e,2)+":"+Ka(n,2)+":"+Ka(r,2)+"."+Ka(i,3)+"Z":r?"T"+Ka(e,2)+":"+Ka(n,2)+":"+Ka(r,2)+"Z":n||e?"T"+Ka(e,2)+":"+Ka(n,2)+"Z":"")}function Abt(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(d,h){var v,g,b=i(d,function(x,_){if(v)return v(x,_-1);g=x,v=h?Obt(x,h):VH(x)});return b.columns=g||[],b}function i(d,h){var v=[],g=d.length,b=0,x=0,_,w=g<=0,E=!1;d.charCodeAt(g-1)===em&&--g,d.charCodeAt(g-1)===MM&&--g;function A(){if(w)return EM;if(E)return E=!1,nD;var T,C=b,R;if(d.charCodeAt(C)===AM){for(;b++<g&&d.charCodeAt(b)!==AM||d.charCodeAt(++b)===AM;);return(T=b)>=g?w=!0:(R=d.charCodeAt(b++))===em?E=!0:R===MM&&(E=!0,d.charCodeAt(b)===em&&++b),d.slice(C+1,T-1).replace(/""/g,'"')}for(;b<g;){if((R=d.charCodeAt(T=b++))===em)E=!0;else if(R===MM)E=!0,d.charCodeAt(b)===em&&++b;else if(R!==n)continue;return d.slice(C,T)}return w=!0,d.slice(C,g)}for(;(_=A())!==EM;){for(var M=[];_!==nD&&_!==EM;)M.push(_),_=A();h&&(M=h(M,x++))==null||v.push(M)}return v}function a(d,h){return d.map(function(v){return h.map(function(g){return u(v[g])}).join(t)})}function o(d,h){return h==null&&(h=rD(d)),[h.map(u).join(t)].concat(a(d,h)).join(`
`)}function s(d,h){return h==null&&(h=rD(d)),a(d,h).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(t)}function u(d){return d==null?"":d instanceof Date?Ebt(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}function Mbt(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Tbt&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}const Tbt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var kbt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const KH=t=>{const{value:e,format:n=e.split(".").pop(),delimiter:r=",",autoType:i=!0}=t;return()=>kbt(void 0,void 0,void 0,function*(){const a=yield fetch(e);if(n==="csv"){const o=yield a.text();return Abt(r).parse(o,i?Mbt:mh)}if(n==="json")return yield a.json();throw new Error(`Unknown format: ${n}.`)})};KH.props={};function Cbt(t){return!t||Object.keys(t).length===0}const ZH=t=>{const{fields:e,key:n="key",value:r="value"}=t;return i=>Cbt(e)?i:i.flatMap(a=>e.map(o=>Object.assign(Object.assign({},a),{[n]:o,[r]:a[o]})))};ZH.props={};function Rbt(t){return t!=null&&!Number.isNaN(t)}const QH=t=>{const{callback:e=Rbt}=t;return n=>n.filter(e)};QH.props={};const JH=t=>{const{callback:e}=t;return n=>Array.isArray(n)?[...n].sort(e):n};JH.props={};function Pbt(t,e=[]){return e.reduce((n,r)=>(r in t&&(n[r]=t[r]),n),{})}const tG=t=>{const{fields:e}=t;return n=>n.map(r=>Pbt(r,e))};tG.props={};function jbt(t){return Object.keys(t).length===0}const eG=t=>e=>{if(!t||jbt(t))return e;const n=r=>Object.entries(r).reduce((i,[a,o])=>(i[t[a]||a]=o,i),{});return e.map(n)};eG.props={};function Lbt(t,e){return t.map(n=>{if(Array.isArray(n)){const[r,i=e]=n;return[r,i]}return[n,e]})}const nG=t=>{const{fields:e=[]}=t,n=Lbt(e,!0);return r=>{const i=(a,o)=>n.reduce((s,[l,c=!0])=>s!==0?s:c?a[l]<o[l]?-1:+(a[l]!==o[l]):a[l]>o[l]?-1:+(a[l]!==o[l]),0);return[...r].sort(i)}};nG.props={};const rG=t=>{const{value:e}=t;return()=>e};rG.props={};const iG=t=>{const{callback:e=mh}=t;return n=>e(n)};iG.props={};const aG=t=>{const{callback:e=mh}=t;return n=>Array.isArray(n)?n.map(e):n};aG.props={};var Nbt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};function Dbt(t,e){return{set(n,r,i){if(e[n]===void 0)return this;const a=r?r.call(null,e[n]):e[n];return i?i.call(null,a):typeof t[n]=="function"?t[n](a):t[n]=a,this},setAsync(n,r,i){return Nbt(this,void 0,void 0,function*(){if(e[n]===void 0)return this;const a=r?yield r.call(null,e[n]):e[n];return i?i.call(null,a):typeof t[n]=="function"?t[n](a):t[n]=a,this})}}}const TM=Math.PI/180,Am=64,rw=2048;function Ibt(t){return t.text}function Bbt(){return"serif"}function iD(){return"normal"}function $bt(t){return t.value}function zbt(){return~~(Math.random()*2)*90}function Fbt(){return 1}function Ubt(){}function Hbt(t,e,n,r){if(e.sprite)return;const i=t.context,a=t.ratio;i.clearRect(0,0,(Am<<5)/a,rw/a);let o=0,s=0,l=0;const c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;let h=i.measureText(e.text+"m").width*a,v=e.size<<1;if(e.rotate){const g=Math.sin(e.rotate*TM),b=Math.cos(e.rotate*TM),x=h*b,_=h*g,w=v*b,E=v*g;h=Math.max(Math.abs(x+E),Math.abs(x-E))+31>>5<<5,v=~~Math.max(Math.abs(_+w),Math.abs(_-w))}else h=h+31>>5<<5;if(v>l&&(l=v),o+h>=Am<<5&&(o=0,s+=l,l=0),s+v>=rw)break;i.translate((o+(h>>1))/a,(s+(v>>1))/a),e.rotate&&i.rotate(e.rotate*TM),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=h,e.height=v,e.xoff=o,e.yoff=s,e.x1=h>>1,e.y1=v>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=h}const u=i.getImageData(0,0,(Am<<5)/a,rw/a).data,d=[];for(;--r>=0;){if(e=n[r],!e.hasText)continue;const h=e.width,v=h>>5;let g=e.y1-e.y0;for(let _=0;_<g*v;_++)d[_]=0;if(o=e.xoff,o==null)return;s=e.yoff;let b=0,x=-1;for(let _=0;_<g;_++){for(let w=0;w<h;w++){const E=v*_+(w>>5),A=u[(s+_)*(Am<<5)+(o+w)<<2]?1<<31-w%32:0;d[E]|=A,b|=A}b?x=_:(e.y0++,g--,_--,s++)}e.y1=e.y0+x,e.sprite=d.slice(0,(e.y1-e.y0)*v)}}function Gbt(t,e,n){n>>=5;const r=t.sprite,i=t.width>>5,a=t.x-(i<<4),o=a&127,s=32-o,l=t.y1-t.y0;let c=(t.y+t.y0)*n+(a>>5),u;for(let d=0;d<l;d++){u=0;for(let h=0;h<=i;h++)if((u<<s|(h<i?(u=r[d*i+h])>>>o:0))&e[c+h])return!0;c+=n}return!1}function Ybt(t,e){const n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function qbt(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function oG(t){const e=t[0]/t[1];return function(n){return[e*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Wbt(t){const n=4*t[0]/t[1];let r=0,i=0;return function(a){const o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:r+=n;break;case 1:i+=4;break;case 2:r-=n;break;default:i-=4;break}return[r,i]}}function aD(t){const e=[];let n=-1;for(;++n<t;)e[n]=0;return e}function Xbt(){return document.createElement("canvas")}function Ec(t){return typeof t=="function"?t:function(){return t}}const Vbt={archimedean:oG,rectangular:Wbt};function Kbt(){let t=[256,256],e=Ibt,n=Bbt,r=$bt,i=iD,a=zbt,o=Fbt,s=oG,l=Math.random,c=Ubt,u=[],d=null,h=1/0,v=Xbt;const g=iD,b={};b.start=function(){const[w,E]=t,A=x(v()),M=b.board?b.board:aD((t[0]>>5)*t[1]),T=u.length,C=[],R=u.map(function(B,$,U){return B.text=e.call(this,B,$,U),B.font=n.call(this,B,$,U),B.style=g.call(this,B,$,U),B.weight=i.call(this,B,$,U),B.rotate=a.call(this,B,$,U),B.size=~~r.call(this,B,$,U),B.padding=o.call(this,B,$,U),B}).sort(function(B,$){return $.size-B.size});let j=-1,I=b.board?[{x:0,y:0},{x:w,y:E}]:void 0;d&&clearInterval(d),d=setInterval(D,0),D();function D(){const B=Date.now();for(;Date.now()-B<h&&++j<T;){const $=R[j];$.x=w*(l()+.5)>>1,$.y=E*(l()+.5)>>1,Hbt(A,$,R,j),$.hasText&&_(M,$,I)&&(c.call(null,"word",{cloud:b,word:$}),C.push($),I?b.hasImage||Ybt(I,$):I=[{x:$.x+$.x0,y:$.y+$.y0},{x:$.x+$.x1,y:$.y+$.y1}],$.x-=t[0]>>1,$.y-=t[1]>>1)}b._tags=C,b._bounds=I,j>=T&&(b.stop(),c.call(null,"end",{cloud:b,words:C,bounds:I}))}return b},b.stop=function(){return d&&(clearInterval(d),d=null),b};function x(w){w.width=w.height=1;const E=Math.sqrt(w.getContext("2d").getImageData(0,0,1,1).data.length>>2);w.width=(Am<<5)/E,w.height=rw/E;const A=w.getContext("2d");return A.fillStyle=A.strokeStyle="red",A.textAlign="center",A.textBaseline="middle",{context:A,ratio:E}}function _(w,E,A){const M=E.x,T=E.y,C=Math.sqrt(t[0]*t[0]+t[1]*t[1]),R=s(t),j=l()<.5?1:-1;let I,D=-j,B,$;for(;(I=R(D+=j))&&(B=~~I[0],$=~~I[1],!(Math.min(Math.abs(B),Math.abs($))>=C));)if(E.x=M+B,E.y=T+$,!(E.x+E.x0<0||E.y+E.y0<0||E.x+E.x1>t[0]||E.y+E.y1>t[1])&&(!A||!Gbt(E,w,t[0]))&&(!A||qbt(E,A))){const U=E.sprite,G=E.width>>5,F=t[0]>>5,H=E.x-(G<<4),Y=H&127,W=32-Y,V=E.y1-E.y0;let J,tt=(E.y+E.y0)*F+(H>>5);for(let nt=0;nt<V;nt++){J=0;for(let lt=0;lt<=G;lt++)w[tt+lt]|=J<<W|(lt<G?(J=U[nt*G+lt])>>>Y:0);tt+=F}return delete E.sprite,!0}return!1}return b.createMask=w=>{const E=document.createElement("canvas"),[A,M]=t;if(!A||!M)return;const T=A>>5,C=aD((A>>5)*M);E.width=A,E.height=M;const R=E.getContext("2d");R.drawImage(w,0,0,w.width,w.height,0,0,A,M);const j=R.getImageData(0,0,A,M).data;for(let I=0;I<M;I++)for(let D=0;D<A;D++){const B=T*I+(D>>5),$=I*A+D<<2,G=j[$]>=250&&j[$+1]>=250&&j[$+2]>=250?1<<31-D%32:0;C[B]|=G}b.board=C,b.hasImage=!0},b.timeInterval=function(w){h=w??1/0},b.words=function(w){u=w},b.size=function(w=[]){t=[+w[0],+w[1]]},b.text=function(w){e=Ec(w)},b.font=function(w){n=Ec(w)},b.fontWeight=function(w){i=Ec(w)},b.rotate=function(w){a=Ec(w)},b.canvas=function(w){v=Ec(w)},b.spiral=function(w){s=Vbt[w]||w},b.fontSize=function(w){r=Ec(w)},b.padding=function(w){o=Ec(w)},b.random=function(w){l=Ec(w)},b.on=function(w){c=Ec(w)},b}var Zbt=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})},Qbt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Jbt={fontSize:[20,60],font:"Impact",padding:2,rotate:function(){return(~~(Math.random()*6)-3)*30}};function txt(t){return new Promise((e,n)=>{if(t instanceof HTMLImageElement){e(t);return}if(typeof t=="string"){const r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=()=>e(r),r.onerror=()=>{console.error(`'image ${t} load failed !!!'`),n()};return}n()})}function ext(t,e){if(typeof t=="function")return t;if(Array.isArray(t)){const[n,r]=t;if(!e)return()=>(r+n)/2;const[i,a]=e;return a===i?()=>(r+n)/2:({value:o})=>(r-n)/(a-i)*(o-i)+n}return()=>t}const sG=(t,e)=>n=>Zbt(void 0,void 0,void 0,function*(){const r=Object.assign({},Jbt,t,{canvas:e.createCanvas}),i=Kbt();yield Dbt(i,r).set("fontSize",w=>{const E=n.map(A=>A.value);return ext(w,[xo(E),Mn(E)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").set("canvas").setAsync("imageMask",txt,i.createMask),i.words([...n]);const a=i.start(),[o,s]=r.size,l=[{x:0,y:0},{x:o,y:s}],{_bounds:c=l,_tags:u,hasImage:d}=a,h=u.map(w=>{var{x:E,y:A,font:M}=w,T=Qbt(w,["x","y","font"]);return Object.assign(Object.assign({},T),{x:E+o/2,y:A+s/2,fontFamily:M})}),[{x:v,y:g},{x:b,y:x}]=c,_={text:"",value:0,opacity:0,fontSize:0};return h.push(Object.assign(Object.assign({},_),{x:d?0:v,y:d?0:g}),Object.assign(Object.assign({},_),{x:d?o:b,y:d?s:x})),h});sG.props={};function oD(t){return typeof t=="string"?e=>e[t]:t}const lG=t=>{const{join:e,on:n,select:r=[],as:i=r,unknown:a=NaN}=t,[o,s]=n,l=oD(s),c=oD(o),u=TC(e,([d])=>d,d=>l(d));return d=>d.map(h=>{const v=u.get(c(h));return Object.assign(Object.assign({},h),r.reduce((g,b,x)=>(g[i[x]]=v?v[b]:a,g),{}))})};lG.props={};const cG=t=>{const{start:e,end:n}=t;return r=>r.slice(e,n)};cG.props={};var kM={exports:{}},CM={exports:{}},sD;function nxt(){return sD||(sD=1,(function(t){var e=t.exports;t.exports.isNumber=function(n){return typeof n=="number"},t.exports.findMin=function(n){if(n.length===0)return 1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.min(r,n[i]);return r},t.exports.findMax=function(n){if(n.length===0)return-1/0;for(var r=n[0],i=1;i<n.length;i++)r=Math.max(r,n[i]);return r},t.exports.findMinMulti=function(n){for(var r=e.findMin(n[0]),i=1;i<n.length;i++)r=Math.min(r,e.findMin(n[i]));return r},t.exports.findMaxMulti=function(n){for(var r=e.findMax(n[0]),i=1;i<n.length;i++)r=Math.max(r,e.findMax(n[i]));return r},t.exports.inside=function(n,r,i){return n<=i&&i<=r}})(CM)),CM.exports}var lD;function rxt(){return lD||(lD=1,(function(t){var e=50,n=2,r=Math.log(2),i=t.exports,a=nxt();function o(l){return 1-Math.abs(l)}t.exports.getUnifiedMinMax=function(l,c){return i.getUnifiedMinMaxMulti([l],c)},t.exports.getUnifiedMinMaxMulti=function(l,c){c=c||{};var u=!1,d=!1,h=a.isNumber(c.width)?c.width:n,v=a.isNumber(c.size)?c.size:e,g=a.isNumber(c.min)?c.min:(u=!0,a.findMinMulti(l)),b=a.isNumber(c.max)?c.max:(d=!0,a.findMaxMulti(l)),x=b-g,_=x/(v-1);return u&&(g=g-2*h*_),d&&(b=b+2*h*_),{min:g,max:b}},t.exports.create=function(l,c){if(c=c||{},!l||l.length===0)return[];var u=a.isNumber(c.size)?c.size:e,d=a.isNumber(c.width)?c.width:n,h=i.getUnifiedMinMax(l,{size:u,width:d,min:c.min,max:c.max}),v=h.min,g=h.max,b=g-v,x=b/(u-1);if(b===0)return[{x:v,y:1}];for(var _=[],w=0;w<u;w++)_.push({x:v+w*x,y:0});var E=function(D){return Math.floor((D-v)/x)},A=s(o,d),M=A[d],T=A[d-1]-A[d-2],C=0;l.forEach(function(D){var B=E(D);if(!(B+d<0||B-d>=_.length)){var $=Math.max(B-d,0),U=B,G=Math.min(B+d,_.length-1),F=$-(B-d),H=B+d-G,Y=A[-d-1+F]||0,W=A[-d-1+H]||0,V=M/(M-Y-W);F>0&&(C+=V*(F-1)*T);var J=Math.max(0,B-d+1);a.inside(0,_.length-1,J)&&(_[J].y+=V*1*T),a.inside(0,_.length-1,U+1)&&(_[U+1].y-=V*2*T),a.inside(0,_.length-1,G+1)&&(_[G+1].y+=V*1*T)}});var R=C,j=0,I=0;return _.forEach(function(D){j+=D.y,R+=j,D.y=R,I+=R}),I>0&&_.forEach(function(D){D.y/=I}),_};function s(l,c){for(var u={},d=0,h=-c;h<=c;h++)d+=l(h/c),u[h]=d;return u}t.exports.getExpectedValueFromPdf=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){c+=u.x*u.y}),c}},t.exports.getXWithLeftTailArea=function(l,c){if(!(!l||l.length===0)){for(var u=0,d=0,h=0;h<l.length&&(d=h,u+=l[h].y,!(u>=c));h++);return l[d].x}},t.exports.getPerplexity=function(l){if(!(!l||l.length===0)){var c=0;return l.forEach(function(u){var d=Math.log(u.y);isFinite(d)&&(c+=u.y*d)}),c=-c/r,Math.pow(2,c)}}})(kM)),kM.exports}var ixt=rxt();const axt=LO(ixt),uG=t=>{const{field:e,groupBy:n,as:r=["y","size"],min:i,max:a,size:o=10,width:s}=t,[l,c]=r;return u=>Array.from(Vn(u,h=>n.map(v=>h[v]).join("-")).values()).map(h=>{const v=axt.create(h.map(x=>x[e]),{min:i,max:a,size:o,width:s}),g=v.map(x=>x.x),b=v.map(x=>x.y);return Object.assign(Object.assign({},h[0]),{[l]:g,[c]:b})})};uG.props={};function oxt(t,e,n,r){r=r||{};const i=r.maxIterations||100,a=r.tolerance||1e-10,o=t(e),s=t(n);let l=n-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(o===0)return e;if(s===0)return n;for(let c=0;c<i;++c){l/=2;const u=e+l,d=t(u);if(d*o>=0&&(e=u),Math.abs(l)<a||d===0)return u}return e+l}function Lk(t){const e=new Array(t);for(let n=0;n<t;++n)e[n]=0;return e}function cD(t,e){return Lk(t).map(()=>Lk(e))}function Vv(t,e){let n=0;for(let r=0;r<t.length;++r)n+=t[r]*e[r];return n}function Nk(t){return Math.sqrt(Vv(t,t))}function Dk(t,e,n){for(let r=0;r<e.length;++r)t[r]=e[r]*n}function Rc(t,e,n,r,i){for(let a=0;a<t.length;++a)t[a]=e*n[a]+r*i[a]}function sxt(t,e,n){n=n||{};const r=n.maxIterations||e.length*200,i=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,o=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,l=n.rho!==void 0?n.rho:1,c=n.chi!==void 0?n.chi:2,u=n.psi!==void 0?n.psi:-.5,d=n.sigma!==void 0?n.sigma:.5;let h;const v=e.length,g=new Array(v+1);g[0]=e,g[0].fx=t(e),g[0].id=0;for(let M=0;M<v;++M){const T=e.slice();T[M]=T[M]?T[M]*i:a,g[M+1]=T,g[M+1].fx=t(T),g[M+1].id=M+1}function b(M){for(let T=0;T<M.length;T++)g[v][T]=M[T];g[v].fx=M.fx}const x=(M,T)=>M.fx-T.fx,_=e.slice(),w=e.slice(),E=e.slice(),A=e.slice();for(let M=0;M<r;++M){if(g.sort(x),n.history){const C=g.map(R=>{const j=R.slice();return j.fx=R.fx,j.id=R.id,j});C.sort((R,j)=>R.id-j.id),n.history.push({x:g[0].slice(),fx:g[0].fx,simplex:C})}h=0;for(let C=0;C<v;++C)h=Math.max(h,Math.abs(g[0][C]-g[1][C]));if(Math.abs(g[0].fx-g[v].fx)<o&&h<s)break;for(let C=0;C<v;++C){_[C]=0;for(let R=0;R<v;++R)_[C]+=g[R][C];_[C]/=v}const T=g[v];if(Rc(w,1+l,_,-l,T),w.fx=t(w),w.fx<g[0].fx)Rc(A,1+c,_,-c,T),A.fx=t(A),A.fx<w.fx?b(A):b(w);else if(w.fx>=g[v-1].fx){let C=!1;if(w.fx>T.fx?(Rc(E,1+u,_,-u,T),E.fx=t(E),E.fx<T.fx?b(E):C=!0):(Rc(E,1-u*l,_,u*l,T),E.fx=t(E),E.fx<w.fx?b(E):C=!0),C){if(d>=1)break;for(let R=1;R<g.length;++R)Rc(g[R],1-d,g[0],d,g[R]),g[R].fx=t(g[R])}}else b(w)}return g.sort(x),{fx:g[0].fx,x:g[0]}}function lxt(t,e,n,r,i,a,o){const s=n.fx,l=Vv(n.fxprime,e);let c=s,u=s,d=l,h=0;i=i||1,a=a||1e-6,o=o||.1;function v(g,b,x){for(let _=0;_<16;++_)if(i=(g+b)/2,Rc(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),d=Vv(r.fxprime,e),c>s+a*i*l||c>=x)b=i;else{if(Math.abs(d)<=-o*l)return i;d*(b-g)>=0&&(b=g),g=i,x=c}return 0}for(let g=0;g<10;++g){if(Rc(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),d=Vv(r.fxprime,e),c>s+a*i*l||g&&c>=u)return v(h,i,u);if(Math.abs(d)<=-o*l)return i;if(d>=0)return v(i,h,c);u=c,h=i,i*=2}return i}function cxt(t,e,n){let r={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()};const a=e.slice();let o,s=1;n=n||{};const l=n.maxIterations||e.length*20;r.fx=t(r.x,r.fxprime);const c=r.fxprime.slice();Dk(c,r.fxprime,-1);for(let u=0;u<l;++u){if(s=lxt(t,c,r,i,s),n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),!s)Dk(c,r.fxprime,-1);else{Rc(a,1,i.fxprime,-1,r.fxprime);const d=Vv(r.fxprime,r.fxprime),h=Math.max(0,Vv(a,i.fxprime)/d);Rc(c,h,c,-1,i.fxprime),o=r,r=i,i=o}if(Nk(r.fxprime)<=1e-5)break}return n.history&&n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:s}),r}const fG=1e-10;function dG(t,e){const n=fxt(t),r=n.filter(function(l){return uxt(l,t)});let i=0,a=0,o;const s=[];if(r.length>1){const l=dxt(r);for(o=0;o<r.length;++o){const u=r[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}r.sort(function(u,d){return d.angle-u.angle});let c=r[r.length-1];for(o=0;o<r.length;++o){const u=r[o];a+=(c.x+u.x)*(u.y-c.y);const d={x:(u.x+c.x)/2,y:(u.y+c.y)/2};let h=null;for(let v=0;v<u.parentIndex.length;++v)if(c.parentIndex.indexOf(u.parentIndex[v])>-1){const g=t[u.parentIndex[v]],b=Math.atan2(u.x-g.x,u.y-g.y),x=Math.atan2(c.x-g.x,c.y-g.y);let _=x-b;_<0&&(_+=2*Math.PI);const w=x-_/2;let E=M1(d,{x:g.x+g.radius*Math.sin(w),y:g.y+g.radius*Math.cos(w)});E>g.radius*2&&(E=g.radius*2),(h===null||h.width>E)&&(h={circle:g,width:E,p1:u,p2:c})}h!==null&&(s.push(h),i+=Ik(h.circle.radius,h.width),c=u)}}else{let l=t[0];for(o=1;o<t.length;++o)t[o].radius<l.radius&&(l=t[o]);let c=!1;for(o=0;o<t.length;++o)if(M1(t[o],l)>Math.abs(l.radius-t[o].radius)){c=!0;break}c?i=a=0:(i=l.radius*l.radius*Math.PI,s.push({circle:l,p1:{x:l.x,y:l.y+l.radius},p2:{x:l.x-fG,y:l.y+l.radius},width:l.radius*2}))}return a/=2,e&&(e.area=i+a,e.arcArea=i,e.polygonArea=a,e.arcs=s,e.innerPoints=r,e.intersectionPoints=n),i+a}function uxt(t,e){for(let n=0;n<e.length;++n)if(M1(t,e[n])>e[n].radius+fG)return!1;return!0}function fxt(t){const e=[];for(let n=0;n<t.length;++n)for(let r=n+1;r<t.length;++r){const i=pG(t[n],t[r]);for(let a=0;a<i.length;++a){const o=i[a];o.parentIndex=[n,r],e.push(o)}}return e}function Ik(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function M1(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function hG(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);const r=t-(n*n-e*e+t*t)/(2*n),i=e-(n*n-t*t+e*e)/(2*n);return Ik(t,r)+Ik(e,i)}function pG(t,e){const n=M1(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];const a=(r*r-i*i+n*n)/(2*n),o=Math.sqrt(r*r-a*a),s=t.x+a*(e.x-t.x)/n,l=t.y+a*(e.y-t.y)/n,c=-(e.y-t.y)*(o/n),u=-(e.x-t.x)*(o/n);return[{x:s+c,y:l-u},{x:s-c,y:l+u}]}function dxt(t){const e={x:0,y:0};for(let n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function hxt(t,e){e=e||{},e.maxIterations=e.maxIterations||500;const n=e.initialLayout||yxt,r=e.lossFunction||tR;t=pxt(t);const i=n(t,e),a=[],o=[];let s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));const c=sxt(function(u){const d={};for(let h=0;h<o.length;++h){const v=o[h];d[v]={x:u[2*h],y:u[2*h+1],radius:i[v].radius}}return r(d,t)},a,e).x;for(let u=0;u<o.length;++u)s=o[u],i[s].x=c[2*u],i[s].y=c[2*u+1];return i}const vG=1e-10;function Bk(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+vG?Math.abs(t-e):oxt(function(r){return hG(t,e,r)-n},0,t+e)}function pxt(t){t=t.slice();const e=[],n={};let r,i,a,o;for(r=0;r<t.length;++r){const s=t[r];s.sets.length==1?e.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],n[[a,o]]=!0,n[[o,a]]=!0)}for(e.sort((s,l)=>s>l?1:-1),r=0;r<e.length;++r)for(a=e[r],i=r+1;i<e.length;++i)o=e[i],[a,o]in n||t.push({sets:[a,o],size:0});return t}function vxt(t,e,n){const r=cD(e.length,e.length),i=cD(e.length,e.length);return t.filter(function(a){return a.sets.length==2}).map(function(a){const o=n[a.sets[0]],s=n[a.sets[1]],l=Math.sqrt(e[o].size/Math.PI),c=Math.sqrt(e[s].size/Math.PI),u=Bk(l,c,a.size);r[o][s]=r[s][o]=u;let d=0;a.size+1e-10>=Math.min(e[o].size,e[s].size)?d=1:a.size<=1e-10&&(d=-1),i[o][s]=i[s][o]=d}),{distances:r,constraints:i}}function gxt(t,e,n,r){let i=0,a;for(a=0;a<e.length;++a)e[a]=0;for(a=0;a<n.length;++a){const o=t[2*a],s=t[2*a+1];for(let l=a+1;l<n.length;++l){const c=t[2*l],u=t[2*l+1],d=n[a][l],h=r[a][l],v=(c-o)*(c-o)+(u-s)*(u-s),g=Math.sqrt(v),b=v-d*d;h>0&&g<=d||h<0&&g>=d||(i+=2*b*b,e[2*a]+=4*b*(o-c),e[2*a+1]+=4*b*(s-u),e[2*l]+=4*b*(c-o),e[2*l+1]+=4*b*(u-s))}}return i}function yxt(t,e){let n=bxt(t,e);const r=e.lossFunction||tR;if(t.length>=8){const i=mxt(t,e),a=r(i,t),o=r(n,t);a+1e-8<o&&(n=i)}return n}function mxt(t,e){e=e||{};const n=e.restarts||10,r=[],i={};let a;for(a=0;a<t.length;++a){const b=t[a];b.sets.length==1&&(i[b.sets[0]]=r.length,r.push(b))}const o=vxt(t,r,i);let s=o.distances;const l=o.constraints,c=Nk(s.map(Nk))/s.length;s=s.map(function(b){return b.map(function(x){return x/c})});const u=function(b,x){return gxt(b,x,s,l)};let d,h;for(a=0;a<n;++a){const b=Lk(s.length*2).map(Math.random);h=cxt(u,b,e),(!d||h.fx<d.fx)&&(d=h)}const v=d.x,g={};for(a=0;a<r.length;++a){const b=r[a];g[b.sets[0]]={x:v[2*a]*c,y:v[2*a+1]*c,radius:Math.sqrt(b.size/Math.PI)}}if(e.history)for(a=0;a<e.history.length;++a)Dk(e.history[a].x,c);return g}function bxt(t,e){const n=e&&e.lossFunction?e.lossFunction:tR,r={},i={};let a;for(let d=0;d<t.length;++d){const h=t[d];h.sets.length==1&&(a=h.sets[0],r[a]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:h.size,radius:Math.sqrt(h.size/Math.PI)},i[a]=[])}t=t.filter(function(d){return d.sets.length==2});for(let d=0;d<t.length;++d){const h=t[d];let v=h.hasOwnProperty("weight")?h.weight:1;const g=h.sets[0],b=h.sets[1];h.size+vG>=Math.min(r[g].size,r[b].size)&&(v=0),i[g].push({set:b,size:h.size,weight:v}),i[b].push({set:g,size:h.size,weight:v})}const o=[];for(a in i)if(i.hasOwnProperty(a)){let d=0;for(let h=0;h<i[a].length;++h)d+=i[a][h].size*i[a][h].weight;o.push({set:a,size:d})}function s(d,h){return h.size-d.size}o.sort(s);const l={};function c(d){return d.set in l}function u(d,h){r[h].x=d.x,r[h].y=d.y,l[h]=!0}u({x:0,y:0},o[0].set);for(let d=1;d<o.length;++d){const h=o[d].set,v=i[h].filter(c);if(a=r[h],v.sort(s),v.length===0)throw"ERROR: missing pairwise overlap information";const g=[];for(let _=0;_<v.length;++_){const w=r[v[_].set],E=Bk(a.radius,w.radius,v[_].size);g.push({x:w.x+E,y:w.y}),g.push({x:w.x-E,y:w.y}),g.push({y:w.y+E,x:w.x}),g.push({y:w.y-E,x:w.x});for(let A=_+1;A<v.length;++A){const M=r[v[A].set],T=Bk(a.radius,M.radius,v[A].size),C=pG({x:w.x,y:w.y,radius:E},{x:M.x,y:M.y,radius:T});for(let R=0;R<C.length;++R)g.push(C[R])}}let b=1e50,x=g[0];for(let _=0;_<g.length;++_){r[h].x=g[_].x,r[h].y=g[_].y;const w=n(r,t);w<b&&(b=w,x=g[_])}u(x,h)}return r}function tR(t,e){let n=0;function r(i){return i.map(function(a){return t[a]})}for(let i=0;i<e.length;++i){const a=e[i];let o;if(a.sets.length==1)continue;if(a.sets.length==2){const l=t[a.sets[0]],c=t[a.sets[1]];o=hG(l.radius,c.radius,M1(l,c))}else o=dG(r(a.sets));const s=a.hasOwnProperty("weight")?a.weight:1;n+=s*(o-a.size)*(o-a.size)}return n}function xxt(t){const e=function(n){const r=Math.max.apply(null,t.map(function(a){return a[n]+a.radius})),i=Math.min.apply(null,t.map(function(a){return a[n]-a.radius}));return{max:r,min:i}};return{xRange:e("x"),yRange:e("y")}}function _xt(t,e,n,r){const i=[],a=[];for(const b in t)t.hasOwnProperty(b)&&(a.push(b),i.push(t[b]));e-=2*r,n-=2*r;const o=xxt(i),s=o.xRange,l=o.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;const c=e/(s.max-s.min),u=n/(l.max-l.min),d=Math.min(u,c),h=(e-(s.max-s.min)*d)/2,v=(n-(l.max-l.min)*d)/2,g={};for(let b=0;b<i.length;++b){const x=i[b];g[a[b]]={radius:d*x.radius,x:r+h+(x.x-s.min)*d,y:r+v+(x.y-l.min)*d}}return g}function wxt(t,e,n){const r=[],i=t-n,a=e;return r.push("M",i,a),r.push("A",n,n,0,1,0,i+2*n,a),r.push("A",n,n,0,1,0,i,a),r.join(" ")}function Oxt(t){const e={};dG(t,e);const n=e.arcs;if(n.length===0)return"M 0 0";if(n.length==1){const r=n[0].circle;return wxt(r.x,r.y,r.radius)}else{const r=[`
M`,n[0].p2.x,n[0].p2.y];for(let i=0;i<n.length;++i){const a=n[i],o=a.circle.radius,s=a.width>o;r.push(`
A`,o,o,0,s?1:0,1,a.p1.x,a.p1.y)}return r.join(" ")}}const gG=t=>{const{sets:e="sets",size:n="size",as:r=["key","path"],padding:i=0}=t,[a,o]=r;return s=>{const l=s.map(d=>Object.assign(Object.assign({},d),{sets:d[e],size:d[n],[a]:d.sets.join("&")}));l.sort((d,h)=>d.sets.length-h.sets.length);const c=hxt(l);let u;return l.map(d=>{const h=d[e],v=({width:g,height:b})=>{u=u||_xt(c,g,b,i);const x=h.map(w=>u[w]);let _=Oxt(x);return/[zZ]$/.test(_)||(_+=" Z"),_};return Object.assign(Object.assign({},d),{[o]:v})})}};gG.props={};const yG=()=>t=>(console.log("G2 data section:",t),t);yG.props={};function Sxt(t,e){if(e<0||e>1)throw new Error("alpha must be between 0 and 1.");if(t.length===0)return[];let n=t[0];const r=[];for(const i of t){if(i==null){r.push(i),console.warn("EMAThe value is null or undefined",t);continue}n==null&&(n=i);const a=n*e+(1-e)*i;r.push(a),n=a}return r}const mG=t=>{const{field:e="y",alpha:n=.6,as:r=e}=t;return i=>{const a=i.map(s=>s[e]),o=Sxt(a,n);return i.map((s,l)=>Object.assign(Object.assign({},s),{[r]:o[l]}))}};mG.props={};const bG=.01;function T1(t){const{min:e,max:n}=t;return[[e[0],e[1]],[n[0],n[1]]]}function uD(t,e,n=bG){const[r,i]=t,[a,o]=e;return r>=a[0]-n&&r<=o[0]+n&&i>=a[1]-n&&i<=o[1]+n}function xG(t,e,n=bG){const[r,i]=t;return!(uD(r,e,n)&&uD(i,e,n))}function Ext(t,e){const[n,r]=t,[i,a]=e;return n[0]<a[0]&&r[0]>i[0]&&n[1]<a[1]&&r[1]>i[1]}const Axt=t=>{const{priority:e}=t;return n=>{const r=[];return e&&n.sort(e),n.forEach(i=>{DS(i);const a=i.getLocalBounds();r.some(s=>Ext(T1(a),T1(s.getLocalBounds())))?F3(i):r.push(i)}),n}};function Mxt([t,e],[n,r]){return r>t&&e>n}function B_(){const t=new Map;return[r=>t.get(r),(r,i)=>t.set(r,i)]}function Txt(t){const e=t.cloneNode(!0),n=e.getElementById("connector");n&&e.removeChild(n);const{min:r,max:i}=e.getRenderBounds();return e.destroy(),{min:r,max:i}}const kxt=t=>{const{maxIterations:e=10,maxError:n=.1,padding:r=1}=t;return i=>{const a=i.length;if(a<=1)return i;const[o,s]=B_(),[l,c]=B_(),[u,d]=B_(),[h,v]=B_();for(const g of i){const{min:b,max:x}=Txt(g),[_,w]=b,[E,A]=x;s(g,w),c(g,w),d(g,A-w),v(g,[_,E])}for(let g=0;g<e;g++){i.sort((x,_)=>Cr(l(x),l(_)));let b=0;for(let x=0;x<a-1;x++){const _=i[x];let w=x+1,E;for(;(E=i[w])&&!Mxt(h(_),h(E));)w+=1;if(E){const A=l(_),M=u(_),T=l(E),C=T-(A+M);if(C<r){const R=(r-C)/2;b=Math.max(b,R),c(_,A-R),c(E,T+R)}}}if(b<n)break}for(const g of i)g.style.y+=l(g)-o(g);return i}};function _G(t){return typeof t=="object"?t:sf(t)}function RM(t){let e=t/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),e}function fD(t,e,n){return .2126*RM(t)+.7152*RM(e)+.0722*RM(n)}function wG(t,e){if(!t||!e||t===e)return 1;const{r:n,g:r,b:i}=t,{r:a,g:o,b:s}=e,l=fD(n,r,i),c=fD(a,o,s);return(Math.max(l,c)+.05)/(Math.min(l,c)+.05)}function OG(t,e){const n=Ag(e,r=>wG(t,_G(r)));return e[n]}const Cxt=t=>{const{threshold:e=4.5,palette:n=["#000","#fff"]}=t;return r=>(r.forEach(i=>{const a=i.attr("dependentElement").parsedStyle.fill,o=i.parsedStyle.fill;wG(o,a)<e&&i.attr("fill",OG(a,n))}),r)},Rxt=()=>t=>(t.forEach(e=>{DS(e);const n=e.attr("bounds"),r=e.getLocalBounds();xG(T1(r),n)&&F3(e)}),t),Pxt=(t,e)=>{const[[n,r],[i,a]]=e,[[o,s],[l,c]]=t;let u=0,d=0;return o<n?u=n-o:l>i&&(u=i-l),s<r?d=r-s:c>a&&(d=a-c),[u,d]},jxt=(t,e)=>({min:[Math.min(t.min[0],e.min[0]),Math.min(t.min[1],e.min[1])],max:[Math.max(t.max[0],e.max[0]),Math.max(t.max[1],e.max[1])]}),Lxt=(t={})=>(e,{canvas:n,layout:r})=>{const{bounds:i="view",offsetX:a=0,offsetY:o=0}=t,l=(()=>{if(i==="main"){const{x:c=0,y:u=0,width:d=0,height:h=0,marginLeft:v=0,marginRight:g=0,marginTop:b=0,marginBottom:x=0,paddingLeft:_=0,paddingRight:w=0,paddingTop:E=0,paddingBottom:A=0}=r;return[[c+v+_+a,u+b+E+o],[c+d-g-w-a,u+h-x-A-o]]}else{const{x:c=0,y:u=0,width:d=0,height:h=0}=r;return[[c+a,u+o],[c+d-a,u+h-o]]}})();return e.forEach(c=>{DS(c);const{max:u,min:d}=jxt(c.getRenderBounds(),c.getBounds()),[h,v]=u,[g,b]=d,x=Pxt([[g,b],[h,v]],l);c.style.connector&&c.style.connectorPoints&&(c.style.connectorPoints[0][0]-=x[0],c.style.connectorPoints[0][1]-=x[1]),c.style.x+=x[0],c.style.y+=x[1]}),e};function dD(t){var e;const n=t.getAnimations();if(!n||n.length===0)return yO(t);const r=t.cloneNode(!0);r.style.visibility="hidden",n.forEach(a=>{const o=a.effect.getKeyframes();o&&o.length>0&&r.attr(o[o.length-1])}),(e=t.parentNode)===null||e===void 0||e.appendChild(r);const i=yO(r);return r.destroy(),i}const Nxt=t=>{const{palette:e=["#000","#fff"],threshold:n=2}=t;return r=>(r.forEach(i=>{var a,o;const s=i.attr("dependentElement"),l=(o=(a=i.attributes.fill)!==null&&a!==void 0?a:i.parsedStyle.fill)!==null&&o!==void 0?o:"#fff",c=T1(dD(i)),u=T1(dD(s));if(xG(c,u,n)){const d=OG(_G(l),e);i.attr("stroke",d)}else i.removeAttribute("stroke")}),r)};function Dxt(){return{"data.fetch":KH,"data.inline":rG,"data.sortBy":nG,"data.sort":JH,"data.filter":QH,"data.pick":tG,"data.rename":eG,"data.fold":ZH,"data.slice":cG,"data.custom":iG,"data.map":aG,"data.join":lG,"data.kde":uG,"data.log":yG,"data.wordCloud":sG,"data.ema":mG,"transform.stackY":V8,"transform.binX":AI,"transform.bin":qC,"transform.dodgeX":oI,"transform.jitter":cI,"transform.jitterX":uI,"transform.jitterY":fI,"transform.symmetryY":dI,"transform.diffY":hI,"transform.stackEnter":sI,"transform.normalizeY":lI,"transform.select":ZO,"transform.selectX":pI,"transform.selectY":vI,"transform.groupX":gI,"transform.groupY":yI,"transform.groupColor":mI,"transform.group":F1,"transform.sortX":bI,"transform.sortY":_I,"transform.sortColor":xI,"transform.flexX":wI,"transform.pack":EI,"transform.sample":MI,"transform.filter":TI,"coordinate.cartesian":h6,"coordinate.polar":j1,"coordinate.transpose":pC,"coordinate.theta":g6,"coordinate.parallel":gC,"coordinate.fisheye":m6,"coordinate.radial":vC,"coordinate.radar":b6,"coordinate.helix":v6,"encode.constant":x6,"encode.field":w6,"encode.transform":_6,"encode.column":O6,"mark.interval":c9,"mark.rect":u9,"mark.line":f9,"mark.point":d9,"mark.text":h9,"mark.cell":p9,"mark.area":v9,"mark.link":U5,"mark.image":g9,"mark.polygon":y9,"mark.box":m9,"mark.vector":b9,"mark.lineX":_9,"mark.lineY":x9,"mark.connector":w9,"mark.range":O9,"mark.rangeX":S9,"mark.rangeY":E9,"mark.path":C9,"mark.shape":W9,"mark.density":s7,"mark.heatmap":l7,"mark.wordCloud":X5,"palette.category10":u7,"palette.category20":f7,"scale.linear":h7,"scale.ordinal":p7,"scale.band":d7,"scale.identity":v7,"scale.point":g7,"scale.time":y7,"scale.log":m7,"scale.pow":b7,"scale.sqrt":O7,"scale.threshold":x7,"scale.quantile":_7,"scale.quantize":w7,"scale.sequential":S7,"scale.constant":E7,"theme.classic":A7,"theme.classicDark":T7,"theme.academy":k7,"theme.light":K5,"theme.dark":M7,"component.axisX":z7,"component.axisY":F7,"component.legendCategory":Q5,"component.legendContinuous":Ef,"component.legends":Z7,"component.title":q7,"component.sliderX":W7,"component.sliderY":X7,"component.scrollbarX":V7,"component.scrollbarY":K7,"animation.scaleInX":t3,"animation.scaleOutX":Vft,"animation.scaleInY":Q7,"animation.scaleOutY":Kft,"animation.waveIn":rF,"animation.fadeIn":J7,"animation.fadeOut":tF,"animation.zoomIn":sdt,"animation.zoomOut":ldt,"animation.pathIn":iF,"animation.morphing":nF,"animation.growInX":aF,"animation.growInY":oF,"interaction.elementHighlight":IS,"interaction.elementHighlightByX":OH,"interaction.elementHighlightByColor":SH,"interaction.elementSelect":BS,"interaction.elementSelectByX":EH,"interaction.elementSelectByColor":AH,"interaction.fisheye":d1t,"interaction.chartIndex":MH,"interaction.tooltip":DH,"interaction.legendFilter":N1t,"interaction.legendHighlight":D1t,"interaction.brushHighlight":V3,"interaction.brushXHighlight":U1t,"interaction.brushYHighlight":H1t,"interaction.brushAxisHighlight":Q1t,"interaction.brushFilter":J3,"interaction.brushXFilter":nbt,"interaction.brushYFilter":rbt,"interaction.sliderFilter":WH,"interaction.scrollbarFilter":lbt,"interaction.poptip":XH,"interaction.treemapDrillDown":gbt,"interaction.elementPointMove":wbt,"composition.spaceLayer":RF,"composition.spaceFlex":PF,"composition.facetRect":IF,"composition.repeatMatrix":Wpt,"composition.facetCircle":Jpt,"composition.timingKeyframe":BF,"labelTransform.overlapHide":Axt,"labelTransform.overlapDodgeY":kxt,"labelTransform.overflowHide":Rxt,"labelTransform.contrastReverse":Cxt,"labelTransform.overflowStroke":Nxt,"labelTransform.exceedAdjust":Lxt}}function Ixt(){return{"composition.geoView":hU,"composition.geoPath":$F}}function Bxt(){return{"data.arc":G5,"data.cluster":r7,"mark.forceGraph":e7,"mark.tree":a7,"mark.pack":H9,"mark.sankey":T9,"mark.chord":k9,"mark.treemap":U9}}function $xt(){return{"data.venn":gG,"mark.boxplot":q9,"mark.gauge":o7,"mark.wordCloud":X5,"mark.liquid":c7}}function SG(){return Object.assign(Object.assign(Object.assign(Object.assign({},Ixt()),Bxt()),$xt()),Dxt())}function zxt(t,e){class n extends t{constructor(i){super(Object.assign(Object.assign({},i),{lib:e}))}}return n}const EG={};function AG(t,e){t.startsWith("symbol.")?lrt(t.split(".").pop(),e):Object.assign(EG,{[t]:e})}const Tv=t=>t?parseInt(t):0;function Fxt(t){const e=getComputedStyle(t),n=t.clientWidth||Tv(e.width),r=t.clientHeight||Tv(e.height),i=Tv(e.paddingLeft)+Tv(e.paddingRight),a=Tv(e.paddingTop)+Tv(e.paddingBottom);return{width:n-i,height:r-a}}function PM(t,e){const n=[t];for(;n.length;){const r=n.shift();e&&e(r);const i=r.children||[];for(const a of i)n.push(a)}}class eR{constructor(e={},n){this.parentNode=null,this.children=[],this.index=0,this.type=n,this.value=e}map(e=n=>n){const n=e(this.value);return this.value=n,this}attr(e,n){return arguments.length===1?this.value[e]:this.map(r=>(r[e]=n,r))}append(e){const n=new e({});return n.children=[],this.push(n),n}push(e){return e.parentNode=this,e.index=this.children.length,this.children.push(e),this}remove(){const e=this.parentNode;if(e){const{children:n}=e,r=n.findIndex(i=>i===this);n.splice(r,1)}return this}getNodeByKey(e){let n=null;return PM(this,i=>{e===i.attr("key")&&(n=i)}),n}getNodesByType(e){const n=[];return PM(this,i=>{e===i.type&&n.push(i)}),n}getNodeByType(e){let n=null;return PM(this,r=>{n||e===r.type&&(n=r)}),n}call(e,...n){return e(this.map(),...n),this}getRoot(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}}var MG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $k=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title","interaction"],TG="__remove__",kG="__callback__",hD=1,pD=1;function Uxt(t){if(t===void 0){const e=document.createElement("div");return e[TG]=!0,e}return typeof t=="string"?document.getElementById(t):t}function Hxt(t){const e=t.parentNode;e&&e.removeChild(t)}function Gxt(t){if(t.type!==null)return t;const e=t.children[t.children.length-1];for(const n of $k)e.attr(n,t.attr(n));return e}function vD(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function jM(t,e){const{width:n,height:r,autoFit:i,depth:a=0}=t;let o=640,s=480;if(i){const{width:l,height:c}=Fxt(e);o=l||o,s=c||s}return o=n||o,s=r||s,{width:Math.max(Kn(o)?o:hD,hD),height:Math.max(Kn(s)?s:pD,pD),depth:a}}function Yxt(t){const e=Gxt(t),n=[e],r=new Map;for(r.set(e,vD(e));n.length;){const i=n.pop(),a=r.get(i),{children:o=[]}=i;for(const s of o)if(s.type===kG)a.children=s.value;else{const l=vD(s),{children:c=[]}=a;c.push(l),n.push(s),r.set(s,l),a.children=c}}return r.get(e)}function qxt(t,e){return typeof t=="function"?!0:new Set(Object.keys(e)).has(t)}function Wxt(t,e){return typeof t!="function"&&new Set(Object.keys(e)).has(t)}function Xxt(t,e,n,r,i){const{type:a}=t,{type:o=n||a}=e;if(Wxt(o,i)){for(const s of $k)t.attr(s)!==void 0&&e[s]===void 0&&(e[s]=t.attr(s));return e}if(qxt(o,r)){const s={type:"view"},l=Object.assign({},e);for(const c of $k)l[c]!==void 0&&(s[c]=l[c],delete l[c]);return Object.assign(Object.assign({},s),{children:[l]})}return e}function Vxt(t,e,n){if(typeof t=="function")return e.mark;const i=Object.assign(Object.assign({},e),n)[t];if(!i)throw new Error(`Unknown mark: ${t}.`);return i}function Kxt(t,e,n){if(typeof t=="function"){const l=new eR;return l.value=t,l.type=kG,l}const{type:r,children:i}=t,a=MG(t,["type","children"]),o=Vxt(r,e,n),s=new o;return s.value=a,s.type=r,s}function Zxt(t,e){const{type:n,children:r}=e,i=MG(e,["type","children"]);t.type===n||n===void 0?U8(t.value,i):typeof n=="string"&&(t.type=n,t.value=i)}function Qxt(t,e,n,r){if(!t)return;const i=[[t,e]];for(;i.length;){const[a,o]=i.shift(),s=Kxt(o,n,r);Array.isArray(a.children)&&a.push(s);const{children:l}=o;if(Array.isArray(l))for(const c of l)i.push([s,c]);else typeof l=="function"&&i.push([s,l])}}function Jxt(t,e,n,r,i){const a=Xxt(t,e,n,r,i),o=[[null,t,a]];for(;o.length;){const[s,l,c]=o.shift();if(!l)Qxt(s,c,r,i);else if(!c)l.remove();else{Zxt(l,c);const{children:u}=c,{children:d}=l;if(Array.isArray(u)&&Array.isArray(d)){const h=Math.max(u.length,d.length);for(let v=0;v<h;v++){const g=u[v],b=d[v];o.push([l,b,g])}}else typeof u=="function"&&o.push([l,null,u])}}}function t2t(){let t,e;return[new Promise((r,i)=>{e=r,t=i}),e,t]}function e2t(t,e,{key:n=e}){t.prototype[e]=function(r){return arguments.length===0?this.attr(n):this.attr(n,r)}}function n2t(t,e,{key:n=e}){t.prototype[e]=function(r){if(arguments.length===0)return this.attr(n);if(Array.isArray(r))return this.attr(n,r);const i=[...this.attr(n)||[],r];return this.attr(n,i)}}function r2t(t,e,{key:n=e}){t.prototype[e]=function(r,i){if(arguments.length===0)return this.attr(n);if(arguments.length===1&&typeof r!="string")return this.attr(n,r);const a=this.attr(n)||{};return a[r]=arguments.length===1?!0:i,this.attr(n,a)}}function i2t(t,e,n){t.prototype[e]=function(r){if(arguments.length===0)return this.attr(e);if(Array.isArray(r))return this.attr(e,{items:r});if(ag(r)&&(r.title!==void 0||r.items!==void 0))return this.attr(e,r);if(r===null||r===!1)return this.attr(e,r);const i=this.attr(e)||{},{items:a=[]}=i;return a.push(r),i.items=a,this.attr(e,i)}}function a2t(t,e,{ctor:n}){t.prototype[e]=function(r){const i=this.append(n);return e==="mark"&&(i.type=r),i}}function o2t(t,e,{ctor:n}){t.prototype[e]=function(){return this.type=null,this.append(n)}}function _O(t){return e=>{for(const[n,r]of Object.entries(t)){const{type:i}=r;i==="value"?e2t(e,n,r):i==="array"?n2t(e,n,r):i==="object"?r2t(e,n,r):i==="node"?a2t(e,n,r):i==="container"?o2t(e,n,r):i==="mix"&&i2t(e,n)}return e}}function gD(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,{type:"node",ctor:n}]))}const CG={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},s2t=Object.assign(Object.assign({},CG),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),l2t=Object.assign(Object.assign({},CG),{labelTransform:{type:"array"}});var c2t=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};let wO=class extends eR{changeData(e){var n;const r=this.getRoot();if(r)return this.attr("data",e),!((n=this.children)===null||n===void 0)&&n.length&&this.children.forEach(i=>{i.attr("data",e)}),r?.render()}getView(){const e=this.getRoot(),{views:n}=e.getContext();if(n?.length)return n.find(r=>r.key===this._key)}getScale(){var e;return(e=this.getView())===null||e===void 0?void 0:e.scale}getScaleByChannel(e){const n=this.getScale();if(n)return n[e]}getCoordinate(){var e;return(e=this.getView())===null||e===void 0?void 0:e.coordinate}getTheme(){var e;return(e=this.getView())===null||e===void 0?void 0:e.theme}getGroup(){const e=this._key;return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}show(){const e=this.getGroup();e&&!e.isVisible()&&DS(e)}hide(){const e=this.getGroup();e&&e.isVisible()&&F3(e)}};wO=c2t([_O(l2t)],wO);var u2t=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};let zk=class extends eR{changeData(e){const n=this.getRoot();if(n)return this.attr("data",e),n?.render()}getMark(){var e;const n=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(!n)return;const{markState:r}=n,i=Array.from(r.keys()).find(a=>a.key===this.attr("key"));return r.get(i)}getScale(){var e;const n=(e=this.getRoot())===null||e===void 0?void 0:e.getView();if(n)return n?.scale}getScaleByChannel(e){var n,r;const i=(n=this.getRoot())===null||n===void 0?void 0:n.getView();if(i)return(r=i?.scale)===null||r===void 0?void 0:r[e]}getGroup(){const e=this.attr("key");return e?this.getRoot().getContext().canvas.getRoot().getElementById(e):void 0}};zk=u2t([_O(s2t)],zk);var f2t=function(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d2t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const h2t="G2_CHART_KEY";class p2t extends wO{constructor(e){const{container:n,canvas:r,renderer:i,plugins:a,lib:o,createCanvas:s}=e,l=d2t(e,["container","canvas","renderer","plugins","lib","createCanvas"]);super(l,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailingClear=null,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=P6(()=>{this.forceFit()},300),this._renderer=i||new vF,this._plugins=a||[],this._container=Uxt(n),this._emitter=new i3,this._context={library:Object.assign(Object.assign({},o),EG),emitter:this._emitter,canvas:r,createCanvas:s},this._create()}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const e=new Promise((a,o)=>Wmt(this._computedOptions(),this._context,this._createResolve(a),this._createReject(o))),[n,r,i]=t2t();return e.then(r).then(()=>{if(this._trailingClear){const a=this.options();this._trailingClear(),this._trailing&&this.options(a)}}).catch(i).then(()=>{this._trailingClear=null,this._renderTrailing()}),n}options(e){if(arguments.length===0)return Yxt(this);const{type:n}=e;return n&&(this._previousDefinedType=n),Jxt(this,e,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(e,n,r){return this._emitter.on(e,n,r),this}once(e,n){return this._emitter.once(e,n),this}emit(e,...n){return this._emitter.emit(e,...n),this}off(e,n){return this._emitter.off(e,n),this}clear(e=!0){if(this._rendering){this._trailingClear=()=>{this.clear(e)},this._reset();return}const n=this.options();this.emit(bn.BEFORE_CLEAR),this._reset(),F4(n,this._context,!1,e),this.emit(bn.AFTER_CLEAR)}destroy(){const e=this.options();this.emit(bn.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),F4(e,this._context,!0),this._container[TG]&&Hxt(this._container),this.emit(bn.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;const{width:e,height:n}=jM(this.options(),this._container);if(e===this._width&&n===this._height)return Promise.resolve(this);this.emit(bn.BEFORE_CHANGE_SIZE);const r=this.render();return r.then(()=>{this.emit(bn.AFTER_CHANGE_SIZE)}),r}changeSize(e,n){if(e===this._width&&n===this._height)return Promise.resolve(this);this.emit(bn.BEFORE_CHANGE_SIZE),this.attr("width",e),this.attr("height",n);const r=this.render();return r.then(()=>{this.emit(bn.AFTER_CHANGE_SIZE)}),r}getDataByXY(e,n={}){const{shared:r=!1,series:i,facet:a=!1,startX:o=0,startY:s=0}=n,{canvas:l,views:c}=this._context,{document:u}=l,{x:d,y:h}=e,{coordinate:v,scale:g,markState:b,data:x,key:_}=c[0],w=u.getElementsByClassName(Tl),E=r?D=>D.__data__.x:D=>D,A=Vn(w,E),M=u.getElementsByClassName(Gw)[0],T=Fs(M),C=D=>Array.from(D.values()).some(B=>{var $,U;return(($=B.interaction)===null||$===void 0?void 0:$.seriesTooltip)||((U=B.channels)===null||U===void 0?void 0:U.some(G=>G.name==="series"&&G.values!==void 0))}),R=Ml(i,C(b)),j=D=>_e(D,"__data__.data",null),I=D=>D.map(j);try{if(R&&C(b)&&!a){const{selectedData:U}=NH({root:T,event:{offsetX:d,offsetY:h},elements:w,coordinate:v,scale:g,startX:o,startY:s}),G=x.get(`${_}-0`);return U.map(({index:F})=>G[F])}const D=LH({root:T,event:{offsetX:d,offsetY:h},elements:w,coordinate:v,scale:g,shared:r});if(GO(D))return $C(D,x.get(_));const B=E(D),$=A.get(B);return $?I($):[]}catch{const B=l.document.elementFromPointSync(d,h);return B?j(B):[]}}_create(){const{library:e}=this._context,n=a=>a.startsWith("mark.")||a==="component.axisX"||a==="component.axisY"||a==="component.legends",r=["mark.mark",...Object.keys(e).filter(n)];this._marks={};for(const a of r){const o=a.split(".").pop();class s extends zk{constructor(){super({},o)}}this._marks[o]=s,this[o]=function(l){const c=this.append(s);return o==="mark"&&(c.type=l),c}}const i=["composition.view",...Object.keys(e).filter(a=>a.startsWith("composition.")&&a!=="composition.mark")];this._compositions=Object.fromEntries(i.map(a=>{const o=a.split(".").pop();let s=class extends wO{constructor(){super({},o)}};return s=f2t([_O(gD(this._marks))],s),[o,s]}));for(const a of Object.values(this._compositions))_O(gD(this._compositions))(a);for(const a of i){const o=a.split(".").pop();this[o]=function(){const s=this._compositions[o];return this.type=null,this.append(s)}}}_reset(){const e=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([n])=>n.startsWith("margin")||n.startsWith("padding")||n.startsWith("inset")||e.includes(n))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{const e=this._trailingResolve.bind(this);this._trailingResolve=null,e(this)}).catch(e=>{const n=this._trailingReject.bind(this);this._trailingReject=null,n(e)}))}_createResolve(e){return()=>{this._rendering=!1,e(this)}}_createReject(e){return n=>{this._rendering=!1,e(n)}}_computedOptions(){const e=this.options(),{key:n=h2t}=e,{width:r,height:i,depth:a}=jM(e,this._container);return this._width=r,this._height=i,this._key=n,Object.assign(Object.assign({key:this._key},e),{width:r,height:i,depth:a})}_createCanvas(){const{width:e,height:n}=jM(this.options(),this._container);this._plugins.push(new yF),this._plugins.forEach(r=>this._renderer.registerPlugin(r)),this._context.canvas=new DB({container:this._container,width:e,height:n,renderer:this._renderer})}_addToTrailing(){var e;return(e=this._trailingResolve)===null||e===void 0||e.call(this,this),this._trailing=!0,new Promise((r,i)=>{this._trailingResolve=r,this._trailingReject=i})}_bindAutoFit(){const e=this.options(),{autoFit:n}=e;if(this._hasBindAutoFit){n||this._unbindAutoFit();return}n&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}Object.assign({},SG());var v2t=te.version||"",nR,Fk,g2t,LM="__rc_react_root__";try{var y2t=parseInt(v2t.split(".")[0],10);if(y2t>=18){var m2t=require("react-dom/client");nR=m2t.createRoot}else{var yD=require("react-dom");Fk=yD.render,g2t=yD.unmountComponentAtNode}}catch{}function b2t(t,e){e[LM]||(e[LM]=nR(e)),e[LM].render(t)}function x2t(t,e){if(Fk)Fk(t,e);else throw new Error("ReactDOM.render is not available in this React version")}function _2t(t,e){nR?b2t(t,e):x2t(t,e)}var iw=new Map;typeof document<"u"&&iw.set("tooltip",document.createElement("div"));var w2t=function(t,e){e===void 0&&(e=!1);var n=null;if(e)n=iw.get("tooltip");else if(n=document.createElement("div"),t?.key){var r=iw.get(t.key);r?n=r:iw.set(t.key,n)}return _2t(t,n),n},Uk=function(){return Uk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Uk.apply(this,arguments)},O2t=function(t,e){if(e===void 0&&(e={}),typeof document>"u")return"loading";var n="";e&&Object.keys(e).forEach(function(o){n+="".concat(o,": ").concat(e[o],`;
`)});var r=t.attachShadow({mode:"open"}),i=document.createElement("div"),a=document.createElement("style");a.innerHTML=`.loading {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 80px;
  }
  .loading div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #ccc;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
    `.concat(n,`
  }
  .loading div:nth-child(1) {
    left: 8px;
    animation: loading1 0.6s infinite;
  }
  .loading div:nth-child(2) {
    left: 8px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(3) {
    left: 32px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(4) {
    left: 56px;
    animation: loading3 0.6s infinite;
  }
  @keyframes loading1 {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes loading3 {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes loading2 {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(24px, 0);
    }
  }
  `),i.classList.add("loading"),i.innerHTML="<div></div><div></div><div></div><div></div>",r.appendChild(a),r.appendChild(i)},S2t=function(t){var e=t.loadingTemplate,n=t.theme,r=n===void 0?"light":n,i=t.loading,a=Ja.useRef(null),o=typeof i=="object"?i:{},s=o.container,l=s===void 0?{}:s,c=o.icon,u=c===void 0?{}:c;Ja.useEffect(function(){!e&&a.current&&O2t(a.current,u)},[]);var d=function(){return e||Ja.createElement("div",{ref:a})};return Ja.createElement("div",{className:"charts-loading-container",style:Uk({position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,background:r==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"},l)},d())},E2t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),A2t=(function(t){E2t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={hasError:!1},n.renderError=function(r){var i=n.props.errorTemplate;return typeof i=="function"?i(r):i||Ja.createElement("h5",null," ",r.message)},n}return e.getDerivedStateFromError=function(n){return{hasError:!0,error:n}},e.getDerivedStateFromProps=function(n,r){return r.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Ja.createElement(te.Fragment,null,this.props.children)},e})(Ja.Component),Mm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var M2t=Mm.exports,mD;function T2t(){return mD||(mD=1,(function(t,e){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,h=2,v=4,g=1,b=2,x=1,_=2,w=4,E=8,A=16,M=32,T=64,C=128,R=256,j=512,I=30,D="...",B=800,$=16,U=1,G=2,F=3,H=1/0,Y=9007199254740991,W=17976931348623157e292,V=NaN,J=4294967295,tt=J-1,nt=J>>>1,lt=[["ary",C],["bind",x],["bindKey",_],["curry",E],["curryRight",A],["flip",j],["partial",M],["partialRight",T],["rearg",R]],at="[object Arguments]",ft="[object Array]",mt="[object AsyncFunction]",ct="[object Boolean]",St="[object Date]",Mt="[object DOMException]",It="[object Error]",Nt="[object Function]",zt="[object GeneratorFunction]",Ut="[object Map]",Zt="[object Number]",ie="[object Null]",Gt="[object Object]",Jt="[object Promise]",le="[object Proxy]",_n="[object RegExp]",dn="[object Set]",yn="[object String]",kn="[object Symbol]",Zn="[object Undefined]",Dn="[object WeakMap]",Pe="[object WeakSet]",Se="[object ArrayBuffer]",an="[object DataView]",Ee="[object Float32Array]",en="[object Float64Array]",ti="[object Int8Array]",Nr="[object Int16Array]",xi="[object Int32Array]",Pa="[object Uint8Array]",ca="[object Uint8ClampedArray]",ss="[object Uint16Array]",ls="[object Uint32Array]",Bg=/\b__p \+= '';/g,cb=/\b(__p \+=) '' \+/g,ub=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fh=/&(?:amp|lt|gt|quot|#39);/g,Uc=/[&<>"']/g,YS=RegExp(Fh.source),fb=RegExp(Uc.source),db=/<%-([\s\S]+?)%>/g,$g=/<%([\s\S]+?)%>/g,Uh=/<%=([\s\S]+?)%>/g,hb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qS=/^\w*$/,Hs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ei=/[\\^$.*+?()[\]{}|]/g,$i=RegExp(ei.source),Gs=/^\s+/,zg=/\s/,WS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,XS=/\{\n\/\* \[wrapped with (.+)\] \*/,pb=/,? & /,Mf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fg=/[()=,{}\[\]\/\s]/,Hc=/\\(\\)?/g,Gc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Yc=/\w*$/,qc=/^[-+]0x[0-9a-f]+$/i,ni=/^0b[01]+$/i,vb=/^\[object .+?Constructor\]$/,gb=/^0o[0-7]+$/i,Kl=/^(?:0|[1-9]\d*)$/,Wc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hh=/($^)/,yb=/['\n\r\u2028\u2029\\]/g,Tf="\\ud800-\\udfff",VS="\\u0300-\\u036f",Gh="\\ufe20-\\ufe2f",Yh="\\u20d0-\\u20ff",wo=VS+Gh+Yh,qh="\\u2700-\\u27bf",Ug="a-z\\xdf-\\xf6\\xf8-\\xff",Xc="\\xac\\xb1\\xd7\\xf7",Hg="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gg="\\u2000-\\u206f",KS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yg="A-Z\\xc0-\\xd6\\xd8-\\xde",ua="\\ufe0e\\ufe0f",qg=Xc+Hg+Gg+KS,Wg="[']",Wh="["+Tf+"]",Xg="["+qg+"]",Zl="["+wo+"]",mb="\\d+",ja="["+qh+"]",Xh="["+Ug+"]",Vg="[^"+Tf+qg+mb+qh+Ug+Yg+"]",kf="\\ud83c[\\udffb-\\udfff]",Vc="(?:"+Zl+"|"+kf+")",Kg="[^"+Tf+"]",Vh="(?:\\ud83c[\\udde6-\\uddff]){2}",Ys="[\\ud800-\\udbff][\\udc00-\\udfff]",Kc="["+Yg+"]",Zg="\\u200d",Qg="(?:"+Xh+"|"+Vg+")",Jg="(?:"+Kc+"|"+Vg+")",bb="(?:"+Wg+"(?:d|ll|m|re|s|t|ve))?",xb="(?:"+Wg+"(?:D|LL|M|RE|S|T|VE))?",Cf=Vc+"?",Kh="["+ua+"]?",t0="(?:"+Zg+"(?:"+[Kg,Vh,Ys].join("|")+")"+Kh+Cf+")*",Zc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",e0=Kh+Cf+t0,n0="(?:"+[ja,Vh,Ys].join("|")+")"+e0,_b="(?:"+[Kg+Zl+"?",Zl,Vh,Ys,Wh].join("|")+")",Rf=RegExp(Wg,"g"),cs=RegExp(Zl,"g"),Pf=RegExp(kf+"(?="+kf+")|"+_b+e0,"g"),jf=RegExp([Kc+"?"+Xh+"+"+bb+"(?="+[Xg,Kc,"$"].join("|")+")",Jg+"+"+xb+"(?="+[Xg,Kc+Qg,"$"].join("|")+")",Kc+"?"+Qg+"+"+bb,Kc+"+"+xb,Qc,Zc,mb,n0].join("|"),"g"),qs=RegExp("["+Zg+Tf+wo+ua+"]"),r0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wb=-1,Cn={};Cn[Ee]=Cn[en]=Cn[ti]=Cn[Nr]=Cn[xi]=Cn[Pa]=Cn[ca]=Cn[ss]=Cn[ls]=!0,Cn[at]=Cn[ft]=Cn[Se]=Cn[ct]=Cn[an]=Cn[St]=Cn[It]=Cn[Nt]=Cn[Ut]=Cn[Zt]=Cn[Gt]=Cn[_n]=Cn[dn]=Cn[yn]=Cn[Dn]=!1;var wn={};wn[at]=wn[ft]=wn[Se]=wn[an]=wn[ct]=wn[St]=wn[Ee]=wn[en]=wn[ti]=wn[Nr]=wn[xi]=wn[Ut]=wn[Zt]=wn[Gt]=wn[_n]=wn[dn]=wn[yn]=wn[kn]=wn[Pa]=wn[ca]=wn[ss]=wn[ls]=!0,wn[It]=wn[Nt]=wn[Dn]=!1;var Ob={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},zi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ql={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Lf=parseFloat,ZS=parseInt,Jh=typeof N2=="object"&&N2&&N2.Object===Object&&N2,i0=typeof self=="object"&&self&&self.Object===Object&&self,Er=Jh||i0||Function("return this")(),Jc=e&&!e.nodeType&&e,Ws=Jc&&!0&&t&&!t.nodeType&&t,Sb=Ws&&Ws.exports===Jc,a0=Sb&&Jh.process,La=(function(){try{var ut=Ws&&Ws.require&&Ws.require("util").types;return ut||a0&&a0.binding&&a0.binding("util")}catch{}})(),tp=La&&La.isArrayBuffer,Eb=La&&La.isDate,Ab=La&&La.isMap,Mb=La&&La.isRegExp,Tb=La&&La.isSet,kb=La&&La.isTypedArray;function Fi(ut,Et,_t){switch(_t.length){case 0:return ut.call(Et);case 1:return ut.call(Et,_t[0]);case 2:return ut.call(Et,_t[0],_t[1]);case 3:return ut.call(Et,_t[0],_t[1],_t[2])}return ut.apply(Et,_t)}function QS(ut,Et,_t,Yt){for(var he=-1,on=ut==null?0:ut.length;++he<on;){var Dr=ut[he];Et(Yt,Dr,_t(Dr),ut)}return Yt}function Na(ut,Et){for(var _t=-1,Yt=ut==null?0:ut.length;++_t<Yt&&Et(ut[_t],_t,ut)!==!1;);return ut}function JS(ut,Et){for(var _t=ut==null?0:ut.length;_t--&&Et(ut[_t],_t,ut)!==!1;);return ut}function Cb(ut,Et){for(var _t=-1,Yt=ut==null?0:ut.length;++_t<Yt;)if(!Et(ut[_t],_t,ut))return!1;return!0}function Oo(ut,Et){for(var _t=-1,Yt=ut==null?0:ut.length,he=0,on=[];++_t<Yt;){var Dr=ut[_t];Et(Dr,_t,ut)&&(on[he++]=Dr)}return on}function ep(ut,Et){var _t=ut==null?0:ut.length;return!!_t&&tu(ut,Et,0)>-1}function o0(ut,Et,_t){for(var Yt=-1,he=ut==null?0:ut.length;++Yt<he;)if(_t(Et,ut[Yt]))return!0;return!1}function or(ut,Et){for(var _t=-1,Yt=ut==null?0:ut.length,he=Array(Yt);++_t<Yt;)he[_t]=Et(ut[_t],_t,ut);return he}function us(ut,Et){for(var _t=-1,Yt=Et.length,he=ut.length;++_t<Yt;)ut[he+_t]=Et[_t];return ut}function s0(ut,Et,_t,Yt){var he=-1,on=ut==null?0:ut.length;for(Yt&&on&&(_t=ut[++he]);++he<on;)_t=Et(_t,ut[he],he,ut);return _t}function tE(ut,Et,_t,Yt){var he=ut==null?0:ut.length;for(Yt&&he&&(_t=ut[--he]);he--;)_t=Et(_t,ut[he],he,ut);return _t}function l0(ut,Et){for(var _t=-1,Yt=ut==null?0:ut.length;++_t<Yt;)if(Et(ut[_t],_t,ut))return!0;return!1}var eE=rp("length");function nE(ut){return ut.split("")}function rE(ut){return ut.match(Mf)||[]}function Rb(ut,Et,_t){var Yt;return _t(ut,function(he,on,Dr){if(Et(he,on,Dr))return Yt=on,!1}),Yt}function np(ut,Et,_t,Yt){for(var he=ut.length,on=_t+(Yt?1:-1);Yt?on--:++on<he;)if(Et(ut[on],on,ut))return on;return-1}function tu(ut,Et,_t){return Et===Et?sE(ut,Et,_t):np(ut,eu,_t)}function c0(ut,Et,_t,Yt){for(var he=_t-1,on=ut.length;++he<on;)if(Yt(ut[he],Et))return he;return-1}function eu(ut){return ut!==ut}function Pb(ut,Et){var _t=ut==null?0:ut.length;return _t?ap(ut,Et)/_t:V}function rp(ut){return function(Et){return Et==null?n:Et[ut]}}function ip(ut){return function(Et){return ut==null?n:ut[Et]}}function u0(ut,Et,_t,Yt,he){return he(ut,function(on,Dr,sn){_t=Yt?(Yt=!1,on):Et(_t,on,Dr,sn)}),_t}function jb(ut,Et){var _t=ut.length;for(ut.sort(Et);_t--;)ut[_t]=ut[_t].value;return ut}function ap(ut,Et){for(var _t,Yt=-1,he=ut.length;++Yt<he;){var on=Et(ut[Yt]);on!==n&&(_t=_t===n?on:_t+on)}return _t}function Xs(ut,Et){for(var _t=-1,Yt=Array(ut);++_t<ut;)Yt[_t]=Et(_t);return Yt}function iE(ut,Et){return or(Et,function(_t){return[_t,ut[_t]]})}function Lb(ut){return ut&&ut.slice(0,d0(ut)+1).replace(Gs,"")}function fa(ut){return function(Et){return ut(Et)}}function op(ut,Et){return or(Et,function(_t){return ut[_t]})}function nu(ut,Et){return ut.has(Et)}function ru(ut,Et){for(var _t=-1,Yt=ut.length;++_t<Yt&&tu(Et,ut[_t],0)>-1;);return _t}function iu(ut,Et){for(var _t=ut.length;_t--&&tu(Et,ut[_t],0)>-1;);return _t}function aE(ut,Et){for(var _t=ut.length,Yt=0;_t--;)ut[_t]===Et&&++Yt;return Yt}var sp=ip(Ob),Nb=ip(zi);function Db(ut){return"\\"+Qh[ut]}function f0(ut,Et){return ut==null?n:ut[Et]}function Vs(ut){return qs.test(ut)}function Ib(ut){return r0.test(ut)}function Bb(ut){for(var Et,_t=[];!(Et=ut.next()).done;)_t.push(Et.value);return _t}function lp(ut){var Et=-1,_t=Array(ut.size);return ut.forEach(function(Yt,he){_t[++Et]=[he,Yt]}),_t}function $b(ut,Et){return function(_t){return ut(Et(_t))}}function Ks(ut,Et){for(var _t=-1,Yt=ut.length,he=0,on=[];++_t<Yt;){var Dr=ut[_t];(Dr===Et||Dr===u)&&(ut[_t]=u,on[he++]=_t)}return on}function cp(ut){var Et=-1,_t=Array(ut.size);return ut.forEach(function(Yt){_t[++Et]=Yt}),_t}function oE(ut){var Et=-1,_t=Array(ut.size);return ut.forEach(function(Yt){_t[++Et]=[Yt,Yt]}),_t}function sE(ut,Et,_t){for(var Yt=_t-1,he=ut.length;++Yt<he;)if(ut[Yt]===Et)return Yt;return-1}function da(ut,Et,_t){for(var Yt=_t+1;Yt--;)if(ut[Yt]===Et)return Yt;return Yt}function So(ut){return Vs(ut)?Fb(ut):eE(ut)}function Da(ut){return Vs(ut)?h0(ut):nE(ut)}function d0(ut){for(var Et=ut.length;Et--&&zg.test(ut.charAt(Et)););return Et}var zb=ip(Ql);function Fb(ut){for(var Et=Pf.lastIndex=0;Pf.test(ut);)++Et;return Et}function h0(ut){return ut.match(Pf)||[]}function lE(ut){return ut.match(jf)||[]}var au=(function ut(Et){Et=Et==null?Er:Zs.defaults(Er.Object(),Et,Zs.pick(Er,Zh));var _t=Et.Array,Yt=Et.Date,he=Et.Error,on=Et.Function,Dr=Et.Math,sn=Et.Object,up=Et.RegExp,Ub=Et.String,ha=Et.TypeError,fp=_t.prototype,cE=on.prototype,ou=sn.prototype,Nf=Et["__core-js_shared__"],Df=cE.toString,hn=ou.hasOwnProperty,ao=0,p0=(function(){var m=/[^.]+$/.exec(Nf&&Nf.keys&&Nf.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""})(),Mi=ou.toString,Ia=Df.call(sn),su=Er._,v0=up("^"+Df.call(hn).replace(ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jl=Sb?Et.Buffer:n,oo=Et.Symbol,lu=Et.Uint8Array,tc=Jl?Jl.allocUnsafe:n,If=$b(sn.getPrototypeOf,sn),Bf=sn.create,ec=ou.propertyIsEnumerable,dp=fp.splice,Ui=oo?oo.isConcatSpreadable:n,nc=oo?oo.iterator:n,Ti=oo?oo.toStringTag:n,$f=(function(){try{var m=ol(sn,"defineProperty");return m({},"",{}),m}catch{}})(),hp=Et.clearTimeout!==Er.clearTimeout&&Et.clearTimeout,rc=Yt&&Yt.now!==Er.Date.now&&Yt.now,g0=Et.setTimeout!==Er.setTimeout&&Et.setTimeout,cu=Dr.ceil,fs=Dr.floor,Qs=sn.getOwnPropertySymbols,pp=Jl?Jl.isBuffer:n,zf=Et.isFinite,Ba=fp.join,$a=$b(sn.keys,sn),Qn=Dr.max,sr=Dr.min,ds=Yt.now,ic=Et.parseInt,y0=Dr.random,m0=fp.reverse,Ff=ol(Et,"DataView"),Fr=ol(Et,"Map"),lr=ol(Et,"Promise"),Ke=ol(Et,"Set"),so=ol(Et,"WeakMap"),Hi=ol(sn,"create"),uu=so&&new so,za={},Hb=_s(Ff),Gb=_s(Fr),Uf=_s(lr),Hf=_s(Ke),Yb=_s(so),Js=oo?oo.prototype:n,ac=Js?Js.valueOf:n,tl=Js?Js.toString:n;function K(m){if(hr(m)&&!ye(m)&&!(m instanceof ze)){if(m instanceof Gi)return m;if(hn.call(m,"__wrapped__"))return Hr(m)}return new Gi(m)}var pa=(function(){function m(){}return function(O){if(!ur(O))return{};if(Bf)return Bf(O);m.prototype=O;var P=new m;return m.prototype=n,P}})();function Fa(){}function Gi(m,O){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=n}K.templateSettings={escape:db,evaluate:$g,interpolate:Uh,variable:"",imports:{_:K}},K.prototype=Fa.prototype,K.prototype.constructor=K,Gi.prototype=pa(Fa.prototype),Gi.prototype.constructor=Gi;function ze(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=J,this.__views__=[]}function Gf(){var m=new ze(this.__wrapped__);return m.__actions__=Ur(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Ur(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Ur(this.__views__),m}function vp(){if(this.__filtered__){var m=new ze(this);m.__dir__=-1,m.__filtered__=!0}else m=this.clone(),m.__dir__*=-1;return m}function oc(){var m=this.__wrapped__.value(),O=this.__dir__,P=ye(m),z=O<0,X=P?m.length:0,Q=Sx(0,X,this.__views__),rt=Q.start,ot=Q.end,pt=ot-rt,kt=z?ot:rt-1,Rt=this.__iteratees__,Bt=Rt.length,qt=0,ne=sr(pt,this.__takeCount__);if(!P||!z&&X==pt&&ne==pt)return ux(m,this.__actions__);var pe=[];t:for(;pt--&&qt<ne;){kt+=O;for(var Ue=-1,ve=m[kt];++Ue<Bt;){var tn=Rt[Ue],cn=tn.iteratee,vo=tn.type,_a=cn(ve);if(vo==G)ve=_a;else if(!_a){if(vo==U)continue t;break t}}pe[qt++]=ve}return pe}ze.prototype=pa(Fa.prototype),ze.prototype.constructor=ze;function mr(m){var O=-1,P=m==null?0:m.length;for(this.clear();++O<P;){var z=m[O];this.set(z[0],z[1])}}function gp(){this.__data__=Hi?Hi(null):{},this.size=0}function qb(m){var O=this.has(m)&&delete this.__data__[m];return this.size-=O?1:0,O}function uE(m){var O=this.__data__;if(Hi){var P=O[m];return P===l?n:P}return hn.call(O,m)?O[m]:n}function fE(m){var O=this.__data__;return Hi?O[m]!==n:hn.call(O,m)}function dE(m,O){var P=this.__data__;return this.size+=this.has(m)?0:1,P[m]=Hi&&O===n?l:O,this}mr.prototype.clear=gp,mr.prototype.delete=qb,mr.prototype.get=uE,mr.prototype.has=fE,mr.prototype.set=dE;function In(m){var O=-1,P=m==null?0:m.length;for(this.clear();++O<P;){var z=m[O];this.set(z[0],z[1])}}function b0(){this.__data__=[],this.size=0}function Yf(m){var O=this.__data__,P=hu(O,m);if(P<0)return!1;var z=O.length-1;return P==z?O.pop():dp.call(O,P,1),--this.size,!0}function qf(m){var O=this.__data__,P=hu(O,m);return P<0?n:O[P][1]}function x0(m){return hu(this.__data__,m)>-1}function fu(m,O){var P=this.__data__,z=hu(P,m);return z<0?(++this.size,P.push([m,O])):P[z][1]=O,this}In.prototype.clear=b0,In.prototype.delete=Yf,In.prototype.get=qf,In.prototype.has=x0,In.prototype.set=fu;function Yi(m){var O=-1,P=m==null?0:m.length;for(this.clear();++O<P;){var z=m[O];this.set(z[0],z[1])}}function hE(){this.size=0,this.__data__={hash:new mr,map:new(Fr||In),string:new mr}}function Wb(m){var O=bu(this,m).delete(m);return this.size-=O?1:0,O}function pE(m){return bu(this,m).get(m)}function Xb(m){return bu(this,m).has(m)}function sc(m,O){var P=bu(this,m),z=P.size;return P.set(m,O),this.size+=P.size==z?0:1,this}Yi.prototype.clear=hE,Yi.prototype.delete=Wb,Yi.prototype.get=pE,Yi.prototype.has=Xb,Yi.prototype.set=sc;function hs(m){var O=-1,P=m==null?0:m.length;for(this.__data__=new Yi;++O<P;)this.add(m[O])}function yp(m){return this.__data__.set(m,l),this}function Vb(m){return this.__data__.has(m)}hs.prototype.add=hs.prototype.push=yp,hs.prototype.has=Vb;function ki(m){var O=this.__data__=new In(m);this.size=O.size}function Kb(){this.__data__=new In,this.size=0}function mp(m){var O=this.__data__,P=O.delete(m);return this.size=O.size,P}function _0(m){return this.__data__.get(m)}function Zb(m){return this.__data__.has(m)}function bp(m,O){var P=this.__data__;if(P instanceof In){var z=P.__data__;if(!Fr||z.length<i-1)return z.push([m,O]),this.size=++P.size,this;P=this.__data__=new Yi(z)}return P.set(m,O),this.size=P.size,this}ki.prototype.clear=Kb,ki.prototype.delete=mp,ki.prototype.get=_0,ki.prototype.has=Zb,ki.prototype.set=bp;function w0(m,O){var P=ye(m),z=!P&&Es(m),X=!P&&!z&&gl(m),Q=!P&&!z&&!X&&ju(m),rt=P||z||X||Q,ot=rt?Xs(m.length,Ub):[],pt=ot.length;for(var kt in m)(O||hn.call(m,kt))&&!(rt&&(kt=="length"||X&&(kt=="offset"||kt=="parent")||Q&&(kt=="buffer"||kt=="byteLength"||kt=="byteOffset")||fo(kt,pt)))&&ot.push(kt);return ot}function du(m){var O=m.length;return O?m[kp(0,O-1)]:n}function Qb(m,O){return bd(Ur(m),co(O,0,m.length))}function Jb(m){return bd(Ur(m))}function Eo(m,O,P){(P!==n&&!Qi(m[O],P)||P===n&&!(O in m))&&lo(m,O,P)}function lc(m,O,P){var z=m[O];(!(hn.call(m,O)&&Qi(z,P))||P===n&&!(O in m))&&lo(m,O,P)}function hu(m,O){for(var P=m.length;P--;)if(Qi(m[P][0],O))return P;return-1}function el(m,O,P,z){return vs(m,function(X,Q,rt){O(z,X,P(X),rt)}),z}function ps(m,O){return m&&Xi(O,qr(O),m)}function Wf(m,O){return m&&Xi(O,ai(O),m)}function lo(m,O,P){O=="__proto__"&&$f?$f(m,O,{configurable:!0,enumerable:!0,value:P,writable:!0}):m[O]=P}function Xf(m,O){for(var P=-1,z=O.length,X=_t(z),Q=m==null;++P<z;)X[P]=Q?n:jd(m,O[P]);return X}function co(m,O,P){return m===m&&(P!==n&&(m=m<=P?m:P),O!==n&&(m=m>=O?m:O)),m}function _i(m,O,P,z,X,Q){var rt,ot=O&d,pt=O&h,kt=O&v;if(P&&(rt=X?P(m,z,X,Q):P(m)),rt!==n)return rt;if(!ur(m))return m;var Rt=ye(m);if(Rt){if(rt=X0(m),!ot)return Ur(m,rt)}else{var Bt=ii(m),qt=Bt==Nt||Bt==zt;if(gl(m))return z0(m,ot);if(Bt==Gt||Bt==at||qt&&!X){if(rt=pt||qt?{}:V0(m),!ot)return pt?sd(m,Wf(rt,m)):Np(m,ps(rt,m))}else{if(!wn[Bt])return X?m:{};rt=K0(m,Bt,ot)}}Q||(Q=new ki);var ne=Q.get(m);if(ne)return ne;Q.set(m,rt),g2(m)?m.forEach(function(ve){rt.add(_i(ve,O,P,ve,m,Q))}):ov(m)&&m.forEach(function(ve,tn){rt.set(tn,_i(ve,O,P,tn,m,Q))});var pe=kt?pt?$p:Bp:pt?ai:qr,Ue=Rt?n:pe(m);return Na(Ue||m,function(ve,tn){Ue&&(tn=ve,ve=m[tn]),lc(rt,tn,_i(ve,O,P,tn,m,Q))}),rt}function tx(m){var O=qr(m);return function(P){return O0(P,m,O)}}function O0(m,O,P){var z=P.length;if(m==null)return!z;for(m=sn(m);z--;){var X=P[z],Q=O[X],rt=m[X];if(rt===n&&!(X in m)||!Q(rt))return!1}return!0}function cc(m,O,P){if(typeof m!="function")throw new ha(o);return _u(function(){m.apply(n,P)},O)}function nl(m,O,P,z){var X=-1,Q=ep,rt=!0,ot=m.length,pt=[],kt=O.length;if(!ot)return pt;P&&(O=or(O,fa(P))),z?(Q=o0,rt=!1):O.length>=i&&(Q=nu,rt=!1,O=new hs(O));t:for(;++X<ot;){var Rt=m[X],Bt=P==null?Rt:P(Rt);if(Rt=z||Rt!==0?Rt:0,rt&&Bt===Bt){for(var qt=kt;qt--;)if(O[qt]===Bt)continue t;pt.push(Rt)}else Q(O,Bt,z)||pt.push(Rt)}return pt}var vs=G0(wi),xp=G0(vu,!0);function S0(m,O){var P=!0;return vs(m,function(z,X,Q){return P=!!O(z,X,Q),P}),P}function uo(m,O,P){for(var z=-1,X=m.length;++z<X;){var Q=m[z],rt=O(Q);if(rt!=null&&(ot===n?rt===rt&&!Pi(rt):P(rt,ot)))var ot=rt,pt=Q}return pt}function Ie(m,O,P,z){var X=m.length;for(P=xe(P),P<0&&(P=-P>X?0:X+P),z=z===n||z>X?X:xe(z),z<0&&(z+=X),z=P>z?0:Lo(z);P<z;)m[P++]=O;return m}function On(m,O){var P=[];return vs(m,function(z,X,Q){O(z,X,Q)&&P.push(z)}),P}function Ze(m,O,P,z,X){var Q=-1,rt=m.length;for(P||(P=bs),X||(X=[]);++Q<rt;){var ot=m[Q];O>0&&P(ot)?O>1?Ze(ot,O-1,P,z,X):us(X,ot):z||(X[X.length]=ot)}return X}var pu=gc(),uc=gc(!0);function wi(m,O){return m&&pu(m,O,qr)}function vu(m,O){return m&&uc(m,O,qr)}function rl(m,O){return Oo(O,function(P){return ho(m[P])})}function Ua(m,O){O=ys(O,m);for(var P=0,z=O.length;m!=null&&P<z;)m=m[mn(O[P++])];return P&&P==z?m:n}function ex(m,O,P){var z=O(m);return ye(m)?z:us(z,P(m))}function Je(m){return m==null?m===n?Zn:ie:Ti&&Ti in sn(m)?Ox(m):kx(m)}function Vf(m,O){return m>O}function E0(m,O){return m!=null&&hn.call(m,O)}function nx(m,O){return m!=null&&O in sn(m)}function rx(m,O,P){return m>=sr(O,P)&&m<Qn(O,P)}function A0(m,O,P){for(var z=P?o0:ep,X=m[0].length,Q=m.length,rt=Q,ot=_t(Q),pt=1/0,kt=[];rt--;){var Rt=m[rt];rt&&O&&(Rt=or(Rt,fa(O))),pt=sr(Rt.length,pt),ot[rt]=!P&&(O||X>=120&&Rt.length>=120)?new hs(rt&&Rt):n}Rt=m[0];var Bt=-1,qt=ot[0];t:for(;++Bt<X&&kt.length<pt;){var ne=Rt[Bt],pe=O?O(ne):ne;if(ne=P||ne!==0?ne:0,!(qt?nu(qt,pe):z(kt,pe,P))){for(rt=Q;--rt;){var Ue=ot[rt];if(!(Ue?nu(Ue,pe):z(m[rt],pe,P)))continue t}qt&&qt.push(pe),kt.push(ne)}}return kt}function M0(m,O,P,z){return wi(m,function(X,Q,rt){O(z,P(X),Q,rt)}),z}function fc(m,O,P){O=ys(O,m),m=xu(m,O);var z=m==null?m:m[mn(Oi(O))];return z==null?n:Fi(z,m,P)}function _p(m){return hr(m)&&Je(m)==at}function qi(m){return hr(m)&&Je(m)==Se}function Ir(m){return hr(m)&&Je(m)==St}function dc(m,O,P,z,X){return m===O?!0:m==null||O==null||!hr(m)&&!hr(O)?m!==m&&O!==O:Kf(m,O,P,z,dc,X)}function Kf(m,O,P,z,X,Q){var rt=ye(m),ot=ye(O),pt=rt?ft:ii(m),kt=ot?ft:ii(O);pt=pt==at?Gt:pt,kt=kt==at?Gt:kt;var Rt=pt==Gt,Bt=kt==Gt,qt=pt==kt;if(qt&&gl(m)){if(!gl(O))return!1;rt=!0,Rt=!1}if(qt&&!Rt)return Q||(Q=new ki),rt||ju(m)?_x(m,O,P,z,X,Q):wx(m,O,pt,P,z,X,Q);if(!(P&g)){var ne=Rt&&hn.call(m,"__wrapped__"),pe=Bt&&hn.call(O,"__wrapped__");if(ne||pe){var Ue=ne?m.value():m,ve=pe?O.value():O;return Q||(Q=new ki),X(Ue,ve,P,z,Q)}}return qt?(Q||(Q=new ki),ri(m,O,P,z,X,Q)):!1}function wp(m){return hr(m)&&ii(m)==Ut}function Zf(m,O,P,z){var X=P.length,Q=X,rt=!z;if(m==null)return!Q;for(m=sn(m);X--;){var ot=P[X];if(rt&&ot[2]?ot[1]!==m[ot[0]]:!(ot[0]in m))return!1}for(;++X<Q;){ot=P[X];var pt=ot[0],kt=m[pt],Rt=ot[1];if(rt&&ot[2]){if(kt===n&&!(pt in m))return!1}else{var Bt=new ki;if(z)var qt=z(kt,Rt,pt,m,O,Bt);if(!(qt===n?dc(Rt,kt,g|b,z,Bt):qt))return!1}}return!0}function Ao(m){if(!ur(m)||Yp(m))return!1;var O=ho(m)?v0:vb;return O.test(_s(m))}function Op(m){return hr(m)&&Je(m)==_n}function T0(m){return hr(m)&&ii(m)==dn}function k0(m){return hr(m)&&_c(m.length)&&!!Cn[Je(m)]}function C0(m){return typeof m=="function"?m:m==null?yt:typeof m=="object"?ye(m)?Ap(m[0],m[1]):P0(m):ln(m)}function Sp(m){if(!Bn(m))return $a(m);var O=[];for(var P in sn(m))hn.call(m,P)&&P!="constructor"&&O.push(P);return O}function ix(m){if(!ur(m))return sl(m);var O=Bn(m),P=[];for(var z in m)z=="constructor"&&(O||!hn.call(m,z))||P.push(z);return P}function Ep(m,O){return m<O}function R0(m,O){var P=-1,z=Gr(m)?_t(m.length):[];return vs(m,function(X,Q,rt){z[++P]=O(X,Q,rt)}),z}function P0(m){var O=Fp(m);return O.length==1&&O[0][2]?Mx(O[0][0],O[0][1]):function(P){return P===m||Zf(P,m,O)}}function Ap(m,O){return Hp(m)&&Ax(O)?Mx(mn(m),O):function(P){var z=jd(P,m);return z===n&&z===O?Iu(P,m):dc(O,z,g|b)}}function Qf(m,O,P,z,X){m!==O&&pu(O,function(Q,rt){if(X||(X=new ki),ur(Q))vE(m,O,rt,P,Qf,z,X);else{var ot=z?z(qp(m,rt),Q,rt+"",m,O,X):n;ot===n&&(ot=Q),Eo(m,rt,ot)}},ai)}function vE(m,O,P,z,X,Q,rt){var ot=qp(m,P),pt=qp(O,P),kt=rt.get(pt);if(kt){Eo(m,P,kt);return}var Rt=Q?Q(ot,pt,P+"",m,O,rt):n,Bt=Rt===n;if(Bt){var qt=ye(pt),ne=!qt&&gl(pt),pe=!qt&&!ne&&ju(pt);Rt=pt,qt||ne||pe?ye(ot)?Rt=ot:_r(ot)?Rt=Ur(ot):ne?(Bt=!1,Rt=z0(pt,!0)):pe?(Bt=!1,Rt=U0(pt,!0)):Rt=[]:qa(pt)||Es(pt)?(Rt=ot,Es(ot)?Rt=b2(ot):(!ur(ot)||ho(ot))&&(Rt=V0(pt))):Bt=!1}Bt&&(rt.set(pt,Rt),X(Rt,pt,z,Q,rt),rt.delete(pt)),Eo(m,P,Rt)}function j0(m,O){var P=m.length;if(P)return O+=O<0?P:0,fo(O,P)?m[O]:n}function L0(m,O,P){O.length?O=or(O,function(Q){return ye(Q)?function(rt){return Ua(rt,Q.length===1?Q[0]:Q)}:Q}):O=[yt];var z=-1;O=or(O,fa(oe()));var X=R0(m,function(Q,rt,ot){var pt=or(O,function(kt){return kt(Q)});return{criteria:pt,index:++z,value:Q}});return jb(X,function(Q,rt){return px(Q,rt,P)})}function ax(m,O){return Mp(m,O,function(P,z){return Iu(m,z)})}function Mp(m,O,P){for(var z=-1,X=O.length,Q={};++z<X;){var rt=O[z],ot=Ua(m,rt);P(ot,rt)&&yu(Q,ys(rt,m),ot)}return Q}function ox(m){return function(O){return Ua(O,m)}}function Tp(m,O,P,z){var X=z?c0:tu,Q=-1,rt=O.length,ot=m;for(m===O&&(O=Ur(O)),P&&(ot=or(m,fa(P)));++Q<rt;)for(var pt=0,kt=O[Q],Rt=P?P(kt):kt;(pt=X(ot,Rt,pt,z))>-1;)ot!==m&&dp.call(ot,pt,1),dp.call(m,pt,1);return m}function N0(m,O){for(var P=m?O.length:0,z=P-1;P--;){var X=O[P];if(P==z||X!==Q){var Q=X;fo(X)?dp.call(m,X,1):nd(m,X)}}return m}function kp(m,O){return m+fs(y0()*(O-m+1))}function sx(m,O,P,z){for(var X=-1,Q=Qn(cu((O-m)/(P||1)),0),rt=_t(Q);Q--;)rt[z?Q:++X]=m,m+=P;return rt}function D0(m,O){var P="";if(!m||O<1||O>Y)return P;do O%2&&(P+=m),O=fs(O/2),O&&(m+=m);while(O);return P}function je(m,O){return yd(Z0(m,O,yt),m+"")}function gu(m){return du($u(m))}function Cp(m,O){var P=$u(m);return bd(P,co(O,0,P.length))}function yu(m,O,P,z){if(!ur(m))return m;O=ys(O,m);for(var X=-1,Q=O.length,rt=Q-1,ot=m;ot!=null&&++X<Q;){var pt=mn(O[X]),kt=P;if(pt==="__proto__"||pt==="constructor"||pt==="prototype")return m;if(X!=rt){var Rt=ot[pt];kt=z?z(Rt,pt,ot):n,kt===n&&(kt=ur(Rt)?Rt:fo(O[X+1])?[]:{})}lc(ot,pt,kt),ot=ot[pt]}return m}var Jf=uu?function(m,O){return uu.set(m,O),m}:yt,td=$f?function(m,O){return $f(m,"toString",{configurable:!0,enumerable:!1,value:gt(O),writable:!0})}:yt;function lx(m){return bd($u(m))}function va(m,O,P){var z=-1,X=m.length;O<0&&(O=-O>X?0:X+O),P=P>X?X:P,P<0&&(P+=X),X=O>P?0:P-O>>>0,O>>>=0;for(var Q=_t(X);++z<X;)Q[z]=m[z+O];return Q}function cx(m,O){var P;return vs(m,function(z,X,Q){return P=O(z,X,Q),!P}),!!P}function ed(m,O,P){var z=0,X=m==null?z:m.length;if(typeof O=="number"&&O===O&&X<=nt){for(;z<X;){var Q=z+X>>>1,rt=m[Q];rt!==null&&!Pi(rt)&&(P?rt<=O:rt<O)?z=Q+1:X=Q}return X}return Rp(m,O,yt,P)}function Rp(m,O,P,z){var X=0,Q=m==null?0:m.length;if(Q===0)return 0;O=P(O);for(var rt=O!==O,ot=O===null,pt=Pi(O),kt=O===n;X<Q;){var Rt=fs((X+Q)/2),Bt=P(m[Rt]),qt=Bt!==n,ne=Bt===null,pe=Bt===Bt,Ue=Pi(Bt);if(rt)var ve=z||pe;else kt?ve=pe&&(z||qt):ot?ve=pe&&qt&&(z||!ne):pt?ve=pe&&qt&&!ne&&(z||!Ue):ne||Ue?ve=!1:ve=z?Bt<=O:Bt<O;ve?X=Rt+1:Q=Rt}return sr(Q,tt)}function I0(m,O){for(var P=-1,z=m.length,X=0,Q=[];++P<z;){var rt=m[P],ot=O?O(rt):rt;if(!P||!Qi(ot,pt)){var pt=ot;Q[X++]=rt===0?0:rt}}return Q}function Pp(m){return typeof m=="number"?m:Pi(m)?V:+m}function Wi(m){if(typeof m=="string")return m;if(ye(m))return or(m,Wi)+"";if(Pi(m))return tl?tl.call(m):"";var O=m+"";return O=="0"&&1/m==-H?"-0":O}function gs(m,O,P){var z=-1,X=ep,Q=m.length,rt=!0,ot=[],pt=ot;if(P)rt=!1,X=o0;else if(Q>=i){var kt=O?null:bx(m);if(kt)return cp(kt);rt=!1,X=nu,pt=new hs}else pt=O?[]:ot;t:for(;++z<Q;){var Rt=m[z],Bt=O?O(Rt):Rt;if(Rt=P||Rt!==0?Rt:0,rt&&Bt===Bt){for(var qt=pt.length;qt--;)if(pt[qt]===Bt)continue t;O&&pt.push(Bt),ot.push(Rt)}else X(pt,Bt,P)||(pt!==ot&&pt.push(Bt),ot.push(Rt))}return ot}function nd(m,O){return O=ys(O,m),m=xu(m,O),m==null||delete m[mn(Oi(O))]}function B0(m,O,P,z){return yu(m,O,P(Ua(m,O)),z)}function rd(m,O,P,z){for(var X=m.length,Q=z?X:-1;(z?Q--:++Q<X)&&O(m[Q],Q,m););return P?va(m,z?0:Q,z?Q+1:X):va(m,z?Q+1:0,z?X:Q)}function ux(m,O){var P=m;return P instanceof ze&&(P=P.value()),s0(O,function(z,X){return X.func.apply(X.thisArg,us([z],X.args))},P)}function id(m,O,P){var z=m.length;if(z<2)return z?gs(m[0]):[];for(var X=-1,Q=_t(z);++X<z;)for(var rt=m[X],ot=-1;++ot<z;)ot!=X&&(Q[X]=nl(Q[X]||rt,m[ot],O,P));return gs(Ze(Q,1),O,P)}function $0(m,O,P){for(var z=-1,X=m.length,Q=O.length,rt={};++z<X;){var ot=z<Q?O[z]:n;P(rt,m[z],ot)}return rt}function jp(m){return _r(m)?m:[]}function ad(m){return typeof m=="function"?m:yt}function ys(m,O){return ye(m)?m:Hp(m,O)?[m]:Co(pn(m))}var fx=je;function il(m,O,P){var z=m.length;return P=P===n?z:P,!O&&P>=z?m:va(m,O,P)}var dx=hp||function(m){return Er.clearTimeout(m)};function z0(m,O){if(O)return m.slice();var P=m.length,z=tc?tc(P):new m.constructor(P);return m.copy(z),z}function hc(m){var O=new m.constructor(m.byteLength);return new lu(O).set(new lu(m)),O}function F0(m,O){var P=O?hc(m.buffer):m.buffer;return new m.constructor(P,m.byteOffset,m.byteLength)}function Lp(m){var O=new m.constructor(m.source,Yc.exec(m));return O.lastIndex=m.lastIndex,O}function hx(m){return ac?sn(ac.call(m)):{}}function U0(m,O){var P=O?hc(m.buffer):m.buffer;return new m.constructor(P,m.byteOffset,m.length)}function od(m,O){if(m!==O){var P=m!==n,z=m===null,X=m===m,Q=Pi(m),rt=O!==n,ot=O===null,pt=O===O,kt=Pi(O);if(!ot&&!kt&&!Q&&m>O||Q&&rt&&pt&&!ot&&!kt||z&&rt&&pt||!P&&pt||!X)return 1;if(!z&&!Q&&!kt&&m<O||kt&&P&&X&&!z&&!Q||ot&&P&&X||!rt&&X||!pt)return-1}return 0}function px(m,O,P){for(var z=-1,X=m.criteria,Q=O.criteria,rt=X.length,ot=P.length;++z<rt;){var pt=od(X[z],Q[z]);if(pt){if(z>=ot)return pt;var kt=P[z];return pt*(kt=="desc"?-1:1)}}return m.index-O.index}function H0(m,O,P,z){for(var X=-1,Q=m.length,rt=P.length,ot=-1,pt=O.length,kt=Qn(Q-rt,0),Rt=_t(pt+kt),Bt=!z;++ot<pt;)Rt[ot]=O[ot];for(;++X<rt;)(Bt||X<Q)&&(Rt[P[X]]=m[X]);for(;kt--;)Rt[ot++]=m[X++];return Rt}function vx(m,O,P,z){for(var X=-1,Q=m.length,rt=-1,ot=P.length,pt=-1,kt=O.length,Rt=Qn(Q-ot,0),Bt=_t(Rt+kt),qt=!z;++X<Rt;)Bt[X]=m[X];for(var ne=X;++pt<kt;)Bt[ne+pt]=O[pt];for(;++rt<ot;)(qt||X<Q)&&(Bt[ne+P[rt]]=m[X++]);return Bt}function Ur(m,O){var P=-1,z=m.length;for(O||(O=_t(z));++P<z;)O[P]=m[P];return O}function Xi(m,O,P,z){var X=!P;P||(P={});for(var Q=-1,rt=O.length;++Q<rt;){var ot=O[Q],pt=z?z(P[ot],m[ot],ot,P,m):n;pt===n&&(pt=m[ot]),X?lo(P,ot,pt):lc(P,ot,pt)}return P}function Np(m,O){return Xi(m,hd(m),O)}function sd(m,O){return Xi(m,Up(m),O)}function pc(m,O){return function(P,z){var X=ye(P)?QS:el,Q=O?O():{};return X(P,m,oe(z,2),Q)}}function vc(m){return je(function(O,P){var z=-1,X=P.length,Q=X>1?P[X-1]:n,rt=X>2?P[2]:n;for(Q=m.length>3&&typeof Q=="function"?(X--,Q):n,rt&&Ri(P[0],P[1],rt)&&(Q=X<3?n:Q,X=1),O=sn(O);++z<X;){var ot=P[z];ot&&m(O,ot,z,Q)}return O})}function G0(m,O){return function(P,z){if(P==null)return P;if(!Gr(P))return m(P,z);for(var X=P.length,Q=O?X:-1,rt=sn(P);(O?Q--:++Q<X)&&z(rt[Q],Q,rt)!==!1;);return P}}function gc(m){return function(O,P,z){for(var X=-1,Q=sn(O),rt=z(O),ot=rt.length;ot--;){var pt=rt[m?ot:++X];if(P(Q[pt],pt,Q)===!1)break}return O}}function gx(m,O,P){var z=O&x,X=Ha(m);function Q(){var rt=this&&this!==Er&&this instanceof Q?X:m;return rt.apply(z?P:this,arguments)}return Q}function ga(m){return function(O){O=pn(O);var P=Vs(O)?Da(O):n,z=P?P[0]:O.charAt(0),X=P?il(P,1).join(""):O.slice(1);return z[m]()+X}}function Ci(m){return function(O){return s0(k(As(O).replace(Rf,"")),m,"")}}function Ha(m){return function(){var O=arguments;switch(O.length){case 0:return new m;case 1:return new m(O[0]);case 2:return new m(O[0],O[1]);case 3:return new m(O[0],O[1],O[2]);case 4:return new m(O[0],O[1],O[2],O[3]);case 5:return new m(O[0],O[1],O[2],O[3],O[4]);case 6:return new m(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new m(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var P=pa(m.prototype),z=m.apply(P,O);return ur(z)?z:P}}function yx(m,O,P){var z=Ha(m);function X(){for(var Q=arguments.length,rt=_t(Q),ot=Q,pt=mc(X);ot--;)rt[ot]=arguments[ot];var kt=Q<3&&rt[0]!==pt&&rt[Q-1]!==pt?[]:Ks(rt,pt);if(Q-=kt.length,Q<P)return Y0(m,O,br,X.placeholder,n,rt,kt,n,n,P-Q);var Rt=this&&this!==Er&&this instanceof X?z:m;return Fi(Rt,this,rt)}return X}function ms(m){return function(O,P,z){var X=sn(O);if(!Gr(O)){var Q=oe(P,3);O=qr(O),P=function(ot){return Q(X[ot],ot,X)}}var rt=m(O,P,z);return rt>-1?X[Q?O[rt]:rt]:n}}function Mo(m){return Jn(function(O){var P=O.length,z=P,X=Gi.prototype.thru;for(m&&O.reverse();z--;){var Q=O[z];if(typeof Q!="function")throw new ha(o);if(X&&!rt&&dd(Q)=="wrapper")var rt=new Gi([],!0)}for(z=rt?z:P;++z<P;){Q=O[z];var ot=dd(Q),pt=ot=="wrapper"?zp(Q):n;pt&&Gp(pt[0])&&pt[1]==(C|E|M|R)&&!pt[4].length&&pt[9]==1?rt=rt[dd(pt[0])].apply(rt,pt[3]):rt=Q.length==1&&Gp(Q)?rt[ot]():rt.thru(Q)}return function(){var kt=arguments,Rt=kt[0];if(rt&&kt.length==1&&ye(Rt))return rt.plant(Rt).value();for(var Bt=0,qt=P?O[Bt].apply(this,kt):Rt;++Bt<P;)qt=O[Bt].call(this,qt);return qt}})}function br(m,O,P,z,X,Q,rt,ot,pt,kt){var Rt=O&C,Bt=O&x,qt=O&_,ne=O&(E|A),pe=O&j,Ue=qt?n:Ha(m);function ve(){for(var tn=arguments.length,cn=_t(tn),vo=tn;vo--;)cn[vo]=arguments[vo];if(ne)var _a=mc(ve),go=aE(cn,_a);if(z&&(cn=H0(cn,z,X,ne)),Q&&(cn=vx(cn,Q,rt,ne)),tn-=go,ne&&tn<kt){var Wr=Ks(cn,_a);return Y0(m,O,br,ve.placeholder,P,cn,Wr,ot,pt,kt-tn)}var Ms=Bt?P:this,wc=qt?Ms[m]:m;return tn=cn.length,ot?cn=ko(cn,ot):pe&&tn>1&&cn.reverse(),Rt&&pt<tn&&(cn.length=pt),this&&this!==Er&&this instanceof ve&&(wc=Ue||Ha(wc)),wc.apply(Ms,cn)}return ve}function ld(m,O){return function(P,z){return M0(P,m,O(z),{})}}function mu(m,O){return function(P,z){var X;if(P===n&&z===n)return O;if(P!==n&&(X=P),z!==n){if(X===n)return z;typeof P=="string"||typeof z=="string"?(P=Wi(P),z=Wi(z)):(P=Pp(P),z=Pp(z)),X=m(P,z)}return X}}function cd(m){return Jn(function(O){return O=or(O,fa(oe())),je(function(P){var z=this;return m(O,function(X){return Fi(X,z,P)})})})}function ud(m,O){O=O===n?" ":Wi(O);var P=O.length;if(P<2)return P?D0(O,m):O;var z=D0(O,cu(m/So(O)));return Vs(O)?il(Da(z),0,m).join(""):z.slice(0,m)}function mx(m,O,P,z){var X=O&x,Q=Ha(m);function rt(){for(var ot=-1,pt=arguments.length,kt=-1,Rt=z.length,Bt=_t(Rt+pt),qt=this&&this!==Er&&this instanceof rt?Q:m;++kt<Rt;)Bt[kt]=z[kt];for(;pt--;)Bt[kt++]=arguments[++ot];return Fi(qt,X?P:this,Bt)}return rt}function al(m){return function(O,P,z){return z&&typeof z!="number"&&Ri(O,P,z)&&(P=z=n),O=jo(O),P===n?(P=O,O=0):P=jo(P),z=z===n?O<P?1:-1:jo(z),sx(O,P,z,m)}}function yc(m){return function(O,P){return typeof O=="string"&&typeof P=="string"||(O=Wa(O),P=Wa(P)),m(O,P)}}function Y0(m,O,P,z,X,Q,rt,ot,pt,kt){var Rt=O&E,Bt=Rt?rt:n,qt=Rt?n:rt,ne=Rt?Q:n,pe=Rt?n:Q;O|=Rt?M:T,O&=~(Rt?T:M),O&w||(O&=-4);var Ue=[m,O,X,ne,Bt,pe,qt,ot,pt,kt],ve=P.apply(n,Ue);return Gp(m)&&Wp(ve,Ue),ve.placeholder=z,Xp(ve,m,O)}function Dp(m){var O=Dr[m];return function(P,z){if(P=Wa(P),z=z==null?0:sr(xe(z),292),z&&zf(P)){var X=(pn(P)+"e").split("e"),Q=O(X[0]+"e"+(+X[1]+z));return X=(pn(Q)+"e").split("e"),+(X[0]+"e"+(+X[1]-z))}return O(P)}}var bx=Ke&&1/cp(new Ke([,-0]))[1]==H?function(m){return new Ke(m)}:Kt;function fd(m){return function(O){var P=ii(O);return P==Ut?lp(O):P==dn?oE(O):iE(O,m(O))}}function To(m,O,P,z,X,Q,rt,ot){var pt=O&_;if(!pt&&typeof m!="function")throw new ha(o);var kt=z?z.length:0;if(kt||(O&=-97,z=X=n),rt=rt===n?rt:Qn(xe(rt),0),ot=ot===n?ot:xe(ot),kt-=X?X.length:0,O&T){var Rt=z,Bt=X;z=X=n}var qt=pt?n:zp(m),ne=[m,O,P,z,X,Rt,Bt,Q,rt,ot];if(qt&&gd(ne,qt),m=ne[0],O=ne[1],P=ne[2],z=ne[3],X=ne[4],ot=ne[9]=ne[9]===n?pt?0:m.length:Qn(ne[9]-kt,0),!ot&&O&(E|A)&&(O&=-25),!O||O==x)var pe=gx(m,O,P);else O==E||O==A?pe=yx(m,O,ot):(O==M||O==(x|M))&&!X.length?pe=mx(m,O,P,z):pe=br.apply(n,ne);var Ue=qt?Jf:Wp;return Xp(Ue(pe,ne),m,O)}function Ip(m,O,P,z){return m===n||Qi(m,ou[P])&&!hn.call(z,P)?O:m}function q0(m,O,P,z,X,Q){return ur(m)&&ur(O)&&(Q.set(O,m),Qf(m,O,n,q0,Q),Q.delete(O)),m}function xx(m){return qa(m)?n:m}function _x(m,O,P,z,X,Q){var rt=P&g,ot=m.length,pt=O.length;if(ot!=pt&&!(rt&&pt>ot))return!1;var kt=Q.get(m),Rt=Q.get(O);if(kt&&Rt)return kt==O&&Rt==m;var Bt=-1,qt=!0,ne=P&b?new hs:n;for(Q.set(m,O),Q.set(O,m);++Bt<ot;){var pe=m[Bt],Ue=O[Bt];if(z)var ve=rt?z(Ue,pe,Bt,O,m,Q):z(pe,Ue,Bt,m,O,Q);if(ve!==n){if(ve)continue;qt=!1;break}if(ne){if(!l0(O,function(tn,cn){if(!nu(ne,cn)&&(pe===tn||X(pe,tn,P,z,Q)))return ne.push(cn)})){qt=!1;break}}else if(!(pe===Ue||X(pe,Ue,P,z,Q))){qt=!1;break}}return Q.delete(m),Q.delete(O),qt}function wx(m,O,P,z,X,Q,rt){switch(P){case an:if(m.byteLength!=O.byteLength||m.byteOffset!=O.byteOffset)return!1;m=m.buffer,O=O.buffer;case Se:return!(m.byteLength!=O.byteLength||!Q(new lu(m),new lu(O)));case ct:case St:case Zt:return Qi(+m,+O);case It:return m.name==O.name&&m.message==O.message;case _n:case yn:return m==O+"";case Ut:var ot=lp;case dn:var pt=z&g;if(ot||(ot=cp),m.size!=O.size&&!pt)return!1;var kt=rt.get(m);if(kt)return kt==O;z|=b,rt.set(m,O);var Rt=_x(ot(m),ot(O),z,X,Q,rt);return rt.delete(m),Rt;case kn:if(ac)return ac.call(m)==ac.call(O)}return!1}function ri(m,O,P,z,X,Q){var rt=P&g,ot=Bp(m),pt=ot.length,kt=Bp(O),Rt=kt.length;if(pt!=Rt&&!rt)return!1;for(var Bt=pt;Bt--;){var qt=ot[Bt];if(!(rt?qt in O:hn.call(O,qt)))return!1}var ne=Q.get(m),pe=Q.get(O);if(ne&&pe)return ne==O&&pe==m;var Ue=!0;Q.set(m,O),Q.set(O,m);for(var ve=rt;++Bt<pt;){qt=ot[Bt];var tn=m[qt],cn=O[qt];if(z)var vo=rt?z(cn,tn,qt,O,m,Q):z(tn,cn,qt,m,O,Q);if(!(vo===n?tn===cn||X(tn,cn,P,z,Q):vo)){Ue=!1;break}ve||(ve=qt=="constructor")}if(Ue&&!ve){var _a=m.constructor,go=O.constructor;_a!=go&&"constructor"in m&&"constructor"in O&&!(typeof _a=="function"&&_a instanceof _a&&typeof go=="function"&&go instanceof go)&&(Ue=!1)}return Q.delete(m),Q.delete(O),Ue}function Jn(m){return yd(Z0(m,n,Ki),m+"")}function Bp(m){return ex(m,qr,hd)}function $p(m){return ex(m,ai,Up)}var zp=uu?function(m){return uu.get(m)}:Kt;function dd(m){for(var O=m.name+"",P=za[O],z=hn.call(za,O)?P.length:0;z--;){var X=P[z],Q=X.func;if(Q==null||Q==m)return X.name}return O}function mc(m){var O=hn.call(K,"placeholder")?K:m;return O.placeholder}function oe(){var m=K.iteratee||fe;return m=m===fe?C0:m,arguments.length?m(arguments[0],arguments[1]):m}function bu(m,O){var P=m.__data__;return xs(O)?P[typeof O=="string"?"string":"hash"]:P.map}function Fp(m){for(var O=qr(m),P=O.length;P--;){var z=O[P],X=m[z];O[P]=[z,X,Ax(X)]}return O}function ol(m,O){var P=f0(m,O);return Ao(P)?P:n}function Ox(m){var O=hn.call(m,Ti),P=m[Ti];try{m[Ti]=n;var z=!0}catch{}var X=Mi.call(m);return z&&(O?m[Ti]=P:delete m[Ti]),X}var hd=Qs?function(m){return m==null?[]:(m=sn(m),Oo(Qs(m),function(O){return ec.call(m,O)}))}:QE,Up=Qs?function(m){for(var O=[];m;)us(O,hd(m)),m=If(m);return O}:QE,ii=Je;(Ff&&ii(new Ff(new ArrayBuffer(1)))!=an||Fr&&ii(new Fr)!=Ut||lr&&ii(lr.resolve())!=Jt||Ke&&ii(new Ke)!=dn||so&&ii(new so)!=Dn)&&(ii=function(m){var O=Je(m),P=O==Gt?m.constructor:n,z=P?_s(P):"";if(z)switch(z){case Hb:return an;case Gb:return Ut;case Uf:return Jt;case Hf:return dn;case Yb:return Dn}return O});function Sx(m,O,P){for(var z=-1,X=P.length;++z<X;){var Q=P[z],rt=Q.size;switch(Q.type){case"drop":m+=rt;break;case"dropRight":O-=rt;break;case"take":O=sr(O,m+rt);break;case"takeRight":m=Qn(m,O-rt);break}}return{start:m,end:O}}function W0(m){var O=m.match(XS);return O?O[1].split(pb):[]}function pd(m,O,P){O=ys(O,m);for(var z=-1,X=O.length,Q=!1;++z<X;){var rt=mn(O[z]);if(!(Q=m!=null&&P(m,rt)))break;m=m[rt]}return Q||++z!=X?Q:(X=m==null?0:m.length,!!X&&_c(X)&&fo(rt,X)&&(ye(m)||Es(m)))}function X0(m){var O=m.length,P=new m.constructor(O);return O&&typeof m[0]=="string"&&hn.call(m,"index")&&(P.index=m.index,P.input=m.input),P}function V0(m){return typeof m.constructor=="function"&&!Bn(m)?pa(If(m)):{}}function K0(m,O,P){var z=m.constructor;switch(O){case Se:return hc(m);case ct:case St:return new z(+m);case an:return F0(m,P);case Ee:case en:case ti:case Nr:case xi:case Pa:case ca:case ss:case ls:return U0(m,P);case Ut:return new z;case Zt:case yn:return new z(m);case _n:return Lp(m);case dn:return new z;case kn:return hx(m)}}function Ex(m,O){var P=O.length;if(!P)return m;var z=P-1;return O[z]=(P>1?"& ":"")+O[z],O=O.join(P>2?", ":" "),m.replace(WS,`{
/* [wrapped with `+O+`] */
`)}function bs(m){return ye(m)||Es(m)||!!(Ui&&m&&m[Ui])}function fo(m,O){var P=typeof m;return O=O??Y,!!O&&(P=="number"||P!="symbol"&&Kl.test(m))&&m>-1&&m%1==0&&m<O}function Ri(m,O,P){if(!ur(P))return!1;var z=typeof O;return(z=="number"?Gr(P)&&fo(O,P.length):z=="string"&&O in P)?Qi(P[O],m):!1}function Hp(m,O){if(ye(m))return!1;var P=typeof m;return P=="number"||P=="symbol"||P=="boolean"||m==null||Pi(m)?!0:qS.test(m)||!hb.test(m)||O!=null&&m in sn(O)}function xs(m){var O=typeof m;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?m!=="__proto__":m===null}function Gp(m){var O=dd(m),P=K[O];if(typeof P!="function"||!(O in ze.prototype))return!1;if(m===P)return!0;var z=zp(P);return!!z&&m===z[0]}function Yp(m){return!!p0&&p0 in m}var vd=Nf?ho:JE;function Bn(m){var O=m&&m.constructor,P=typeof O=="function"&&O.prototype||ou;return m===P}function Ax(m){return m===m&&!ur(m)}function Mx(m,O){return function(P){return P==null?!1:P[m]===O&&(O!==n||m in sn(P))}}function Tx(m){var O=Md(m,function(z){return P.size===c&&P.clear(),z}),P=O.cache;return O}function gd(m,O){var P=m[1],z=O[1],X=P|z,Q=X<(x|_|C),rt=z==C&&P==E||z==C&&P==R&&m[7].length<=O[8]||z==(C|R)&&O[7].length<=O[8]&&P==E;if(!(Q||rt))return m;z&x&&(m[2]=O[2],X|=P&x?0:w);var ot=O[3];if(ot){var pt=m[3];m[3]=pt?H0(pt,ot,O[4]):ot,m[4]=pt?Ks(m[3],u):O[4]}return ot=O[5],ot&&(pt=m[5],m[5]=pt?vx(pt,ot,O[6]):ot,m[6]=pt?Ks(m[5],u):O[6]),ot=O[7],ot&&(m[7]=ot),z&C&&(m[8]=m[8]==null?O[8]:sr(m[8],O[8])),m[9]==null&&(m[9]=O[9]),m[0]=O[0],m[1]=X,m}function sl(m){var O=[];if(m!=null)for(var P in sn(m))O.push(P);return O}function kx(m){return Mi.call(m)}function Z0(m,O,P){return O=Qn(O===n?m.length-1:O,0),function(){for(var z=arguments,X=-1,Q=Qn(z.length-O,0),rt=_t(Q);++X<Q;)rt[X]=z[O+X];X=-1;for(var ot=_t(O+1);++X<O;)ot[X]=z[X];return ot[O]=P(rt),Fi(m,this,ot)}}function xu(m,O){return O.length<2?m:Ua(m,va(O,0,-1))}function ko(m,O){for(var P=m.length,z=sr(O.length,P),X=Ur(m);z--;){var Q=O[z];m[z]=fo(Q,P)?X[Q]:n}return m}function qp(m,O){if(!(O==="constructor"&&typeof m[O]=="function")&&O!="__proto__")return m[O]}var Wp=md(Jf),_u=g0||function(m,O){return Er.setTimeout(m,O)},yd=md(td);function Xp(m,O,P){var z=O+"";return yd(m,Ex(z,Cx(W0(z),P)))}function md(m){var O=0,P=0;return function(){var z=ds(),X=$-(z-P);if(P=z,X>0){if(++O>=B)return arguments[0]}else O=0;return m.apply(n,arguments)}}function bd(m,O){var P=-1,z=m.length,X=z-1;for(O=O===n?z:O;++P<O;){var Q=kp(P,X),rt=m[Q];m[Q]=m[P],m[P]=rt}return m.length=O,m}var Co=Tx(function(m){var O=[];return m.charCodeAt(0)===46&&O.push(""),m.replace(Hs,function(P,z,X,Q){O.push(X?Q.replace(Hc,"$1"):z||P)}),O});function mn(m){if(typeof m=="string"||Pi(m))return m;var O=m+"";return O=="0"&&1/m==-H?"-0":O}function _s(m){if(m!=null){try{return Df.call(m)}catch{}try{return m+""}catch{}}return""}function Cx(m,O){return Na(lt,function(P){var z="_."+P[0];O&P[1]&&!ep(m,z)&&m.push(z)}),m.sort()}function Hr(m){if(m instanceof ze)return m.clone();var O=new Gi(m.__wrapped__,m.__chain__);return O.__actions__=Ur(m.__actions__),O.__index__=m.__index__,O.__values__=m.__values__,O}function gE(m,O,P){(P?Ri(m,O,P):O===n)?O=1:O=Qn(xe(O),0);var z=m==null?0:m.length;if(!z||O<1)return[];for(var X=0,Q=0,rt=_t(cu(z/O));X<z;)rt[Q++]=va(m,X,X+=O);return rt}function Rx(m){for(var O=-1,P=m==null?0:m.length,z=0,X=[];++O<P;){var Q=m[O];Q&&(X[z++]=Q)}return X}function Px(){var m=arguments.length;if(!m)return[];for(var O=_t(m-1),P=arguments[0],z=m;z--;)O[z-1]=arguments[z];return us(ye(P)?Ur(P):[P],Ze(O,1))}var cr=je(function(m,O){return _r(m)?nl(m,Ze(O,1,_r,!0)):[]}),Vi=je(function(m,O){var P=Oi(O);return _r(P)&&(P=n),_r(m)?nl(m,Ze(O,1,_r,!0),oe(P,2)):[]}),ws=je(function(m,O){var P=Oi(O);return _r(P)&&(P=n),_r(m)?nl(m,Ze(O,1,_r,!0),n,P):[]});function jx(m,O,P){var z=m==null?0:m.length;return z?(O=P||O===n?1:xe(O),va(m,O<0?0:O,z)):[]}function Lx(m,O,P){var z=m==null?0:m.length;return z?(O=P||O===n?1:xe(O),O=z-O,va(m,0,O<0?0:O)):[]}function yE(m,O){return m&&m.length?rd(m,oe(O,3),!0,!0):[]}function Q0(m,O){return m&&m.length?rd(m,oe(O,3),!0):[]}function ya(m,O,P,z){var X=m==null?0:m.length;return X?(P&&typeof P!="number"&&Ri(m,O,P)&&(P=0,z=X),Ie(m,O,P,z)):[]}function Ga(m,O,P){var z=m==null?0:m.length;if(!z)return-1;var X=P==null?0:xe(P);return X<0&&(X=Qn(z+X,0)),np(m,oe(O,3),X)}function J0(m,O,P){var z=m==null?0:m.length;if(!z)return-1;var X=z-1;return P!==n&&(X=xe(P),X=P<0?Qn(z+X,0):sr(X,z-1)),np(m,oe(O,3),X,!0)}function Ki(m){var O=m==null?0:m.length;return O?Ze(m,1):[]}function Nx(m){var O=m==null?0:m.length;return O?Ze(m,H):[]}function ll(m,O){var P=m==null?0:m.length;return P?(O=O===n?1:xe(O),Ze(m,O)):[]}function bc(m){for(var O=-1,P=m==null?0:m.length,z={};++O<P;){var X=m[O];z[X[0]]=X[1]}return z}function Os(m){return m&&m.length?m[0]:n}function ty(m,O,P){var z=m==null?0:m.length;if(!z)return-1;var X=P==null?0:xe(P);return X<0&&(X=Qn(z+X,0)),tu(m,O,X)}function ey(m){var O=m==null?0:m.length;return O?va(m,0,-1):[]}var Ro=je(function(m){var O=or(m,jp);return O.length&&O[0]===m[0]?A0(O):[]}),Dx=je(function(m){var O=Oi(m),P=or(m,jp);return O===Oi(P)?O=n:P.pop(),P.length&&P[0]===m[0]?A0(P,oe(O,2)):[]}),wu=je(function(m){var O=Oi(m),P=or(m,jp);return O=typeof O=="function"?O:n,O&&P.pop(),P.length&&P[0]===m[0]?A0(P,n,O):[]});function xd(m,O){return m==null?"":Ba.call(m,O)}function Oi(m){var O=m==null?0:m.length;return O?m[O-1]:n}function Ou(m,O,P){var z=m==null?0:m.length;if(!z)return-1;var X=z;return P!==n&&(X=xe(P),X=X<0?Qn(z+X,0):sr(X,z-1)),O===O?da(m,O,X):np(m,eu,X,!0)}function Ix(m,O){return m&&m.length?j0(m,xe(O)):n}var Bx=je(Su);function Su(m,O){return m&&m.length&&O&&O.length?Tp(m,O):m}function $x(m,O,P){return m&&m.length&&O&&O.length?Tp(m,O,oe(P,2)):m}function Vp(m,O,P){return m&&m.length&&O&&O.length?Tp(m,O,n,P):m}var zx=Jn(function(m,O){var P=m==null?0:m.length,z=Xf(m,O);return N0(m,or(O,function(X){return fo(X,P)?+X:X}).sort(od)),z});function mE(m,O){var P=[];if(!(m&&m.length))return P;var z=-1,X=[],Q=m.length;for(O=oe(O,3);++z<Q;){var rt=m[z];O(rt,z,m)&&(P.push(rt),X.push(z))}return N0(m,X),P}function ny(m){return m==null?m:m0.call(m)}function Sn(m,O,P){var z=m==null?0:m.length;return z?(P&&typeof P!="number"&&Ri(m,O,P)?(O=0,P=z):(O=O==null?0:xe(O),P=P===n?z:xe(P)),va(m,O,P)):[]}function Wn(m,O){return ed(m,O)}function qe(m,O,P){return Rp(m,O,oe(P,2))}function nn(m,O){var P=m==null?0:m.length;if(P){var z=ed(m,O);if(z<P&&Qi(m[z],O))return z}return-1}function En(m,O){return ed(m,O,!0)}function ma(m,O,P){return Rp(m,O,oe(P,2),!0)}function cl(m,O){var P=m==null?0:m.length;if(P){var z=ed(m,O,!0)-1;if(Qi(m[z],O))return z}return-1}function Eu(m){return m&&m.length?I0(m):[]}function ry(m,O){return m&&m.length?I0(m,oe(O,2)):[]}function Ss(m){var O=m==null?0:m.length;return O?va(m,1,O):[]}function xr(m,O,P){return m&&m.length?(O=P||O===n?1:xe(O),va(m,0,O<0?0:O)):[]}function ul(m,O,P){var z=m==null?0:m.length;return z?(O=P||O===n?1:xe(O),O=z-O,va(m,O<0?0:O,z)):[]}function xc(m,O){return m&&m.length?rd(m,oe(O,3),!1,!0):[]}function iy(m,O){return m&&m.length?rd(m,oe(O,3)):[]}var Ya=je(function(m){return gs(Ze(m,1,_r,!0))}),Au=je(function(m){var O=Oi(m);return _r(O)&&(O=n),gs(Ze(m,1,_r,!0),oe(O,2))}),_d=je(function(m){var O=Oi(m);return O=typeof O=="function"?O:n,gs(Ze(m,1,_r,!0),n,O)});function Zi(m){return m&&m.length?gs(m):[]}function ay(m,O){return m&&m.length?gs(m,oe(O,2)):[]}function oy(m,O){return O=typeof O=="function"?O:n,m&&m.length?gs(m,n,O):[]}function Mu(m){if(!(m&&m.length))return[];var O=0;return m=Oo(m,function(P){if(_r(P))return O=Qn(P.length,O),!0}),Xs(O,function(P){return or(m,rp(P))})}function wd(m,O){if(!(m&&m.length))return[];var P=Mu(m);return O==null?P:or(P,function(z){return Fi(O,n,z)})}var fl=je(function(m,O){return _r(m)?nl(m,O):[]}),gi=je(function(m){return id(Oo(m,_r))}),dl=je(function(m){var O=Oi(m);return _r(O)&&(O=n),id(Oo(m,_r),oe(O,2))}),Tu=je(function(m){var O=Oi(m);return O=typeof O=="function"?O:n,id(Oo(m,_r),n,O)}),ku=je(Mu);function sy(m,O){return $0(m||[],O||[],lc)}function ly(m,O){return $0(m||[],O||[],yu)}var Fx=je(function(m){var O=m.length,P=O>1?m[O-1]:n;return P=typeof P=="function"?(m.pop(),P):n,wd(m,P)});function Cu(m){var O=K(m);return O.__chain__=!0,O}function cy(m,O){return O(m),m}function Si(m,O){return O(m)}var Ux=Jn(function(m){var O=m.length,P=O?m[0]:0,z=this.__wrapped__,X=function(Q){return Xf(Q,m)};return O>1||this.__actions__.length||!(z instanceof ze)||!fo(P)?this.thru(X):(z=z.slice(P,+P+(O?1:0)),z.__actions__.push({func:Si,args:[X],thisArg:n}),new Gi(z,this.__chain__).thru(function(Q){return O&&!Q.length&&Q.push(n),Q}))});function ba(){return Cu(this)}function Hx(){return new Gi(this.value(),this.__chain__)}function Gx(){this.__values__===n&&(this.__values__=xa(this.value()));var m=this.__index__>=this.__values__.length,O=m?n:this.__values__[this.__index__++];return{done:m,value:O}}function bE(){return this}function hl(m){for(var O,P=this;P instanceof Fa;){var z=Hr(P);z.__index__=0,z.__values__=n,O?X.__wrapped__=z:O=z;var X=z;P=P.__wrapped__}return X.__wrapped__=m,O}function Kp(){var m=this.__wrapped__;if(m instanceof ze){var O=m;return this.__actions__.length&&(O=new ze(this)),O=O.reverse(),O.__actions__.push({func:Si,args:[ny],thisArg:n}),new Gi(O,this.__chain__)}return this.thru(ny)}function uy(){return ux(this.__wrapped__,this.__actions__)}var Ru=pc(function(m,O,P){hn.call(m,P)?++m[P]:lo(m,P,1)});function Yx(m,O,P){var z=ye(m)?Cb:S0;return P&&Ri(m,O,P)&&(O=n),z(m,oe(O,3))}function qx(m,O){var P=ye(m)?Oo:On;return P(m,oe(O,3))}var Wx=ms(Ga),fy=ms(J0);function dy(m,O){return Ze(Od(m,O),1)}function xE(m,O){return Ze(Od(m,O),H)}function _E(m,O,P){return P=P===n?1:xe(P),Ze(Od(m,O),P)}function Xx(m,O){var P=ye(m)?Na:vs;return P(m,oe(O,3))}function hy(m,O){var P=ye(m)?JS:xp;return P(m,oe(O,3))}var Vx=pc(function(m,O,P){hn.call(m,P)?m[P].push(O):lo(m,P,[O])});function Pu(m,O,P,z){m=Gr(m)?m:$u(m),P=P&&!z?xe(P):0;var X=m.length;return P<0&&(P=Qn(X+P,0)),lv(m)?P<=X&&m.indexOf(O,P)>-1:!!X&&tu(m,O,P)>-1}var Zp=je(function(m,O,P){var z=-1,X=typeof O=="function",Q=Gr(m)?_t(m.length):[];return vs(m,function(rt){Q[++z]=X?Fi(O,rt,P):fc(rt,O,P)}),Q}),Kx=pc(function(m,O,P){lo(m,P,O)});function Od(m,O){var P=ye(m)?or:R0;return P(m,oe(O,3))}function Zx(m,O,P,z){return m==null?[]:(ye(O)||(O=O==null?[]:[O]),P=z?n:P,ye(P)||(P=P==null?[]:[P]),L0(m,O,P))}var Qx=pc(function(m,O,P){m[P?0:1].push(O)},function(){return[[],[]]});function Jx(m,O,P){var z=ye(m)?s0:u0,X=arguments.length<3;return z(m,oe(O,4),P,X,vs)}function t2(m,O,P){var z=ye(m)?tE:u0,X=arguments.length<3;return z(m,oe(O,4),P,X,xp)}function Qp(m,O){var P=ye(m)?Oo:On;return P(m,Td(oe(O,3)))}function e2(m){var O=ye(m)?du:gu;return O(m)}function n2(m,O,P){(P?Ri(m,O,P):O===n)?O=1:O=xe(O);var z=ye(m)?Qb:Cp;return z(m,O)}function $n(m){var O=ye(m)?Jb:lx;return O(m)}function py(m){if(m==null)return 0;if(Gr(m))return lv(m)?So(m):m.length;var O=ii(m);return O==Ut||O==dn?m.size:Sp(m).length}function wE(m,O,P){var z=ye(m)?l0:cx;return P&&Ri(m,O,P)&&(O=n),z(m,oe(O,3))}var r2=je(function(m,O){if(m==null)return[];var P=O.length;return P>1&&Ri(m,O[0],O[1])?O=[]:P>2&&Ri(O[0],O[1],O[2])&&(O=[O[0]]),L0(m,Ze(O,1),[])}),Jp=rc||function(){return Er.Date.now()};function OE(m,O){if(typeof O!="function")throw new ha(o);return m=xe(m),function(){if(--m<1)return O.apply(this,arguments)}}function i2(m,O,P){return O=P?n:O,O=m&&O==null?m.length:O,To(m,C,n,n,n,n,O)}function Sd(m,O){var P;if(typeof O!="function")throw new ha(o);return m=xe(m),function(){return--m>0&&(P=O.apply(this,arguments)),m<=1&&(O=n),P}}var pl=je(function(m,O,P){var z=x;if(P.length){var X=Ks(P,mc(pl));z|=M}return To(m,z,O,P,X)}),tv=je(function(m,O,P){var z=x|_;if(P.length){var X=Ks(P,mc(tv));z|=M}return To(O,z,m,P,X)});function Ed(m,O,P){O=P?n:O;var z=To(m,E,n,n,n,n,n,O);return z.placeholder=Ed.placeholder,z}function ev(m,O,P){O=P?n:O;var z=To(m,A,n,n,n,n,n,O);return z.placeholder=ev.placeholder,z}function vl(m,O,P){var z,X,Q,rt,ot,pt,kt=0,Rt=!1,Bt=!1,qt=!0;if(typeof m!="function")throw new ha(o);O=Wa(O)||0,ur(P)&&(Rt=!!P.leading,Bt="maxWait"in P,Q=Bt?Qn(Wa(P.maxWait)||0,O):Q,qt="trailing"in P?!!P.trailing:qt);function ne(Wr){var Ms=z,wc=X;return z=X=n,kt=Wr,rt=m.apply(wc,Ms),rt}function pe(Wr){return kt=Wr,ot=_u(tn,O),Rt?ne(Wr):rt}function Ue(Wr){var Ms=Wr-pt,wc=Wr-kt,sR=O-Ms;return Bt?sr(sR,Q-wc):sR}function ve(Wr){var Ms=Wr-pt,wc=Wr-kt;return pt===n||Ms>=O||Ms<0||Bt&&wc>=Q}function tn(){var Wr=Jp();if(ve(Wr))return cn(Wr);ot=_u(tn,Ue(Wr))}function cn(Wr){return ot=n,qt&&z?ne(Wr):(z=X=n,rt)}function vo(){ot!==n&&dx(ot),kt=0,z=pt=X=ot=n}function _a(){return ot===n?rt:cn(Jp())}function go(){var Wr=Jp(),Ms=ve(Wr);if(z=arguments,X=this,pt=Wr,Ms){if(ot===n)return pe(pt);if(Bt)return dx(ot),ot=_u(tn,O),ne(pt)}return ot===n&&(ot=_u(tn,O)),rt}return go.cancel=vo,go.flush=_a,go}var Po=je(function(m,O){return cc(m,1,O)}),Ad=je(function(m,O,P){return cc(m,Wa(O)||0,P)});function SE(m){return To(m,j)}function Md(m,O){if(typeof m!="function"||O!=null&&typeof O!="function")throw new ha(o);var P=function(){var z=arguments,X=O?O.apply(this,z):z[0],Q=P.cache;if(Q.has(X))return Q.get(X);var rt=m.apply(this,z);return P.cache=Q.set(X,rt)||Q,rt};return P.cache=new(Md.Cache||Yi),P}Md.Cache=Yi;function Td(m){if(typeof m!="function")throw new ha(o);return function(){var O=arguments;switch(O.length){case 0:return!m.call(this);case 1:return!m.call(this,O[0]);case 2:return!m.call(this,O[0],O[1]);case 3:return!m.call(this,O[0],O[1],O[2])}return!m.apply(this,O)}}function a2(m){return Sd(2,m)}var o2=fx(function(m,O){O=O.length==1&&ye(O[0])?or(O[0],fa(oe())):or(Ze(O,1),fa(oe()));var P=O.length;return je(function(z){for(var X=-1,Q=sr(z.length,P);++X<Q;)z[X]=O[X].call(this,z[X]);return Fi(m,this,z)})}),vy=je(function(m,O){var P=Ks(O,mc(vy));return To(m,M,n,O,P)}),nv=je(function(m,O){var P=Ks(O,mc(nv));return To(m,T,n,O,P)}),s2=Jn(function(m,O){return To(m,R,n,n,n,O)});function l2(m,O){if(typeof m!="function")throw new ha(o);return O=O===n?O:xe(O),je(m,O)}function EE(m,O){if(typeof m!="function")throw new ha(o);return O=O==null?0:Qn(xe(O),0),je(function(P){var z=P[O],X=il(P,0,O);return z&&us(X,z),Fi(m,this,X)})}function gy(m,O,P){var z=!0,X=!0;if(typeof m!="function")throw new ha(o);return ur(P)&&(z="leading"in P?!!P.leading:z,X="trailing"in P?!!P.trailing:X),vl(m,O,{leading:z,maxWait:O,trailing:X})}function yy(m){return i2(m,1)}function AE(m,O){return vy(ad(O),m)}function ME(){if(!arguments.length)return[];var m=arguments[0];return ye(m)?m:[m]}function kd(m){return _i(m,v)}function TE(m,O){return O=typeof O=="function"?O:n,_i(m,v,O)}function c2(m){return _i(m,d|v)}function We(m,O){return O=typeof O=="function"?O:n,_i(m,d|v,O)}function my(m,O){return O==null||O0(m,O,qr(O))}function Qi(m,O){return m===O||m!==m&&O!==O}var by=yc(Vf),u2=yc(function(m,O){return m>=O}),Es=_p((function(){return arguments})())?_p:function(m){return hr(m)&&hn.call(m,"callee")&&!ec.call(m,"callee")},ye=_t.isArray,rv=tp?fa(tp):qi;function Gr(m){return m!=null&&_c(m.length)&&!ho(m)}function _r(m){return hr(m)&&Gr(m)}function kE(m){return m===!0||m===!1||hr(m)&&Je(m)==ct}var gl=pp||JE,f2=Eb?fa(Eb):Ir;function d2(m){return hr(m)&&m.nodeType===1&&!qa(m)}function iv(m){if(m==null)return!0;if(Gr(m)&&(ye(m)||typeof m=="string"||typeof m.splice=="function"||gl(m)||ju(m)||Es(m)))return!m.length;var O=ii(m);if(O==Ut||O==dn)return!m.size;if(Bn(m))return!Sp(m).length;for(var P in m)if(hn.call(m,P))return!1;return!0}function Rn(m,O){return dc(m,O)}function xy(m,O,P){P=typeof P=="function"?P:n;var z=P?P(m,O):n;return z===n?dc(m,O,n,P):!!z}function Yr(m){if(!hr(m))return!1;var O=Je(m);return O==It||O==Mt||typeof m.message=="string"&&typeof m.name=="string"&&!qa(m)}function CE(m){return typeof m=="number"&&zf(m)}function ho(m){if(!ur(m))return!1;var O=Je(m);return O==Nt||O==zt||O==mt||O==le}function av(m){return typeof m=="number"&&m==xe(m)}function _c(m){return typeof m=="number"&&m>-1&&m%1==0&&m<=Y}function ur(m){var O=typeof m;return m!=null&&(O=="object"||O=="function")}function hr(m){return m!=null&&typeof m=="object"}var ov=Ab?fa(Ab):wp;function _y(m,O){return m===O||Zf(m,O,Fp(O))}function RE(m,O,P){return P=typeof P=="function"?P:n,Zf(m,O,Fp(O),P)}function h2(m){return v2(m)&&m!=+m}function PE(m){if(vd(m))throw new he(a);return Ao(m)}function p2(m){return m===null}function jE(m){return m==null}function v2(m){return typeof m=="number"||hr(m)&&Je(m)==Zt}function qa(m){if(!hr(m)||Je(m)!=Gt)return!1;var O=If(m);if(O===null)return!0;var P=hn.call(O,"constructor")&&O.constructor;return typeof P=="function"&&P instanceof P&&Df.call(P)==Ia}var sv=Mb?fa(Mb):Op;function wy(m){return av(m)&&m>=-Y&&m<=Y}var g2=Tb?fa(Tb):T0;function lv(m){return typeof m=="string"||!ye(m)&&hr(m)&&Je(m)==yn}function Pi(m){return typeof m=="symbol"||hr(m)&&Je(m)==kn}var ju=kb?fa(kb):k0;function po(m){return m===n}function Oy(m){return hr(m)&&ii(m)==Dn}function y2(m){return hr(m)&&Je(m)==Pe}var m2=yc(Ep),Cd=yc(function(m,O){return m<=O});function xa(m){if(!m)return[];if(Gr(m))return lv(m)?Da(m):Ur(m);if(nc&&m[nc])return Bb(m[nc]());var O=ii(m),P=O==Ut?lp:O==dn?cp:$u;return P(m)}function jo(m){if(!m)return m===0?m:0;if(m=Wa(m),m===H||m===-H){var O=m<0?-1:1;return O*W}return m===m?m:0}function xe(m){var O=jo(m),P=O%1;return O===O?P?O-P:O:0}function Lo(m){return m?co(xe(m),0,J):0}function Wa(m){if(typeof m=="number")return m;if(Pi(m))return V;if(ur(m)){var O=typeof m.valueOf=="function"?m.valueOf():m;m=ur(O)?O+"":O}if(typeof m!="string")return m===0?m:+m;m=Lb(m);var P=ni.test(m);return P||gb.test(m)?ZS(m.slice(2),P?2:8):qc.test(m)?V:+m}function b2(m){return Xi(m,ai(m))}function Lu(m){return m?co(xe(m),-Y,Y):m===0?m:0}function pn(m){return m==null?"":Wi(m)}var LE=vc(function(m,O){if(Bn(O)||Gr(O)){Xi(O,qr(O),m);return}for(var P in O)hn.call(O,P)&&lc(m,P,O[P])}),x2=vc(function(m,O){Xi(O,ai(O),m)}),cv=vc(function(m,O,P,z){Xi(O,ai(O),m,z)}),NE=vc(function(m,O,P,z){Xi(O,qr(O),m,z)}),DE=Jn(Xf);function IE(m,O){var P=pa(m);return O==null?P:ps(P,O)}var BE=je(function(m,O){m=sn(m);var P=-1,z=O.length,X=z>2?O[2]:n;for(X&&Ri(O[0],O[1],X)&&(z=1);++P<z;)for(var Q=O[P],rt=ai(Q),ot=-1,pt=rt.length;++ot<pt;){var kt=rt[ot],Rt=m[kt];(Rt===n||Qi(Rt,ou[kt])&&!hn.call(m,kt))&&(m[kt]=Q[kt])}return m}),_2=je(function(m){return m.push(n,q0),Fi(Ld,n,m)});function Nu(m,O){return Rb(m,oe(O,3),wi)}function Rd(m,O){return Rb(m,oe(O,3),vu)}function w2(m,O){return m==null?m:pu(m,oe(O,3),ai)}function $E(m,O){return m==null?m:uc(m,oe(O,3),ai)}function Du(m,O){return m&&wi(m,oe(O,3))}function Pd(m,O){return m&&vu(m,oe(O,3))}function O2(m){return m==null?[]:rl(m,qr(m))}function uv(m){return m==null?[]:rl(m,ai(m))}function jd(m,O,P){var z=m==null?n:Ua(m,O);return z===n?P:z}function Sy(m,O){return m!=null&&pd(m,O,E0)}function Iu(m,O){return m!=null&&pd(m,O,nx)}var S2=ld(function(m,O,P){O!=null&&typeof O.toString!="function"&&(O=Mi.call(O)),m[O]=P},gt(yt)),E2=ld(function(m,O,P){O!=null&&typeof O.toString!="function"&&(O=Mi.call(O)),hn.call(m,O)?m[O].push(P):m[O]=[P]},oe),zE=je(fc);function qr(m){return Gr(m)?w0(m):Sp(m)}function ai(m){return Gr(m)?w0(m,!0):ix(m)}function FE(m,O){var P={};return O=oe(O,3),wi(m,function(z,X,Q){lo(P,O(z,X,Q),z)}),P}function UE(m,O){var P={};return O=oe(O,3),wi(m,function(z,X,Q){lo(P,X,O(z,X,Q))}),P}var HE=vc(function(m,O,P){Qf(m,O,P)}),Ld=vc(function(m,O,P,z){Qf(m,O,P,z)}),fv=Jn(function(m,O){var P={};if(m==null)return P;var z=!1;O=or(O,function(Q){return Q=ys(Q,m),z||(z=Q.length>1),Q}),Xi(m,$p(m),P),z&&(P=_i(P,d|h|v,xx));for(var X=O.length;X--;)nd(P,O[X]);return P});function Ey(m,O){return Bu(m,Td(oe(O)))}var GE=Jn(function(m,O){return m==null?{}:ax(m,O)});function Bu(m,O){if(m==null)return{};var P=or($p(m),function(z){return[z]});return O=oe(O),Mp(m,P,function(z,X){return O(z,X[0])})}function YE(m,O,P){O=ys(O,m);var z=-1,X=O.length;for(X||(X=1,m=n);++z<X;){var Q=m==null?n:m[mn(O[z])];Q===n&&(z=X,Q=P),m=ho(Q)?Q.call(m):Q}return m}function A2(m,O,P){return m==null?m:yu(m,O,P)}function M2(m,O,P,z){return z=typeof z=="function"?z:n,m==null?m:yu(m,O,P,z)}var Ay=fd(qr),My=fd(ai);function Ty(m,O,P){var z=ye(m),X=z||gl(m)||ju(m);if(O=oe(O,4),P==null){var Q=m&&m.constructor;X?P=z?new Q:[]:ur(m)?P=ho(Q)?pa(If(m)):{}:P={}}return(X?Na:wi)(m,function(rt,ot,pt){return O(P,rt,ot,pt)}),P}function T2(m,O){return m==null?!0:nd(m,O)}function dv(m,O,P){return m==null?m:B0(m,O,ad(P))}function qE(m,O,P,z){return z=typeof z=="function"?z:n,m==null?m:B0(m,O,ad(P),z)}function $u(m){return m==null?[]:op(m,qr(m))}function ky(m){return m==null?[]:op(m,ai(m))}function Cy(m,O,P){return P===n&&(P=O,O=n),P!==n&&(P=Wa(P),P=P===P?P:0),O!==n&&(O=Wa(O),O=O===O?O:0),co(Wa(m),O,P)}function hv(m,O,P){return O=jo(O),P===n?(P=O,O=0):P=jo(P),m=Wa(m),rx(m,O,P)}function Ry(m,O,P){if(P&&typeof P!="boolean"&&Ri(m,O,P)&&(O=P=n),P===n&&(typeof O=="boolean"?(P=O,O=n):typeof m=="boolean"&&(P=m,m=n)),m===n&&O===n?(m=0,O=1):(m=jo(m),O===n?(O=m,m=0):O=jo(O)),m>O){var z=m;m=O,O=z}if(P||m%1||O%1){var X=y0();return sr(m+X*(O-m+Lf("1e-"+((X+"").length-1))),O)}return kp(m,O)}var k2=Ci(function(m,O,P){return O=O.toLowerCase(),m+(P?pv(O):O)});function pv(m){return S(pn(m).toLowerCase())}function As(m){return m=pn(m),m&&m.replace(Wc,sp).replace(cs,"")}function yl(m,O,P){m=pn(m),O=Wi(O);var z=m.length;P=P===n?z:co(xe(P),0,z);var X=P;return P-=O.length,P>=0&&m.slice(P,X)==O}function ml(m){return m=pn(m),m&&fb.test(m)?m.replace(Uc,Nb):m}function Nd(m){return m=pn(m),m&&$i.test(m)?m.replace(ei,"\\$&"):m}var Dd=Ci(function(m,O,P){return m+(P?"-":"")+O.toLowerCase()}),bl=Ci(function(m,O,P){return m+(P?" ":"")+O.toLowerCase()}),WE=ga("toLowerCase");function C2(m,O,P){m=pn(m),O=xe(O);var z=O?So(m):0;if(!O||z>=O)return m;var X=(O-z)/2;return ud(fs(X),P)+m+ud(cu(X),P)}function Id(m,O,P){m=pn(m),O=xe(O);var z=O?So(m):0;return O&&z<O?m+ud(O-z,P):m}function XE(m,O,P){m=pn(m),O=xe(O);var z=O?So(m):0;return O&&z<O?ud(O-z,P)+m:m}function R2(m,O,P){return P||O==null?O=0:O&&(O=+O),ic(pn(m).replace(Gs,""),O||0)}function vv(m,O,P){return(P?Ri(m,O,P):O===n)?O=1:O=xe(O),D0(pn(m),O)}function P2(){var m=arguments,O=pn(m[0]);return m.length<3?O:O.replace(m[1],m[2])}var VE=Ci(function(m,O,P){return m+(P?"_":"")+O.toLowerCase()});function gv(m,O,P){return P&&typeof P!="number"&&Ri(m,O,P)&&(O=P=n),P=P===n?J:P>>>0,P?(m=pn(m),m&&(typeof O=="string"||O!=null&&!sv(O))&&(O=Wi(O),!O&&Vs(m))?il(Da(m),0,P):m.split(O,P)):[]}var yv=Ci(function(m,O,P){return m+(P?" ":"")+S(O)});function j2(m,O,P){return m=pn(m),P=P==null?0:co(xe(P),0,m.length),O=Wi(O),m.slice(P,P+O.length)==O}function Bd(m,O,P){var z=K.templateSettings;P&&Ri(m,O,P)&&(O=n),m=pn(m),O=cv({},O,z,Ip);var X=cv({},O.imports,z.imports,Ip),Q=qr(X),rt=op(X,Q),ot,pt,kt=0,Rt=O.interpolate||Hh,Bt="__p += '",qt=up((O.escape||Hh).source+"|"+Rt.source+"|"+(Rt===Uh?Gc:Hh).source+"|"+(O.evaluate||Hh).source+"|$","g"),ne="//# sourceURL="+(hn.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wb+"]")+`
`;m.replace(qt,function(ve,tn,cn,vo,_a,go){return cn||(cn=vo),Bt+=m.slice(kt,go).replace(yb,Db),tn&&(ot=!0,Bt+=`' +
__e(`+tn+`) +
'`),_a&&(pt=!0,Bt+=`';
`+_a+`;
__p += '`),cn&&(Bt+=`' +
((__t = (`+cn+`)) == null ? '' : __t) +
'`),kt=go+ve.length,ve}),Bt+=`';
`;var pe=hn.call(O,"variable")&&O.variable;if(!pe)Bt=`with (obj) {
`+Bt+`
}
`;else if(Fg.test(pe))throw new he(s);Bt=(pt?Bt.replace(Bg,""):Bt).replace(cb,"$1").replace(ub,"$1;"),Bt="function("+(pe||"obj")+`) {
`+(pe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ot?", __e = _.escape":"")+(pt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Bt+`return __p
}`;var Ue=L(function(){return on(Q,ne+"return "+Bt).apply(n,rt)});if(Ue.source=Bt,Yr(Ue))throw Ue;return Ue}function Py(m){return pn(m).toLowerCase()}function mv(m){return pn(m).toUpperCase()}function L2(m,O,P){if(m=pn(m),m&&(P||O===n))return Lb(m);if(!m||!(O=Wi(O)))return m;var z=Da(m),X=Da(O),Q=ru(z,X),rt=iu(z,X)+1;return il(z,Q,rt).join("")}function KE(m,O,P){if(m=pn(m),m&&(P||O===n))return m.slice(0,d0(m)+1);if(!m||!(O=Wi(O)))return m;var z=Da(m),X=iu(z,Da(O))+1;return il(z,0,X).join("")}function bv(m,O,P){if(m=pn(m),m&&(P||O===n))return m.replace(Gs,"");if(!m||!(O=Wi(O)))return m;var z=Da(m),X=ru(z,Da(O));return il(z,X).join("")}function f(m,O){var P=I,z=D;if(ur(O)){var X="separator"in O?O.separator:X;P="length"in O?xe(O.length):P,z="omission"in O?Wi(O.omission):z}m=pn(m);var Q=m.length;if(Vs(m)){var rt=Da(m);Q=rt.length}if(P>=Q)return m;var ot=P-So(z);if(ot<1)return z;var pt=rt?il(rt,0,ot).join(""):m.slice(0,ot);if(X===n)return pt+z;if(rt&&(ot+=pt.length-ot),sv(X)){if(m.slice(ot).search(X)){var kt,Rt=pt;for(X.global||(X=up(X.source,pn(Yc.exec(X))+"g")),X.lastIndex=0;kt=X.exec(Rt);)var Bt=kt.index;pt=pt.slice(0,Bt===n?ot:Bt)}}else if(m.indexOf(Wi(X),ot)!=ot){var qt=pt.lastIndexOf(X);qt>-1&&(pt=pt.slice(0,qt))}return pt+z}function p(m){return m=pn(m),m&&YS.test(m)?m.replace(Fh,zb):m}var y=Ci(function(m,O,P){return m+(P?" ":"")+O.toUpperCase()}),S=ga("toUpperCase");function k(m,O,P){return m=pn(m),O=P?n:O,O===n?Ib(m)?lE(m):rE(m):m.match(O)||[]}var L=je(function(m,O){try{return Fi(m,n,O)}catch(P){return Yr(P)?P:new he(P)}}),q=Jn(function(m,O){return Na(O,function(P){P=mn(P),lo(m,P,pl(m[P],m))}),m});function Z(m){var O=m==null?0:m.length,P=oe();return m=O?or(m,function(z){if(typeof z[1]!="function")throw new ha(o);return[P(z[0]),z[1]]}):[],je(function(z){for(var X=-1;++X<O;){var Q=m[X];if(Fi(Q[0],this,z))return Fi(Q[1],this,z)}})}function it(m){return tx(_i(m,d))}function gt(m){return function(){return m}}function At(m,O){return m==null||m!==m?O:m}var Ct=Mo(),bt=Mo(!0);function yt(m){return m}function fe(m){return C0(typeof m=="function"?m:_i(m,d))}function ce(m){return P0(_i(m,d))}function Pn(m,O){return Ap(m,_i(O,d))}var ht=je(function(m,O){return function(P){return fc(P,m,O)}}),st=je(function(m,O){return function(P){return fc(m,P,O)}});function vt(m,O,P){var z=qr(O),X=rl(O,z);P==null&&!(ur(O)&&(X.length||!z.length))&&(P=O,O=m,m=this,X=rl(O,qr(O)));var Q=!(ur(P)&&"chain"in P)||!!P.chain,rt=ho(m);return Na(X,function(ot){var pt=O[ot];m[ot]=pt,rt&&(m.prototype[ot]=function(){var kt=this.__chain__;if(Q||kt){var Rt=m(this.__wrapped__),Bt=Rt.__actions__=Ur(this.__actions__);return Bt.push({func:pt,args:arguments,thisArg:m}),Rt.__chain__=kt,Rt}return pt.apply(m,us([this.value()],arguments))})}),m}function Tt(){return Er._===this&&(Er._=su),this}function Kt(){}function Fe(m){return m=xe(m),je(function(O){return j0(O,m)})}var re=cd(or),de=cd(Cb),oi=cd(l0);function ln(m){return Hp(m)?rp(mn(m)):ox(m)}function xl(m){return function(O){return m==null?n:Ua(m,O)}}var ZE=al(),uY=al(!0);function QE(){return[]}function JE(){return!1}function fY(){return{}}function dY(){return""}function hY(){return!0}function pY(m,O){if(m=xe(m),m<1||m>Y)return[];var P=J,z=sr(m,J);O=oe(O),m-=J;for(var X=Xs(z,O);++P<m;)O(P);return X}function vY(m){return ye(m)?or(m,mn):Pi(m)?[m]:Ur(Co(pn(m)))}function gY(m){var O=++ao;return pn(m)+O}var yY=mu(function(m,O){return m+O},0),mY=Dp("ceil"),bY=mu(function(m,O){return m/O},1),xY=Dp("floor");function _Y(m){return m&&m.length?uo(m,yt,Vf):n}function wY(m,O){return m&&m.length?uo(m,oe(O,2),Vf):n}function OY(m){return Pb(m,yt)}function SY(m,O){return Pb(m,oe(O,2))}function EY(m){return m&&m.length?uo(m,yt,Ep):n}function AY(m,O){return m&&m.length?uo(m,oe(O,2),Ep):n}var MY=mu(function(m,O){return m*O},1),TY=Dp("round"),kY=mu(function(m,O){return m-O},0);function CY(m){return m&&m.length?ap(m,yt):0}function RY(m,O){return m&&m.length?ap(m,oe(O,2)):0}return K.after=OE,K.ary=i2,K.assign=LE,K.assignIn=x2,K.assignInWith=cv,K.assignWith=NE,K.at=DE,K.before=Sd,K.bind=pl,K.bindAll=q,K.bindKey=tv,K.castArray=ME,K.chain=Cu,K.chunk=gE,K.compact=Rx,K.concat=Px,K.cond=Z,K.conforms=it,K.constant=gt,K.countBy=Ru,K.create=IE,K.curry=Ed,K.curryRight=ev,K.debounce=vl,K.defaults=BE,K.defaultsDeep=_2,K.defer=Po,K.delay=Ad,K.difference=cr,K.differenceBy=Vi,K.differenceWith=ws,K.drop=jx,K.dropRight=Lx,K.dropRightWhile=yE,K.dropWhile=Q0,K.fill=ya,K.filter=qx,K.flatMap=dy,K.flatMapDeep=xE,K.flatMapDepth=_E,K.flatten=Ki,K.flattenDeep=Nx,K.flattenDepth=ll,K.flip=SE,K.flow=Ct,K.flowRight=bt,K.fromPairs=bc,K.functions=O2,K.functionsIn=uv,K.groupBy=Vx,K.initial=ey,K.intersection=Ro,K.intersectionBy=Dx,K.intersectionWith=wu,K.invert=S2,K.invertBy=E2,K.invokeMap=Zp,K.iteratee=fe,K.keyBy=Kx,K.keys=qr,K.keysIn=ai,K.map=Od,K.mapKeys=FE,K.mapValues=UE,K.matches=ce,K.matchesProperty=Pn,K.memoize=Md,K.merge=HE,K.mergeWith=Ld,K.method=ht,K.methodOf=st,K.mixin=vt,K.negate=Td,K.nthArg=Fe,K.omit=fv,K.omitBy=Ey,K.once=a2,K.orderBy=Zx,K.over=re,K.overArgs=o2,K.overEvery=de,K.overSome=oi,K.partial=vy,K.partialRight=nv,K.partition=Qx,K.pick=GE,K.pickBy=Bu,K.property=ln,K.propertyOf=xl,K.pull=Bx,K.pullAll=Su,K.pullAllBy=$x,K.pullAllWith=Vp,K.pullAt=zx,K.range=ZE,K.rangeRight=uY,K.rearg=s2,K.reject=Qp,K.remove=mE,K.rest=l2,K.reverse=ny,K.sampleSize=n2,K.set=A2,K.setWith=M2,K.shuffle=$n,K.slice=Sn,K.sortBy=r2,K.sortedUniq=Eu,K.sortedUniqBy=ry,K.split=gv,K.spread=EE,K.tail=Ss,K.take=xr,K.takeRight=ul,K.takeRightWhile=xc,K.takeWhile=iy,K.tap=cy,K.throttle=gy,K.thru=Si,K.toArray=xa,K.toPairs=Ay,K.toPairsIn=My,K.toPath=vY,K.toPlainObject=b2,K.transform=Ty,K.unary=yy,K.union=Ya,K.unionBy=Au,K.unionWith=_d,K.uniq=Zi,K.uniqBy=ay,K.uniqWith=oy,K.unset=T2,K.unzip=Mu,K.unzipWith=wd,K.update=dv,K.updateWith=qE,K.values=$u,K.valuesIn=ky,K.without=fl,K.words=k,K.wrap=AE,K.xor=gi,K.xorBy=dl,K.xorWith=Tu,K.zip=ku,K.zipObject=sy,K.zipObjectDeep=ly,K.zipWith=Fx,K.entries=Ay,K.entriesIn=My,K.extend=x2,K.extendWith=cv,vt(K,K),K.add=yY,K.attempt=L,K.camelCase=k2,K.capitalize=pv,K.ceil=mY,K.clamp=Cy,K.clone=kd,K.cloneDeep=c2,K.cloneDeepWith=We,K.cloneWith=TE,K.conformsTo=my,K.deburr=As,K.defaultTo=At,K.divide=bY,K.endsWith=yl,K.eq=Qi,K.escape=ml,K.escapeRegExp=Nd,K.every=Yx,K.find=Wx,K.findIndex=Ga,K.findKey=Nu,K.findLast=fy,K.findLastIndex=J0,K.findLastKey=Rd,K.floor=xY,K.forEach=Xx,K.forEachRight=hy,K.forIn=w2,K.forInRight=$E,K.forOwn=Du,K.forOwnRight=Pd,K.get=jd,K.gt=by,K.gte=u2,K.has=Sy,K.hasIn=Iu,K.head=Os,K.identity=yt,K.includes=Pu,K.indexOf=ty,K.inRange=hv,K.invoke=zE,K.isArguments=Es,K.isArray=ye,K.isArrayBuffer=rv,K.isArrayLike=Gr,K.isArrayLikeObject=_r,K.isBoolean=kE,K.isBuffer=gl,K.isDate=f2,K.isElement=d2,K.isEmpty=iv,K.isEqual=Rn,K.isEqualWith=xy,K.isError=Yr,K.isFinite=CE,K.isFunction=ho,K.isInteger=av,K.isLength=_c,K.isMap=ov,K.isMatch=_y,K.isMatchWith=RE,K.isNaN=h2,K.isNative=PE,K.isNil=jE,K.isNull=p2,K.isNumber=v2,K.isObject=ur,K.isObjectLike=hr,K.isPlainObject=qa,K.isRegExp=sv,K.isSafeInteger=wy,K.isSet=g2,K.isString=lv,K.isSymbol=Pi,K.isTypedArray=ju,K.isUndefined=po,K.isWeakMap=Oy,K.isWeakSet=y2,K.join=xd,K.kebabCase=Dd,K.last=Oi,K.lastIndexOf=Ou,K.lowerCase=bl,K.lowerFirst=WE,K.lt=m2,K.lte=Cd,K.max=_Y,K.maxBy=wY,K.mean=OY,K.meanBy=SY,K.min=EY,K.minBy=AY,K.stubArray=QE,K.stubFalse=JE,K.stubObject=fY,K.stubString=dY,K.stubTrue=hY,K.multiply=MY,K.nth=Ix,K.noConflict=Tt,K.noop=Kt,K.now=Jp,K.pad=C2,K.padEnd=Id,K.padStart=XE,K.parseInt=R2,K.random=Ry,K.reduce=Jx,K.reduceRight=t2,K.repeat=vv,K.replace=P2,K.result=YE,K.round=TY,K.runInContext=ut,K.sample=e2,K.size=py,K.snakeCase=VE,K.some=wE,K.sortedIndex=Wn,K.sortedIndexBy=qe,K.sortedIndexOf=nn,K.sortedLastIndex=En,K.sortedLastIndexBy=ma,K.sortedLastIndexOf=cl,K.startCase=yv,K.startsWith=j2,K.subtract=kY,K.sum=CY,K.sumBy=RY,K.template=Bd,K.times=pY,K.toFinite=jo,K.toInteger=xe,K.toLength=Lo,K.toLower=Py,K.toNumber=Wa,K.toSafeInteger=Lu,K.toString=pn,K.toUpper=mv,K.trim=L2,K.trimEnd=KE,K.trimStart=bv,K.truncate=f,K.unescape=p,K.uniqueId=gY,K.upperCase=y,K.upperFirst=S,K.each=Xx,K.eachRight=hy,K.first=Os,vt(K,(function(){var m={};return wi(K,function(O,P){hn.call(K.prototype,P)||(m[P]=O)}),m})(),{chain:!1}),K.VERSION=r,Na(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){K[m].placeholder=K}),Na(["drop","take"],function(m,O){ze.prototype[m]=function(P){P=P===n?1:Qn(xe(P),0);var z=this.__filtered__&&!O?new ze(this):this.clone();return z.__filtered__?z.__takeCount__=sr(P,z.__takeCount__):z.__views__.push({size:sr(P,J),type:m+(z.__dir__<0?"Right":"")}),z},ze.prototype[m+"Right"]=function(P){return this.reverse()[m](P).reverse()}}),Na(["filter","map","takeWhile"],function(m,O){var P=O+1,z=P==U||P==F;ze.prototype[m]=function(X){var Q=this.clone();return Q.__iteratees__.push({iteratee:oe(X,3),type:P}),Q.__filtered__=Q.__filtered__||z,Q}}),Na(["head","last"],function(m,O){var P="take"+(O?"Right":"");ze.prototype[m]=function(){return this[P](1).value()[0]}}),Na(["initial","tail"],function(m,O){var P="drop"+(O?"":"Right");ze.prototype[m]=function(){return this.__filtered__?new ze(this):this[P](1)}}),ze.prototype.compact=function(){return this.filter(yt)},ze.prototype.find=function(m){return this.filter(m).head()},ze.prototype.findLast=function(m){return this.reverse().find(m)},ze.prototype.invokeMap=je(function(m,O){return typeof m=="function"?new ze(this):this.map(function(P){return fc(P,m,O)})}),ze.prototype.reject=function(m){return this.filter(Td(oe(m)))},ze.prototype.slice=function(m,O){m=xe(m);var P=this;return P.__filtered__&&(m>0||O<0)?new ze(P):(m<0?P=P.takeRight(-m):m&&(P=P.drop(m)),O!==n&&(O=xe(O),P=O<0?P.dropRight(-O):P.take(O-m)),P)},ze.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},ze.prototype.toArray=function(){return this.take(J)},wi(ze.prototype,function(m,O){var P=/^(?:filter|find|map|reject)|While$/.test(O),z=/^(?:head|last)$/.test(O),X=K[z?"take"+(O=="last"?"Right":""):O],Q=z||/^find/.test(O);X&&(K.prototype[O]=function(){var rt=this.__wrapped__,ot=z?[1]:arguments,pt=rt instanceof ze,kt=ot[0],Rt=pt||ye(rt),Bt=function(tn){var cn=X.apply(K,us([tn],ot));return z&&qt?cn[0]:cn};Rt&&P&&typeof kt=="function"&&kt.length!=1&&(pt=Rt=!1);var qt=this.__chain__,ne=!!this.__actions__.length,pe=Q&&!qt,Ue=pt&&!ne;if(!Q&&Rt){rt=Ue?rt:new ze(this);var ve=m.apply(rt,ot);return ve.__actions__.push({func:Si,args:[Bt],thisArg:n}),new Gi(ve,qt)}return pe&&Ue?m.apply(this,ot):(ve=this.thru(Bt),pe?z?ve.value()[0]:ve.value():ve)})}),Na(["pop","push","shift","sort","splice","unshift"],function(m){var O=fp[m],P=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",z=/^(?:pop|shift)$/.test(m);K.prototype[m]=function(){var X=arguments;if(z&&!this.__chain__){var Q=this.value();return O.apply(ye(Q)?Q:[],X)}return this[P](function(rt){return O.apply(ye(rt)?rt:[],X)})}}),wi(ze.prototype,function(m,O){var P=K[O];if(P){var z=P.name+"";hn.call(za,z)||(za[z]=[]),za[z].push({name:O,func:P})}}),za[br(n,_).name]=[{name:"wrapper",func:n}],ze.prototype.clone=Gf,ze.prototype.reverse=vp,ze.prototype.value=oc,K.prototype.at=Ux,K.prototype.chain=ba,K.prototype.commit=Hx,K.prototype.next=Gx,K.prototype.plant=hl,K.prototype.reverse=Kp,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=uy,K.prototype.first=K.prototype.head,nc&&(K.prototype[nc]=bE),K}),Zs=au();Ws?((Ws.exports=Zs)._=Zs,Jc._=Zs):Er._=Zs}).call(M2t)})(Mm,Mm.exports)),Mm.exports}var dt=T2t(),NM,k2t=function(){return NM||(NM=document.createElement("canvas").getContext("2d")),NM},C2t=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};dt.memoize(function(t,e){e===void 0&&(e={});var n=e.fontSize,r=e.fontFamily,i=r===void 0?"sans-serif":r,a=e.fontWeight,o=e.fontStyle,s=e.fontVariant,l=k2t();return l.font=[o,a,s,"".concat(n,"px"),i].join(" "),l.measureText(dt.isString(t)?t:"")},function(t,e){return e===void 0&&(e={}),C2t([t],dt.values(e),!0).join("")});var R2t=function(t){var e=[/\breact\b/i,/\.jsx/,/children:\s*\[/,/\*#__PURE__\*/],n=/(\w+)?\.createElement\(\s*(['"`])([^'"`]+)\2/g,r=new Set(["g","circle","ellipse","image","rect","line","polyline","polygon","text","path","html","mesh"]);if(e.some(function(a){return a.test(t)}))return!0;var i=t.match(n);return i?i.some(function(a){var o=a.match(/\.createElement\(\s*(['"`])([^'"`]+)\1/);return o&&!r.has(o[2].toLowerCase())}):!1},Hk=function(){return Hk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hk.apply(this,arguments)};function P2t(t,e){var n=te.useRef(null),r=te.useRef(null),i=te.useRef(null),a=e.onReady,o=e.onEvent,s=function(u,d){var h;u===void 0&&(u="image/png");var v=(h=i.current)===null||h===void 0?void 0:h.getElementsByTagName("canvas")[0];return v?.toDataURL(u,d)},l=function(u,d,h){u===void 0&&(u="download"),d===void 0&&(d="image/png");var v=u;u.indexOf(".")===-1&&(v="".concat(u,".").concat(d.split("/")[1]));var g=s(d,h),b=document.createElement("a");return b.href=g,b.download=v,document.body.appendChild(b),b.click(),document.body.removeChild(b),b=null,v},c=function(u,d){d===void 0&&(d=!1);var h=Object.keys(u),v=d;h.forEach(function(g){var b=u[g];g==="tooltip"&&(v=!0),dt.isFunction(b)&&R2t("".concat(b))?u[g]=function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];return w2t(b.apply(void 0,x),v)}:dt.isArray(b)?b.forEach(function(x){c(x,v)}):dt.isObject(b)?c(b,v):v=d})};return te.useEffect(function(){n.current&&!dt.isEqual(r.current,e)&&(r.current=dt.cloneDeep(e),c(e),n.current.update(e),n.current.render())},[e]),te.useEffect(function(){if(!i.current)return function(){return null};r.current||(r.current=dt.cloneDeep(e)),c(e);var u=new t(i.current,Hk({},e));u.toDataURL=s,u.downloadImage=l,u.render(),n.current=u,a&&a(u);var d=function(h){o&&o(u,h)};return u.on("*",d),function(){n.current&&(n.current.destroy(),n.current.off("*",d),n.current=void 0)}},[]),{chart:n,container:i}}const j2t={field:"value",size:[1,1],round:!1,padding:0,sort:(t,e)=>e.value-t.value,as:["x","y"],ignoreParentValue:!0},L2t="nodeIndex",k1="childNodeCount",N2t="nodeAncestor",DM="Invalid field: it must be a string!";function D2t(t,e){const{field:n,fields:r}=t;if(tr(n))return n;if($r(n))return console.warn(DM),n[0];if(console.warn(`${DM} will try to get fields instead.`),tr(r))return r;if($r(r)&&r.length)return r[0];throw new TypeError(DM)}function I2t(t){const e=[];if(t&&t.each){let n,r;t.each(i=>{var a,o;i.parent!==n?(n=i.parent,r=0):r+=1;const s=S6((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(l=>e.find(c=>c.name===l.name)||l),({depth:l})=>l>0&&l<i.depth);i[N2t]=s,i[k1]=((o=i.children)===null||o===void 0?void 0:o.length)||0,i[L2t]=r,e.push(i)})}else t&&t.eachNode&&t.eachNode(n=>{e.push(n)});return e}function B2t(t,e){e=R6({},j2t,e);const n=e.as;if(!$r(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');let r;try{r=D2t(e)}catch(l){console.warn(l)}const a=(l=>tct().size(e.size).round(e.round).padding(e.padding)(jg(l).sum(c=>Km(c.children)?e.ignoreParentValue?0:c[r]-A6(c.children,(u,d)=>u+d[r],0):c[r]).sort(e.sort)))(t),o=n[0],s=n[1];return a.each(l=>{var c,u;l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],l.name=l.name||((c=l.data)===null||c===void 0?void 0:c.name)||((u=l.data)===null||u===void 0?void 0:u.label),l.data.name=l.name,["x0","x1","y0","y1"].forEach(d=>{n.indexOf(d)===-1&&delete l[d]})}),I2t(a)}var $2t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Kv="sunburst",rR="markType",RG="path",OO="ancestor-node";function z2t(t){const{data:e,encode:n}=t,{color:r,value:i}=n,o=B2t(e,{field:i,type:"hierarchy.partition",as:["x","y"]}),s=[];return o.forEach(l=>{var c,u,d,h;if(l.depth===0)return null;let v=l.data.name;const g=[v];let b=Object.assign({},l);for(;b.depth>1;)v=`${(c=b.parent.data)===null||c===void 0?void 0:c.name} / ${v}`,g.unshift((u=b.parent.data)===null||u===void 0?void 0:u.name),b=b.parent;const x=Object.assign(Object.assign(Object.assign({},xC(l.data,[i])),{[RG]:v,[OO]:b.data.name}),l);r&&r!==OO&&(x[r]=l.data[r]||((h=(d=l.parent)===null||d===void 0?void 0:d.data)===null||h===void 0?void 0:h[r])),s.push(x)}),s.map(l=>{const c=l.x.slice(0,2),u=[l.y[2],l.y[0]];return c[0]===c[1]&&(u[0]=u[1]=(l.y[2]+l.y[0])/2),Object.assign(Object.assign({},l),{x:c,y:u,fillOpacity:Math.pow(.85,l.depth)})})}const bD={id:Kv,encode:{x:"x",y:"y",key:RG,color:OO,value:"value"},axis:{x:!1,y:!1},style:{[rR]:Kv,stroke:"#fff",lineWidth:.5,fillOpacity:"fillOpacity",[k1]:k1,depth:"depth"},state:{active:{zIndex:2,stroke:"#000"},inactive:{zIndex:1,stroke:"#fff"}},legend:!1,interaction:{drillDown:!0},coordinate:{type:"polar",innerRadius:.2}},PG=t=>{const{encode:e,data:n=[]}=t,r=$2t(t,["encode","data"]),i=Object.assign(Object.assign({},r.coordinate),{innerRadius:Math.max(_e(r,["coordinate","innerRadius"],.2),1e-5)}),a=Object.assign(Object.assign({},bD.encode),e),{value:o}=a,s=z2t({encode:a,data:n});return[wt({},bD,Object.assign(Object.assign({type:"rect",data:s,encode:a,tooltip:{title:"path",items:[l=>({name:o,value:l[o]})]}},r),{coordinate:i}))]};PG.props={};var F2t=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(t,e||[])).next())})};const U2t=t=>t.querySelectorAll(".element").filter(e=>_e(e,["style",rR])===Kv);function H2t(t){return se(t).select(`.${wh}`).node()}const G2t={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.85)",fontSize:12,y:1},active:{fill:"rgba(0, 0, 0, 0.5)"}};function Y2t(t={}){const{breadCrumb:e={},isFixedColor:n=!1}=t,r=wt({},G2t,e);return i=>{const{update:a,setState:o,container:s,view:l,options:c}=i,u=s.ownerDocument,d=H2t(s),h=c.marks.find(({id:E})=>E===Kv),{state:v}=h,g=u.createElement("g");d.appendChild(g);const b=(E,A)=>F2t(this,void 0,void 0,function*(){if(g.removeChildren(),E){const M=u.createElement("text",{style:Object.assign({x:0,text:r.rootText,depth:0},r.style)});g.appendChild(M);let T="";const C=E?.split(" / ");let R=r.style.y,j=g.getBBox().width;const I=d.getBBox().width,D=C.map((B,$)=>{const U=u.createElement("text",{style:Object.assign(Object.assign({x:j,text:" / "},r.style),{y:R})});g.appendChild(U),j+=U.getBBox().width,T=`${T}${B} / `;const G=u.createElement("text",{name:T.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:B,x:j,depth:$+1},r.style),{y:R})});return g.appendChild(G),j+=G.getBBox().width,j>I&&(R=g.getBBox().height,j=0,U.attr({x:j,y:R}),j+=U.getBBox().width,G.attr({x:j,y:R}),j+=G.getBBox().width),G});[M,...D].forEach((B,$)=>{if($===D.length)return;const U=Object.assign({},B.attributes);B.attr("cursor","pointer"),B.addEventListener("mouseenter",()=>{B.attr(r.active)}),B.addEventListener("mouseleave",()=>{B.attr(U)}),B.addEventListener("click",()=>{b(B.name,_e(B,["style","depth"]))})})}o("drillDown",M=>{const{marks:T}=M,C=T.map(R=>{if(R.id!==Kv&&R.type!=="rect")return R;const{data:j}=R,I=Object.fromEntries(["color"].map(B=>[B,{domain:l.scale[B].getOptions().domain}])),D=j.filter(B=>{const $=B.path;return n||(B[OO]=$.split(" / ")[A]),E?new RegExp(`^${E}.+`).test($):!0});return wt({},R,n?{data:D,scale:I}:{data:D})});return Object.assign(Object.assign({},M),{marks:C})}),yield a()}),x=E=>{const A=E.target;if(_e(A,["style",rR])!==Kv||_e(A,["markType"])!=="rect"||!_e(A,["style",k1]))return;const M=_e(A,["__data__","key"]),T=_e(A,["style","depth"]);A.style.cursor="pointer",b(M,T)};d.addEventListener("click",x);const _=mC(Object.assign(Object.assign({},v.active),v.inactive)),w=()=>{U2t(d).forEach(A=>{const M=_e(A,["style",k1]);if(_e(A,["style","cursor"])!=="pointer"&&M){A.style.cursor="pointer";const C=xC(A.attributes,_);A.addEventListener("mouseenter",()=>{A.attr(v.active)}),A.addEventListener("mouseleave",()=>{A.attr(wt(C,v.inactive))})}})};return d.addEventListener("mousemove",w),()=>{g.remove(),d.removeEventListener("click",x),d.removeEventListener("mousemove",w)}}}function q2t(){return{"interaction.drillDown":Y2t,"mark.sunburst":PG}}var SO=function(){return SO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},SO.apply(this,arguments)},W2t=zxt(p2t,SO(SO({},SG()),q2t())),Fm=function(){return Fm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fm.apply(this,arguments)},Tn=function(t){var e=V2t(t),n=e.children,r=n===void 0?[]:n,i=dt.omit(e,[].concat(jG,AO.map(function(c){return c.key}))),a=function(c){var u;return(u=t_t.find(function(d){return d.key===c}))===null||u===void 0?void 0:u.callback},o=function(c,u,d){var h=a(u);h?h(c,u,d):c[u]=tf({},c[u],d)},s=function(c){Object.keys(c).forEach(function(u){if(c[u]){var d=AO.find(function(w){return w.key===u});if(d){var h=d.type,v=d.extendedProperties,g=d.defaultShapeConfig,b=g===void 0?{}:g;if(h){var x=c[u].tooltip;r.push(l(tf({},dt.pick(c,v),b,{type:h},c[u],{tooltip:x||!1})))}else if(dt.isArray(c[u])){var _=c[u].some(function(w){return w.type==="text"});c[u].forEach(function(w){r.push(l(Fm(Fm(Fm({},_?{data:[]}:{}),{tooltip:!1}),w)))})}}}})},l=function(c){return s(c),Object.keys(Gk).forEach(function(u){var d=Gk[u];if(!dt.isUndefined(c[u]))if(dt.isObject(d)){var h=d.value,v=d.target,g=h(c[u]);o(c,v,g)}else dt.set(c,d,c[u])}),c};return r.forEach(function(c){var u=tf({},i,c);l(tf(c,u))}),s(e),X2t(e),t},xD=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},X2t=function(t){var e=t.children,n=e===void 0?[]:e,r=Object.keys(Gk).concat(AO.map(function(i){return i.key}));return r.forEach(function(i){delete t[i]}),n.forEach(function(i){Object.keys(i).forEach(function(a){r.includes(a)&&delete i[a]})}),Object.keys(t).forEach(function(i){xD(xD([],jG,!0),Yk.map(function(a){return a.key}),!0).includes(i)||delete t[i]}),t},V2t=function(t){var e=t.options,n=e.children,r=n===void 0?[]:n;return r.forEach(function(i){Object.keys(i).forEach(function(a){dt.isArray(i[a])&&a!=="data"&&(i[a]=i[a].filter(function(o){return!o[aw]}))})}),e},_D=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},K2t=function(t,e){if(dt.isArray(e))return e},tf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dt.mergeWith.apply(void 0,_D(_D([],t,!1),[K2t],!1))};function EO(t){switch(typeof t){case"function":return t;case"string":return function(e){return dt.get(e,[t])};default:return function(){return t}}}var $S=function(t){var e=t.options,n=e.data;return dt.get(n,"value")||dt.get(n,"type")!=="fetch"&&dt.isPlainObject(n)&&dt.set(e,"data.value",n),t},Zv=function(){return Zv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zv.apply(this,arguments)},Z2t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Q2t=["renderer","plugins"],jG=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction","plugins"],aw="__transform__",J2t="__skipDelCustomKeys__",zu=function(t,e){return dt.isBoolean(e)?{type:t,available:e}:Zv({type:t},e)},Gk={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",y1Field:"encode.y1",sizeField:"encode.size",setsField:"encode.sets",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",coordinateType:"coordinate.type",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(t){return zu("stackY",t)}},normalize:{target:"transform",value:function(t){return zu("normalizeY",t)}},percent:{target:"transform",value:function(t){return zu("normalizeY",t)}},group:{target:"transform",value:function(t){return zu("dodgeX",t)}},sort:{target:"transform",value:function(t){return zu("sortX",t)}},symmetry:{target:"transform",value:function(t){return zu("symmetryY",t)}},diff:{target:"transform",value:function(t){return zu("diffY",t)}},meta:{target:"scale",value:function(t){return t}},label:{target:"labels",value:function(t){return t}},shape:"style.shape",connectNulls:{target:"style",value:function(t){return dt.isBoolean(t)?{connect:t}:t}},transpose:{target:"transpose",value:function(t){return zu("transpose",t)}}},IM=["xField","yField","seriesField","colorField","shapeField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],AO=[{key:"annotations",extendedProperties:[]},{key:"line",type:"line",extendedProperties:IM},{key:"connector",type:"connector",extendedProperties:[]},{key:"point",type:"point",extendedProperties:IM,defaultShapeConfig:{shapeField:"circle"}},{key:"area",type:"area",extendedProperties:IM}],t_t=[{key:"transform",callback:function(t,e,n){var r;t[e]=t[e]||[];var i=n.available,a=i===void 0?!0:i,o=Z2t(n,["available"]);if(a)t[e].push(Zv((r={},r[aw]=!0,r),o));else{var s=t[e].indexOf(function(l){return l.type===n.type});s!==-1&&t[e].splice(s,1)}}},{key:"labels",callback:function(t,e,n){var r;if(!n||dt.isArray(n)){t[e]=n||[];return}n.text||(n.text=t.yField),t[e]=t[e]||[],t[e].push(Zv((r={},r[aw]=!0,r),n))}},{key:"transpose",callback:function(t,e,n){var r;n.available?t.coordinate={transform:[Zv((r={},r[aw]=!0,r),n)]}:t.coordinate={}}}],Yk=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],e_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),MO=function(){return MO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},MO.apply(this,arguments)},n_t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},LG=(function(t){e_t(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=n_t(n,["style"]);return t.call(this,MO({style:MO({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},r)},i))||this}return e})(es),r_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),TO=function(){return TO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},TO.apply(this,arguments)},i_t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},a_t=(function(t){r_t(e,t);function e(n){n===void 0&&(n={});var r=n.style,i=i_t(n,["style"]);return t.call(this,TO({style:TO({fill:"#eee"},r)},i))||this}return e})(Dh),o_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),NG=(function(t){o_t(e,t);function e(n,r,i){var a=t.call(this,{style:tf(i,r)})||this;return a.chart=n,a}return e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},e.prototype.disconnectedCallback=function(){},e.prototype.attributeChangedCallback=function(n){},e.prototype.update=function(n,r){var i;return this.attr(tf({},this.attributes,n||{})),(i=this.render)===null||i===void 0?void 0:i.call(this,this.attributes,this,r)},e.prototype.clear=function(){this.removeChildren()},e.prototype.getElementsLayout=function(){var n=this.chart.getContext().canvas,r=n.document.getElementsByClassName("element"),i=[];return r.forEach(function(a){var o=a.getBBox(),s=o.x,l=o.y,c=o.width,u=o.height,d=a.__data__;i.push({bbox:o,x:s,y:l,width:c,height:u,key:d.key,data:d})}),i},e.prototype.bindEvents=function(n,r){},e})(Y1),s_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),kO=function(){return kO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kO.apply(this,arguments)},l_t=(function(t){s_t(e,t);function e(n,r){return t.call(this,n,r,{type:e.tag})||this}return e.prototype.getConversionTagLayout=function(){var n=this.direction==="vertical",r=this.getElementsLayout(),i=r[0],a=i.x,o=i.y,s=i.height,l=i.width,c=i.data,u=["items",0,"value"],d=dt.get(c,u),h=n?r[1].y-o-s:r[1].x-a-l,v=[],g=this.attributes,b=g.size,x=b===void 0?40:b,_=g.arrowSize,w=_===void 0?20:_,E=g.spacing,A=E===void 0?4:E;return r.forEach(function(M,T){if(T>0){var C=M.x,R=M.y,j=M.height,I=M.width,D=M.data,B=M.key,$=dt.get(D,u),U=x/2;if(n){var G=C+I/2,F=R;v.push({points:[[G+U,F-h+A],[G+U,F-w-A],[G,F-A],[G-U,F-w-A],[G-U,F-h+A]],center:[G,F-h/2],width:h,value:[d,$],key:B})}else{var G=C,F=R+j/2;v.push({points:[[C-h+A,F-U],[C-w-A,F-U],[G-A,F],[C-w-A,F+U],[C-h+A,F+U]],center:[G-h/2,F],width:h,value:[d,$],key:B})}d=$}}),v},e.prototype.render=function(){this.setDirection(),this.drawConversionTag()},e.prototype.setDirection=function(){var n=this.chart.getCoordinate(),r=dt.get(n,"options.transformations"),i="horizontal";r.forEach(function(a){a.includes("transpose")&&(i="vertical")}),this.direction=i},e.prototype.drawConversionTag=function(){var n=this,r=this.getConversionTagLayout(),i=this.attributes,a=i.style,o=i.text,s=o.style,l=o.formatter;r.forEach(function(c){var u=c.points,d=c.center,h=c.value,v=c.key,g=h[0],b=h[1],x=d[0],_=d[1],w=new a_t({style:kO({points:u,fill:"#eee"},a),id:"polygon-".concat(v)}),E=new LG({style:kO({x,y:_,text:dt.isFunction(l)?l(g,b):(b/g*100).toFixed(2)+"%"},s),id:"text-".concat(v)});n.appendChild(w),n.appendChild(E)})},e.prototype.update=function(){var n=this,r=this.getConversionTagLayout();r.forEach(function(i){var a=i.points,o=i.center,s=i.key,l=o[0],c=o[1],u=n.getElementById("polygon-".concat(s)),d=n.getElementById("text-".concat(s));u.setAttribute("points",a),d.setAttribute("x",l),d.setAttribute("y",c)})},e.prototype.destroy=function(){this.clear()},e.tag="ConversionTag",e})(NG),qk=32,wD=16,OD=48,c_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Um=function(){return Um=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Um.apply(this,arguments)},u_t=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},f_t=(function(t){c_t(e,t);function e(n,r){return t.call(this,n,r,{type:e.tag})||this}return e.prototype.render=function(){this.drawText()},e.prototype.getBidirectionalBarAxisTextLayout=function(){var n=this.attributes.layout,r=n==="vertical",i=this.getElementsLayout(),a=r?dt.uniqBy(i,"x"):dt.uniqBy(i,"y"),o=["title"],s=[],l=this.chart.getContext().views,c=dt.get(l,[0,"layout"]),u=c.width,d=c.height;return a.forEach(function(h){var v=h.x,g=h.y,b=h.height,x=h.width,_=h.data,w=h.key,E=dt.get(_,o);r?s.push({x:v+x/2,y:d,text:E,key:w}):s.push({x:u,y:g+b/2,text:E,key:w})}),dt.uniqBy(s,"text").length!==s.length&&(s=Object.values(dt.groupBy(s,"text")).map(function(h){var v,g=h.reduce(function(b,x){return b+(r?x.x:x.y)},0);return Um(Um({},h[0]),(v={},v[r?"x":"y"]=g/h.length,v))})),s},e.prototype.transformLabelStyle=function(n){var r={},i=/^label[A-Z]/;return Object.keys(n).forEach(function(a){i.test(a)&&(r[a.replace("label","").replace(/^[A-Z]/,function(o){return o.toLowerCase()})]=n[a])}),r},e.prototype.drawText=function(){var n=this,r=this.getBidirectionalBarAxisTextLayout(),i=this.attributes,a=i.layout,o=i.labelFormatter,s=u_t(i,["layout","labelFormatter"]);r.forEach(function(l){var c=l.x,u=l.y,d=l.text,h=l.key,v=new LG({style:Um({x:c,y:u,text:dt.isFunction(o)?o(d):d,wordWrap:!0,wordWrapWidth:a==="horizontal"?qk*2:120,maxLines:2,textOverflow:"ellipsis"},n.transformLabelStyle(s)),id:"text-".concat(h)});n.appendChild(v)})},e.prototype.destroy=function(){this.clear()},e.prototype.update=function(){this.destroy(),this.drawText()},e.tag="BidirectionalBarAxisText",e})(NG),d_t={ConversionTag:l_t,BidirectionalBarAxisText:f_t},h_t=(function(){function t(e,n){this.container=new Map,this.chart=e,this.config=n,this.init()}return t.prototype.init=function(){var e=this;Yk.forEach(function(n){var r,i=n.key,a=n.shape,o=e.config[i];if(o){var s=new d_t[a](e.chart,o),l=e.chart.getContext().canvas;l.appendChild(s),e.container.set(i,s)}else(r=e.container.get(i))===null||r===void 0||r.clear()})},t.prototype.update=function(){var e=this;this.container.size&&Yk.forEach(function(n){var r=n.key,i=e.container.get(r);i?.update()})},t.prototype.destroy=function(){this.container.forEach(function(e){e.destroy()}),this.container.clear()},t})(),p_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Dv=function(){return Dv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dv.apply(this,arguments)},SD="data-chart-source-type",gn=(function(t){p_t(e,t);function e(n,r){var i=t.call(this)||this;return i.eventListeners=[],i.bindedEvents=!1,i.container=typeof n=="string"?document.getElementById(n):n,i.options=i.mergeOption(r),i.createG2(),i.bindEvents(),i}return e.prototype.getChartOptions=function(){return Dv(Dv({},dt.pick(this.options,Q2t)),{container:this.container})},e.prototype.getSpecOptions=function(){return this.type==="base"||this[J2t]?Dv(Dv({},this.options),this.getChartOptions()):this.options},e.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new W2t(this.getChartOptions()),this.container.setAttribute(SD,"Ant Design Charts")},e.prototype.bindEvents=function(){var n=this;if(this.chart){var r=function(i){i?.type&&n.emit(i.type,i)};this.chart.on("*",r),this.eventListeners.push(function(){var i;(i=n.chart)===null||i===void 0||i.off("*",r)})}},e.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},e.prototype.getDefaultOptions=function(){},e.prototype.render=function(){var n=this;this.type!=="base"&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){n.annotation=new h_t(n.chart,n.options),n.bindSizeSensor()})},e.prototype.update=function(n){this.options=this.mergeOption(n)},e.prototype.mergeOption=function(n){return tf({},this.getBaseOptions(),this.getDefaultOptions(),n)},e.prototype.changeData=function(n){this.chart.changeData(n)},e.prototype.changeSize=function(n,r){this.chart.changeSize(n,r)},e.prototype.destroy=function(){this.eventListeners.forEach(function(n){return n()}),this.eventListeners=[],this.annotation&&typeof this.annotation.destroy=="function"&&this.annotation.destroy(),this.annotation=null,this.chart.destroy(),this.off(),this.bindedEvents=!1,this.container.removeAttribute(SD)},e.prototype.execAdaptor=function(){var n=this.getSchemaAdaptor();n({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var n=this;if(!this.bindedEvents){var r=this.options.autoFit,i=r===void 0?!0:r;if(i){var a=function(){n.annotation&&n.annotation.update()};this.chart.on(bn.AFTER_CHANGE_SIZE,a),this.eventListeners.push(function(){var o;(o=n.chart)===null||o===void 0||o.off(bn.AFTER_CHANGE_SIZE,a)}),this.bindedEvents=!0}}},e})(i3),v_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),g_t=(function(t){v_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="base",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return function(n){return n}},e})(gn),Wk=function(){return Wk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wk.apply(this,arguments)};function y_t(t){var e=t.options,n=e.stack,r=e.tooltip,i=e.xField;if(!n)return t;var a=AO.map(function(s){return s.type}).filter(function(s){return!!s}),o=!1;return a.forEach(function(s){e[s]&&(o=!0,dt.set(e,[s,"stack"],Wk({y1:"y"},typeof n=="object"?n:{})))}),o&&!dt.isBoolean(r)&&!r&&dt.set(e,"tooltip",{title:i,items:[{channel:"y"}]}),t}function Lr(t){return dt.flow(y_t)(t)}function m_t(t){var e=t.options.layout,n=e===void 0?"horizontal":e;return t.options.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}],t}function b_t(t){m_t(t);var e=t.options.layout,n=e===void 0?"horizontal":e;return t.options.children.forEach(function(r){var i;!((i=r?.coordinate)===null||i===void 0)&&i.transform&&(r.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}])}),t}function x_t(t){return dt.flow(Lr,Tn)(t)}var __t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),w_t=(function(t){__t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="area",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return x_t},e})(gn),Iv=function(){return Iv=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Iv.apply(this,arguments)};function DG(t){var e=function(n){var r=n.options;dt.get(r,"children.length")>1&&dt.set(r,"children",[{type:"interval"}]);var i=r.scale,a=r.markBackground,o=r.data,s=r.children,l=r.yField,c=dt.get(i,"y.domain",[]);if(a&&c.length&&dt.isArray(o)){var u="domainMax",d=o.map(function(h){var v;return Iv(Iv({originData:Iv({},h)},dt.omit(h,l)),(v={},v[u]=c[c.length-1],v))});s.unshift(Iv({type:"interval",data:d,yField:u,tooltip:!1,style:{fill:"#eee"},label:!1},a))}return n};return dt.flow(e,Lr,Tn)(t)}var O_t=function(){var t=function(e,n){return function(r){var i=e.fill,a=i===void 0?"#2888FF":i,o=e.stroke,s=e.fillOpacity,l=s===void 0?1:s,c=e.strokeOpacity,u=c===void 0?.2:c,d=e.pitch,h=d===void 0?8:d,v=r[0],g=r[1],b=r[2],x=r[3],_=(g[1]-v[1])/2,w=n.document,E=w.createElement("g",{}),A=w.createElement("polygon",{style:{points:[v,[v[0]-h,v[1]+_],[b[0]-h,v[1]+_],x],fill:a,fillOpacity:l,stroke:o,strokeOpacity:u,inset:30}}),M=w.createElement("polygon",{style:{points:[[v[0]-h,v[1]+_],g,b,[b[0]-h,v[1]+_]],fill:a,fillOpacity:l,stroke:o,strokeOpacity:u}}),T=w.createElement("polygon",{style:{points:[v,[v[0]-h,v[1]+_],g,[v[0]+h,v[1]+_]],fill:a,fillOpacity:l-.2}});return E.appendChild(A),E.appendChild(M),E.appendChild(T),E}};AG("shape.interval.bar25D",t)},S_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();O_t();var E_t=(function(t){S_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Bar",n}return e.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return DG},e})(gn),A_t=function(){var t=function(e,n){return function(r){var i=e.fill,a=i===void 0?"#2888FF":i,o=e.stroke,s=e.fillOpacity,l=s===void 0?1:s,c=e.strokeOpacity,u=c===void 0?.2:c,d=e.pitch,h=d===void 0?8:d,v=r[1][0]-r[0][0],g=v/2+r[0][0],b=n.document,x=b.createElement("g",{}),_=b.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[g,r[1][1]+h],[g,r[3][1]+h],[r[3][0],r[3][1]]],fill:a,fillOpacity:l,stroke:o,strokeOpacity:u,inset:30}}),w=b.createElement("polygon",{style:{points:[[g,r[1][1]+h],[r[1][0],r[1][1]],[r[2][0],r[2][1]],[g,r[2][1]+h]],fill:a,fillOpacity:l,stroke:o,strokeOpacity:u}}),E=b.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[g,r[1][1]-h],[r[1][0],r[1][1]],[g,r[1][1]+h]],fill:a,fillOpacity:l-.2}});return x.appendChild(w),x.appendChild(_),x.appendChild(E),x}};AG("shape.interval.column25D",t)},M_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})();A_t();var T_t=(function(t){M_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="column",n}return e.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return DG},e})(gn);function k_t(t){var e=function(r){var i=r.options,a=i.children,o=a===void 0?[]:a,s=i.legend;return s&&o.forEach(function(l){if(!dt.get(l,"colorField")){var c=dt.get(l,"yField");dt.set(l,"colorField",function(){return c})}}),r},n=function(r){var i=r.options,a=i.annotations,o=a===void 0?[]:a,s=i.children,l=s===void 0?[]:s,c=i.scale,u=!1;return dt.get(c,"y.key")||l.forEach(function(d,h){if(!dt.get(d,"scale.y.key")){var v="child".concat(h,"Scale");dt.set(d,"scale.y.key",v);var g=d.annotations,b=g===void 0?[]:g;b.length>0&&(dt.set(d,"scale.y.independent",!1),b.forEach(function(x){dt.set(x,"scale.y.key",v)})),!u&&o.length>0&&dt.get(d,"scale.y.independent")===void 0&&(u=!0,dt.set(d,"scale.y.independent",!1),o.forEach(function(x){dt.set(x,"scale.y.key",v)}))}}),r};return dt.flow(e,n,Lr,Tn)(t)}var C_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ED=(function(t){C_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="DualAxes",n}return e.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return k_t},e})(gn);function R_t(t){var e=function(a){var o=a.options,s=o.xField,l=o.colorField;return l||dt.set(o,"colorField",s),a},n=function(a){var o=a.options,s=o.compareField,l=o.transform,c=o.isTransposed,u=c===void 0?!0:c,d=o.coordinate;return l||(s?dt.set(o,"transform",[]):dt.set(o,"transform",[{type:"symmetryY"}])),!d&&u&&dt.set(o,"coordinate",{transform:[{type:"transpose"}]}),a},r=function(a){var o=a.options,s=o.compareField,l=o.seriesField,c=o.data,u=o.children,d=o.yField,h=o.isTransposed,v=h===void 0?!0:h;if(s||l){var g=Object.values(dt.groupBy(c,function(b){return b[s||l]}));u[0].data=g[0],u.push({type:"interval",data:g[1],yField:function(b){return-b[d]}}),delete o.compareField,delete o.data}return l&&(dt.set(o,"type","spaceFlex"),dt.set(o,"ratio",[1,1]),dt.set(o,"direction",v?"row":"col"),delete o.seriesField),a},i=function(a){var o=a.options,s=o.tooltip,l=o.xField,c=o.yField;return s||dt.set(o,"tooltip",{title:!1,items:[function(u){return{name:u[l],value:u[c]}}]}),a};return dt.flow(e,n,r,i,Lr,Tn)(t)}var P_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),j_t=(function(t){P_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="column",n}return e.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return R_t},e})(gn);function L_t(t){return dt.flow(Lr,Tn)(t)}var N_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),D_t=(function(t){N_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="line",n}return e.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return L_t},e})(gn),zo=function(){return zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zo.apply(this,arguments)};function I_t(t){var e=function(n){var r=n.options,i=r.angleField,a=r.data,o=r.label,s=r.tooltip,l=r.colorField,c=EO(l);if(dt.isArray(a)&&a.length>0){var u=a.reduce(function(v,g){return v+g[i]},0);if(u===0){var d=a.map(function(v){var g;return zo(zo({},v),(g={},g[i]=1,g))});if(dt.set(r,"data",d),o){var h=l===dt.get(o,"text");dt.set(r,"label",zo(zo({},o),h?{}:{formatter:function(){return 0}}))}s!==!1&&(dt.isFunction(s)?dt.set(r,"tooltip",function(v,g,b){var x;return s(zo(zo({},v),(x={},x[i]=0,x)),g,b.map(function(_){var w;return zo(zo({},_),(w={},w[i]=0,w))}))}):dt.set(r,"tooltip",zo(zo({},s),{items:[function(v,g,b){return{name:c(v,g,b),value:0}}]})))}}return n};return dt.flow(e,Tn)(t)}var B_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$_t=(function(t){B_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="pie",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return I_t},e})(gn);function z_t(t){return dt.flow(Lr,Tn)(t)}var F_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),U_t=(function(t){F_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="scatter",n}return e.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return z_t},e})(gn);function H_t(t){var e=function(n){return dt.set(n,"options.coordinate",{type:dt.get(n,"options.coordinateType","polar")}),n};return dt.flow(e,Tn)(t)}var G_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Y_t=(function(t){G_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radar",n}return e.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return H_t},e})(gn);function q_t(t){var e=function(n){var r=n.options,i=r.yField,a=r.children,o=r.style,s=o===void 0?{}:o,l=r.lineStyle,c=l===void 0?{}:l,u=i[0],d=i[1],h=i[2],v=i[3];return dt.set(a,[0,"yField"],[h,v]),dt.set(a,[0,"style"],c),dt.set(a,[1,"yField"],[u,d]),dt.set(a,[1,"style"],s),delete r.yField,delete r.lineStyle,delete r.style,n};return dt.flow(e,Tn)(t)}var W_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),X_t=["#26a69a","#999999","#ef5350"],V_t=(function(t){W_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="stock",n}return e.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:X_t},y:{nice:!0}},children:[{type:"link"},{type:"interval"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return q_t},e})(gn);function K_t(t){return dt.flow(Lr,Tn)(t)}var Z_t=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Q_t=(function(t){Z_t(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyLine",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],animate:{enter:{type:"growInX",duration:500}},padding:0,margin:0,tooltip:!1}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return K_t},e})(gn);function J_t(t){return dt.flow(Lr,Tn)(t)}var twt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ewt=(function(t){twt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyArea",n}return e.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return J_t},e})(gn);function nwt(t){return dt.flow(Lr,Tn)(t)}var rwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),iwt=(function(t){rwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyColumn",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return nwt},e})(gn),Xk=function(){return Xk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xk.apply(this,arguments)};function awt(t){var e=function(n){var r=n.options,i=r.percent,a=r.color,o=a===void 0?[]:a;if(!i)return n;var s={scale:{color:{range:o.length?o:[]}},data:[1,i]};return Object.assign(r,Xk({},s)),n};return dt.flow(e,Lr,Tn)(t)}var owt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),swt=(function(t){owt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyProgress",n}return e.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return awt},e})(gn),Vk=function(){return Vk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vk.apply(this,arguments)};function lwt(t){var e=function(r){var i=r.options,a=i.radius,o=a===void 0?.8:a;return dt.set(r,"options.coordinate.innerRadius",o),r},n=function(r){var i=r.options,a=i.percent,o=i.color,s=o===void 0?[]:o;if(!a)return r;var l={scale:{color:{range:s.length?s:[]}},data:[1,a]};return Object.assign(i,Vk({},l)),r};return dt.flow(e,n,Lr,Tn)(t)}var cwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),uwt=(function(t){cwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="TinyRing",n}return e.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lwt},e})(gn);function fwt(t){return dt.flow(Tn)(t)}var dwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),hwt=(function(t){dwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="rose",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return fwt},e})(gn),BM="__start__",Fu="__end__",Kk="__waterfall_value__",CO=function(){return CO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},CO.apply(this,arguments)},pwt=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};function vwt(t){var e=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,l=a.yField;return s.length&&(s.reduce(function(c,u,d){var h,v=EO(l),g=v(u,d,s);if(d===0||u.isTotal)u[BM]=0,u[Fu]=g,u[Kk]=g;else{var b=(h=c[Fu])!==null&&h!==void 0?h:v(c,d,s);u[BM]=b,u[Fu]=b+g,u[Kk]=c[Fu]}return u},[]),Object.assign(a,{yField:[BM,Fu]})),i},n=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,l=a.xField,c=a.children,u=a.linkStyle,d=pwt([],s,!0);return d.reduce(function(h,v,g){return g>0&&(v.x1=h[l],v.x2=v[l],v.y1=h[Fu]),v},[]),d.shift(),c.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:d,style:CO({stroke:"#697474"},u),label:!1,tooltip:!1}),i},r=function(i){var a=i.options,o=a.data,s=o===void 0?[]:o,l=a.connector;return l&&dt.set(a,"connector",CO({xField:l.reverse?["x2","x1"]:["x1","x2"],yField:l.reverse?["y2","y1"]:["y1","y2"],data:[{x1:s[0].x,y1:s[0][Fu],x2:s[s.length-1].x,y2:s[s.length-1][Fu]}]},dt.isObject(l)?l:{})),i};return dt.flow(e,n,Lr,r,Tn)(t)}var gwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),ywt=(function(t){gwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="waterfall",n}return e.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:Kk,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return vwt},e})(gn);function mwt(t){var e=function(n){var r=n.options,i=r.data,a=r.binNumber,o=r.binWidth,s=r.children,l=r.channel,c=l===void 0?"count":l,u=dt.get(s,"[0].transform[0]",{});return dt.isNumber(o)?(dt.assign(u,{thresholds:dt.ceil(dt.divide(i.length,o)),y:c}),n):(dt.isNumber(a)&&dt.assign(u,{thresholds:a,y:c}),n)};return dt.flow(e,Lr,Tn)(t)}var bwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),xwt=(function(t){bwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Histogram",n}return e.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return mwt},e})(gn);function _wt(t){var e=function(r){var i=r.options,a=i.tooltip,o=a===void 0?{}:a,s=i.colorField,l=i.sizeField;return o&&!o.field&&(o.field=s||l),r},n=function(r){var i=r.options,a=i.mark,o=i.children;return a&&(o[0].type=a),r};return dt.flow(e,n,Lr,Tn)(t)}var wwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Owt=(function(t){wwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="heatmap",n}return e.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _wt},e})(gn);function Swt(t){var e=function(n){var r=n.options.boxType,i=r===void 0?"box":r;return n.options.children[0].type=i,n};return dt.flow(e,Lr,Tn)(t)}var Ewt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Awt=(function(t){Ewt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="box",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Swt},e})(gn),Mwt=function(t){var e=t.options,n=e.data,r=[{type:"custom",callback:function(a){return{links:a}}}];if(dt.isArray(n))n.length>0?dt.set(e,"data",{value:n,transform:r}):delete e.children;else if(dt.get(n,"type")==="fetch"&&dt.get(n,"value")){var i=dt.get(n,"transform");dt.isArray(i)||dt.set(n,"transform",r)}return t};function Twt(t){return dt.flow($S,Mwt,Lr,Tn)(t)}var kwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Cwt=(function(t){kwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="sankey",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Twt},e})(gn),ih=function(){return ih=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ih.apply(this,arguments)},ow=["#f0efff","#5B8FF9","#3D76DD"];function $M(t,e,n,r){r===void 0&&(r=!0);var i=0,a=!1,o=dt.map(t,function(s){var l,c,u=dt.get(s,[e]);if(dt.isNil(u))return[];if(dt.isString(u)){var d=Number(u);return isNaN(d)?[]:(l={},l[n]=s[n],l[e]=d,l)}return dt.isArray(u)?(a=!0,i=Math.max(i,u.length),dt.map(r?u.sort(function(h,v){return v-h}):u,function(h,v){var g;return g={},g[n]=s[n],g[e]=h,g.index=v,g})):(i=Math.max(1,i),c={},c[n]=s[n],c[e]=u,c)}).flat();return a?[o.map(function(s){return ih({index:0},s)}),i]:[o,i]}function zM(t,e){return new Array(t).fill("").map(function(n,r){return dt.isArray(e)?e[r%e.length]:e})}function Rwt(t){var e=function(i){var a=i.options,o=a.color,s=a.rangeField,l=s===void 0?"ranges":s,c=a.measureField,u=c===void 0?"measures":c,d=a.targetField,h=d===void 0?"targets":d,v=a.xField,g=v===void 0?"title":v,b=a.mapField,x=a.data,_=$M(x,l,g),w=_[0],E=_[1],A=$M(x,u,g,!1),M=A[0],T=A[1],C=$M(x,h,g,!1),R=C[0],j=C[1],I=dt.get(o,[l],ow[0]),D=dt.get(o,[u],ow[1]),B=dt.get(o,[h],ow[2]),$=[zM(E,I),zM(T,D),zM(j,B)].flat();return a.children=dt.map(a.children,function(U,G){var F=[w,M,R][G],H=[l,u,h][G];return ih(ih({},U),{data:F,encode:ih(ih({},U.encode||{}),{x:g,y:H,color:function(Y){var W=Y.index,V=dt.isNumber(W)?"".concat(H,"_").concat(W):H;return b?dt.get(b,[H,W],V):V}})})}),dt.set(a,"scale.color.range",$),a.legend.color.itemMarker=function(U){return b&&dt.includes(b?.[h],U)||U?.replace(/\_\d$/,"")===h?"line":"square"},i},n=function(i){var a=i.options.transpose,o=a===void 0?!0:a;return o||dt.set(i,"options.children[2].shapeField","hyphen"),i},r=function(i){var a=i.options,o=a.range,s=o===void 0?{}:o,l=a.measure,c=l===void 0?{}:l,u=a.target,d=u===void 0?{}:u,h=a.children;return a.children=[s,c,d].map(function(v,g){return tf(h[g],v)}),i};return dt.flow(e,n,r,b_t,Tn)(t)}var Pwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),jwt=(function(t){Pwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="bullet",n}return e.getDefaultOptions=function(){return{type:"view",scale:{color:{range:ow}},legend:{color:{itemMarker:function(n){return n==="targets"?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30,zIndex:-2},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20,zIndex:-1},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Rwt},e})(gn);function Lwt(t){var e=function(n){var r=n.options.data;return n.options.data={value:r},n};return dt.flow(e,Lr,Tn)(t)}var Nwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Dwt=(function(t){Nwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Gauge",n}return e.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Lwt},e})(gn);function Iwt(t){var e=function(n){var r=n.options.percent;return dt.isNumber(r)&&(dt.set(n,"options.data",r),delete n.options.percent),n};return dt.flow(e,Lr,Tn)(t)}var Bwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),$wt=(function(t){Bwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Liquid",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Iwt},e})(gn);function zwt(t){return dt.flow(Lr,Tn)(t)}var Fwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Uwt=(function(t){Fwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="WordCloud",n}return e.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return zwt},e})(gn);function Hwt(t){return dt.flow($S,Lr,Tn)(t)}var Gwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ywt=(function(t){Gwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="treemap",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Hwt},e})(gn),qu=function(){return qu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qu.apply(this,arguments)},qwt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Wwt(t){var e=function(i){var a=i.options,o=a.startAngle,s=a.maxAngle,l=a.coordinate,c=dt.isNumber(o)?o/(2*Math.PI)*360:-90,u=dt.isNumber(s)?(Number(s)+c)/180*Math.PI:Math.PI;return dt.set(i,["options","coordinate"],qu(qu({},l),{endAngle:u,startAngle:o??-Math.PI/2})),i},n=function(i){var a=i.options,o=a.tooltip,s=a.xField,l=a.yField,c=EO(s),u=EO(l);return o||dt.set(a,"tooltip",{title:!1,items:[function(d,h,v){return{name:c(d,h,v),value:u(d,h,v)}}]}),i},r=function(i){var a=i.options,o=a.markBackground,s=a.children,l=a.scale,c=a.coordinate,u=a.xField,d=dt.get(l,"y.domain",[]);if(o){var h=o.style,v=qwt(o,["style"]);s.unshift(qu({type:"interval",xField:u,yField:d[d.length-1],style:qu({fillOpacity:.4,fill:"#e0e4ee"},h),coordinate:qu(qu({},c),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},v))}return i};return dt.flow(e,n,r,Lr,Tn)(t)}var Xwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Vwt=(function(t){Xwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="radial",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Wwt},e})(gn);function Kwt(t){return dt.flow($S,Tn)(t)}var Zwt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Qwt=(function(t){Zwt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="CirclePacking",n}return e.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack",encode:{color:"depth"}}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Kwt},e})(gn),RO=function(){return RO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},RO.apply(this,arguments)};function FM(t,e){return t||e}function Jwt(t){var e=function(n){var r=n.options,i=r.xField,a=r.yField,o=r.colorField,s=r.seriesField,l=r.children,c=l?.map(function(u){return RO(RO({},u),{xField:i,yField:a,seriesField:FM(s,o),colorField:FM(o,s),data:u.type==="density"?{transform:[{type:"kde",field:a,groupBy:[i,FM(s,o)]}]}:u.data})}).filter(function(u){return r.box||u.type==="density"});return dt.set(r,"children",c),delete r.box,n};return dt.flow(e,Lr,Tn)(t)}var tOt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),eOt=(function(t){tOt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="violin",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Jwt},e})(gn),Hm=function(){return Hm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hm.apply(this,arguments)},nOt=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))};function rOt(t){var e=function(a){var o=a.options,s=o.yField,l=o.children;return l.forEach(function(c,u){dt.set(c,"yField",s[u])}),a},n=function(a){var o=a.options,s=o.yField,l=o.children,c=o.data;if(dt.isPlainObject(c))return a;var u=dt.isArray(dt.get(c,[0]))?c:[c,c];return l.forEach(function(d,h){dt.set(d,"data",nOt([],u[h].map(function(v){return Hm({groupKey:s[h]},v)}),!0))}),a},r=function(a){var o=a.options,s=o.yField,l=s[0],c=s[1],u=o.tooltip;return u||dt.set(o,"tooltip",{items:[{field:l,value:l},{field:c,value:c}]}),a},i=function(a){var o=a.options,s=o.children,l=o.layout,c=o.coordinate.transform,u=o.paddingBottom,d=u===void 0?OD:u,h=o.paddingLeft,v=h===void 0?OD:h,g=o.axis;dt.set(o,"axisText",Hm(Hm({},g?.x||{}),{layout:l}));var b=s[0],x=s[1];if(l==="vertical")dt.set(o,"direction","col"),dt.set(o,"paddingLeft",v),dt.set(o,"coordinate.transform",c.filter(function(M){return M.type!=="transpose"})),dt.set(b,"paddingBottom",wD),dt.set(x,"paddingTop",wD),dt.set(x,"axis.x.position","top"),dt.set(x,"scale.y.range",[0,1]);else{dt.set(o,"paddingBottom",d),dt.set(b,"scale.y.range",[0,1]);var _=b.paddingRight,w=_===void 0?qk:_,E=x.paddingLeft,A=E===void 0?qk:E;dt.set(b,"paddingRight",w),dt.set(b,"axis.x.position","right"),dt.set(x,"paddingLeft",A)}return a};return dt.flow(e,n,r,i,Lr,Tn)(t)}var iOt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),aOt=(function(t){iOt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="BidirectionalBar",n}return e.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return rOt},e})(gn),ef;(function(t){t.color="key",t.d="path"})(ef||(ef={}));function oOt(t){var e=function(n){var r=n.options,i=r.data,a=r.setsField,o=r.sizeField;return dt.isArray(i)&&(dt.set(r,"data",{type:"inline",value:i,transform:[{type:"venn",sets:a,size:o,as:[ef.color,ef.d]}]}),dt.set(r,"colorField",ef.color),dt.set(r,["children","0","encode","d"],ef.d)),n};return dt.flow(e,Tn)(t)}var sOt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),lOt=(function(t){sOt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="venn",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:ef.color,d:ef.d}}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return oOt},e})(gn);function cOt(t){return dt.flow($S,Tn)(t)}var uOt=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),fOt=(function(t){uOt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="Sunburst",n}return e.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return cOt},e})(gn),dOt={Base:g_t,Line:D_t,Column:T_t,Pie:$_t,Area:w_t,Bar:E_t,DualAxes:ED,Funnel:j_t,Scatter:U_t,Radar:Y_t,Rose:hwt,Stock:V_t,TinyLine:Q_t,TinyArea:ewt,TinyColumn:iwt,TinyProgress:swt,TinyRing:uwt,Waterfall:ywt,Histogram:xwt,Heatmap:Owt,Box:Awt,Sankey:Cwt,Bullet:jwt,Gauge:Dwt,Liquid:$wt,WordCloud:Uwt,Treemap:Ywt,RadialBar:Vwt,CirclePacking:Qwt,Violin:eOt,BidirectionalBar:aOt,Venn:lOt,Mix:ED,Sunburst:fOt},Gm=function(){return Gm=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gm.apply(this,arguments)},AD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},MD=te.forwardRef(function(t,e){var n=t.chartType,r=n===void 0?"Base":n,i=AD(t,["chartType"]),a=i.containerStyle,o=a===void 0?{height:"inherit",flex:1}:a,s=i.containerAttributes,l=s===void 0?{}:s,c=i.className,u=i.loading,d=i.loadingTemplate,h=i.errorTemplate,v=i.onReady,g=AD(i,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate","onReady"]),b=P2t(dOt[r],Gm(Gm({},g),{onReady:function(_){e&&(typeof e=="function"?e(_):e.current=_),v?.(_)}})),x=b.container;return Ja.createElement(A2t,{errorTemplate:h},u&&Ja.createElement(S2t,{loadingTemplate:d,theme:i.theme,loading:u}),Ja.createElement("div",Gm({className:c,style:o,ref:x},l)))}),hOt=te.createContext({});function pOt(){return te.useContext(hOt)}var Zk=function(){return Zk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zk.apply(this,arguments)};function vOt(t){var e=t.yField,n=t.data,r=dt.isArray(n)&&n.length>0&&dt.isString(e)&&!dt.get(t,"scale.y.domainMax"),i=Object.isFrozen(t)?Zk({},t):t;return r&&n.reduce(function(a,o){return a+o[e]},0)===0?dt.set(i,"scale.y.domainMax",1):r&&n.reduce(function(a,o){return a+o[e]},0)!==0&&dt.set(i,"scale.y.domainMax",void 0),i}var PO=function(){return PO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},PO.apply(this,arguments)};function IG(t){var e=t.charAt(0).toLowerCase()+t.slice(1);return te.forwardRef(function(n,r){var i=pOt(),a=dt.flow([vOt])(n);return!i||!i[e]?Ja.createElement(MD,PO({},a,{chartType:t,ref:r})):Ja.createElement(MD,PO({},i.common,i[e],a,{chartType:t,ref:r}))})}var gOt=IG("Bar"),yOt=IG("Column");function BG(t,e){return function(){return t.apply(e,arguments)}}const{toString:mOt}=Object.prototype,{getPrototypeOf:iR}=Object,{iterator:zS,toStringTag:$G}=Symbol,FS=(t=>e=>{const n=mOt.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Us=t=>(t=t.toLowerCase(),e=>FS(e)===t),US=t=>e=>typeof e===t,{isArray:Dg}=Array,wg=US("undefined");function ib(t){return t!==null&&!wg(t)&&t.constructor!==null&&!wg(t.constructor)&&eo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zG=Us("ArrayBuffer");function bOt(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&zG(t.buffer),e}const xOt=US("string"),eo=US("function"),FG=US("number"),ab=t=>t!==null&&typeof t=="object",_Ot=t=>t===!0||t===!1,sw=t=>{if(FS(t)!=="object")return!1;const e=iR(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($G in t)&&!(zS in t)},wOt=t=>{if(!ab(t)||ib(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},OOt=Us("Date"),SOt=Us("File"),EOt=Us("Blob"),AOt=Us("FileList"),MOt=t=>ab(t)&&eo(t.pipe),TOt=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||eo(t.append)&&((e=FS(t))==="formdata"||e==="object"&&eo(t.toString)&&t.toString()==="[object FormData]"))},kOt=Us("URLSearchParams"),[COt,ROt,POt,jOt]=["ReadableStream","Request","Response","Headers"].map(Us),LOt=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ob(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Dg(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(ib(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(r=0;r<o;r++)s=a[r],e.call(null,t[s],s,t)}}function UG(t,e){if(ib(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ah=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HG=t=>!wg(t)&&t!==ah;function Qk(){const{caseless:t,skipUndefined:e}=HG(this)&&this||{},n={},r=(i,a)=>{const o=t&&UG(n,a)||a;sw(n[o])&&sw(i)?n[o]=Qk(n[o],i):sw(i)?n[o]=Qk({},i):Dg(i)?n[o]=i.slice():(!e||!wg(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&ob(arguments[i],r);return n}const NOt=(t,e,n,{allOwnKeys:r}={})=>(ob(e,(i,a)=>{n&&eo(i)?t[a]=BG(i,n):t[a]=i},{allOwnKeys:r}),t),DOt=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),IOt=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},BOt=(t,e,n,r)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!r||r(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=n!==!1&&iR(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$Ot=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},zOt=t=>{if(!t)return null;if(Dg(t))return t;let e=t.length;if(!FG(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},FOt=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&iR(Uint8Array)),UOt=(t,e)=>{const r=(t&&t[zS]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},HOt=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},GOt=Us("HTMLFormElement"),YOt=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),TD=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),qOt=Us("RegExp"),GG=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ob(n,(i,a)=>{let o;(o=e(i,a,t))!==!1&&(r[a]=o||i)}),Object.defineProperties(t,r)},WOt=t=>{GG(t,(e,n)=>{if(eo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(eo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},XOt=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Dg(t)?r(t):r(String(t).split(e)),n},VOt=()=>{},KOt=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ZOt(t){return!!(t&&eo(t.append)&&t[$G]==="FormData"&&t[zS])}const QOt=t=>{const e=new Array(10),n=(r,i)=>{if(ab(r)){if(e.indexOf(r)>=0)return;if(ib(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Dg(r)?[]:{};return ob(r,(o,s)=>{const l=n(o,i+1);!wg(l)&&(a[s]=l)}),e[i]=void 0,a}}return r};return n(t,0)},JOt=Us("AsyncFunction"),tSt=t=>t&&(ab(t)||eo(t))&&eo(t.then)&&eo(t.catch),YG=((t,e)=>t?setImmediate:e?((n,r)=>(ah.addEventListener("message",({source:i,data:a})=>{i===ah&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ah.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",eo(ah.postMessage)),eSt=typeof queueMicrotask<"u"?queueMicrotask.bind(ah):typeof process<"u"&&process.nextTick||YG,nSt=t=>t!=null&&eo(t[zS]),Ot={isArray:Dg,isArrayBuffer:zG,isBuffer:ib,isFormData:TOt,isArrayBufferView:bOt,isString:xOt,isNumber:FG,isBoolean:_Ot,isObject:ab,isPlainObject:sw,isEmptyObject:wOt,isReadableStream:COt,isRequest:ROt,isResponse:POt,isHeaders:jOt,isUndefined:wg,isDate:OOt,isFile:SOt,isBlob:EOt,isRegExp:qOt,isFunction:eo,isStream:MOt,isURLSearchParams:kOt,isTypedArray:FOt,isFileList:AOt,forEach:ob,merge:Qk,extend:NOt,trim:LOt,stripBOM:DOt,inherits:IOt,toFlatObject:BOt,kindOf:FS,kindOfTest:Us,endsWith:$Ot,toArray:zOt,forEachEntry:UOt,matchAll:HOt,isHTMLForm:GOt,hasOwnProperty:TD,hasOwnProp:TD,reduceDescriptors:GG,freezeMethods:WOt,toObjectSet:XOt,toCamelCase:YOt,noop:VOt,toFiniteNumber:KOt,findKey:UG,global:ah,isContextDefined:HG,isSpecCompliantForm:ZOt,toJSONObject:QOt,isAsyncFn:JOt,isThenable:tSt,setImmediate:YG,asap:eSt,isIterable:nSt};function Le(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ot.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ot.toJSONObject(this.config),code:this.code,status:this.status}}});const qG=Le.prototype,WG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WG[t]={value:t}});Object.defineProperties(Le,WG);Object.defineProperty(qG,"isAxiosError",{value:!0});Le.from=(t,e,n,r,i,a)=>{const o=Object.create(qG);Ot.toFlatObject(t,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Le.call(o,s,l,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};const rSt=null;function Jk(t){return Ot.isPlainObject(t)||Ot.isArray(t)}function XG(t){return Ot.endsWith(t,"[]")?t.slice(0,-2):t}function kD(t,e,n){return t?t.concat(e).map(function(i,a){return i=XG(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function iSt(t){return Ot.isArray(t)&&!t.some(Jk)}const aSt=Ot.toFlatObject(Ot,{},null,function(e){return/^is[A-Z]/.test(e)});function HS(t,e,n){if(!Ot.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ot.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!Ot.isUndefined(x[b])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ot.isSpecCompliantForm(e);if(!Ot.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Ot.isDate(g))return g.toISOString();if(Ot.isBoolean(g))return g.toString();if(!l&&Ot.isBlob(g))throw new Le("Blob is not supported. Use a Buffer instead.");return Ot.isArrayBuffer(g)||Ot.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,b,x){let _=g;if(g&&!x&&typeof g=="object"){if(Ot.endsWith(b,"{}"))b=r?b:b.slice(0,-2),g=JSON.stringify(g);else if(Ot.isArray(g)&&iSt(g)||(Ot.isFileList(g)||Ot.endsWith(b,"[]"))&&(_=Ot.toArray(g)))return b=XG(b),_.forEach(function(E,A){!(Ot.isUndefined(E)||E===null)&&e.append(o===!0?kD([b],A,a):o===null?b:b+"[]",c(E))}),!1}return Jk(g)?!0:(e.append(kD(x,b,a),c(g)),!1)}const d=[],h=Object.assign(aSt,{defaultVisitor:u,convertValue:c,isVisitable:Jk});function v(g,b){if(!Ot.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));d.push(g),Ot.forEach(g,function(_,w){(!(Ot.isUndefined(_)||_===null)&&i.call(e,_,Ot.isString(w)?w.trim():w,b,h))===!0&&v(_,b?b.concat(w):[w])}),d.pop()}}if(!Ot.isObject(t))throw new TypeError("data must be an object");return v(t),e}function CD(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function aR(t,e){this._pairs=[],t&&HS(t,this,e)}const VG=aR.prototype;VG.append=function(e,n){this._pairs.push([e,n])};VG.toString=function(e){const n=e?function(r){return e.call(this,r,CD)}:CD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function oSt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KG(t,e,n){if(!e)return t;const r=n&&n.encode||oSt;Ot.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=Ot.isURLSearchParams(e)?e.toString():new aR(e,n).toString(r),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class RD{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ot.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ZG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sSt=typeof URLSearchParams<"u"?URLSearchParams:aR,lSt=typeof FormData<"u"?FormData:null,cSt=typeof Blob<"u"?Blob:null,uSt={isBrowser:!0,classes:{URLSearchParams:sSt,FormData:lSt,Blob:cSt},protocols:["http","https","file","blob","url","data"]},oR=typeof window<"u"&&typeof document<"u",tC=typeof navigator=="object"&&navigator||void 0,fSt=oR&&(!tC||["ReactNative","NativeScript","NS"].indexOf(tC.product)<0),dSt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hSt=oR&&window.location.href||"http://localhost",pSt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oR,hasStandardBrowserEnv:fSt,hasStandardBrowserWebWorkerEnv:dSt,navigator:tC,origin:hSt},Symbol.toStringTag,{value:"Module"})),ia={...pSt,...uSt};function vSt(t,e){return HS(t,new ia.classes.URLSearchParams,{visitor:function(n,r,i,a){return ia.isNode&&Ot.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function gSt(t){return Ot.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ySt(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function QG(t){function e(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=n.length;return o=!o&&Ot.isArray(i)?i.length:o,l?(Ot.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!Ot.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],a)&&Ot.isArray(i[o])&&(i[o]=ySt(i[o])),!s)}if(Ot.isFormData(t)&&Ot.isFunction(t.entries)){const n={};return Ot.forEachEntry(t,(r,i)=>{e(gSt(r),i,n,0)}),n}return null}function mSt(t,e,n){if(Ot.isString(t))try{return(e||JSON.parse)(t),Ot.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const sb={transitional:ZG,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Ot.isObject(e);if(a&&Ot.isHTMLForm(e)&&(e=new FormData(e)),Ot.isFormData(e))return i?JSON.stringify(QG(e)):e;if(Ot.isArrayBuffer(e)||Ot.isBuffer(e)||Ot.isStream(e)||Ot.isFile(e)||Ot.isBlob(e)||Ot.isReadableStream(e))return e;if(Ot.isArrayBufferView(e))return e.buffer;if(Ot.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vSt(e,this.formSerializer).toString();if((s=Ot.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return HS(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),mSt(e)):e}],transformResponse:[function(e){const n=this.transitional||sb.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ot.isResponse(e)||Ot.isReadableStream(e))return e;if(e&&Ot.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?Le.from(s,Le.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ot.forEach(["delete","get","head","post","put","patch"],t=>{sb.headers[t]={}});const bSt=Ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xSt=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&bSt[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},PD=Symbol("internals");function nm(t){return t&&String(t).trim().toLowerCase()}function lw(t){return t===!1||t==null?t:Ot.isArray(t)?t.map(lw):String(t)}function _St(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const wSt=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function UM(t,e,n,r,i){if(Ot.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ot.isString(e)){if(Ot.isString(r))return e.indexOf(r)!==-1;if(Ot.isRegExp(r))return r.test(e)}}function OSt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function SSt(t,e){const n=Ot.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let no=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(s,l,c){const u=nm(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ot.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=lw(s))}const o=(s,l)=>Ot.forEach(s,(c,u)=>a(c,u,l));if(Ot.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ot.isString(e)&&(e=e.trim())&&!wSt(e))o(xSt(e),n);else if(Ot.isObject(e)&&Ot.isIterable(e)){let s={},l,c;for(const u of e){if(!Ot.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?Ot.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=nm(e),e){const r=Ot.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return _St(i);if(Ot.isFunction(n))return n.call(this,i,r);if(Ot.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=nm(e),e){const r=Ot.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||UM(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(o){if(o=nm(o),o){const s=Ot.findKey(r,o);s&&(!n||UM(r,r[s],s,n))&&(delete r[s],i=!0)}}return Ot.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||UM(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return Ot.forEach(this,(i,a)=>{const o=Ot.findKey(r,a);if(o){n[o]=lw(i),delete n[a];return}const s=e?OSt(a):String(a).trim();s!==a&&delete n[a],n[s]=lw(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ot.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ot.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[PD]=this[PD]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=nm(o);r[s]||(SSt(i,o),r[s]=!0)}return Ot.isArray(e)?e.forEach(a):a(e),this}};no.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ot.reduceDescriptors(no.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ot.freezeMethods(no);function HM(t,e){const n=this||sb,r=e||n,i=no.from(r.headers);let a=r.data;return Ot.forEach(t,function(s){a=s.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function JG(t){return!!(t&&t.__CANCEL__)}function Ig(t,e,n){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,n),this.name="CanceledError"}Ot.inherits(Ig,Le,{__CANCEL__:!0});function tY(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ESt(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ASt(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[a];o||(o=c),n[i]=l,r[i]=c;let d=a,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),c-o<e)return;const v=u&&c-u;return v?Math.round(h*1e3/v):void 0}}function MSt(t,e){let n=0,r=1e3/e,i,a;const o=(c,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),t(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},r-d)))},()=>i&&o(i)]}const jO=(t,e,n=3)=>{let r=0;const i=ASt(50,250);return MSt(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,c=i(l),u=o<=s;r=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(d)},n)},jD=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},LD=t=>(...e)=>Ot.asap(()=>t(...e)),TSt=ia.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ia.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ia.origin),ia.navigator&&/(msie|trident)/i.test(ia.navigator.userAgent)):()=>!0,kSt=ia.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const o=[t+"="+encodeURIComponent(e)];Ot.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ot.isString(r)&&o.push("path="+r),Ot.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function CSt(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function RSt(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function eY(t,e,n){let r=!CSt(e);return t&&(r||n==!1)?RSt(t,e):e}const ND=t=>t instanceof no?{...t}:t;function Th(t,e){e=e||{};const n={};function r(c,u,d,h){return Ot.isPlainObject(c)&&Ot.isPlainObject(u)?Ot.merge.call({caseless:h},c,u):Ot.isPlainObject(u)?Ot.merge({},u):Ot.isArray(u)?u.slice():u}function i(c,u,d,h){if(Ot.isUndefined(u)){if(!Ot.isUndefined(c))return r(void 0,c,d,h)}else return r(c,u,d,h)}function a(c,u){if(!Ot.isUndefined(u))return r(void 0,u)}function o(c,u){if(Ot.isUndefined(u)){if(!Ot.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,d)=>i(ND(c),ND(u),d,!0)};return Ot.forEach(Object.keys({...t,...e}),function(u){const d=l[u]||i,h=d(t[u],e[u],u);Ot.isUndefined(h)&&d!==s||(n[u]=h)}),n}const nY=t=>{const e=Th({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;if(e.headers=o=no.from(o),e.url=KG(eY(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Ot.isFormData(n)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ot.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(ia.hasStandardBrowserEnv&&(r&&Ot.isFunction(r)&&(r=r(e)),r||r!==!1&&TSt(e.url))){const l=i&&a&&kSt.read(a);l&&o.set(i,l)}return e},PSt=typeof XMLHttpRequest<"u",jSt=PSt&&function(t){return new Promise(function(n,r){const i=nY(t);let a=i.data;const o=no.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,v,g;function b(){v&&v(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function _(){if(!x)return;const E=no.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),M={data:!s||s==="text"||s==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:E,config:t,request:x};tY(function(C){n(C),b()},function(C){r(C),b()},M),x=null}"onloadend"in x?x.onloadend=_:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(_)},x.onabort=function(){x&&(r(new Le("Request aborted",Le.ECONNABORTED,t,x)),x=null)},x.onerror=function(A){const M=A&&A.message?A.message:"Network Error",T=new Le(M,Le.ERR_NETWORK,t,x);T.event=A||null,r(T),x=null},x.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||ZG;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new Le(A,M.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,x)),x=null},a===void 0&&o.setContentType(null),"setRequestHeader"in x&&Ot.forEach(o.toJSON(),function(A,M){x.setRequestHeader(M,A)}),Ot.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),s&&s!=="json"&&(x.responseType=i.responseType),c&&([h,g]=jO(c,!0),x.addEventListener("progress",h)),l&&x.upload&&([d,v]=jO(l),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(u=E=>{x&&(r(!E||E.type?new Ig(null,t,x):E),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=ESt(i.url);if(w&&ia.protocols.indexOf(w)===-1){r(new Le("Unsupported protocol "+w+":",Le.ERR_BAD_REQUEST,t));return}x.send(a||null)})},LSt=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Le?u:new Ig(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,a(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),t=null)};t.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>Ot.asap(s),l}},NSt=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},DSt=async function*(t,e){for await(const n of ISt(t))yield*NSt(n,e)},ISt=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},DD=(t,e,n,r)=>{const i=DSt(t,e);let a=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let d=u.byteLength;if(n){let h=a+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},ID=64*1024,{isFunction:$_}=Ot,rY=(({fetch:t,Request:e,Response:n})=>({fetch:t,Request:e,Response:n}))(Ot.global),{ReadableStream:BD,TextEncoder:$D}=Ot.global,zD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},BSt=t=>{const{fetch:e,Request:n,Response:r}=Object.assign({},rY,t),i=$_(e),a=$_(n),o=$_(r);if(!i)return!1;const s=i&&$_(BD),l=i&&(typeof $D=="function"?(g=>b=>g.encode(b))(new $D):async g=>new Uint8Array(await new n(g).arrayBuffer())),c=a&&s&&zD(()=>{let g=!1;const b=new n(ia.origin,{body:new BD,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!b}),u=o&&s&&zD(()=>Ot.isReadableStream(new r("").body)),d={stream:u&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(b,x)=>{let _=b&&b[g];if(_)return _.call(b);throw new Le(`Response type '${g}' is not supported`,Le.ERR_NOT_SUPPORT,x)})});const h=async g=>{if(g==null)return 0;if(Ot.isBlob(g))return g.size;if(Ot.isSpecCompliantForm(g))return(await new n(ia.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Ot.isArrayBufferView(g)||Ot.isArrayBuffer(g))return g.byteLength;if(Ot.isURLSearchParams(g)&&(g=g+""),Ot.isString(g))return(await l(g)).byteLength},v=async(g,b)=>{const x=Ot.toFiniteNumber(g.getContentLength());return x??h(b)};return async g=>{let{url:b,method:x,data:_,signal:w,cancelToken:E,timeout:A,onDownloadProgress:M,onUploadProgress:T,responseType:C,headers:R,withCredentials:j="same-origin",fetchOptions:I}=nY(g);C=C?(C+"").toLowerCase():"text";let D=LSt([w,E&&E.toAbortSignal()],A),B=null;const $=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let U;try{if(T&&c&&x!=="get"&&x!=="head"&&(U=await v(R,_))!==0){let V=new n(b,{method:"POST",body:_,duplex:"half"}),J;if(Ot.isFormData(_)&&(J=V.headers.get("content-type"))&&R.setContentType(J),V.body){const[tt,nt]=jD(U,jO(LD(T)));_=DD(V.body,ID,tt,nt)}}Ot.isString(j)||(j=j?"include":"omit");const G=a&&"credentials"in n.prototype,F={...I,signal:D,method:x.toUpperCase(),headers:R.normalize().toJSON(),body:_,duplex:"half",credentials:G?j:void 0};B=a&&new n(b,F);let H=await(a?e(B,I):e(b,F));const Y=u&&(C==="stream"||C==="response");if(u&&(M||Y&&$)){const V={};["status","statusText","headers"].forEach(lt=>{V[lt]=H[lt]});const J=Ot.toFiniteNumber(H.headers.get("content-length")),[tt,nt]=M&&jD(J,jO(LD(M),!0))||[];H=new r(DD(H.body,ID,tt,()=>{nt&&nt(),$&&$()}),V)}C=C||"text";let W=await d[Ot.findKey(d,C)||"text"](H,g);return!Y&&$&&$(),await new Promise((V,J)=>{tY(V,J,{data:W,headers:no.from(H.headers),status:H.status,statusText:H.statusText,config:g,request:B})})}catch(G){throw $&&$(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,g,B),{cause:G.cause||G}):Le.from(G,G&&G.code,g,B)}}},$St=new Map,iY=t=>{let e=Ot.merge.call({skipUndefined:!0},rY,t?t.env:null);const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o=a.length,s=o,l,c,u=$St;for(;s--;)l=a[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:BSt(e)),u=c;return c};iY();const eC={http:rSt,xhr:jSt,fetch:{get:iY}};Ot.forEach(eC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const FD=t=>`- ${t}`,zSt=t=>Ot.isFunction(t)||t===null||t===!1,aY={getAdapter:(t,e)=>{t=Ot.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){r=t[o];let s;if(i=r,!zSt(r)&&(i=eC[(s=String(r)).toLowerCase()],i===void 0))throw new Le(`Unknown adapter '${s}'`);if(i&&(Ot.isFunction(i)||(i=i.get(e))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(FD).join(`
`):" "+FD(o[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:eC};function GM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ig(null,t)}function UD(t){return GM(t),t.headers=no.from(t.headers),t.data=HM.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aY.getAdapter(t.adapter||sb.adapter,t)(t).then(function(r){return GM(t),r.data=HM.call(t,t.transformResponse,r),r.headers=no.from(r.headers),r},function(r){return JG(r)||(GM(t),r&&r.response&&(r.response.data=HM.call(t,t.transformResponse,r.response),r.response.headers=no.from(r.response.headers))),Promise.reject(r)})}const oY="1.12.1",GS={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{GS[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const HD={};GS.transitional=function(e,n,r){function i(a,o){return"[Axios v"+oY+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(e===!1)throw new Le(i(o," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!HD[o]&&(HD[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,s):!0}};GS.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function FSt(t,e,n){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const s=t[a],l=s===void 0||o(s,a,t);if(l!==!0)throw new Le("option "+a+" must be "+l,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+a,Le.ERR_BAD_OPTION)}}const cw={assertOptions:FSt,validators:GS},El=cw.validators;let dh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new RD,response:new RD}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Th(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&cw.assertOptions(r,{silentJSONParsing:El.transitional(El.boolean),forcedJSONParsing:El.transitional(El.boolean),clarifyTimeoutError:El.transitional(El.boolean)},!1),i!=null&&(Ot.isFunction(i)?n.paramsSerializer={serialize:i}:cw.assertOptions(i,{encode:El.function,serialize:El.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),cw.assertOptions(n,{baseUrl:El.spelling("baseURL"),withXsrfToken:El.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&Ot.merge(a.common,a[n.method]);a&&Ot.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=no.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,s.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,d=0,h;if(!l){const g=[UD.bind(this),void 0];for(g.unshift(...s),g.push(...c),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=s.length;let v=n;for(d=0;d<h;){const g=s[d++],b=s[d++];try{v=g(v)}catch(x){b.call(this,x);break}}try{u=UD.call(this,v)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Th(this.defaults,e);const n=eY(e.baseURL,e.url,e.allowAbsoluteUrls);return KG(n,e.params,e.paramsSerializer)}};Ot.forEach(["delete","get","head","options"],function(e){dh.prototype[e]=function(n,r){return this.request(Th(r||{},{method:e,url:n,data:(r||{}).data}))}});Ot.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,s){return this.request(Th(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}dh.prototype[e]=n(),dh.prototype[e+"Form"]=n(!0)});let USt=class sY{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,s){r.reason||(r.reason=new Ig(a,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new sY(function(i){e=i}),cancel:e}}};function HSt(t){return function(n){return t.apply(null,n)}}function GSt(t){return Ot.isObject(t)&&t.isAxiosError===!0}const nC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nC).forEach(([t,e])=>{nC[e]=t});function lY(t){const e=new dh(t),n=BG(dh.prototype.request,e);return Ot.extend(n,dh.prototype,e,{allOwnKeys:!0}),Ot.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return lY(Th(t,i))},n}const er=lY(sb);er.Axios=dh;er.CanceledError=Ig;er.CancelToken=USt;er.isCancel=JG;er.VERSION=oY;er.toFormData=HS;er.AxiosError=Le;er.Cancel=er.CanceledError;er.all=function(e){return Promise.all(e)};er.spread=HSt;er.isAxiosError=GSt;er.mergeConfig=Th;er.AxiosHeaders=no;er.formToJSON=t=>QG(Ot.isHTMLForm(t)?new FormData(t):t);er.getAdapter=aY.getAdapter;er.HttpStatusCode=nC;er.default=er;const{Axios:zEt,AxiosError:FEt,CanceledError:UEt,isCancel:HEt,CancelToken:GEt,VERSION:YEt,all:qEt,Cancel:WEt,isAxiosError:XEt,spread:VEt,toFormData:KEt,AxiosHeaders:ZEt,HttpStatusCode:QEt,formToJSON:JEt,getAdapter:tAt,mergeConfig:eAt}=er,YSt=()=>{const e=er.create({baseURL:"",timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!0});return e.interceptors.request.use(n=>(n.method==="get"&&(n.params={...n.params,_t:Date.now()}),console.log(`[API] ${n.method?.toUpperCase()} ${n.url}`,n.data),n),n=>(console.error("[API] Request error:",n),Promise.reject(n))),e.interceptors.response.use(n=>(console.log(`[API] Response ${n.status}:`,n.data),n),n=>(console.error("[API] Response error:",n.response?.data||n.message),n.response?.status===401?console.warn(""):n.response?.status===403?console.error(""):n.response?.status>=500&&console.error(""),Promise.reject(n))),e},rm=YSt(),im=t=>t.data,am=t=>{const e=t.response?.data?.message||t.message||"";throw new Error(e)},Me={get:async(t,e)=>{try{const n=await rm.get(t,{params:e});return im(n)}catch(n){return am(n)}},post:async(t,e)=>{try{const n=await rm.post(t,e);return im(n)}catch(n){return am(n)}},put:async(t,e)=>{try{const n=await rm.put(t,e);return im(n)}catch(n){return am(n)}},patch:async(t,e)=>{try{const n=await rm.patch(t,e);return im(n)}catch(n){return am(n)}},delete:async t=>{try{const e=await rm.delete(t);return im(e)}catch(e){return am(e)}}},Cs={list:async()=>{try{return(await Me.get("/api/rules")).rules||[]}catch(t){return console.error(":",t),[]}},get:async t=>{try{const e=await Me.get(`/api/rules/${t}`);return console.log(":",e),e.rule}catch(e){throw console.error(":",e),e}},create:async t=>{try{return(await Me.post("/api/rules",t)).rule}catch(e){throw console.error(":",e),e}},update:async(t,e)=>{try{await Me.put(`/api/rules/${t}`,e)}catch(n){throw console.error(":",n),n}},delete:async t=>{try{console.log(":",t);const e=await Me.delete(`/api/rules/${t}`);console.log(":",e)}catch(e){throw console.error(":",e),e}},toggle:async(t,e)=>Me.put(`/api/rules/${t}`,{is_active:e}),toggleFeature:async(t,e,n)=>Me.put(`/api/rules/${t}`,{[e]:n}),batchDelete:async t=>{for(const e of t)await Me.delete(`/api/rules/${e}`)},updateChatNames:async()=>Me.post("/api/rules/update-chat-names"),fetchChatInfo:async()=>Me.post("/api/rules/fetch-chat-info"),export:async t=>await Me.post("/api/rules/export",{ids:t||[]}),import:async t=>await Me.post("/api/rules/import",{data:t})},z_={getByRule:async t=>{try{return(await Me.get(`/api/rules/${t}/keywords`)).keywords||[]}catch(e){return console.error(":",e),[]}},create:async t=>Me.post(`/api/rules/${t.rule_id}/keywords`,t),update:async(t,e)=>Me.put(`/api/keywords/${t}`,e),delete:async t=>Me.delete(`/api/keywords/${t}`),batchCreate:async(t,e)=>Me.post(`/api/rules/${t}/keywords/batch`,{keywords:e})},F_={getByRule:async t=>{try{return(await Me.get(`/api/rules/${t}/replacements`)).replacements||[]}catch(e){return console.error(":",e),[]}},create:async t=>Me.post(`/api/rules/${t.rule_id}/replacements`,t),update:async(t,e)=>Me.put(`/api/replacements/${t}`,e),delete:async t=>Me.delete(`/api/replacements/${t}`),toggle:async(t,e)=>Me.patch(`/api/replacements/${t}`,{is_active:e})},oh={list:async t=>{try{const e=new URLSearchParams;t?.page&&e.set("page",t.page.toString()),t?.limit&&e.set("limit",t.limit.toString()),t?.date&&e.set("date",t.date),t?.start_date&&e.set("start_date",t.start_date),t?.end_date&&e.set("end_date",t.end_date),t?.rule_id&&e.set("rule_id",t.rule_id.toString()),t?.status&&e.set("status",t.status);const r=await Me.get(`/api/logs?${e.toString()}`);return{items:r.items||[],total:r.total||0,page:r.page||1,pageSize:r.limit||10,totalPages:r.pages||0}}catch(e){return console.error(":",e),{items:[],total:0,page:1,pageSize:10,totalPages:0}}},get:async t=>Me.get(`/api/logs/${t}`),batchDelete:async t=>{console.log("logsApi.batchDelete :",{ids:t});const e=await Me.post("/api/logs/batch-delete",{ids:t});return console.log("logsApi.batchDelete :",e),e},clear:async t=>Me.post("/api/logs/clear",t),export:async t=>{try{const e=await fetch("/api/logs/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t||{})});if(!e.ok)throw new Error(`: ${e.status}`);return await e.blob()}catch(e){throw console.error(":",e),e}},import:async t=>Me.post("/api/logs/import",t),stats:async t=>Me.get("/api/logs/stats",t),messageTypeStats:async t=>Me.get("/api/logs/message-type-stats",t),ruleStats:async t=>Me.get("/api/logs/rule-stats",t)},qSt=({title:t,value:e,icon:n,color:r,loading:i=!1,suffix:a,prefix:o})=>i?N.jsx(Or,{className:"glass-card",style:{height:120},children:N.jsx(GY,{active:!0,paragraph:{rows:1}})}):N.jsxs(Or,{className:"glass-card",style:{height:120,position:"relative",overflow:"hidden"},bodyStyle:{padding:20,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[N.jsx("div",{style:{position:"absolute",top:-10,right:-10,fontSize:80,color:r,opacity:.15,transform:"rotate(15deg)"},children:n}),N.jsx("div",{style:{position:"absolute",top:5,right:5,fontSize:12,color:r,opacity:.6,fontWeight:"bold"},children:""}),N.jsxs("div",{style:{position:"relative",zIndex:1},children:[N.jsx("div",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:14,marginBottom:8,fontWeight:500,textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:t}),N.jsx(sm,{value:e,suffix:a,prefix:o,valueStyle:{color:r,fontSize:28,fontWeight:"bold",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"}})]}),N.jsx("div",{style:{position:"absolute",left:16,top:16,fontSize:20,color:r},children:n})]}),{Title:YM,Text:qM}=$s,U_=te.memo(qSt),WSt=[{title:"",dataIndex:"rule_name",key:"rule_name",width:100,render:t=>N.jsx("span",{style:{color:"#1890ff",fontWeight:"bold"},children:t||""})},{title:"",dataIndex:"message_text",key:"message_text",ellipsis:!0,render:t=>N.jsx("span",{style:{color:"rgba(255, 255, 255, 0.9)"},children:t&&t.length>30?`${t.slice(0,30)}...`:t||""})},{title:"",dataIndex:"created_at",key:"created_at",width:80,render:t=>N.jsx("span",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"12px"},children:t?Yo(t).format("HH:mm"):"-"})}],XSt=()=>{const t=Og(),{data:e,isLoading:n,refetch:r,error:i}=di({queryKey:["stats"],queryFn:async()=>({active_rules:0,total_rules:0,success_rate:0,today_messages:0}),refetchInterval:6e4,retry:1,enabled:!1,staleTime:3e4}),{data:a,isLoading:o,error:s}=di({queryKey:["system-status"],queryFn:async()=>({logged_in:!0,success:!0,message:"",user:{first_name:"",phone:"N/A"}}),refetchInterval:15e3,retry:1,enabled:!1}),{data:l}=di({queryKey:["enhanced-status"],queryFn:async()=>(await fetch("/api/system/enhanced-status")).json(),refetchInterval:15e3,retry:1}),c=a||{logged_in:!0,user:{first_name:"Telegram",phone:"..."}},{data:u=[],isLoading:d,error:h}=di({queryKey:["rules"],queryFn:()=>Cs.list(),refetchInterval:6e4,retry:1}),{data:v,isLoading:g,error:b}=di({queryKey:["weekly-stats"],queryFn:async()=>{const C=[],R=[];for(let $=6;$>=0;$--){const U=Yo().subtract($,"day").format("YYYY-MM-DD");C.push(U);try{const G=await oh.list({page:1,limit:1e3,start_date:U,end_date:U});R.push({date:U,day:Yo(U).format("MM-DD"),weekday:Yo(U).format("ddd"),total:G.items.length,success:G.items.filter(F=>F.status==="success").length,failed:G.items.filter(F=>F.status==="failed").length})}catch(G){console.error(` ${U} :`,G),R.push({date:U,day:Yo(U).format("MM-DD"),weekday:Yo(U).format("ddd"),total:0,success:0,failed:0})}}const j=await Promise.all(R.map(async $=>{try{const U=await oh.list({page:1,limit:1e3,start_date:$.date,end_date:$.date}),G={};return console.log(`${$.date}  ${U.items.length} `),U.items.forEach(F=>{const H=F.rule_name||"";console.log(`: ${H}`),G[H]=(G[H]||0)+1}),console.log(`${$.date} :`,G),{...$,ruleStats:G}}catch(U){return console.error(` ${$.date} :`,U),{...$,ruleStats:{}}}})),I=new Set;j.forEach($=>{Object.keys($.ruleStats).forEach(U=>I.add(U))});const D=Array.from(I),B=j.flatMap($=>D.filter(U=>$.ruleStats[U]>0).map(U=>({day:String($.day),count:Number($.ruleStats[U]),type:String(U),weekday:String($.weekday)})));return console.log(":",D),console.log(":",B),{days:C,stats:j,chartData:B,allRules:D}},refetchInterval:3e5,retry:1}),{data:x,isLoading:_}=di({queryKey:["today-stats"],queryFn:async()=>{const C=Yo().format("YYYY-MM-DD"),R=await oh.list({page:1,limit:1e3,start_date:C,end_date:C}),j=R.items.reduce((D,B)=>{const $=B.rule_name||"";return D[$]=(D[$]||0)+1,D},{}),I=Object.entries(j).map(([D,B])=>({rule:String(D),count:Number(B),type:""}));return console.log("  chartData (20250917-111351):",I),I.forEach((D,B)=>{console.log(`  ${B}:`,{rule:D.rule,count:D.count,ruleType:typeof D.rule,countType:typeof D.count})}),{totalMessages:R.items.length,ruleStats:j,chartData:I,logs:R.items.slice(0,20)}},refetchInterval:6e4,retry:1}),w=te.useMemo(()=>{const C=e?.active_rules||u.filter(D=>D.is_active).length,R=e?.total_rules||u.length,j=e?.success_rate||0,I=x?.totalMessages||0;return{activeRules:C,totalRules:R,successRate:j,todayMessages:I}},[e,u,x]),{activeRules:E,totalRules:A,successRate:M,todayMessages:T}=w;return(i||s||h||b)&&console.error("API Errors:",{statsError:i,statusError:s,rulesError:h,logsError:b}),n&&o&&d&&g?N.jsxs("div",{style:{padding:"0 16px",display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:[N.jsx(lm,{size:"large"}),N.jsx(qM,{style:{marginLeft:16,color:"#ffffff"},children:"..."})]}):N.jsxs("div",{style:{width:"100%",maxWidth:"none"},children:[N.jsxs(Uo,{gutter:[16,16],style:{marginBottom:24},children:[N.jsx(Xe,{xs:24,sm:12,lg:6,children:N.jsx(U_,{title:"",value:T,icon:N.jsx(NO,{}),color:"#1890ff",loading:n})}),N.jsx(Xe,{xs:24,sm:12,lg:6,children:N.jsx(U_,{title:"",value:M,suffix:"%",icon:N.jsx(qm,{}),color:"#52c41a",loading:n})}),N.jsx(Xe,{xs:24,sm:12,lg:6,children:N.jsx(U_,{title:"",value:E,icon:N.jsx(cm,{}),color:"#faad14",loading:d})}),N.jsx(Xe,{xs:24,sm:12,lg:6,children:N.jsx(U_,{title:"",value:A,icon:N.jsx(VM,{}),color:"#722ed1",loading:d})})]}),N.jsxs(Or,{className:"glass-card",style:{marginBottom:16},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[N.jsxs(YM,{level:4,style:{margin:0,color:"#ffffff"},children:[" ",l?.enhanced_mode&&N.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",background:"#52c41a",color:"white",padding:"2px 8px",borderRadius:"4px"},children:""})]}),N.jsx(ae,{type:"primary",icon:N.jsx(C1,{}),onClick:()=>{r()},loading:n,children:""})]}),N.jsx(Uo,{gutter:[16,16],children:l?.enhanced_mode?N.jsxs(N.Fragment,{children:[N.jsx(Xe,{xs:24,sm:6,md:6,children:N.jsxs("div",{style:{padding:"12px",textAlign:"center",minHeight:"80px"},children:[N.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"4px"},children:""}),N.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:N.jsxs("span",{style:{color:"#1890ff"},children:[" ",l.total_clients||0]})}),N.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",marginTop:"4px"},children:""})]})}),N.jsx(Xe,{xs:24,sm:6,md:6,children:N.jsxs("div",{style:{padding:"12px",textAlign:"center",minHeight:"80px"},children:[N.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"4px"},children:""}),N.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:N.jsxs("span",{style:{color:l.running_clients>0?"#52c41a":"#faad14"},children:[" ",l.running_clients||0]})}),N.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",marginTop:"4px"},children:""})]})}),N.jsx(Xe,{xs:24,sm:6,md:6,children:N.jsxs("div",{style:{padding:"12px",textAlign:"center",minHeight:"80px"},children:[N.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"4px"},children:""}),N.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:N.jsxs("span",{style:{color:l.connected_clients>0?"#52c41a":"#ff4d4f"},children:[" ",l.connected_clients||0]})}),N.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",marginTop:"4px"},children:""})]})}),N.jsx(Xe,{xs:24,sm:6,md:6,children:N.jsxs("div",{style:{padding:"12px",textAlign:"center",minHeight:"80px"},children:[N.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"4px"},children:""}),N.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:N.jsx("span",{style:{color:E>0?"#52c41a":"#faad14"},children:E>0?" ":" "})}),N.jsxs("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",marginTop:"4px"},children:[E,"/",A," "]})]})})]}):N.jsxs(N.Fragment,{children:[N.jsx(Xe,{xs:24,sm:8,md:8,children:N.jsxs("div",{style:{padding:"12px",textAlign:"center",minHeight:"80px"},children:[N.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"4px"},children:"Telegram"}),N.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:N.jsx("span",{style:{color:c?.logged_in?"#52c41a":"#ff4d4f"},children:c?.logged_in?" ":" "})}),c?.user&&N.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",marginTop:"4px"},children:c.user.first_name||c.user.phone})]})}),N.jsx(Xe,{xs:24,sm:8,md:8,children:N.jsxs("div",{style:{padding:"12px",textAlign:"center",minHeight:"80px"},children:[N.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"4px"},children:""}),N.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:N.jsx("span",{style:{color:"#52c41a"},children:" "})}),N.jsx("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",marginTop:"4px"},children:""})]})}),N.jsx(Xe,{xs:24,sm:8,md:8,children:N.jsxs("div",{style:{padding:"12px",textAlign:"center",minHeight:"80px"},children:[N.jsx("div",{style:{color:"#ffffff",fontSize:"14px",marginBottom:"4px"},children:""}),N.jsx("div",{style:{fontSize:"16px",fontWeight:"bold"},children:N.jsx("span",{style:{color:E>0?"#52c41a":"#faad14"},children:E>0?" ":" "})}),N.jsxs("div",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"12px",marginTop:"4px"},children:[E,"/",A," "]})]})})]})})]}),N.jsxs(Uo,{gutter:[16,16],style:{marginBottom:24},children:[N.jsx(Xe,{xs:24,lg:12,children:N.jsx(Or,{className:"glass-card",title:N.jsxs("span",{style:{color:"#ffffff"},children:[N.jsx(YY,{style:{marginRight:8}}),""]}),style:{height:400},children:_?N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:300},children:N.jsx(lm,{size:"large"})}):x?.chartData?.length?N.jsx(gOt,{data:x.chartData,xField:"count",yField:"rule",height:300,color:C=>{const R=["#1890ff","#52c41a","#fa8c16","#eb2f96","#722ed1","#13c2c2","#f5222d","#faad14"],j=x.chartData.findIndex(I=>I.rule===C.rule);return R[j%R.length]},barWidthRatio:.6,legend:!1,barStyle:{fillOpacity:.8,radius:[0,4,4,0]},xAxis:{label:{style:{fill:"rgba(255, 255, 255, 0.8)",fontSize:12}},grid:{line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineDash:[2,2]}}}},yAxis:{label:{style:{fill:"rgba(255, 255, 255, 0.8)",fontSize:12}}},tooltip:{formatter:C=>(console.log(" Tooltip formatter :",C),{name:C.rule,value:C.count+""})}}):N.jsxs("div",{style:{textAlign:"center",padding:"100px 20px",color:"rgba(255, 255, 255, 0.6)"},children:[N.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),N.jsx("div",{style:{fontSize:"16px"},children:""})]})})}),N.jsx(Xe,{xs:24,lg:12,children:N.jsxs(Or,{className:"glass-card",style:{height:400},children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[N.jsxs(YM,{level:4,style:{margin:0,color:"#ffffff"},children:[N.jsx(qY,{style:{marginRight:8}}),""]}),N.jsxs(dr,{children:[N.jsxs(qM,{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:[" ",T," "]}),N.jsx(ae,{type:"text",size:"small",style:{color:"#1890ff"},onClick:()=>t("/logs"),children:""})]})]}),_?N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:280},children:N.jsx(lm,{size:"large"})}):N.jsx(Ch,{dataSource:x?.logs||[],size:"small",pagination:!1,scroll:{y:280},rowKey:"id",columns:WSt})]})})]}),N.jsxs(Or,{className:"glass-card",children:[N.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[N.jsx(YM,{level:4,style:{margin:0,color:"#ffffff"},children:" "}),N.jsxs(dr,{children:[N.jsxs(qM,{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:[" ",v?.stats?.reduce((C,R)=>C+(R.total||0),0)||0," "]}),N.jsx(ae,{type:"text",size:"small",style:{color:"#1890ff"},onClick:()=>t("/logs"),children:""})]})]}),g?N.jsxs("div",{style:{textAlign:"center",padding:"100px 20px"},children:[N.jsx(lm,{size:"large"}),N.jsx("div",{style:{color:"rgba(255, 255, 255, 0.6)",marginTop:"16px"},children:"..."})]}):v?.chartData?.length?N.jsx(yOt,{data:v.chartData,xField:"day",yField:"count",seriesField:"type",height:300,theme:{background:"transparent"},columnStyle:{fillOpacity:.8},color:["#1890ff","#52c41a","#ff4d4f","#faad14","#722ed1","#eb2f96","#13c2c2","#fa8c16"],xAxis:{label:{style:{fill:"rgba(255, 255, 255, 0.8)",fontSize:12}}},yAxis:{label:{style:{fill:"rgba(255, 255, 255, 0.8)",fontSize:12}},grid:{line:{style:{stroke:"rgba(255, 255, 255, 0.2)"}}}},legend:{position:"top",itemName:{style:{fill:"rgba(255, 255, 255, 0.8)"}}},tooltip:{showTitle:!0,showMarkers:!0,title:(C,R)=>(console.log(" Title - title:",C,"data:",R),C),customItems:C=>(console.log(" CustomItems - originalItems:",C),console.log(" originalItems:",JSON.stringify(C,null,2)),C.map(R=>{console.log(" Item:",R);const j=R.value||R.count||R.y||R.data?.count||0,I=R.name||R.seriesName||R.data?.type||"";return console.log(`  - name: ${I}, value: ${j}`),{...R,name:I,value:`${j}`}}))}}):N.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"rgba(255, 255, 255, 0.6)"},children:[N.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),N.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:""}),N.jsx("div",{style:{fontSize:"14px"},children:""})]})]})]})},sh={getChats:async()=>await Me.get("/api/chats"),refreshChats:async()=>await Me.post("/api/refresh-chats"),export:async()=>await Me.post("/api/chats/export",{}),import:async t=>Me.post("/api/chats/import",t)},VSt=({isOpen:t,onClose:e,onConfirm:n,title:r,content:i,confirmText:a="",cancelText:o="",type:s="confirm"})=>{const[l,c]=te.useState(!1);te.useEffect(()=>(t?(c(!0),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);const u=()=>{c(!1),setTimeout(()=>{e()},300)},d=()=>{n&&n(),u()},h=b=>{b.target===b.currentTarget&&u()},v=()=>{switch(s){case"warning":return"";case"error":return"";case"info":return"";default:return""}},g=()=>{switch(s){case"warning":return"custom-modal-warning";case"error":return"custom-modal-error";case"info":return"custom-modal-info";default:return"custom-modal-confirm"}};return t?DY.createPortal(N.jsx("div",{className:`custom-modal-backdrop ${l?"custom-modal-backdrop-visible":""}`,onClick:h,children:N.jsxs("div",{className:`custom-modal ${l?"custom-modal-visible":""} ${g()}`,children:[N.jsxs("div",{className:"custom-modal-header",children:[N.jsx("div",{className:"custom-modal-icon",children:v()}),N.jsx("h3",{className:"custom-modal-title",children:r})]}),N.jsx("div",{className:"custom-modal-content",children:N.jsx("p",{children:i})}),N.jsxs("div",{className:"custom-modal-footer",children:[N.jsx("button",{className:"custom-modal-button custom-modal-button-cancel",onClick:u,children:o}),n&&N.jsx("button",{className:"custom-modal-button custom-modal-button-confirm",onClick:d,children:a})]})]})}),document.body):null},lb=()=>{const[t,e]=te.useState(null),[n,r]=te.useState(!1),i=te.useCallback(c=>{e(c),r(!0)},[]),a=te.useCallback(()=>{r(!1),setTimeout(()=>{e(null)},300)},[]),o=te.useCallback(()=>{t?.onConfirm&&t.onConfirm(),a()},[t,a]),s=te.useCallback(()=>{t?.onCancel&&t.onCancel(),a()},[t,a]),l=t?N.jsx(VSt,{isOpen:n,title:t.title,content:t.content,confirmText:t.confirmText,cancelText:t.cancelText,type:t.type,onConfirm:t.onConfirm?o:void 0,onClose:s}):null;return{showModal:i,hideModal:a,Modal:l,confirm:c=>i({...c,type:"confirm"}),info:c=>i({...c,type:"info"}),warning:c=>i({...c,type:"warning"}),error:c=>i({...c,type:"error"})}},{Title:KSt}=$s,{Search:ZSt}=fi,QSt=()=>{const t=Og(),e=Fc(),[n,r]=te.useState(""),{confirm:i,warning:a,Modal:o}=lb(),{data:s=[],isLoading:l,refetch:c}=di({queryKey:["rules"],queryFn:Cs.list}),{data:u}=di({queryKey:["chats"],queryFn:sh.getChats}),d=u?.chats||[],h=D=>{console.log(` ID: ${D}, : ${d.length}`),console.log(" :",d.map($=>({id:$.id,type:typeof $.id,first_name:$.first_name,title:$.title})));const B=d.find($=>String($.id)===String(D));if(console.log(" :",B),B){const $=B.title||B.id;return console.log(` : ${$}`),$}return console.log(`  ${D}`),` ${D}`},v=Xn({mutationFn:Cs.fetchChatInfo,onSuccess:D=>{D.success&&(console.log(" :",D.message),Xt.success(""),e.invalidateQueries({queryKey:["rules"]}))},onError:D=>{console.error(" :",D)}});Ja.useEffect(()=>{s&&s.length>0&&(console.log(" :",s?.length||0,""),console.log(" :",s?.map(B=>({id:B.id,name:B.name,nameType:typeof B.name,nameLength:B.name?.length||0,nameValue:`"${B.name}"`,source_chat_id:B.source_chat_id,source_chat_name:B.source_chat_name,target_chat_id:B.target_chat_id,target_chat_name:B.target_chat_name,is_active:B.is_active,idType:typeof B.id,hasValidId:B.id&&B.id>0}))),s.some(B=>!B.source_chat_name||B.source_chat_name.trim()===""||B.source_chat_name.startsWith(" ")||!B.target_chat_name||B.target_chat_name.trim()===""||B.target_chat_name.startsWith(" "))&&!v.isPending&&(console.log(" ..."),v.mutate()))},[s,v]);const g=Xn({mutationFn:Cs.delete,onSuccess:(D,B)=>{console.log(":",D,"ID:",B),Xt.success(""),e.invalidateQueries({queryKey:["rules"]})},onError:(D,B)=>{console.error(":",D,"ID:",B),Xt.error("")}}),b=Xn({mutationFn:({id:D,enabled:B})=>Cs.toggle(D,B),onMutate:async({id:D,enabled:B})=>{await e.cancelQueries({queryKey:["rules"]});const $=e.getQueryData(["rules"]);if($){const U=$.map(G=>G.id===D?{...G,is_active:B,updated_at:new Date().toISOString()}:G);e.setQueryData(["rules"],U)}return{previousRules:$}},onSuccess:(D,B)=>{if(console.log(" :",B),Xt.success(""),D&&D.rule){const $=e.getQueryData(["rules"]);if($){const U=$.map(G=>G.id===D.rule.id?D.rule:G);e.setQueryData(["rules"],U)}}},onError:(D,B,$)=>{console.error(" :",D,B),Xt.error(""),$?.previousRules&&e.setQueryData(["rules"],$.previousRules)}}),x=Xn({mutationFn:Cs.export,onSuccess:D=>{if(D.success){const B=JSON.stringify(D.data,null,2),$=new Blob([B],{type:"application/json"}),U=window.URL.createObjectURL($),G=document.createElement("a");G.href=U,G.download=D.filename||`rules_export_${new Date().getTime()}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(U),Xt.success("")}else Xt.error("")},onError:()=>{Xt.error("")}}),_=Xn({mutationFn:Cs.import,onSuccess:D=>{if(D.success){if(Xt.success({content:D.message,duration:5}),e.invalidateQueries({queryKey:["rules"]}),D.failed_count>0&&D.errors?.length>0){const B=`: ${D.imported_count} 
: ${D.failed_count} 

:
${D.errors.join(`
`)}`;a({title:"",content:B,confirmText:""})}}else Xt.error(`: ${D.message}`)},onError:D=>{Xt.error(`: ${D.message||""}`)}}),w=D=>{console.log("handleDelete "),console.log(":",D),i({title:"",content:`"${D.name}"`,confirmText:"",cancelText:"",onConfirm:()=>{console.log(":",D.id),g.mutate(D.id)},onCancel:()=>{console.log(":",D.id)}})},E=(D,B)=>{if(b.isPending){console.log(" ");return}console.log(" :",{ruleId:D.id,enabled:B}),b.mutate({id:D.id,enabled:B})},A=Xn({mutationFn:({id:D,feature:B,enabled:$})=>Cs.toggleFeature(D,B,$),onSuccess:(D,B)=>{console.log(" :",B),Xt.success(`${M(B.feature)}${B.enabled?"":""}`),e.invalidateQueries({queryKey:["rules"]})},onError:(D,B)=>{console.error(" :",D,B),Xt.error(`${M(B.feature)}`)}}),M=D=>({enable_keyword_filter:"",enable_regex_replace:"",enable_link_preview:"",enable_text:"",enable_photo:"",enable_video:"",enable_document:"",enable_audio:"",enable_voice:"",enable_sticker:"",enable_animation:"",enable_webpage:""})[D]||D,T=D=>{if(!D.time_filter_type||D.time_filter_type==="all_messages")return N.jsx(ui,{color:"default",icon:N.jsx(cm,{}),style:{color:"#999"},children:""});const $=(()=>{switch(D.time_filter_type){case"today_only":return{text:"",color:"blue",icon:N.jsx(uR,{})};case"time_range":const U=D.start_time?D.start_time.substring(0,5):"00:00",G=D.end_time?D.end_time.substring(0,5):"23:59";return{text:`${U}-${G}`,color:"green",icon:N.jsx(cm,{})};case"from_time":return{text:`${D.start_time?D.start_time.substring(0,5):"00:00"}`,color:"orange",icon:N.jsx(cm,{})};case"after_start":return{text:"",color:"purple",icon:N.jsx(uR,{})};default:return{text:D.time_filter_type,color:"default",icon:N.jsx(cm,{})}}})();return N.jsx(ui,{color:$.color,icon:$.icon,style:{color:"white"},children:$.text})},C=(D,B,$)=>{const U=!$;if(console.log(" :",D.id,B,$,"->",U),console.log(" :",D),A.isPending){Xt.warning("");return}A.mutate({id:D.id,feature:B,enabled:U})},R=D=>{const B=new FileReader;return B.onload=$=>{try{const U=$.target?.result,G=JSON.parse(U);if(!G.rules||!Array.isArray(G.rules)){Xt.error("rules");return}_.mutate(G)}catch{Xt.error("JSON")}},B.readAsText(D),!1},j=s.filter(D=>{const B=D.name.toLowerCase().includes(n.toLowerCase())||D.source_chat_id?.toString().includes(n.toLowerCase())||D.target_chat_id?.toString().includes(n.toLowerCase()),$=D.id&&D.id>0;return B&&$});console.log(" :",{:s?.length||0,:j?.length||0,:n,:j?.map(D=>({id:D.id,name:D.name,is_active:D.is_active}))});const I=[{title:"",dataIndex:"name",key:"name",width:150,render:(D,B)=>{const $=D||` #${B.id}`||"";return N.jsx("div",{children:N.jsx("div",{style:{fontWeight:"bold",color:"white"},children:$})})}},{title:"",dataIndex:"source_chat_id",key:"source_chat_id",width:120,render:(D,B)=>{const $=h(B.source_chat_id||"");return N.jsx(ui,{color:"blue",style:{color:"white"},children:$})}},{title:"",dataIndex:"target_chat_id",key:"target_chat_id",width:120,render:(D,B)=>{const $=h(B.target_chat_id||"");return N.jsx(ui,{color:"green",style:{color:"white"},children:$})}},{title:"",dataIndex:"is_active",key:"is_active",width:80,render:(D,B)=>N.jsx(Ai,{checked:D,onChange:$=>E(B,$),loading:b.isPending})},{title:"",key:"time_filter",width:120,render:(D,B)=>T(B)},{title:"",key:"features",width:150,render:(D,B)=>N.jsxs(dr,{size:"small",children:[N.jsx(li,{title:`: ${B.enable_keyword_filter?"":""} ()`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(WY,{}),style:{color:B.enable_keyword_filter?"#52c41a":"#d9d9d9",border:"none",padding:"2px"},onClick:()=>C(B,"enable_keyword_filter",B.enable_keyword_filter),onContextMenu:$=>{$.preventDefault(),console.log(":",B.id),t(`/rules/${B.id}/keywords`)},loading:A.isPending})}),N.jsx(li,{title:`: ${B.enable_regex_replace?"":""} ()`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(XY,{}),style:{color:B.enable_regex_replace?"#1890ff":"#d9d9d9",border:"none",padding:"2px"},onClick:()=>C(B,"enable_regex_replace",B.enable_regex_replace),onContextMenu:$=>{$.preventDefault(),console.log(":",B.id),t(`/rules/${B.id}/replacements`)},loading:A.isPending})}),N.jsx(li,{title:`${B.enable_link_preview?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(cR,{}),style:{color:B.enable_link_preview?"#722ed1":"#d9d9d9",border:"none",padding:"2px"},onClick:()=>C(B,"enable_link_preview",B.enable_link_preview),loading:A.isPending})})]})},{title:"",key:"message_types",width:250,render:(D,B)=>N.jsxs(dr,{size:"small",wrap:!0,children:[N.jsx(li,{title:`${B.enable_text?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(NO,{}),style:{color:B.enable_text?"#52c41a":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_text",B.enable_text),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_photo?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(VY,{}),style:{color:B.enable_photo?"#1890ff":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_photo",B.enable_photo),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_video?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(KY,{}),style:{color:B.enable_video?"#fa541c":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_video",B.enable_video),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_document?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(ZY,{}),style:{color:B.enable_document?"#722ed1":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_document",B.enable_document),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_audio?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(QY,{}),style:{color:B.enable_audio?"#13c2c2":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_audio",B.enable_audio),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_voice?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(JY,{}),style:{color:B.enable_voice?"#eb2f96":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_voice",B.enable_voice),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_sticker?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(tq,{}),style:{color:B.enable_sticker?"#faad14":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_sticker",B.enable_sticker),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_animation?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(eq,{}),style:{color:B.enable_animation?"#f759ab":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_animation",B.enable_animation),loading:A.isPending})}),N.jsx(li,{title:`${B.enable_webpage?"":""}`,children:N.jsx(ae,{type:"text",size:"small",icon:N.jsx(cR,{}),style:{color:B.enable_webpage?"#52c41a":"#d9d9d9",border:"none",padding:"2px",fontSize:"14px"},onClick:()=>C(B,"enable_webpage",B.enable_webpage),loading:A.isPending})})]})},{title:"",dataIndex:"created_at",key:"created_at",width:100,render:D=>N.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:D?new Date(D).toLocaleString():"-"})},{title:"",key:"actions",width:120,render:(D,B)=>N.jsxs(dr,{children:[N.jsx(li,{title:"",children:N.jsx(ae,{type:"primary",size:"small",icon:N.jsx(lC,{}),onClick:()=>{console.log(":",B.id,":",`/rules/${B.id}/edit`),console.log(":",window.location.pathname);try{t(`/rules/${B.id}/edit`),console.log("")}catch($){console.error(":",$),Xt.error("")}}})}),N.jsx(li,{title:"",children:N.jsx(ae,{danger:!0,size:"small",icon:N.jsx(R1,{}),onClick:$=>{console.log(" - :",$),console.log(" - :",B),console.log(" - ID:",B.id),$.preventDefault(),$.stopPropagation();try{w(B)}catch(U){console.error("handleDelete :",U)}},loading:g.isPending})})]})}];return console.log("RulesList ",{rules:s?.length||0,isLoading:l,filteredRules:j?.length||0}),N.jsxs("div",{style:{padding:"24px"},children:[N.jsxs(Or,{className:"glass-card",children:[N.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsx(KSt,{level:2,style:{margin:0,color:"white"},children:""}),N.jsxs(dr,{children:[N.jsx(ZSt,{placeholder:"...",allowClear:!0,style:{width:250},styles:{input:{color:"#1a1a1a !important",backgroundColor:"rgba(255, 255, 255, 0.95)",fontWeight:"500"}},onChange:D=>r(D.target.value),prefix:N.jsx(iC,{style:{color:"#666"}})}),N.jsx(ae,{icon:N.jsx(C1,{}),onClick:()=>{console.log(""),e.invalidateQueries({queryKey:["rules"]}),c()},loading:l,children:""}),N.jsx(ae,{type:"primary",icon:N.jsx(DO,{}),onClick:()=>t("/rules/new"),children:""}),N.jsx(aC,{accept:".json",beforeUpload:R,showUploadList:!1,children:N.jsx(ae,{icon:N.jsx(oC,{}),loading:_.isPending,children:""})}),N.jsx(ae,{icon:N.jsx(sC,{}),onClick:()=>x.mutate([]),loading:x.isPending,children:""})]})]}),N.jsx(Ch,{columns:I,dataSource:j,rowKey:"id",loading:l,scroll:{x:1420},locale:{emptyText:N.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:[N.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),N.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:""}),N.jsx("div",{style:{fontSize:"14px"},children:'""'})]})},pagination:{total:j.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:D=>` ${D} `},style:{background:"transparent"}})]}),o]})},cY={getClients:async()=>await Me.get("/api/clients"),startClient:async t=>await Me.post(`/api/clients/${t}/start`),stopClient:async t=>await Me.post(`/api/clients/${t}/stop`),addClient:async t=>await Me.post("/api/clients",t),removeClient:async t=>await Me.delete(`/api/clients/${t}`),getEnhancedStatus:async()=>await Me.get("/api/system/enhanced-status"),clientLogin:async(t,e)=>await Me.post(`/api/clients/${t}/login`,e)},{Title:JSt}=$s,{Option:Uu}=Ma,GD=()=>{const{id:t}=rC(),e=Og(),n=Fc(),[r]=Vt.useForm(),[i,a]=te.useState(!1),o=!!t,s=t?parseInt(t,10):void 0,{data:l}=di({queryKey:["chats"],queryFn:sh.getChats}),{data:c}=di({queryKey:["clients"],queryFn:cY.getClients}),{data:u,isLoading:d,error:h}=di({queryKey:["rule",s],queryFn:()=>Cs.get(s),enabled:o&&!!s,retry:2});Ja.useEffect(()=>{console.log("RuleForm - :",{id:t,ruleId:s,isEdit:o}),console.log("RuleForm - :",u),console.log("RuleForm - :",d),h&&console.error("RuleForm - :",h)},[t,s,o,u,d,h]);const v=Xn({mutationFn:w=>Cs.create(w),onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["rules"]}),e("/rules")},onError:w=>{Xt.error(w.response?.data?.message||"")}}),g=Xn({mutationFn:({id:w,data:E})=>Cs.update(w,E),onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["rules"]}),n.invalidateQueries({queryKey:["rule",s]}),e("/rules")},onError:w=>{Xt.error(w.response?.data?.message||"")}});te.useEffect(()=>{u&&(console.log(":",u),r.setFieldsValue({name:u.name,source_chat_id:u.source_chat_id,target_chat_id:u.target_chat_id,enable_keyword_filter:u.enable_keyword_filter,enable_regex_replace:u.enable_regex_replace,forward_delay:u.forward_delay,max_message_length:u.max_message_length,enable_link_preview:u.enable_link_preview,enable_text:u.enable_text,enable_photo:u.enable_photo,enable_video:u.enable_video,enable_document:u.enable_document,enable_audio:u.enable_audio,enable_voice:u.enable_voice,enable_sticker:u.enable_sticker,enable_animation:u.enable_animation,enable_webpage:u.enable_webpage,time_filter_type:u.time_filter_type,start_time:u.start_time?Yo(u.start_time):null,end_time:u.end_time?Yo(u.end_time):null,client_id:u.client_id||"main_user",client_type:u.client_type==="user"?"":u.client_type==="bot"?"":u.client_type||"user"}))},[u,r]),te.useEffect(()=>{if(!o&&c?.clients){const w=Object.entries(c.clients);if(w.length>0){const[E,A]=w[0];if(!r.getFieldValue("client_id")){const T=A.client_type==="user"?"":"";r.setFieldsValue({client_id:E,client_type:T})}}}},[c,r,o]);const b=async w=>{a(!0);try{const E=_.find(R=>String(R.id)===String(w.source_chat_id)),A=_.find(R=>String(R.id)===String(w.target_chat_id)),M=E?E.title||E.id:"",T=A?A.title||A.id:"";console.log("  - :",{source_chat_id:w.source_chat_id,target_chat_id:w.target_chat_id,sourceChat:E,targetChat:A,sourceChatName:M,targetChatName:T,totalChats:_.length});const C={name:w.name,source_chat_id:w.source_chat_id,source_chat_name:M,target_chat_id:w.target_chat_id,target_chat_name:T,enable_keyword_filter:w.enable_keyword_filter||!1,enable_regex_replace:w.enable_regex_replace||!1,enable_text:w.enable_text!==!1,enable_photo:w.enable_photo!==!1,enable_video:w.enable_video!==!1,enable_document:w.enable_document!==!1,enable_audio:w.enable_audio!==!1,enable_voice:w.enable_voice!==!1,enable_sticker:w.enable_sticker||!1,enable_animation:w.enable_animation!==!1,enable_webpage:w.enable_webpage!==!1,forward_delay:w.forward_delay||0,max_message_length:w.max_message_length||4096,enable_link_preview:w.enable_link_preview!==!1,time_filter_type:w.time_filter_type||"after_start",start_time:w.start_time,end_time:w.end_time,client_id:w.client_id||"main_user",client_type:w.client_type===""?"user":w.client_type===""?"bot":w.client_type||"user"};o&&s?g.mutate({id:s,data:C}):v.mutate(C)}catch(E){console.error(":",E)}finally{a(!1)}},x=()=>{e("/rules")};if(o&&d)return N.jsx(Or,{className:"glass-card",children:N.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[N.jsx(lm,{size:"large"}),N.jsx("div",{style:{marginTop:"16px",color:"white"},children:"..."})]})});const _=l?.chats||[];return N.jsxs(Or,{className:"glass-card",children:[N.jsx("div",{style:{marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx(ae,{icon:N.jsx(cC,{}),onClick:x,style:{marginRight:"16px"},children:""}),N.jsx(JSt,{level:2,style:{margin:0,color:"white"},children:o?"":""})]})}),N.jsxs(Vt,{form:r,layout:"vertical",onFinish:b,initialValues:{enable_text:!0,enable_photo:!0,enable_video:!0,enable_document:!0,enable_audio:!0,enable_voice:!0,enable_sticker:!1,enable_animation:!0,enable_webpage:!0,enable_link_preview:!0,max_message_length:4096,forward_delay:0,client_id:"main_user",client_type:"user",time_filter_type:"after_start"},children:[N.jsx(Uo,{gutter:24,children:N.jsx(Xe,{span:24,children:N.jsx(Vt.Item,{label:"",name:"name",rules:[{required:!0,message:""}],children:N.jsx(fi,{placeholder:""})})})}),N.jsx(D2,{orientation:"left",children:""}),N.jsxs(Uo,{gutter:24,children:[N.jsx(Xe,{span:12,children:N.jsx(Vt.Item,{label:"",name:"source_chat_id",rules:[{required:!0,message:"ID"}],children:N.jsx(Ma,{showSearch:!0,placeholder:"ID",allowClear:!0,dropdownStyle:{zIndex:1051},getPopupContainer:w=>w.parentNode,filterOption:(w,E)=>String(E?.children||"").toLowerCase().includes(w.toLowerCase()),children:_.map(w=>N.jsxs(Uu,{value:w.id,children:[w.title||w.first_name||w.name," (",w.id,")"]},w.id))})})}),N.jsx(Xe,{span:12,children:N.jsx(Vt.Item,{label:"",name:"target_chat_id",rules:[{required:!0,message:"ID"}],children:N.jsx(Ma,{showSearch:!0,placeholder:"ID",allowClear:!0,dropdownStyle:{zIndex:1051},getPopupContainer:w=>w.parentNode,filterOption:(w,E)=>String(E?.children||"").toLowerCase().includes(w.toLowerCase()),children:_.map(w=>N.jsxs(Uu,{value:w.id,children:[w.title||w.first_name||w.name," (",w.id,")"]},w.id))})})})]}),N.jsx(D2,{orientation:"left",children:""}),N.jsxs(Uo,{gutter:24,children:[N.jsx(Xe,{span:12,children:N.jsx(Vt.Item,{label:"",name:"client_id",rules:[{required:!0,message:""}],children:N.jsx(Ma,{placeholder:"",allowClear:!0,dropdownStyle:{zIndex:1051},getPopupContainer:w=>w.parentNode,onChange:w=>{if(w&&c?.clients?.[w]){const A=c.clients[w].client_type==="user"?"":"";r.setFieldsValue({client_type:A})}},children:c?.clients&&Object.entries(c.clients).map(([w,E])=>N.jsxs(Uu,{value:w,children:[w," (",E.client_type==="user"?"":"",")",E.connected?" ":" "]},w))})})}),N.jsx(Xe,{span:12,children:N.jsx(Vt.Item,{label:"",name:"client_type",children:N.jsx(fi,{placeholder:"",readOnly:!0,style:{backgroundColor:"#f5f5f5"}})})})]}),N.jsx(D2,{orientation:"left",children:""}),N.jsxs(Uo,{gutter:24,children:[N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_text",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_photo",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_video",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_document",valuePropName:"checked",children:N.jsx(Ai,{})})})]}),N.jsxs(Uo,{gutter:24,children:[N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_audio",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_voice",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_sticker",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_animation",valuePropName:"checked",children:N.jsx(Ai,{})})})]}),N.jsxs(Uo,{gutter:24,children:[N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_webpage",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_keyword_filter",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_regex_replace",valuePropName:"checked",children:N.jsx(Ai,{})})}),N.jsx(Xe,{span:6,children:N.jsx(Vt.Item,{label:"",name:"enable_link_preview",valuePropName:"checked",children:N.jsx(Ai,{})})})]}),N.jsx(D2,{orientation:"left",children:""}),N.jsxs(Uo,{gutter:24,children:[N.jsx(Xe,{span:8,children:N.jsx(Vt.Item,{label:" ()",name:"forward_delay",tooltip:"0",children:N.jsx(Bv,{min:0,max:3600,style:{width:"100%"}})})}),N.jsx(Xe,{span:8,children:N.jsx(Vt.Item,{label:"",name:"max_message_length",tooltip:"",children:N.jsx(Bv,{min:1,max:1e4,style:{width:"100%"}})})}),N.jsx(Xe,{span:8,children:N.jsx(Vt.Item,{label:"",name:"time_filter_type",tooltip:N.jsxs("div",{style:{maxWidth:"400px"},children:[N.jsx("div",{children:N.jsx("strong",{children:""})}),N.jsxs("div",{style:{marginTop:"8px"},children:[N.jsxs("div",{children:[N.jsx("strong",{children:"1. "}),""]}),N.jsxs("div",{children:[N.jsx("strong",{children:"2. ()"}),""]}),N.jsxs("div",{children:[N.jsx("strong",{children:"3. "}),"(0-24)"]}),N.jsxs("div",{children:[N.jsx("strong",{children:"4. "}),""]}),N.jsxs("div",{children:[N.jsx("strong",{children:"5. "}),""]})]})]}),children:N.jsxs(Ma,{children:[N.jsx(Uu,{value:"after_start",children:""}),N.jsx(Uu,{value:"all_messages",children:"()"}),N.jsx(Uu,{value:"today_only",children:""}),N.jsx(Uu,{value:"from_time",children:""}),N.jsx(Uu,{value:"time_range",children:""})]})})})]}),N.jsx(Vt.Item,{noStyle:!0,shouldUpdate:(w,E)=>w.time_filter_type!==E.time_filter_type,children:({getFieldValue:w})=>{const E=w("time_filter_type"),A=E==="from_time"||E==="time_range",M=E==="time_range";return A||M?N.jsxs(Uo,{gutter:24,style:{marginTop:"16px"},children:[A&&N.jsx(Xe,{span:M?12:24,children:N.jsx(Vt.Item,{label:E==="from_time"?"":"",name:"start_time",rules:[{required:!0,message:""}],tooltip:E==="from_time"?"":"",children:N.jsx(ZM,{showTime:!0,style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss",placeholder:""})})}),M&&N.jsx(Xe,{span:12,children:N.jsx(Vt.Item,{label:"",name:"end_time",rules:[{required:!0,message:""}],tooltip:"",children:N.jsx(ZM,{showTime:!0,style:{width:"100%"},format:"YYYY-MM-DD HH:mm:ss",placeholder:""})})})]}):null}}),N.jsx("div",{style:{textAlign:"right",marginTop:"32px"},children:N.jsxs(dr,{children:[N.jsx(ae,{onClick:x,children:""}),N.jsx(ae,{type:"primary",htmlType:"submit",icon:N.jsx(QM,{}),loading:i||v.isPending||g.isPending,children:o?"":""})]})})]})]})},{Title:tEt}=$s,eEt=()=>{const{id:t}=rC(),e=Og(),n=Fc(),r=t?parseInt(t,10):0,[i,a]=te.useState(!1),[o,s]=te.useState(null),[l]=Vt.useForm(),{confirm:c,Modal:u}=lb(),{data:d=[],isLoading:h}=di({queryKey:["keywords",r],queryFn:()=>z_.getByRule(r),enabled:!!r}),v=Xn({mutationFn:z_.create,onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["keywords",r]}),a(!1),l.resetFields()},onError:()=>{Xt.error("")}}),g=Xn({mutationFn:({id:M,...T})=>z_.update(M,T),onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["keywords",r]}),a(!1),s(null),l.resetFields()},onError:()=>{Xt.error("")}}),b=Xn({mutationFn:z_.delete,onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["keywords",r]})},onError:()=>{Xt.error("")}}),x=()=>{s(null),l.resetFields(),a(!0)},_=M=>{s(M),l.setFieldsValue(M),a(!0)},w=M=>{c({title:"",content:`"${M.keyword}"`,confirmText:"",cancelText:"",onConfirm:()=>b.mutate(M.id)})},E=async()=>{try{const M=await l.validateFields();o?g.mutate({id:o.id,...M}):v.mutate({rule_id:r,...M})}catch(M){console.error(":",M)}},A=[{title:"",dataIndex:"keyword",key:"keyword",render:M=>N.jsx("span",{style:{color:"white",fontFamily:"monospace"},children:M})},{title:"",dataIndex:"is_blacklist",key:"is_blacklist",width:100,render:M=>N.jsx("span",{style:{color:M?"#ff4d4f":"#52c41a",fontWeight:"bold"},children:M?"":""})},{title:"",dataIndex:"created_at",key:"created_at",width:180,render:M=>N.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:M?new Date(M).toLocaleString():"-"})},{title:"",key:"actions",width:120,render:(M,T)=>N.jsxs(dr,{children:[N.jsx(li,{title:"",children:N.jsx(ae,{type:"primary",size:"small",icon:N.jsx(lC,{}),onClick:()=>_(T)})}),N.jsx(li,{title:"",children:N.jsx(ae,{danger:!0,size:"small",icon:N.jsx(R1,{}),onClick:()=>w(T),loading:b.isPending})})]})}];return N.jsxs("div",{style:{padding:"24px"},children:[N.jsxs(Or,{className:"glass-card",children:[N.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[N.jsx(ae,{icon:N.jsx(cC,{}),onClick:()=>e("/rules"),children:""}),N.jsxs(tEt,{level:2,style:{margin:0,color:"white"},children:[" ( #",r,")"]})]}),N.jsx(ae,{type:"primary",icon:N.jsx(DO,{}),onClick:x,children:""})]}),N.jsx(Ch,{columns:A,dataSource:d,rowKey:"id",loading:h,locale:{emptyText:N.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:[N.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),N.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:""}),N.jsx("div",{style:{fontSize:"14px"},children:'""'})]})},pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:M=>` ${M} `},style:{background:"transparent"}})]}),N.jsx(IO,{title:o?"":"",open:i,onOk:E,onCancel:()=>{a(!1),s(null),l.resetFields()},confirmLoading:v.isPending||g.isPending,children:N.jsxs(Vt,{form:l,layout:"vertical",children:[N.jsx(Vt.Item,{label:"",name:"keyword",rules:[{required:!0,message:""}],children:N.jsx(fi,{placeholder:""})}),N.jsx(Vt.Item,{label:"",name:"is_blacklist",valuePropName:"checked",tooltip:"",children:N.jsx(Ai,{checkedChildren:"",unCheckedChildren:""})})]})}),u]})},{Title:nEt}=$s,{TextArea:YD}=fi,rEt=()=>{const{id:t}=rC(),e=Og(),n=Fc(),r=t?parseInt(t,10):0,[i,a]=te.useState(!1),[o,s]=te.useState(null),[l]=Vt.useForm(),{confirm:c,Modal:u}=lb(),{data:d=[],isLoading:h}=di({queryKey:["replace-rules",r],queryFn:()=>F_.getByRule(r),enabled:!!r}),v=Xn({mutationFn:F_.create,onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["replace-rules",r]}),a(!1),l.resetFields()},onError:()=>{Xt.error("")}}),g=Xn({mutationFn:({id:M,...T})=>F_.update(M,T),onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["replace-rules",r]}),a(!1),s(null),l.resetFields()},onError:()=>{Xt.error("")}}),b=Xn({mutationFn:F_.delete,onSuccess:()=>{Xt.success(""),n.invalidateQueries({queryKey:["replace-rules",r]})},onError:()=>{Xt.error("")}}),x=()=>{s(null),l.resetFields(),l.setFieldsValue({priority:1,is_regex:!1,is_active:!0}),a(!0)},_=M=>{s(M),l.setFieldsValue(M),a(!0)},w=M=>{c({title:"",content:`"${M.name||M.pattern}"`,confirmText:"",cancelText:"",onConfirm:()=>b.mutate(M.id)})},E=async()=>{try{const M=await l.validateFields();o?g.mutate({id:o.id,...M}):v.mutate({rule_id:r,...M})}catch(M){console.error(":",M)}},A=[{title:"",dataIndex:"name",key:"name",render:(M,T)=>N.jsx("span",{style:{color:"white"},children:M||` #${T.id}`})},{title:"",dataIndex:"pattern",key:"pattern",render:(M,T)=>N.jsxs("div",{children:[N.jsx("span",{style:{color:"white",fontFamily:"monospace",backgroundColor:"rgba(255,255,255,0.1)",padding:"2px 6px",borderRadius:"4px"},children:M}),T.is_regex&&N.jsx("span",{style:{color:"#1890ff",fontSize:"12px",marginLeft:"8px"},children:""})]})},{title:"",dataIndex:"replacement",key:"replacement",render:M=>N.jsx("span",{style:{color:"#52c41a",fontFamily:"monospace",backgroundColor:"rgba(82,196,26,0.1)",padding:"2px 6px",borderRadius:"4px"},children:M})},{title:"",dataIndex:"priority",key:"priority",width:80,render:M=>N.jsx("span",{style:{color:"white"},children:M})},{title:"",dataIndex:"is_active",key:"is_active",width:80,render:M=>N.jsx("span",{style:{color:M?"#52c41a":"#d9d9d9",fontWeight:"bold"},children:M?"":""})},{title:"",key:"actions",width:120,render:(M,T)=>N.jsxs(dr,{children:[N.jsx(li,{title:"",children:N.jsx(ae,{type:"primary",size:"small",icon:N.jsx(lC,{}),onClick:()=>_(T)})}),N.jsx(li,{title:"",children:N.jsx(ae,{danger:!0,size:"small",icon:N.jsx(R1,{}),onClick:()=>w(T),loading:b.isPending})})]})}];return N.jsxs("div",{style:{padding:"24px"},children:[N.jsxs(Or,{className:"glass-card",children:[N.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[N.jsx(ae,{icon:N.jsx(cC,{}),onClick:()=>e("/rules"),children:""}),N.jsxs(nEt,{level:2,style:{margin:0,color:"white"},children:[" ( #",r,")"]})]}),N.jsx(ae,{type:"primary",icon:N.jsx(DO,{}),onClick:x,children:""})]}),N.jsx(Ch,{columns:A,dataSource:d,rowKey:"id",loading:h,locale:{emptyText:N.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:[N.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),N.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:""}),N.jsx("div",{style:{fontSize:"14px"},children:'""'})]})},pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:M=>` ${M} `},style:{background:"transparent"}})]}),N.jsx(IO,{title:o?"":"",open:i,onOk:E,onCancel:()=>{a(!1),s(null),l.resetFields()},confirmLoading:v.isPending||g.isPending,width:600,children:N.jsxs(Vt,{form:l,layout:"vertical",children:[N.jsx(Vt.Item,{label:"",name:"name",tooltip:"",children:N.jsx(fi,{placeholder:""})}),N.jsx(Vt.Item,{label:"",name:"pattern",rules:[{required:!0,message:""}],tooltip:"",children:N.jsx(YD,{placeholder:"",rows:3})}),N.jsx(Vt.Item,{label:"",name:"replacement",rules:[{required:!0,message:""}],tooltip:" $1, $2 ",children:N.jsx(YD,{placeholder:"",rows:3})}),N.jsx(Vt.Item,{label:"",name:"priority",tooltip:"",children:N.jsx(Bv,{min:1,max:100,style:{width:"100%"}})}),N.jsx(Vt.Item,{label:"",name:"is_regex",valuePropName:"checked",tooltip:"",children:N.jsx(Ai,{checkedChildren:"",unCheckedChildren:""})}),N.jsx(Vt.Item,{label:"",name:"is_active",valuePropName:"checked",children:N.jsx(Ai,{checkedChildren:"",unCheckedChildren:""})})]})}),u]})},iEt=()=>N.jsxs(XD,{children:[N.jsx(Oa,{index:!0,element:N.jsx(QSt,{})}),N.jsx(Oa,{path:"new",element:N.jsx(GD,{})}),N.jsx(Oa,{path:":id/edit",element:N.jsx(GD,{})}),N.jsx(Oa,{path:":id/keywords",element:N.jsx(eEt,{})}),N.jsx(Oa,{path:":id/replacements",element:N.jsx(rEt,{})})]}),{Title:aEt}=$s,{Search:oEt}=fi,{RangePicker:sEt}=ZM,{Option:om}=Ma,lEt=()=>{const t=Fc(),{confirm:e,info:n,Modal:r}=lb(),[i,a]=te.useState({page:1,limit:20}),[o,s]=te.useState([]),{data:l,isLoading:c,refetch:u}=di({queryKey:["logs",i],queryFn:()=>oh.list(i)}),{data:d}=di({queryKey:["chats"],queryFn:sh.getChats}),h=d?.chats||[],v=R=>{const j=h.find(I=>String(I.id)===String(R));return j?j.title||j.id:` ${R}`},g=Xn({mutationFn:oh.batchDelete,onSuccess:()=>{Xt.success(""),s([]),t.invalidateQueries({queryKey:["logs"]}),u()},onError:R=>{console.error(":",R),Xt.error(`: ${R.message||""}`)}}),b=Xn({mutationFn:oh.export,onSuccess:R=>{const j=window.URL.createObjectURL(R),I=document.createElement("a");I.style.display="none",I.href=j,I.download=`logs_${Yo().format("YYYY-MM-DD_HH-mm-ss")}.json`,document.body.appendChild(I),I.click(),window.URL.revokeObjectURL(j),document.body.removeChild(I),Xt.success("")},onError:()=>{Xt.error("")}}),x=Xn({mutationFn:oh.import,onSuccess:R=>{R.success?(Xt.success(R.message),t.invalidateQueries({queryKey:["logs"]}),u()):Xt.error(`: ${R.message}`)},onError:R=>{Xt.error(`: ${R.message||""}`)}}),_=R=>{a(j=>({...j,search:R,page:1}))},w=R=>{R&&R.length===2?a(j=>({...j,start_date:R[0].format("YYYY-MM-DD"),end_date:R[1].format("YYYY-MM-DD"),page:1})):a(j=>{const{start_date:I,end_date:D,...B}=j;return{...B,page:1}})},E=R=>{a(j=>({...j,status:R==="all"?void 0:R,page:1}))},A=()=>{if(console.log(":",o),o.length===0){Xt.warning("");return}e({title:"",content:` ${o.length} `,confirmText:"",cancelText:"",onConfirm:()=>{console.log("API:",o),g.mutate(o)}})},M=R=>{const I={success:{color:"success",text:""},failed:{color:"error",text:""},pending:{color:"processing",text:""},skipped:{color:"default",text:""}}[R]||{color:"default",text:R};return N.jsx(ui,{color:I.color,children:I.text})},T=[{title:"",dataIndex:"created_at",key:"created_at",width:160,render:R=>N.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:R?Yo(R).format("YYYY-MM-DD HH:mm:ss"):"-"})},{title:"",dataIndex:"rule_name",key:"rule_name",width:120,filters:[...new Set((l?.items||[]).map(R=>R.rule_name||""))].map(R=>({text:R,value:R})),onFilter:(R,j)=>(j.rule_name||"")===R,render:R=>N.jsx("span",{style:{color:"white",fontWeight:"bold"},children:R||""})},{title:"",dataIndex:"source_chat_name",key:"source_chat_name",width:120,filters:[...new Set((l?.items||[]).map(R=>v(R.source_chat_id||"")))].map(R=>({text:R,value:R})),onFilter:(R,j)=>v(j.source_chat_id||"")===R,render:(R,j)=>{const I=v(j.source_chat_id||"");return N.jsx(ui,{color:"blue",children:I})}},{title:"",dataIndex:"target_chat_name",key:"target_chat_name",width:120,filters:[...new Set((l?.items||[]).map(R=>v(R.target_chat_id||"")))].map(R=>({text:R,value:R})),onFilter:(R,j)=>v(j.target_chat_id||"")===R,render:(R,j)=>{const I=v(j.target_chat_id||"");return N.jsx(ui,{color:"green",children:I})}},{title:"",dataIndex:"message_text",key:"message_text",width:280,render:R=>N.jsx("div",{style:{color:"rgba(255,255,255,0.9)",fontSize:"12px",lineHeight:"16px",maxHeight:"32px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"break-all"},title:R||"",children:R||""})},{title:"",dataIndex:"status",key:"status",width:100,render:R=>M(R)},{title:"",key:"actions",width:120,render:(R,j)=>N.jsx(dr,{children:N.jsx(li,{title:"",children:N.jsx(ae,{type:"primary",size:"small",icon:N.jsx(nq,{}),onClick:()=>{const I=j.status==="success"?"":j.status==="failed"?"":j.status==="filtered"?"":j.status,D=`: ${j.rule_name||""}
: ${j.source_chat_id||""}
: ${j.target_chat_id||""}
: ${I}
: ${Yo(j.created_at).format("YYYY-MM-DD HH:mm:ss")}

:
${j.message_text||""}${j.error_message?`

:
${j.error_message}`:""}`;n({title:"",content:D,confirmText:""})}})})})}],C={selectedRowKeys:o,onChange:s};return N.jsxs("div",{style:{padding:"24px"},children:[N.jsxs(Or,{className:"glass-card",children:[N.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsx(aEt,{level:2,style:{margin:0,color:"white"},children:""}),N.jsxs(dr,{children:[N.jsx(oEt,{placeholder:"...",allowClear:!0,style:{width:200},onSearch:_,prefix:N.jsx(iC,{})}),N.jsx(sEt,{onChange:w,style:{width:240}}),N.jsxs(Ma,{placeholder:"",style:{width:120},onChange:E,allowClear:!0,children:[N.jsx(om,{value:"all",children:""}),N.jsx(om,{value:"success",children:""}),N.jsx(om,{value:"failed",children:""}),N.jsx(om,{value:"pending",children:""}),N.jsx(om,{value:"skipped",children:""})]}),N.jsx(ae,{icon:N.jsx(C1,{}),onClick:()=>{console.log(""),t.invalidateQueries({queryKey:["logs"]}),u()},loading:c,children:""})]})]}),N.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between"},children:[N.jsx(dr,{children:o.length>0&&N.jsxs(ae,{danger:!0,icon:N.jsx(R1,{}),onClick:A,loading:g.isPending,children:[" (",o.length,")"]})}),N.jsxs(dr,{children:[N.jsx(aC,{accept:".json",showUploadList:!1,beforeUpload:R=>{const j=new FormData;return j.append("file",R),x.mutate(j),!1},children:N.jsx(ae,{icon:N.jsx(oC,{}),loading:x.isPending,children:""})}),N.jsx(ae,{icon:N.jsx(sC,{}),onClick:()=>b.mutate(i),loading:b.isPending,children:""})]})]}),N.jsx(Ch,{columns:T,dataSource:l?.items||[],rowKey:"id",loading:c,rowSelection:C,scroll:{x:1200},locale:{emptyText:N.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:[N.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),N.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:""}),N.jsx("div",{style:{fontSize:"14px"},children:""})]})},pagination:{current:i.page,pageSize:i.limit,total:l?.total||0,showSizeChanger:!0,showQuickJumper:!0,showTotal:R=>` ${R} `,onChange:(R,j)=>{a(I=>({...I,page:R,limit:j}))}},style:{background:"transparent"}})]}),r]})},WM={getCurrentConfig:async()=>(await Me.get("/api/settings")).config,saveSettings:async t=>{try{return await Me.post("/api/settings",t)}catch(e){throw console.error(":",e),e}},restartClient:async()=>await Me.post("/api/telegram/restart-client",{})},{Title:cEt}=$s,{TabPane:XM}=ZD,{Option:Hu}=Ma,uEt=()=>{const[t]=Vt.useForm(),[e]=Vt.useForm(),[n,r]=te.useState("proxy"),{data:i,isLoading:a,refetch:o}=di({queryKey:["settings"],queryFn:WM.getCurrentConfig});te.useEffect(()=>{i&&(t.setFieldsValue({enable_proxy:i.enable_proxy,proxy_type:i.proxy_type,proxy_host:i.proxy_host,proxy_port:i.proxy_port,proxy_username:i.proxy_username,proxy_password:i.proxy_password==="***"?"":i.proxy_password}),e.setFieldsValue({api_id:i.api_id,api_hash:i.api_hash,bot_token:i.bot_token,phone_number:i.phone_number,admin_user_ids:i.admin_user_ids,enable_log_cleanup:i.enable_log_cleanup,log_retention_days:i.log_retention_days,log_cleanup_time:i.log_cleanup_time,max_log_size:i.max_log_size}))},[i,t,e]);const s=Xn({mutationFn:async g=>{const b=await fetch(`http://${g.proxy_host}:${g.proxy_port}`,{method:"GET",mode:"no-cors"}).catch(()=>null);return{success:!!b,message:b?"":""}},onSuccess:g=>{g.success?Xt.success({content:" ",duration:3}):Xt.error({content:` : ${g.message}`,duration:4})},onError:g=>{Xt.error({content:` : ${g.message||""}`,duration:4})}}),l=Xn({mutationFn:WM.saveSettings,onSuccess:g=>{Xt.success({content:` ${g.message||""}`,duration:3}),o()},onError:g=>{Xt.error({content:` : ${g.message}`,duration:4})}}),c=Xn({mutationFn:WM.restartClient,onSuccess:g=>{Xt.success({content:` ${g.message||"Telegram"}`,duration:3})},onError:g=>{Xt.error({content:` : ${g.message}`,duration:4})}}),u=async()=>{try{const g=t.getFieldsValue();console.log(":",g);const b={...i,...g};await l.mutateAsync(b)}catch(g){console.error(":",g),Xt.error("")}},d=async()=>{try{const g=e.getFieldsValue();console.log(":",g);const b={...i,...g};await l.mutateAsync(b)}catch(g){console.error(":",g),Xt.error("")}},h=async()=>{try{const g=await t.validateFields();await s.mutateAsync(g)}catch(g){console.error(":",g)}},v=async()=>{try{await c.mutateAsync()}catch(g){console.error(":",g)}};return a?N.jsx("div",{style:{padding:"24px"},children:N.jsx(Or,{className:"glass-card",children:N.jsx("div",{style:{textAlign:"center",padding:"50px",color:"white"},children:N.jsx("div",{style:{fontSize:"16px"},children:"..."})})})}):N.jsx("div",{style:{padding:"24px"},children:N.jsxs(Or,{className:"glass-card",children:[N.jsx(cEt,{level:2,style:{color:"white",marginBottom:"24px"},children:""}),N.jsx($v,{message:"Telegram",description:"TelegramTelegram",type:"info",showIcon:!0,style:{marginBottom:"24px"}}),N.jsxs(ZD,{activeKey:n,onChange:r,children:[N.jsx(XM,{tab:"",children:N.jsxs(Vt,{form:t,layout:"vertical",initialValues:{enable_proxy:!1,proxy_type:"http",proxy_host:"127.0.0.1",proxy_port:1080,proxy_username:"",proxy_password:""},children:[N.jsx($v,{message:"",description:"Telegram",type:"info",showIcon:!0,style:{marginBottom:"24px"}}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"enable_proxy",valuePropName:"checked",children:N.jsx(Ai,{})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"proxy_type",children:N.jsxs(Ma,{placeholder:"",children:[N.jsx(Hu,{value:"http",children:"HTTP"}),N.jsx(Hu,{value:"https",children:"HTTPS"}),N.jsx(Hu,{value:"socks4",children:"SOCKS4"}),N.jsx(Hu,{value:"socks5",children:"SOCKS5"})]})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"proxy_host",children:N.jsx(fi,{placeholder:""})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"proxy_port",children:N.jsx(Bv,{placeholder:"",min:1,max:65535,style:{width:"100%"}})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"proxy_username",children:N.jsx(fi,{placeholder:" ()"})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"proxy_password",children:N.jsx(fi.Password,{placeholder:" ()"})}),N.jsxs(dr,{children:[N.jsx(ae,{type:"primary",icon:N.jsx(rq,{}),onClick:h,loading:s.isPending,children:s.isPending?"...":""}),N.jsx(ae,{type:"primary",icon:N.jsx(QM,{}),onClick:u,loading:l.isPending,children:l.isPending?"...":""})]})]})},"proxy"),N.jsx(XM,{tab:"",children:N.jsxs(Vt,{form:e,layout:"vertical",initialValues:{log_level:"INFO",max_log_size:100,enable_log_cleanup:!0,log_retention_days:30,log_cleanup_time:"0 2 * * *"},children:[N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"log_level",children:N.jsxs(Ma,{placeholder:"",children:[N.jsx(Hu,{value:"DEBUG",children:"DEBUG"}),N.jsx(Hu,{value:"INFO",children:"INFO"}),N.jsx(Hu,{value:"WARNING",children:"WARNING"}),N.jsx(Hu,{value:"ERROR",children:"ERROR"})]})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:"(MB)"}),name:"max_log_size",children:N.jsx(Bv,{placeholder:"",min:10,max:1e3,style:{width:"100%"}})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"enable_log_cleanup",valuePropName:"checked",children:N.jsx(Ai,{})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:""}),name:"log_retention_days",children:N.jsx(Bv,{placeholder:"",min:1,max:365,style:{width:"100%"}})}),N.jsx(Vt.Item,{label:N.jsx("span",{style:{color:"white"},children:" (Cron)"}),name:"log_cleanup_time",tooltip:"5cron:     : 0 2 * * * (2)",children:N.jsx(fi,{placeholder:": 0 2 * * * (2)",style:{fontFamily:"monospace"}})}),N.jsx(dr,{children:N.jsx(ae,{type:"primary",icon:N.jsx(QM,{}),onClick:d,loading:l.isPending,children:l.isPending?"...":""})})]})},"system"),N.jsx(XM,{tab:"Telegram",children:N.jsxs("div",{children:[N.jsx($v,{message:"Telegram",description:"Telegram",type:"warning",showIcon:!0,style:{marginBottom:"24px"}}),N.jsxs(dr,{size:"large",direction:"vertical",style:{width:"100%"},children:[N.jsx(Or,{size:"small",style:{backgroundColor:"rgba(255,255,255,0.1)"},children:N.jsxs("div",{style:{color:"white"},children:[N.jsx("h4",{children:" "}),N.jsx("p",{children:"Telegram APIAPI_IDAPI_HASH"}),N.jsx(ae,{type:"primary",size:"large",onClick:v,loading:c.isPending,style:{marginTop:"12px"},children:c.isPending?"...":" Telegram"})]})}),N.jsx(Or,{size:"small",style:{backgroundColor:"rgba(255,255,255,0.1)"},children:N.jsxs("div",{style:{color:"white"},children:[N.jsx("h4",{children:" "}),N.jsxs("ul",{style:{paddingLeft:"20px"},children:[N.jsx("li",{children:""}),N.jsx("li",{children:"API"}),N.jsx("li",{children:""})]})]})})]})]})},"telegram")]})]})})},{Title:fEt}=$s,{Search:dEt}=fi,hEt=()=>{const t=Fc(),[e,n]=te.useState(""),[r,i]=te.useState("all"),{info:a,Modal:o}=lb(),{data:s,isLoading:l,refetch:c}=di({queryKey:["chats"],queryFn:sh.getChats}),u=Xn({mutationFn:sh.refreshChats,onSuccess:async A=>{if(console.log(":",A),A.success){const M=A.count||A.updated_count||0;Xt.success(`${M}`),setTimeout(()=>{t.invalidateQueries({queryKey:["chats"]}),c()},500)}else Xt.error(`: ${A.message||""}`)},onError:A=>{console.error(":",A),Xt.error(`: ${A.message||""}`)}}),d=Xn({mutationFn:sh.export,onSuccess:A=>{const M=window.URL.createObjectURL(A),T=document.createElement("a");T.style.display="none",T.href=M,T.download=`chats_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(T),T.click(),window.URL.revokeObjectURL(M),document.body.removeChild(T),Xt.success("")},onError:()=>{Xt.error("")}}),h=Xn({mutationFn:sh.import,onSuccess:A=>{A.success?(Xt.success(A.message),t.invalidateQueries({queryKey:["chats"]}),c()):Xt.error(`: ${A.message}`)},onError:A=>{Xt.error(`: ${A.message||""}`)}}),v=A=>{n(A)},g=(s?.chats||[]).filter(A=>{const M=A.title?.toLowerCase().includes(e.toLowerCase())||A.username?.toLowerCase().includes(e.toLowerCase())||A.id.toString().includes(e),T=r==="all"||A.client_id===r;return M&&T}),b=A=>A==="bot"?N.jsx(JM,{}):N.jsx(oq,{}),x=A=>{const M=A.client_type||"user",T=A.client_display_name||`${M}: ${A.client_id}`;return N.jsx(ui,{color:M==="bot"?"purple":"cyan",icon:b(M),children:T})},_=A=>{switch(A){case"private":return N.jsx(Ym,{});case"group":return N.jsx(KM,{});case"supergroup":return N.jsx(KM,{});case"channel":return N.jsx(aq,{});default:return N.jsx(Ym,{})}},w=A=>{const T={private:{color:"blue",text:""},group:{color:"green",text:""},supergroup:{color:"purple",text:""},channel:{color:"orange",text:""}}[A]||{color:"default",text:A};return N.jsx(ui,{color:T.color,icon:_(A),children:T.text})},E=[{title:"",key:"name",width:250,render:(A,M)=>N.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[N.jsx(VD,{src:M.photo,icon:_(M.type),size:"default",style:{marginRight:"12px"}}),N.jsxs("div",{children:[N.jsx("div",{style:{fontWeight:"bold",color:"white",fontSize:"14px"},children:M.title||M.first_name||""}),M.username&&N.jsxs("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px"},children:["@",M.username]})]})]})},{title:"ID",dataIndex:"id",key:"id",width:120,render:A=>N.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontFamily:"monospace"},children:A})},{title:"",dataIndex:"type",key:"type",width:120,filters:[{text:"",value:"private"},{text:"",value:"group"},{text:"",value:"supergroup"},{text:"",value:"channel"}],onFilter:(A,M)=>M.type===A,render:A=>w(A)},{title:"",key:"client",width:200,filters:s?.clients_info?.map(A=>({text:A.display_name,value:A.client_id}))||[],onFilter:(A,M)=>M.client_id===A,render:(A,M)=>x(M)},{title:"",dataIndex:"members_count",key:"members_count",width:100,render:(A,M)=>M.type==="private"?"-":N.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:A?A.toLocaleString():""})},{title:"",key:"is_private",width:120,filters:[{text:"",value:"private_chat"},{text:"",value:"public_group"},{text:"",value:"private_group"},{text:"",value:"public_channel"},{text:"",value:"private_channel"},{text:"",value:"unknown"}],onFilter:(A,M)=>{const T=M.type==="group"||M.type==="supergroup",C=!!M.invite_link,R=M.username||C;return M.type==="private"?A==="private_chat":M.type==="channel"?A===(R?"public_channel":"private_channel"):T?A===(R?"public_group":"private_group"):A==="unknown"},render:(A,M)=>{const T=M.type==="group"||M.type==="supergroup",C=!!M.invite_link,R=M.username||C;return M.type==="private"?N.jsx(ui,{color:"blue",icon:N.jsx(tA,{}),children:""}):M.type==="channel"?R?N.jsx(ui,{color:"green",icon:N.jsx(fR,{}),children:""}):N.jsx(ui,{color:"orange",icon:N.jsx(tA,{}),children:""}):T?R?N.jsx(ui,{color:"green",icon:N.jsx(fR,{}),children:""}):N.jsx(ui,{color:"red",icon:N.jsx(tA,{}),children:""}):N.jsx(ui,{color:"default",children:""})}},{title:"",key:"actions",width:120,render:(A,M)=>N.jsx(dr,{children:N.jsx(li,{title:"",children:N.jsx(ae,{type:"primary",size:"small",onClick:()=>{const T=M.type==="private"?"":M.type==="group"?"":M.type==="supergroup"?"":M.type==="channel"?"":M.type,C=M.type==="group"||M.type==="supergroup",R=!!M.invite_link,j=M.username||R;let I="";M.type==="private"?I="":M.type==="channel"?I=j?"":"":C&&(I=j?"":"");const D=`: ${M.title||M.first_name||""}${M.username?`
: @${M.username}`:""}
ID: ${M.id}
: ${T}
: ${I}${M.description?`
: ${M.description}`:""}${M.type!=="private"&&M.members_count?`
: ${M.members_count.toLocaleString()}`:""}
: ${M.is_active!==!1?"":""}
: ${M.last_activity?new Date(M.last_activity).toLocaleString():""}${M.invite_link?`
: ${M.invite_link}`:""}`;a({title:"",content:D,confirmText:""})},children:""})})})}];return N.jsxs("div",{style:{padding:"24px"},children:[N.jsxs(Or,{className:"glass-card",children:[N.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[N.jsx(fEt,{level:2,style:{margin:0,color:"white"},children:""}),N.jsxs(dr,{children:[N.jsxs(Ma,{value:r,onChange:i,style:{width:200},placeholder:"",children:[N.jsx(Ma.Option,{value:"all",children:""}),s?.clients_info?.map(A=>N.jsxs(Ma.Option,{value:A.client_id,children:[b(A.client_type)," ",A.display_name," (",A.chat_count,")"]},A.client_id))]}),N.jsx(dEt,{placeholder:"...",allowClear:!0,style:{width:250},onChange:A=>v(A.target.value),prefix:N.jsx(iC,{})}),N.jsx(ae,{icon:N.jsx(C1,{}),onClick:()=>{console.log(""),c()},loading:l,children:""}),N.jsx(ae,{type:"primary",icon:N.jsx(iq,{}),onClick:()=>u.mutate(),loading:u.isPending,children:""})]})]}),N.jsxs("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"space-between"},children:[N.jsxs(dr,{children:[N.jsxs("span",{style:{color:"rgba(255,255,255,0.8)"},children:[" ",g.length," "]}),s?.last_updated&&N.jsxs("span",{style:{color:"rgba(255,255,255,0.6)"},children:[": ",new Date(s.last_updated).toLocaleString()]})]}),N.jsxs(dr,{children:[N.jsx(aC,{accept:".json",showUploadList:!1,beforeUpload:A=>{const M=new FormData;return M.append("file",A),h.mutate(M),!1},children:N.jsx(ae,{icon:N.jsx(oC,{}),loading:h.isPending,children:""})}),N.jsx(ae,{icon:N.jsx(sC,{}),onClick:()=>d.mutate(),loading:d.isPending,children:""})]})]}),N.jsx(Ch,{columns:E,dataSource:g,rowKey:"id",loading:l,locale:{emptyText:N.jsxs("div",{style:{padding:"50px",textAlign:"center",color:"rgba(255, 255, 255, 0.6)"},children:[N.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),N.jsx("div",{style:{fontSize:"16px",marginBottom:"8px"},children:""}),N.jsx("div",{style:{fontSize:"14px"},children:'""Telegram'})]})},pagination:{total:g.length,pageSize:15,showSizeChanger:!0,showQuickJumper:!0,showTotal:A=>` ${A} `},style:{background:"transparent"}})]}),o]})},{Step:pEt}=QD,vEt=({visible:t,onCancel:e,onSuccess:n,clientId:r,clientType:i})=>{const[a]=Vt.useForm(),[o,s]=te.useState(0),[l,c]=te.useState("send_code");te.useEffect(()=>{t&&(console.log(" "),s(0),c("send_code"),a.resetFields())},[t,a]);const u=Xn({mutationFn:w=>(console.log(" API:",{clientId:r,data:w}),cY.clientLogin(r,w)),onSuccess:w=>{console.log(" API:",w),console.log(" :",typeof w,w),console.log(" :",l),w.success?(console.log(" :",w.step),w.step==="waiting_code"?(console.log(" "),s(1),c("submit_code"),Xt.success(w.message||"")):w.step==="waiting_password"?(console.log(" "),s(2),c("submit_password"),Xt.info(w.message||"")):w.step==="completed"&&(console.log(" "),s(3),c("completed"),Xt.success(w.message||""),setTimeout(()=>{n(),g()},2e3))):(console.error(" :",w.message),Xt.error(w.message||""))},onError:w=>{console.error(" API:",w),console.error(" :",w.response?.data||w.message),Xt.error(w.response?.data?.message||w.message||"")}}),d=()=>{console.log(" "),console.log(" ID:",r),console.log(" :",l),u.mutate({step:"send_code"})},h=w=>{u.mutate({step:"submit_code",code:w.code})},v=w=>{u.mutate({step:"submit_password",password:w.password})},g=()=>{s(0),c("send_code"),a.resetFields()},b=()=>{g(),e()},x=[{title:"",icon:N.jsx(tT,{}),description:""},{title:"",icon:N.jsx(dR,{}),description:"6"},{title:"",icon:N.jsx(dR,{}),description:""},{title:"",icon:N.jsx(qm,{}),description:""}],_=()=>{switch(console.log("Current loginStep:",l),l){case"send_code":return N.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[N.jsx($v,{message:"",description:` ${r} `,type:"info",showIcon:!0,style:{marginBottom:20}}),N.jsx(ae,{type:"primary",size:"large",loading:u.isPending,onClick:d,icon:N.jsx(tT,{}),children:""})]});case"submit_code":return N.jsxs(Vt,{form:a,onFinish:h,layout:"vertical",style:{padding:"20px 0"},children:[N.jsx($v,{message:"",description:"6",type:"success",showIcon:!0,style:{marginBottom:20}}),N.jsx(Vt.Item,{name:"code",label:"",rules:[{required:!0,message:""},{pattern:/^\d{5,6}$/,message:"5-6"}],children:N.jsx(fi,{placeholder:"6",maxLength:6,style:{fontSize:"18px",textAlign:"center",letterSpacing:"4px"}})}),N.jsx(Vt.Item,{style:{textAlign:"center",marginBottom:0},children:N.jsxs(dr,{children:[N.jsx(ae,{onClick:b,children:""}),N.jsx(ae,{type:"primary",htmlType:"submit",loading:u.isPending,children:""})]})})]});case"submit_password":return N.jsxs(Vt,{form:a,onFinish:v,layout:"vertical",style:{padding:"20px 0"},children:[N.jsx($v,{message:"",description:"",type:"warning",showIcon:!0,style:{marginBottom:20}}),N.jsx(Vt.Item,{name:"password",label:"",rules:[{required:!0,message:""}],children:N.jsx(fi.Password,{placeholder:""})}),N.jsx(Vt.Item,{style:{textAlign:"center",marginBottom:0},children:N.jsxs(dr,{children:[N.jsx(ae,{onClick:b,children:""}),N.jsx(ae,{type:"primary",htmlType:"submit",loading:u.isPending,children:""})]})})]});case"completed":return N.jsxs("div",{style:{textAlign:"center",padding:"40px 0"},children:[N.jsx(qm,{style:{fontSize:48,color:"#52c41a",marginBottom:16}}),N.jsx("h3",{children:""}),N.jsx("p",{style:{color:"#666"},children:"Telegram"})]});default:return null}};return i!=="user"?null:N.jsxs(IO,{title:` - ${r}`,open:t,onCancel:b,footer:null,width:600,destroyOnClose:!0,children:[N.jsx(QD,{current:o,style:{marginBottom:30},children:x.map((w,E)=>N.jsx(pEt,{title:w.title,description:w.description,icon:w.icon},E))}),_()]})},{Title:qD,Text:Vd}=$s,{Option:WD}=Ma,gEt=()=>{const[t,e]=te.useState(!1),[n,r]=te.useState(!1),[i,a]=te.useState(""),[o,s]=te.useState("user"),[l]=Vt.useForm(),c=Fc(),{data:u,isLoading:d,refetch:h}=di({queryKey:["clients"],queryFn:async()=>(await er.get("/api/clients")).data,refetchInterval:5e3}),{data:v}=di({queryKey:["system-enhanced-status"],queryFn:async()=>(await er.get("/api/system/enhanced-status")).data,refetchInterval:5e3}),g=Xn({mutationFn:async j=>(await er.post(`/api/clients/${j}/start`)).data,onSuccess:j=>{Xt.success(j.message),c.invalidateQueries({queryKey:["clients"]})},onError:j=>{Xt.error(j.response?.data?.message||"")}}),b=Xn({mutationFn:async j=>(await er.post(`/api/clients/${j}/stop`)).data,onSuccess:j=>{Xt.success(j.message),c.invalidateQueries({queryKey:["clients"]})},onError:j=>{Xt.error(j.response?.data?.message||"")}}),x=Xn({mutationFn:async j=>(await er.post("/api/clients",j)).data,onSuccess:j=>{console.log(" API:",j),j.success?(Xt.success(j.message),e(!1),l.resetFields(),c.invalidateQueries({queryKey:["clients"]}),console.log(" :",{need_verification:j.need_verification,client_id:j.client_id}),j.need_verification&&j.client_id?(console.log(" "),a(j.client_id),s("user"),r(!0)):console.log(" client_id")):Xt.error(j.message)},onError:j=>{Xt.error(j.response?.data?.message||"")}}),_=Xn({mutationFn:async j=>(await er.delete(`/api/clients/${j}`)).data,onSuccess:j=>{Xt.success(j.message),c.invalidateQueries({queryKey:["clients"]})},onError:j=>{Xt.error(j.response?.data?.message||"")}}),w=()=>{l.validateFields().then(j=>{x.mutate(j)})},E=(j,I)=>{if(I!=="user"){Xt.info("");return}a(j),s(I),r(!0)},A=()=>{r(!1),c.invalidateQueries({queryKey:["clients"]}),Xt.success("")},M=j=>j.running?j.connected?N.jsx(ui,{color:"success",icon:N.jsx(qm,{}),children:""}):N.jsx(ui,{color:"processing",children:""}):N.jsx(ui,{color:"default",children:""}),T=j=>j==="bot"?N.jsx(JM,{}):N.jsx(Ym,{}),C=[{title:"ID",dataIndex:"client_id",key:"client_id",render:(j,I)=>N.jsxs(dr,{children:[T(I.client_type),N.jsx(Vd,{strong:!0,children:j})]})},{title:"",dataIndex:"client_type",key:"client_type",render:j=>N.jsx(ui,{color:j==="bot"?"blue":"green",children:j==="bot"?"":""})},{title:"",key:"status",render:j=>M(j)},{title:"",key:"user_info",render:j=>j.user_info?N.jsxs("div",{children:[N.jsx("div",{children:j.user_info.first_name}),j.user_info.username&&N.jsxs(Vd,{type:"secondary",children:["@",j.user_info.username]}),j.user_info.phone&&N.jsx(Vd,{type:"secondary",children:j.user_info.phone})]}):N.jsx(Vd,{type:"secondary",children:""})},{title:"",dataIndex:"monitored_chats",key:"monitored_chats",render:j=>N.jsxs(Vd,{children:[j?.length||0," "]})},{title:"",dataIndex:"thread_alive",key:"thread_alive",render:j=>N.jsx(ui,{color:j?"success":"error",children:j?"":""})},{title:"",key:"actions",render:j=>N.jsxs(dr,{children:[j.running?N.jsx(ae,{size:"small",icon:N.jsx(lq,{}),onClick:()=>b.mutate(j.client_id),loading:b.isPending,children:""}):N.jsx(ae,{type:"primary",size:"small",icon:N.jsx(hR,{}),onClick:()=>g.mutate(j.client_id),loading:g.isPending,children:""}),j.client_type==="user"&&!j.connected&&N.jsx(ae,{size:"small",icon:N.jsx(tT,{}),onClick:()=>E(j.client_id,j.client_type),title:"",children:""}),N.jsx(cq,{title:"",onConfirm:()=>_.mutate(j.client_id),okText:"",cancelText:"",children:N.jsx(ae,{size:"small",danger:!0,icon:N.jsx(R1,{}),loading:_.isPending,children:""})})]})}],R=u?.clients?Object.values(u.clients):[];return N.jsxs("div",{style:{padding:"24px"},children:[N.jsxs("div",{style:{marginBottom:"24px"},children:[N.jsx(qD,{level:2,children:""}),N.jsx(Vd,{type:"secondary",children:"Telegram"})]}),v?.enhanced_mode&&N.jsxs(Uo,{gutter:16,style:{marginBottom:"24px"},children:[N.jsx(Xe,{span:6,children:N.jsx(Or,{children:N.jsx(sm,{title:"",value:v.total_clients||0,prefix:N.jsx(Ym,{})})})}),N.jsx(Xe,{span:6,children:N.jsx(Or,{children:N.jsx(sm,{title:"",value:v.running_clients||0,prefix:N.jsx(hR,{}),valueStyle:{color:"#3f8600"}})})}),N.jsx(Xe,{span:6,children:N.jsx(Or,{children:N.jsx(sm,{title:"",value:v.connected_clients||0,prefix:N.jsx(qm,{}),valueStyle:{color:"#1890ff"}})})}),N.jsx(Xe,{span:6,children:N.jsx(Or,{children:N.jsx(sm,{title:"",value:v.enhanced_mode?"":"",prefix:N.jsx(JM,{}),valueStyle:{color:v.enhanced_mode?"#3f8600":"#cf1322"}})})})]}),!v?.enhanced_mode&&N.jsx(Or,{style:{marginBottom:"24px"},children:N.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[N.jsx(sq,{style:{fontSize:"48px",color:"#faad14",marginBottom:"16px"}}),N.jsx(qD,{level:4,children:""}),N.jsx(Vd,{type:"secondary",children:"  (web_enhanced.py) "})]})}),N.jsx(Or,{title:"",extra:N.jsxs(dr,{children:[N.jsx(ae,{icon:N.jsx(C1,{}),onClick:()=>h(),loading:d,children:""}),N.jsx(ae,{type:"primary",icon:N.jsx(DO,{}),onClick:()=>e(!0),disabled:!v?.enhanced_mode,children:""})]}),children:N.jsx(Ch,{columns:C,dataSource:R,rowKey:"client_id",loading:d,pagination:!1,locale:{emptyText:v?.enhanced_mode?'""':""}})}),N.jsx(IO,{title:"",open:t,onOk:w,onCancel:()=>{e(!1),l.resetFields()},confirmLoading:x.isPending,zIndex:1050,getContainer:!1,children:N.jsxs(Vt,{form:l,layout:"vertical",onValuesChange:j=>{j.client_type&&(j.client_type==="bot"?l.setFieldsValue({api_id:void 0,api_hash:void 0,phone:void 0}):l.setFieldsValue({bot_token:void 0,admin_user_id:void 0}))},children:[N.jsx(Vt.Item,{name:"client_id",label:"ID",rules:[{required:!0,message:"ID"}],children:N.jsx(fi,{placeholder:": user1, bot1, main_user2"})}),N.jsx(Vt.Item,{name:"client_type",label:"",rules:[{required:!0,message:""}],initialValue:"user",children:N.jsxs(Ma,{placeholder:"",dropdownStyle:{zIndex:1051},getPopupContainer:j=>j.parentNode,children:[N.jsx(WD,{value:"user",children:""}),N.jsx(WD,{value:"bot",children:""})]})}),N.jsx(Vt.Item,{shouldUpdate:(j,I)=>j.client_type!==I.client_type,children:({getFieldValue:j})=>j("client_type")==="bot"?N.jsxs(N.Fragment,{children:[N.jsx(Vt.Item,{name:"bot_token",label:"Bot Token",rules:[{required:!0,message:"Bot Token"}],tooltip:" @BotFather Bot Token",children:N.jsx(fi.Password,{placeholder:": 123456789:ABCdefGHIjklMNOpqrsTUVwxyz"})}),N.jsx(Vt.Item,{name:"admin_user_id",label:"ID",rules:[{required:!0,message:"ID"}],tooltip:"ID @userinfobot ",children:N.jsx(fi,{placeholder:": 123456789"})})]}):null}),N.jsx(Vt.Item,{shouldUpdate:(j,I)=>j.client_type!==I.client_type,children:({getFieldValue:j})=>j("client_type")==="user"?N.jsxs(N.Fragment,{children:[N.jsx(Vt.Item,{name:"api_id",label:"API ID",rules:[{required:!0,message:"API ID"}],tooltip:" https://my.telegram.org API ID",children:N.jsx(fi,{placeholder:": 1234567"})}),N.jsx(Vt.Item,{name:"api_hash",label:"API Hash",rules:[{required:!0,message:"API Hash"}],tooltip:" https://my.telegram.org API Hash",children:N.jsx(fi.Password,{placeholder:": a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"})}),N.jsx(Vt.Item,{name:"phone",label:"",rules:[{required:!0,message:""},{pattern:/^\+?\d{10,15}$/,message:""}],tooltip:": +8613812345678",children:N.jsx(fi,{placeholder:": +8613812345678"})})]}):null})]})}),N.jsx(vEt,{visible:n,onCancel:()=>r(!1),onSuccess:A,clientId:i,clientType:o})]})},{Title:yEt}=$s,mEt=()=>N.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%)"},children:N.jsxs(Or,{className:"glass-card",style:{width:400},children:[N.jsx(yEt,{level:2,style:{textAlign:"center"},children:""}),N.jsx("p",{style:{textAlign:"center"},children:"..."})]})}),bEt=new Jq({defaultOptions:{queries:{retry:2,staleTime:0,gcTime:300*1e3,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0},mutations:{retry:1}}}),xEt=()=>N.jsx(tW,{client:bEt,children:N.jsx(uq,{locale:Cq,children:N.jsx(fq,{children:N.jsx(IY,{children:N.jsx("div",{className:"main-layout",children:N.jsxs(XD,{children:[N.jsx(Oa,{path:"/login",element:N.jsx(mEt,{})}),N.jsxs(Oa,{path:"/",element:N.jsx(pW,{}),children:[N.jsx(Oa,{index:!0,element:N.jsx(lR,{to:"/dashboard",replace:!0})}),N.jsx(Oa,{path:"dashboard",element:N.jsx(XSt,{})}),N.jsx(Oa,{path:"rules/*",element:N.jsx(iEt,{})}),N.jsx(Oa,{path:"logs",element:N.jsx(lEt,{})}),N.jsx(Oa,{path:"chats",element:N.jsx(hEt,{})}),N.jsx(Oa,{path:"clients",element:N.jsx(gEt,{})}),N.jsx(Oa,{path:"settings",element:N.jsx(uEt,{})})]}),N.jsx(Oa,{path:"*",element:N.jsx(lR,{to:"/dashboard",replace:!0})})]})})})})})});mq.createRoot(document.getElementById("root")).render(N.jsx(te.StrictMode,{children:N.jsx(xEt,{})}));
//# sourceMappingURL=index-cwZ6kbWx.js.map
